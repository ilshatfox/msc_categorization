ar x iv 2 10 1 07 51 9 v 2 m at h p r 2 2 f eb 2 02 1 projected inventory level policies for lost sales inventory systems asymptotic optimality in two regimes willem van jaarsveld school of industrial engineering eindhoven university of technology eindhoven the netherlands po box 513 5600 mb w l v jaarsveld tue nl joachim arts luxembourg centre for logistics and supply chain management university of luxembourg luxembourg city luxembourg 6 rue richard coudenhove kalergi l 1359 joachim arts uni lu we consider the canonical periodic review lost sales inventory system with positive lead times and stochastic i i d demand under the average cost criterion we introduce a new policy that places orders such that the expected inventory level at the time of arrival of an order is at a fixed level and call it the projected inventory level pil policy we prove that this policy has a cost rate superior to the equivalent system where excess demand is back ordered instead of lost and is therefore asymptotically optimal as the cost of losing a sale approaches infinity under mild distributional assumptions we further show that this policy dominates the constant order policy for any finite lead time and is therefore asymptotically optimal as the lead time approaches infinity for the case of exponentially distributed demand per period numerical results show this policy also performs superior relative to other policies key words lost sales inventory optimal policy asymptotic optimality markov decision process 1 introduction the periodic review inventory system with lost sales positive lead time and i i d demand is a canonical problem in inventory theory the decision maker is interested in the average cost rate of this system the optimal policy for such a system can be computed in principle by stochastic dynamic programming but it is not practical due to the curse of dimensionality research has therefore focused on devising heuristic policies for the lost sales inventory system although many 1 http arxiv org abs 2101 07519 v 2 van jaarsveld arts projected inventory level policies for lost sales inventory systems 2 variants of lost sales inventory systems exist results for the canonical system are important as they serve as building blocks to design good policies for more intricate lost sales inventory systems bijvank and vis 2011 review the literature on many such more intricate inventory systems with lost sales there are two simple heuristic policies for the canonical lost sales system that appeal to both practitioners and academics these policies are the base stock policy and the constant order policy the base stock policy places an order each period such that the inventory position inventory on hand outstanding orders is raised to a fixed base stock level this policy is prevalent in practice due to its intuitive structure and because it is the optimal policy when excess demand is not lost but back ordered the most important merit of the base stock policy is that it is asymptotically optimal as the cost of a lost sale approaches infinity under mild conditions on the demand distribution huh et al 2009 b this asymptotic optimality is robust in the sense that it holds for a broad class of heuristics to compute base stock levels bijvank et al 2014 the constant order policy orders the same amount in each period regardless of the state of the system although this may seem naive at first this policy is asymptotically optimal as the lead time approaches infinity goldberg et al 2016 and can outperform the base stock policy for long lead times and moderate costs for a lost sale xin and goldberg 2016 show that the constant order policy converges to optimality exponentially fast in the lead time the asymptotic optimality results of huh et al 2009 b and goldberg et al 2016 are both elegant and useful for practice we believe that these results should also inform the design of plau sible heuristic policies with the knowledge that such asymptotic optimality results are attained by relatively simple policies new heuristics for the lost sales system should be designed to be asymp totically optimal for long lead times and large lost sales penalties unfortunately the constant order policy is not asymptotically optimal for large lost sales penalties and the base stock policy is not asymptotically optimal for long lead times this paper introduces a single parameter policy that is asymptotically optimal for large lost sales penalties under mild assumptions on the demand van jaarsveld arts projected inventory level policies for lost sales inventory systems 3 distribution and also for long lead times when demand has an exponential distribution we call this policy the projected inventory level pil policy the pil policy places orders such that the expected inventory level at the time of arrival of an order is raised to a fixed level which we call the projected inventory level the pil policy is intuitive for academics and practitioners alike in fact the base stock policy for the canonical inventory system where excess demand is back ordered rather than lost is also a projected inventory level policy although the usual interpretation of a base stock policy in a system with back orders is that it raises the inventory position to a fixed level it is equivalent to say that it raises the expected inventory level at the time of order arrival to a fixed level these two policies are not equivalent in the lost sales inventory system we exploit this equivalence and use it to compare the canonical inventory systems with lost sales and back orders respectively when all parameters are identical we prove that the cost rate for the canonical lost sales system is lower than the cost rate for the canonical back order system under the same projected inventory level as a corollary to this we find that optimal cost rate of the canonical lost sales system is lower than the optimal cost rate for the equivalent canonical back order system this means we recover a main result of janakiraman et al 2007 via a new and different proof the stochastic comparison technique used by janakiraman et al 2007 holds for general convex per period cost functions but does not construct a policy our result is constructive in the sense that we identify a specific policy the pil policy for which the costs in the lost sales system are lower than the optimal costs for the back order system our construction requires that the cost per period is linear in on hand inventory and lost sales which is the most commonly used per period cost function the pil policy also mimics the behavior of the constant order policy for long lead times we make this notion rigorous when demand per period has an exponential distribution in that case we show that the projected inventory level policy can be interpreted as a one step policy improvement on the bias function of the constant order policy we believe this to be an interesting proof technique under the same assumption we show that the projected inventory level policy dominates van jaarsveld arts projected inventory level policies for lost sales inventory systems 4 the constant order policy for any finite lead time the pil policy therefore inherits the property of the constant order policy that the gap with the optimal policy decreases exponentially with the lead time cf xin and goldberg 2016 note that the projected inventory level policy has a single parameter and yet uses all the infor mation in the state vector without aggregating it into the inventory position this is a feature shared by the myopic policy where orders are placed to minimize the expected cost in the period that the order arrives these policies all require a projection of the inventory level at the time of order arrival the myopic and pil policy can therefore both be considered as projection policies empirically projection policies perform exceptionally well see zipkin 2008 a and section 6 but there is no theoretical underpinning that explains why such policies perform so well empirically in particular there are no known asymptotic optimality results for such policies this paper con tributes asymptotic optimality results for the projected inventory level policy in two asymptotic regimes policies that are asymptotically optimal for high lost sales costs and long lead times can be constructed by using multiple parameters to make the policy behave as either a base stock policy or a constant order policy when needed for example a policy may order a convex combination of the base stock and constant order policy decision or cap the order placed by a base stock policy johansen and thorstenson 2008 xin 2019 the projected inventory level policy is different in that the parameter can not be set such that it trivially reduces to either a base stock or constant order policy asymptotic optimality proofs therefore rely on new ideas in summary this paper makes the following contributions 1 we introduce the projected inventory level policy and show that it is a natural generalization of the base stock policy to systems where sales are lost rather than back ordered furthermore it is a single parameter policy that utilizes all state information without aggregating it into the inventory position i e it is a projection policy 2 we provide the first tractable policy for the canonical lost sales inventory system with better performance than the optimal policy of the equivalent canonical back order system the proof uses a comparison based on associated random variables van jaarsveld arts projected inventory level policies for lost sales inventory systems 5 3 we prove that the projected inventory level policy is asymptotically optimal as the penalty for a lost sale approaches infinity under mild conditions on the demand distribution 4 we prove that the projected inventory level policy is a 1 step policy improvement upon the con stant order policy and dominates the performance of the constant order policy when demand has an exponential distribution 5 we prove that the projected inventory level policy is asymptotically optimal as the lead time approaches infinity when demand has an exponential distribution the proof approach is to show dominance of the pil policy over the constant order policy such that it inherits is asymptotic optimality properties 6 we demonstrate numerically that the projected inventory level has superior performance also outside of the regimes where it is asymptotically optimal 2 brief literature review the canonical lost sales inventory system was first studied by karlin and scarf 1958 and found to have a more complicated optimal ordering policy than the canonical inventory system with back orders the optimal ordering policy for the lost sales system depends on each outstanding order sensitivities of the optimal ordering decision to each outstanding order where first charac terized by morton 1969 and the analysis was later streamlined by zipkin 2008 b despite these results computation and implementation of the optimal policy is not practical most of the liter ature studies heuristic policies without any optimality guarantees e g van donselaar et al 1996 bijvank and johansen 2012 sun et al 2014 van jaarsveld 2020 but with numerically favorable performance notable exceptions are levi et al 2008 who prove that their dual balancing policy has an optimality gap of at most 100 and chen et al 2014 who provide a pseudo polynomial time approximation scheme another active area of research is the study of base stock policies when the demand distribution is unknown and must be learned online huh et al 2009 a zhang et al 2020 agrawal and jia 2019 we refer to bijvank and vis 2011 for a general review of lost sales inventory models van jaarsveld arts projected inventory level policies for lost sales inventory systems 6 we use the remainder of this brief literature review to focus on asymptotic optimality results as this is the focus of this paper the notion of asymptotic optimality in lost sales and other difficult inventory systems has gained recent traction goldberg et al 2019 provide a survey of such results and outline methodologies to prove such results the most important results for the lost sales inventory system are asymptotic optimality of base stock policies as the cost of losing a sale approaches infinity huh et al 2009 b bijvank et al 2014 and asymptotic optimality of constant order policies as the lead time approaches infinity goldberg et al 2016 xin and goldberg 2016 bu et al 2020 b xin 2019 bai et al 2020 a natural question is whether any intuitive policies exist that are asymptotically optimal in both regimes xin 2019 propose the capped base stock policy which was first introduces by johansen and thorstenson 2008 under this policy orders are placed to reach a base stock level except when this would cause the order size to exceed the cap the parameters of this policy can be set such that it effectively reduces to either a constant order or base stock policy xin 2019 show that such a policy is asymptotically optimal for long lead times it is straightforward to show that a capped base stock policy is also asymptotically optimal in the other regime the pil policy has a single parameter that cannot be set such that it effectively reduces to either a constant order or base stock policy despite this we provide asymptotic optimality results both for long lead times and high per unit lost sales costs our analysis is based on comparison against simpler policies for which asymptotic optimality results have already been established the comparison uses association of random variables when comparing the pil with the base stock policy a similar technique has been used to bound the order fill rates in assemble to order systems by song 1998 we use policy improvement to compare the pil policy to the constant order policy this idea is often used to create an improved policy for a system that suffers from the curse of dimensionality so that only a simple policy can be analyzed see e g tijms 2003 haijema et al 2008 we are not aware of prior work that uses association of random variables and or policy improvement to establish asymptotic optimality results van jaarsveld arts projected inventory level policies for lost sales inventory systems 7 3 model we consider a periodic review lost sales inventory system in each period t n 0 where n 0 n 0 we place an order that will arrive after a lead time of n 0 periods i e at the start of period t the inventory level at the beginning of period t after receiving the order that was placed in period t is denoted it we denote the inventory level at the end of period t as jt the order placed in period t is denoted qt such that the order that arrives in period t is denoted qt demand in period t is denoted by dt and dt t 0 is an i i d sequence of random variables with e dt we let d denote the generic one period demand random variable and its distribution f x p d x demand is satisfied from inventory whenever possible if demand in a period exceeds the inven tory level there will be lost sales denoted by lt in period t the system dynamics are given as lt dt it 1 jt it dt 2 it it 1 dt 1 qt jt 1 qt 3 where x max 0 x the state of this system in period t is given by xt it qt 1 qt 2 qt 1 r since we focus on long run costs and for ease of exposition we assume the initial state x 0 to be 0 i e i 0 0 and qt 0 for t unless stated otherwise cf xin and goldberg 2016 for convenience in notation we define d a b b i a di and similarly define i a b j a b q a b and l a b in each period t we may decide qt 0 based on xt and t for our purposes it will be convenient and sufficient to represent policies by a set of functions a at t n 0 where at maps states xt r to actions qt 0 we consider three policies in the analytical sections of this paper the base stock policy bs cf huh et al 2009 b and the constant order policy cr cf xin and goldberg 2016 are defined as follows bst xt s it q t 1 t 1 van jaarsveld arts projected inventory level policies for lost sales inventory systems 8 crt xt r here s and r are the base stock level and the constant order quantity respectively we assume for stability that r cf xin and goldberg 2016 the projected inventory level policy pu with projected inventory level u is given by put xt u e jt 1 xt u it q t 1 t 1 e l t t 1 x 4 note that the expectations in 4 take into account the state at time t therefore at time t the pil policy places an order to raise the expected inventory level at time t to u if possible the following lemma specifies conditions that ensure that the projected inventory level u can be attained in every period the proof is in appendix ec 1 lemma 1 it is possible to place a non negative order in each period t 0 to attain the projected inventory level u 0 provided that it is possible to do so in period 0 e j 1 u for any given pil policy any excess inventory at the end of a period incurs a holding cost h 0 per item per period any lost sales accrued during a period incur a lost sales penalty cost p 0 per item lost denote the costs incurred in period t by ct hjt plt and let c a b b t a ct we write c a b a to make explicit the dependence on a the cost rate associated with a policy a is then c a limsup t e 1 t 1 c t a let s argmins c b s r argminrc c r and u argminu c p u denote the optimal base stock level constant order quantity and projected inventory level respectively let c denote the long run expected costs of an optimal policy 4 long lead time asymptotics constant order policies were proven to be asymptotically optimal for long lead time by goldberg et al 2016 see also xin and goldberg 2016 this result has deepened the understand ing of lost sales inventory systems empirically we observe that the pil policy outperforms the van jaarsveld arts projected inventory level policies for lost sales inventory systems 9 constant order policy also for long lead times in this sense the pil policy is unlike the base stock policy which cannot match the constant order policy performance for large lead times in this section we will theoretically underpin this finding in particular we prove that the projected inven tory policy is in expectation superior to the constant order policy when demand is exponentially distributed our analysis is based on the following simple idea consider the total costs incurred from time t up to time t given the state xt and order q and assuming qk r for k t and denote this total cost by f t q hj t t pl t t define f q xt limt e f t q f t r xt a sensible policy may decide qt argminq 0 f q xt for any pipeline xt this policy may be recognized as a single step policy improvement to the constant order policy and it may therefore be expected to dominate the constant order policy with order quantity r in the following we sketch a heuristic argument that shows pu xt argminq 0 f q xt with u p r h this heuristic argument as well as the intuition that this policy dominates the constant order policy will be made rigorous in section 4 1 let us determine the q qt that minimizes f for some initial state x increasing q by has two effects on the infinite horizon costs 1 more demand is eventually satisfied not lost and a penalty cost p is averted 2 from time t until the first stock out the inventory level increases by for small suppose t 0 for notational convenience let r denote the time of the first lost sale from period 0 r min t n 0 lt 0 then df q dq lim 0 f q f q lim 0 p he r he r p 5 the expectation of r can be found by noting that r is a stopping time and e lr due to the memoryless property of the exponential demand distribution for t r there are no stockouts so that jt jt 1 r dt thus jt i 0 d 0 t tr j 1 q d 0 t tr while for t r we have jr 0 and lr j 1 q d 0 r rr in particular this implies using wald s identity e lr e j 1 q e r 1 e r r using that also e lr and solving for e r yields van jaarsveld arts projected inventory level policies for lost sales inventory systems 10 e r e j 1 q r thus by 5 f must be a parabola in q and df q dq 0 if and only if q p r h e j 1 since i 0 j 1 q this holds if and only if q follows a projected inventory level policy with level u p r h 4 1 dominance of pil policies over cop policies the heuristic argument above can be made rigorous as follows observe that the orders under cr are independent of the state hence the bias or relative value function of the cr policy can be expressed as a function of inventory level only as in the following definition definition 1 let r 0 e d and let gr c cr be the long run average costs of the cr policy then the bias hr r r associated with cr satisfies hr x ed h x d p d x hr x d r gr 6 for any non negative x 0 to make the bias unique we also impose hr 0 0 this bias hr x can be interpreted as the additional cost over an infinite horizon of starting with x items in inventory and a pipeline with orders of size r instead of starting with 0 items in inventory and a pipeline with orders of size r intuitively f q xt equals e h r jt 1 q h r jt 1 r xt and informed by the heuristic argument made earlier one can guess that like f this bias should be a parabola proposition 1 when demand has an exponential distribution the bias of the constant order policy with constant order quantity r is a parabola hr x h 2 r x 2 px 7 and gr c cr p r h r 2 2 r the proof of proposition 1 can be found in appendix ec 2 and is a straightforward verification that the proposed solution satisfies the definition confirming our intuition we next show that the policy found by a single improvement step on the bias of a constant order policy is a projected inventory level policy van jaarsveld arts projected inventory level policies for lost sales inventory systems 11 lemma 2 let d be exponentially distributed and for any h p r let u r p r h for any xt if qt p u r xt then qt argminq 0 e h r jt 1 q xt proof for any xt and associated qt p u r t xt we have qt u r e jt 1 xt to see this note that jt 1 it q t 1 t 1 l t t 1 d t t 1 thus e jt 1 xt it q t 1 t 1 e d t t 1 xt so that the claimed result follows from 4 using lemma 7 one may derive hr x a 1 x u r 2 a 2 with a 1 h 2 r 0 and a 2 p r h 2 thus u r is the unique minimizer of hr now observe that e hr jt 1 q xt e a 1 jt 1 q u r 2 a 2 xt a 1 var jt 1 q u r xt e jt 1 q u r xt 2 a 2 a 1 var jt 1 xt a 1 e jt 1 xt q u r 2 a 2 8 where the final equality follows because var q xt 0 for any deterministic policy a clearly q pu r xt u r e jt 1 xt minimizes 8 for our continuous state space continuous action space model there appear to be no standard markov decision process results that can be leveraged to prove from lemma 2 that the pil dominates the constant order policy our proof uses the following result the proof of which appears in appendix ec 3 lemma 3 let t 1 t 2 t 1 t 2 n 0 r 0 e d g r c cr and suppose qt r for all t t 1 1 t 2 then edt 1 dt 2 c t 1 t 2 c r it 1 h r it 1 edt 1 dt 2 h r it 2 1 it 1 t 2 1 t 1 g r we are now ready to establish the main result of this section theorem 1 if demand has an exponential distribution then the best pil policy pu outperforms the best constant order policy cr in particular c pu c pu r c cr for any n 0 where u r is given by lemma 2 van jaarsveld arts projected inventory level policies for lost sales inventory systems 12 proof we focus on bounding e c t pu r c t cr a device in the proof will be a policy g t that places the first t n 0 orders using the projected inventory policy p u r and subsequent orders using the optimal constant order policy cr g t t x p u r t x t t cr t x r t t let it a denote the random variable it when policy a is adopted and let t t we will compare expected interval costs for the policies g t 1 and g t e c t g t 1 c t g t e c t t g t 1 c t t g t e ed t dt c t t it g t 1 ed t dt c t t it g t e h it g t 1 h it g t h it 1 g t 1 h it 1 g t 9 here and elsewhere in this proof h denotes hr also the first equality follows because g t 1 and g t coincide for t t and thus since x 0 0 for t t the distributions of xt jt 1 lt 1 and ct 1 are the same for the two policies the second equality is by conditioning on the inventory at time t for the third inequality note that g t 1 t g t t c r for t t 1 hence qt r for t t 1 for both policies and hence we can substitute the identity of lemma 3 now note that it g t 1 jt 1 p u r xt and it g t jt 1 r while xt and jt 1 are identically distributed for both policies since they coincide for t t we condition on xt and find e h it g t 1 h it g t e e h it g t 1 h it g t xt e e h jt 1 p u r xt h jt 1 r xt e min q 0 e h jt 1 q h jt 1 r xt e min q r e h jt 1 q h jt 1 r xt e e a 1 r pu r xt 2 xt a 1 e r pu r xt 2 10 van jaarsveld arts projected inventory level policies for lost sales inventory systems 13 for the third equality we use lemma 2 for the fourth equality observe that x 0 0 and hence e jt 1 xt u r cf lemma 1 which implies that the minimum over q r is attained by an element q 0 for the fifth equality we substitute equation 8 and cancel terms with this we obtain e c t pu r c t cr e c t gt 1 c t g 0 t t 0 e c t g t 1 c t g t t t 0 e h it g t 1 h it g t h it 1 g t 1 h it 1 g t e it 1 g 0 e it 1 g t 1 t t 0 e h it g t 1 h it g t e it 1 c r e it 1 p u r a 1 t t 0 e r pu r xt 2 11 here the first equality holds by definition of g t the second equality follows by expressing the difference as a telescoping sum the third equality uses 9 for the fourth equality we rearrange and cancel terms the final equality holds by definition of g t and by 10 using the definition of the cost rate we find c cr lim t e 1 t 1 c t cr lim t e 1 t 1 c t pu r a 1 t t 0 r pu r xt 2 limsup t e 1 t 1 c t pu r a 1 lim inf t e 1 t 1 t t 0 r pu r xt 2 the first equality uses that for the constant order policy the sequence converges such that the limit superior equals the limit for the second equality we use 11 and limt 1 t 1 e it 1 c r e it 1 p u r 0 this latter observation follows because the steady state inventory level under the constant order policy exists with finite mean and because the inventory level under the pil policy is bounded from below by 0 and from above by 1 u r van jaarsveld arts projected inventory level policies for lost sales inventory systems 14 the third equality now follows because all limit points of the sequence e 1 t 1 t t 0 r pu r xt 2 t 1 must be finite since pu r xt is bounded below by 0 and above by u r we thus find c cr c pu r a 1 lim inf t 1 t 1 t t 0 e r pu r xt 2 0 12 this completes the proof it is noteworthy that the difference between the cost of a pil policy and a constant order policy can be expressed as a function of the quadratic differences of between the order decisions of both policies see 12 the amount by which the decisions of the pil policy differ from a constant order policy also express how much better it performs 4 2 asymptotic optimality as with the results of xin and goldberg 2016 theorem 1 establishes asymptotic optimality of the pil policy as grows large theorem 2 the pil policy is asymptotically optimal for long lead times when demand has an exponential distribution lim c pu r c 0 this result follows directly from our theorem 1 and theorem 1 in xin and goldberg 2016 in fact it follows from these theorems that the optimality gap of pil policy decays exponentially in 5 penalty cost asymptotics the performance of the pil policy in the asymptotic regime that p will be studied by using bounds in terms of the related inventory system in which demand in excess of inventory is back ordered rather than lost therefore in this section we first make a comparison to the related canonical backorder system in section 5 1 and show that the cost of a pil policy for the lost sales system has lower cost than the optimal policy for the canonical backorder system then we provide our main result that the pil policy is asymptotically optimal as the cost of losing a sale approaches infinity in section 5 2 van jaarsveld arts projected inventory level policies for lost sales inventory systems 15 5 1 comparison to backorder system the backorder system with lead time n 0 holding cost parameter h 0 per period per item and backorder cost p 0 per period per item is much better understood than the same system with lost sales comparison between these two systems has been studied before by e g janakiraman et al 2007 huh et al 2009 b and bijvank et al 2014 and we mostly follow their notational con ventions the dynamics for the backorder system are ibt i b t 1 dt 1 q b t j b t i b t dt bt dt i b t 13 where bt and i b t denote respectively the number of items on backorder and the inventory level in period t we use the superscript b to denote that quantities belong to the back order system rather than the lost sales system and generally denote this system as b it is well known that the optimal policy for b is a base stock policy under this policy the order in each period t is placed to raise the inventory position to a fixed base stock level s qbt s i b t q b t 1 t 1 14 and the optimal base stock level for system b is given by the newsvendor equation s inf s p d 0 s p p h 15 the optimal average cost rate for this system satisfies cb he s d 0 pe d 0 s 16 for the lost sales system we similarly define cbt hj b t pbt and c b a b b t a cbt we also write cb a b a to make the dependence on the control policy a explicit with this notation we can express the cost rate of a policy a in system b as cb a limsupt e 1 t 1 cb t a the lost sales system described in section 3 is denoted by l and the optimal cost for this system is still denoted by c note that both systems are defined on the same probability space induced by the initial state and demand sequence the main result of janakiraman et al 2007 is that van jaarsveld arts projected inventory level policies for lost sales inventory systems 16 c cb which is established via an ingenious stochastic comparison technique the main result of this section is that the best pil policy for l achieves lower cost than the optimal policy for b c pu cb via c c pu cb this result constitutes the first constructive proof of the main result of janakiraman et al 2007 unlike their stochastic comparison proof we identify a specific pil policy that yields a cost rate for system l that is lower than the optimal cost rate for system b in addition to this this result also enables us to leverage results in huh et al 2009 b to show under mild conditions that the pil policy is asymptotically optimal as p grows large the main idea behind the proof of this result is that the base stock policy with base stock level s in b is also a pil policy with projected inventory s in system b indeed observe that ibt i b t q t 1 t d t t 1 s d t t 1 so that e ibt s from this it immediately follows that c b ps cb bs cb when s we will first show that e lt e bt for any period t when l and b operate under the same pil policy with level u 0 from that we conclude that the cost rate of l under the optimal pil policy is smaller than the optimal cost rate for system b the following technical lemma is needed in subsequent results its proof is in appendix ec 3 1 lemma 4 let x and y be random variables with joint distribution function f x y x y then e x y p x z y z dz define the random variables y l 0 1 e l 0 1 and x d i d 0 s y for s observe that x l and that x y d 0 s such that x y b under a pil policy with level u s 0 our aim will be to prove that e l e b to this end we first prove that x and y are associated random variables cf esary et al 1967 van jaarsveld arts projected inventory level policies for lost sales inventory systems 17 definition 2 the random variables a 1 an a are said to be associated if cov f a g a 0 for all non decreasing functions f g rn r for which the covariance above exists lemma 5 x and y are associated random variables proof the random variables d d 0 d are associated by theorem 2 1 of esary et al 1967 by property p 4 of esary et al 1967 it suffices to show that y f d and x g d are non decreasing functions element wise observe that jt it dt and lt dt it so that lt jt dt it dt jt 1 qt this can be written as jt jt 1 qt dt lt 17 iterating expression 17 and using i 0 j 1 q 0 yields jt i 0 q 1 t d 0 t l 0 t 18 now assume that lt 0 so that lt dt it and use 18 to find lt dt jt 1 qt dt i 0 q 1 t 1 d 0 t 1 l 0 t 19 rearranging 19 we obtain still under the assumption lt 0 l 0 t d 0 t i 0 q 1 t 1 20 the assumption that lt 0 can be removed by observing that l 0 t max k 0 t d 0 k i 0 q 1 k 1 21 next for y f d we have y l 0 1 e l 0 1 max k 0 1 d 0 k i 0 q 1 k 1 e l 0 1 22 van jaarsveld arts projected inventory level policies for lost sales inventory systems 18 which is clearly non decreasing in each di i 1 finally observe that x g d d 0 s max k 0 1 d 0 k i 0 q 1 k 1 e l 0 1 23 note that dx dd 1 and dx ddi 0 1 for i 0 1 this implies g is non decreasing lemma 6 if system b and l both operate under a pil policy with level u 0 then e bt e lt for any period t proof we will show that that e b e l using only that q can be placed to attain u 0 by lemma 1 this implies the result let x and y be two independent random variables with the same marginal distribution as x and y respectively observe that e b e x y z p x z y z dz 24 z p x z p y z dz 25 z p x z p y z dz e x y where 24 follows from lemma 4 and 25 follows from theorem 5 1 of esary et al 1967 now continuing and using that x and y are independent we find e b e x y x r ey x y dfx x x r x dfx x 26 e x e x e l inequality 26 holds because ey x y x e y x e y x and ey x y 0 which together imply ey x y x van jaarsveld arts projected inventory level policies for lost sales inventory systems 19 lemma 7 if system b and l both operate under a pil policy with level u 0 then for any initial state x such that projected inventory u 0 can be attained we have pe lt he jt e ct e cbt pe bt he j b t for any t proof we will show that that e c e c b using only that q can be placed to attain u 0 by lemma 1 this implies the result the inventory level in l at the time of arrival of order q is given by i i 0 q 1 d 0 1 l 0 1 27 under a pil policy with projected inventory s e d system l will choose q such that e i s e d using 27 and solving for q yields that q s i 0 q 1 1 e l 0 1 28 substituting 28 back into 27 yields i s d 0 1 l 0 1 e l 0 1 29 now we have for the expected costs that will be incurred in period by system l e c he i d pe d i he i d he d i pe d i he s d 0 l 0 1 e l 0 1 he l pe l he s d 0 he l pe l he s d 0 he d 0 s he l pe l he s d 0 pe d 0 s e cb c b 30 the second and fourth equality follow from using the identity x x x and the inequality follows from applying lemma 6 twice van jaarsveld arts projected inventory level policies for lost sales inventory systems 20 theorem 3 if system b is controlled by the optimal base stock policy or equivalently by a pil policy with parameter s and if and l is controlled by a pil policy with pil level s then the cost rate of system l dominates the optimal cost rate of system b that is c pu c p s cb proof since x 0 0 we can attain the projected inventory level u in l in every period regard less of this assumption the number of periods for which it is not possible to attain a projected inventory level u in l is finite almost surely now consider two cases s and s 1 case s without loss of generality let period 0 be the first period in which it is possible to place an order to attain u s 0 by lemma 7 it holds that e ct e c b t c b for all t which implies that c ps cb 2 case s observe first that c p 0 p becasuse under u 0 there is no inventory and all demand is lost we now have cb cb ps pe d 0 s he s d 0 pe d 0 s p c p 0 where the strict inequality holds because 0 s that c pu c p s follows from the definition of u 5 2 asymptotic optimality as p to describe penalty cost asymptotics we need the following assumption on the distribution of lead time demand which is identical to assumption 1 of huh et al 2009 b and bijvank et al 2014 assumption 1 the random variable d 0 has finite mean and is i bounded or ii is unbounded and limx e d 0 x d 0 x x 0 assumption 1 is discussed in some detail in section 3 of huh et al 2009 b all distributions commonly used to model demand including gaussian gamma poisson negative binomial and weibull distributions satisfy this assumption theorem 4 under assumption 1 the best pil policy is asymptotically optimal for the lost sales inventory system as the cost of a lost sale increases lim p c p s p c lim p c pu c 1 van jaarsveld arts projected inventory level policies for lost sales inventory systems 21 proof by theorem 3 of huh et al 2009 b we have limp c b c 1 combining this with theorem 3 yields the result 6 numerical results the pil policy is asymptotically optimal for large p and for large if d has an exponential distribution numerically it appears that the pil policy has good performance for large also for other demand distributions as figure 1 illustrates we benchmark the performance of the pil policy against other policies including the optimal policy for the standard test bed of zipkin 2008 a we also benchmark the pil policy against the best base stock policy and best constant order policy on another test bed which features higher average demands and longer leadtimes we describe and give results for these test beds in sections 6 1 and 6 2 0 2 4 6 8 10 12 14 16 120 140 160 180 lead time o p ti m a l co st ra te basestock policy projected inventory level policy constant order policy figure 1 cost rate as a function of lead time when h 1 p 9 and demand is negative binomial with 5 required successes and success probability 1 21 6 1 standard test bed zipkin 2008 a provides a test bed to compare the performance of notable policies for the canonical lost sales inventory model this test bed has relatively small instances as the performance of all van jaarsveld arts projected inventory level policies for lost sales inventory systems 22 policies including the optimal policy are evaluated numerically this test bed has two demand distributions poisson and geometric both with mean 5 the holding cost is fixed at h 1 and the other parameters are varied as a full factorial 1 2 3 4 p 4 9 19 39 leading to a total of 32 instances zipkin 2008 a report the performance of notable policies advocated in literature e g morton 1971 levi et al 2008 huh et al 2011 here we report on the base stock policy constant order policy myopic policy capped base stock policy and the pil policy the myopic policy is the best performing policy in zipkin s test bed that has intuitive appeal the myopic policy places an order in period t to minimize the projected cost in period t given the current state the myopic policy is defined formally as m x argminq 0 e pl hj x 0 x the capped base stock policy is formally defined as rs r x min bs x cr x table 1 reports the performance of these policies the performance of the pil policy is closest to optimal with an average optimality gap of 0 6 whereas the base stock policy has an average optimality gap of 3 5 the myopic policy of 2 8 and the capped base stock policy of 0 7 the average performance of the best constant order policy is quite poor with an average optimality gap of 47 4 it appears that the pil policy has attractive asymptotic properties as well as superior empirical performance compared to state of the art heuristics 6 2 large instance test bed we created a large test bed of instances for which the optimal policy cannot be tractably computed however we believe these instances give a fair representation of instances that one may encounter in practice in all these instances demand has a negative binomial distribution and the mean demand is 100 and h 1 we then varied the lead time 1 2 3 4 5 6 the penalty cost parameter p 1 4 9 19 49 99 and the coefficient of variation of the one period demand var d e d 2 van jaarsveld arts projected inventory level policies for lost sales inventory systems 23 table 1 comparison of policies on zipkin s test bed poisson demand geometric deman lead time lead time penalty per lost sale policy 1 2 3 4 1 2 3 4 p 4 optimal 4 04 4 40 4 60 4 73 9 82 10 24 10 47 10 61 pil 4 04 4 40 4 62 4 74 9 84 10 28 10 51 10 64 myopic 4 11 4 56 4 84 5 06 9 95 10 57 10 99 11 31 base stock 4 16 4 64 4 98 5 20 10 04 10 70 11 13 11 44 capped base stock 4 06 4 41 4 63 4 80 9 87 10 32 10 51 10 70 cop 5 27 11 00 p 9 optimal 5 44 6 09 6 53 6 84 14 51 15 50 16 14 16 58 pil 5 45 6 12 6 58 6 90 14 55 15 60 16 27 16 73 myopic 5 45 6 22 6 80 7 20 14 64 15 93 16 86 17 61 base stock 5 55 6 32 6 86 7 27 14 73 15 99 16 87 17 54 capped base stock 5 48 6 12 6 62 6 91 14 58 15 63 16 27 16 73 cop 10 27 18 19 p 19 optimal 6 68 7 66 8 36 8 89 19 22 20 89 22 06 22 95 pil 6 68 7 68 8 42 8 95 19 28 21 03 22 73 23 85 myopic 6 69 7 77 8 56 9 18 19 37 21 30 22 79 24 02 base stock 6 73 7 84 8 60 9 23 19 40 21 31 22 73 23 85 capped base stock 6 69 7 72 8 40 8 95 19 32 21 06 22 27 23 28 cop 15 78 28 60 p 39 optimal 7 84 9 11 10 04 10 79 23 87 26 21 27 96 29 36 pil 7 84 9 12 10 09 10 91 23 94 26 37 28 18 29 72 myopic 7 88 9 16 10 17 11 04 23 97 26 55 28 61 30 31 base stock 7 86 9 19 10 22 11 06 24 00 26 55 28 51 30 12 capped base stock 7 84 9 14 10 08 10 88 24 00 26 30 28 28 29 76 cop 18 21 36 73 van jaarsveld arts projected inventory level policies for lost sales inventory systems 24 0 15 0 25 0 5 1 1 5 2 0 for a total of 216 instances for each of these instances we determine the best pil base stock and cop the pil policy dominates both the base stock and cop policy for all instances in the test bed therefore we report gap of the cop and base stock policies relative to the best pil policy across this test bed aggregated by setting see table 2 the performance of the pil policy is again superior to the base stock and constant order policy by a considerable margin on average 3 68 and 41 35 the maximum percentage gaps are strikingly large at 19 81 and 251 32 for this test bed this is further evidence that the pil policy is a superior candidate for application in practical settings 7 conclusion we introduced the projected inventory level policy for the lost sales inventory system we showed that this policy is asymptotically optimal in two regimes and has superior numerical performance the policy may also be applied to the back order system in which case it is equivalent to a base stock policy it needs to be explored whether projected inventory level policies can be fruitfully used for other complicated inventory systems where the whole pipeline is relevant for ordering decisions such systems include perishable inventory systems c f bu et al 2020 a dual sourcing systems e g xin and goldberg 2018 and system with independent overtaking lead times e g stolyar and wang 2019 acknowledgments the authors thank ton de kok and ivo adan for stimulating discussions the second author thanks the netherlands foundation for scientific research for funding this research references agrawal shipra randy jia 2019 learning in structured mdps with convex cost functions improved regret bounds for inventory management arxiv preprint arxiv 1905 04337 bai xingyu xin chen menglong li alexander stolyar 2020 asymptotic optimality of semi open loop policies in markov decision processes with large lead times available at ssrn van jaarsveld arts projected inventory level policies for lost sales inventory systems 25 table 2 comparison of policy performance on large test bed average gap with best pil maximum gap with best pil coefficient of variation of demand bs cop bs cop 0 15 5 09 61 04 19 81 251 32 0 25 4 95 54 86 18 51 230 43 0 5 4 60 46 16 15 83 181 27 1 3 52 35 83 10 51 141 33 1 5 2 36 27 72 7 07 113 89 2 1 55 22 51 4 82 93 01 lead time 1 1 23 65 52 5 76 251 32 2 2 39 49 95 10 18 192 43 3 3 37 40 90 13 34 155 29 4 4 26 34 77 15 92 137 58 5 5 04 30 11 17 75 116 69 6 5 76 26 88 19 81 113 63 penalty cost p 1 8 21 0 84 19 81 6 42 4 6 53 6 65 13 79 26 72 9 4 09 17 14 8 24 53 97 19 2 13 34 74 4 30 93 46 49 0 77 74 06 1 54 171 70 99 0 33 114 70 0 67 251 32 total 3 68 41 35 19 81 251 32 bijvank m w t huh g janakiraman w kang 2014 robustness of order up to policies in lost sales inventory systems operations research 62 5 bijvank m s g johansen 2012 periodic review lost sales inventory models with compound poisson demand and constant lead times of any length european journal of operational research 220 106 114 van jaarsveld arts projected inventory level policies for lost sales inventory systems 26 bijvank m i f a vis 2011 lost sales inventory theory a review european journal of operational research 215 1 13 bu jinzhi xiting gong xiuli chao 2020 a asymptotic optimality of base stock policies for perishable inventory systems available at ssrn bu jinzhi xiting gong dacheng yao 2020 b constant order policies for lost sales inventory models with random supply functions asymptotics and heuristic operations research 68 4 1063 1073 chen wei milind dawande ganesh janakiraman 2014 fixed dimensional stochastic dynamic programs an approximation scheme and an inventory application operations research 62 1 81 103 esary j d f prochan d w walkup 1967 association of random variables with applications the annals of mathematical statistics 38 5 1466 1474 goldberg d a d a katz rogozhnikov y lu m sharma m s squillante 2016 asymptotic optimality of constant order policies for lost sales inventory models with large lead times mathematics of operations research 41 3 898 913 goldberg david a martin i reiman qiong wang 2019 a sur vey of recent progress in the asymptotic analysis of inventory systems https people orie cornell edu dag 369 ftp asymptotic inventory survey goldberg reiman wang pdf accessed 2020 12 16 haijema rene jan van der wal et al 2008 an mdp decomposition approach for traffic control at isolated signalized intersections probability in the engineering and informational sciences 22 4 587 602 huh woonghee tim ganesh janakiraman mahesh nagarajan 2011 average cost single stage inventory models an analysis using a vanishing discount approach operations research 59 1 143 155 huh w t g janakiraman j a muckstadt p rusmevichientong 2009 a an adaptive algorithm for finding the optimal base stock policy in lost sales inventory systems with censored demand mathematics of operations research 34 2 397 416 huh w t g janakiraman j a muckstadt p rusmevichientong 2009 b asymptotic optimality of order up to policies in lost sales inventory systems management science 55 3 404 420 https people orie cornell edu dag 369 ftp asymptotic inventory survey goldberg reiman wang pdf van jaarsveld arts projected inventory level policies for lost sales inventory systems 27 janakiraman g s seshadri g j shanthikumar 2007 a comparison of the optimal costs of two canonical inventory systems operations research 55 5 866 875 johansen s ren glud anders thorstenson 2008 pure and restricted base stock policies for the lost sales inventory system with periodic review and constant lead times 15 th international symposium on inventories karlin s h scarf 1958 inventory models of the arrow harris marchak type with time lag k arrow s karlin h scarf eds studies in the mathematical theory of inventory and production stanford university press stanford ca levi r g janakiraman m nagaraja 2008 a 2 approximation algorithm for stochastic inventory models with lost sales mathematics of operations research 33 2 351 374 morton k 1969 bounds on the solution of the lagged optimal inventory equation with no demand back logging and proportional costs siam review 11 4 572 596 morton k 1971 the near myopic nature of the lagged proportional cost inventory problem with lost sales operations research 19 7 11 song jing sheng 1998 on the order fill rate in a multi item base stock inventory system operations research 46 6 831 845 stolyar alexander qiong wang 2019 exploiting random lead times for significant inventory cost savings arxiv preprint arxiv 1801 02646 sun peng kai wang paul zipkin 2014 quadratic approximation of cost functions in lost sales and perishable inventory control problems fuqua school of business duke university durham nc tijms h c 2003 a first fourse in stochastic models john wiley sons van donselaar k t de kok w rutten 1996 two replenishment strategies for the lost sales inventory model a comparison international journal of production economics 46 47 285 295 van jaarsveld willem 2020 model based controlled learning of mdp policies with an application to lost sales inventory control arxiv preprint arxiv 2011 15122 xin linwei 2019 understanding the performance of capped base stock policies in lost sales inventory models available at ssrn 3357241 van jaarsveld arts projected inventory level policies for lost sales inventory systems 28 xin linwei david a goldberg 2016 optimality gap of constant order policies decays exponentially in the lead time for lost sales models operations research 64 6 1556 1565 xin linwei david a goldberg 2018 asymptotic optimality of tailored base surge policies in dual sourcing inventory systems management science 64 1 437 452 zhang huanan xiuli chao cong shi 2020 closing the gap a learning algorithm for lost sales inventory systems with lead times management science 66 5 1962 1980 zipkin p 2008 a old and new methods for lost sales inventory systems operations research 56 5 1256 1263 zipkin p 2008 b on the structure of lost sales inventory models operations research 56 4 937 944 e companion to van jaarsveld arts projected inventory level policies for lost sales inventory systems ec 1 technical proofs for companion ec 1 proof of lemma 1 proof suppose e j 1 u so that it is possible to place a non negative order in period 0 to attain e i u since e j d 0 0 denotes the projected inventory level as seen in period 1 before an order is placed and when no demand occurred in period 0 it suffices to show that e j d 0 0 e i u define the random variable g x such that p g x g p i g j 0 x or equivalently g x x q 1 d 1 q 2 d 2 q 1 d 1 q observe that we have e i e g i 0 d and e j d 0 0 e g i 0 d note that 0 dg x dx 1 and g x 0 so that g i 0 d g i 0 d ec 1 it follows from ec 1 that e j d 0 0 e g i 0 d e g i 0 d e i ec 2 proof of proposition 1 proof first note that the inventory at the end of a period under cr satisfies the lindley recursion jt 1 jt r dt so that limt e jt can be determined with the pollaczek khinchine equation for the mean waiting time in an m d 1 queue therefore we can express gr in closed form as gr p r h r 2 2 r ec 2 we can now directly verify that inserting 7 and ec 2 into the right hand side of 6 again equals 7 by using integration by parts and tedious but otherwise straightforward algebra ed h x d p d x hr x d r gr pe d x he x d x 0 hr x y r e y dy hr r e x gr p e x h x e x e x x h 3 r 2 3 rx x 2 6 r pr 2 r x 2 r p 2 r x 2 r ec 3 e x hr 2 2 r pr 2 p r h r 2 2 r h 2 r x 2 px hr x ec 4 ec 2 e companion to van jaarsveld arts projected inventory level policies for lost sales inventory systems clearly hr x h 2 r x 2 px also satisfies hr 0 0 ec 3 proof of lemma 3 proof we prove the following statement by induction on t 2 starting at t 2 t 1 hr it 1 edt 1 dt 2 c t 1 t 2 c r hr it 2 1 it 1 t 2 1 t 1 g r ec 5 the base case t 2 t 1 holds by 6 the definition of ct and it 1 1 it 1 dt 1 r now for the inductive step assume that the statement holds for some t 2 t 1 we will show it holds also for t 2 1 use 6 to conclude that edt 1 dt 2 hr it 2 1 it 1 edt 1 dt 2 edt 2 1 ct 2 1 h r it 2 1 dt 2 1 r gr it 2 1 it 1 edt 1 dt 2 edt 2 1 ct 2 1 h r it 2 2 it 2 1 it 1 gr edt 1 dt 2 dt 2 1 ct 2 1 h r it 2 2 it 1 g r ec 6 now substitution of ec 6 back into the induction hypothesis ec 5 yields hr it 1 edt 1 dt 2 c t 1 t 2 c r hr it 2 1 it 1 t 2 1 t 1 g r edt 1 dt 2 1 c t 1 t 2 1 c r hr it 2 2 it 1 t 2 2 t 1 g r ec 7 by induction this shows that ec 5 holds for all t 2 t 1 ec 3 1 proof of lemma 4 proof we have e x y x y 0 x y df x y x y x x y df x y ec 8 for x y 0 we can write x y x z y dz ec 9 substitution of ec 9 into ec 8 yields e x y x y x x z y dzdf x y y z x df x y dz z x z y z df x y dz z p x z y z dz 1 introduction 2 brief literature review 3 model 4 long lead time asymptotics 4 1 dominance of pil policies over cop policies 4 2 asymptotic optimality as 5 penalty cost asymptotics 5 1 comparison to backorder system 5 2 asymptotic optimality as p 6 numerical results 6 1 standard test bed 6 2 large instance test bed 7 conclusion ec 1 proof of lemma 1 ec 2 proof of proposition 1 ec 3 proof of lemma 3 ec 3 1 proof of lemma 4