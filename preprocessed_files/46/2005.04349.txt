ar x iv 2 00 5 04 34 9 v 1 m at h a p 9 m ay 2 02 0 characterizations of predual spaces to a class of sobolev multiplier type spaces keng hao ooi and nguyen cong phuc abstract we characterize preduals and ko the duals to a class of sobolev multiplier type spaces our results fit in well with the modern theory of function spaces of harmonic analysis and are also applicable to nonlinear partial differential equations we make use of several tools from nonlinear potential theory weighted norm inequalities and the theory of banach function spaces to obtain our results 1 introduction let be a real number and s 1 we define the space of bessel potentials h s h s rn n 1 as the completion of c c r n with respect to the norm u h s 1 2 u ls rn here the operator 1 2 is understood as 1 2 f 1 1 2 2 f where f is the fourier transform in rn in the case 0 it follows that see e g mh a function u belongs to h s if and only if u g f for some f ls and moreover u h s f ls here g is the bessel kernel of order defined by g x f 1 1 2 2 x the bessel potential space h s 0 s 1 can be viewed as a fractional generalization of the standard sobolev space w k s w k s rn k n s 1 the latter by definition consists of functions in ls whose distributional derivatives up to order k also belong to ls the norm of a function u w k s is given by u w k s k d u ls u ls indeed it follows from the theory of singular integrals that for any k n and s 1 we have hk s w k s i e there exists a constant a 0 such that a 1 u hk s u w k s a u hk s 1 1 in this paper we are concerned with the banach space m s p m s p r n 0 s 1 p 1 which consists of functions f l p loc r n such that the trace inequality rn u s f pdx 1 p c u s p h s 1 2 1 http arxiv org abs 2005 04349 v 1 2 keng hao ooi and nguyen cong phuc holds for all u c c r n a norm of a function f m s p is defined as the least possible constant c in the above inequality of course inequality 1 2 can be equivalently written as rn g h s f pdx 1 p c h s p ls rn for all nonnegative h ls rn we note that the space m s p or its homogeneous counterpart appears naturally in many super critical nonlinear pdes including the navier stokes system see e g vw kv hmv ph 2 ph 3 phv np ap 2 phph l r ger it also follows from the definition that a function f m s p if and only if f p s belongs to the space of sobolev multipliers m h s ls that has been studied in ms 1 ms 2 the main goal of this paper is to find good predual spaces to the space m s p p 1 by a good predual space in this context we mean one that fits in well with the theory of function spaces of harmonic analysis and partial differential equations for example one should be able to demonstrate the behavior of basic operators such as the hardy littlewood maximal function and caldero n zygmund operators on such a space a natural candidate for a predual of m s p is its ko the dual space m s p defined by 1 3 m sp measurable functions f sup fg dx where the supremum is taken over all functions g in the unit ball of m s p the norm of f m s p is defined as the above supremum indeed as in kv using the p convexity of m s p we find that this is the case i e m sp m sp see proposition 2 8 below we observe however that the space m s p is quite abstract and thus it is desirable to find a more concrete space that is isomorphic to it in this paper inspired from the work ax 1 ax 2 several other predual spaces to m s p will be constructed in particular we find a banach function space in the sense of lux n s p p p p 1 such that m s p n s p for all p 1 0 and p n more importantly the space n s p and other predual spaces that we construct have a nice structure that the hardy littlewood maximal function and standard caldero n zygmund type operators behave well on them in a reasonable sense as a result the lo cal hardy littlewood maximal function mloc see 1 10 below is shown to be bounded on m s p we remark that whereas the hardy littlewood maximal function m is bounded on m s p for any p 1 and s n see ms 1 it fails to be bounded on m s p this is because l rn m s p see 2 8 below and thus m s p l 1 rn this phenomenon happens simply because of the inhomogeneity of the sobolev space under consider ation in the homogeneous case where the space h s in 1 2 is replaced 3 with its homogeneous counterpart h s the space of riesz potentials such a phenomenon does not exist we shall discuss the homogeneous case later in section 9 of the paper our approach to the preduals of m s p is based upon the notion of bessel capacity associated to the bessel potential space h s for each set e rn the bessel capacity of e is defined by 1 4 cap s e inf f sls f 0 g f 1 on e note that functions in h s are generally not continuous one can think of cap as a device to measure the discontinuity of functions in h s especially when s n for example one has the following lu sin type theorem if f h s then f has a quasicontinuous representative f that is f f a e and f is quasicontinuous with respect to the capacity cap s by definition a function f is said to be quasicontinuous with respect to cap s if for any 0 there exists an open set g such that cap s g and f is continuous in gc rn g see ah originally appearing in electrostatics capacities have found many appli cations in analysis and pdes for example they are used to study the pointwise behavior of sobolev functions removable singularities of solutions to linear and non linear pdes and dirichlet problems on arbitrary domains wiener s criterion etc in this paper the importance of capacity lies in the following theorem see e g ms 2 ah theorem 1 1 maz ya adams dahlberg let 0 s 1 and suppose that is a nonnegative locally finite measure in rn then the following properties are equivalent i the inequality rn g f sd a 1 rn f sdx holds for all functions f ls rn f 0 ii the inequality k a 2 cap s k holds for all compact sets k rn iii the weak type inequality sup t 0 ts x rn g f x t a 3 rn f sdx holds for all functions f ls rn f 0 moreover the least possible values of ai i 1 2 3 are equivalent as an application of theorem 1 1 we find that the norm of a function f m s p is equivalent to the quantity sup k k f x pdx cap s k 1 p 1 5 4 keng hao ooi and nguyen cong phuc where the supremum is taken over all compact sets k rn with non zero capacity thus in what follows we shall tactically use 1 5 as the norm for functions f in m s p i e we redefine f m sp sup k k f x pdx cap s k 1 p p 1 it is worth mentioning that one also has see ms 2 remark 3 1 1 f m sp sup k dian k 1 k f x pdx cap s k 1 p thus in view of 2 5 below we have f m sp supx rn f lp b 1 x pro vided s n that is when s n m s p can be identified with the space of uniformly local lp functions in rn for this reason we shall be mainly interested in the case s n on the other hand for s n by 2 3 below we see that m s p is continuously embedded into a local morrey space motivated from ii of theorem 1 1 we also define m s m s rn as the space of locally finite signed measure in rn such that the norm m s where m s sup k k cap s k with the supremum being taken over all compact sets k rn such that cap s k 6 0 it is obvious that m s 1 is continuously embedded into m s the notion of choquet integral will be important in this work let w r n 0 be defined cap s quasieverywhere i e defined except for only a set of zero capacity cap s the choquet integral of w is defined by 1 6 rn wdc 0 cap s x r n w x t dt we let l 1 c be the space of quasicontinuous hence quasieverywhere defined functions f in rn such that f l 1 c f dc 1 7 in general l 1 c is only a quasi banach space see proposition 2 3 be low as l 1 c may not satisfy the triangle inequality however by a theorem of choquet see cho den l 1 c satisfies the triangle inequal ity hence l 1 c is a banach space if and only if the associated capacity cap s is strongly subadditive by definition the capacity cap s is strongly subadditive if for any two sets e 1 e 2 r n cap s e 1 e 2 cap s e 1 e 2 cap s e 1 cap s e 2 1 8 it is known that cap 2 0 1 is strongly subadditive and cap 1 s s 1 is equivalent to one that is strongly subadditive see section 2 5 our first result provides another equivalent norm for the space m s p p 1 theorem 1 2 for p 1 and 0 s 1 with s n we have f m sp sup w rn f x pw x dx 1 p where the supremum is taken over all nonnegative w l 1 c aloc 1 with w l 1 c 1 and w aloc 1 c n s for a constant c n s 1 that depends only on n and s here aloc 1 is the class of local a 1 weights which consists of nonnegative locally integrable functions w in rn such that 1 9 mlocw x cw x for a e x rn the aloc 1 characteristic constant of w w aloc 1 is defined as the least possible constant c in the above inequality the operator mloc stands for the center local hardy littlewood maximal function defined for each f l 1 loc r n by 1 10 mlocf x sup 0 r 1 1 br x br x f y dy we recall that the center hardy littlewood maximal function mf of f is defined similarly except that the supremum is now taken over all r 0 if 1 9 holds a e with m in place of mloc then we say that w belongs to the class a 1 one should relate theorem 1 2 to ax 1 theorem 2 2 and ax 2 lemma 11 in the context of homogeneous morrey spaces here we mention that our approach to theorem 1 2 actually provides a new proof of ax 2 lemma 11 in which the result of ov can be completely avoided inspired by theorem 1 2 we define the following space for q 1 and 0 s 1 let n s q n s q r n be the space of all measurable functions g such that there exists a weight w l 1 c aloc 1 with w l 1 c 1 and w aloc 1 c n s such that rn g x qw x 1 qdx 1 q this implies that for such w g 0 a e on the set w 0 the norm of a function g n s q is the defined as g n sq infw rn g x qw x 1 qdx 1 q where the infimum is taken over all w l 1 c aloc 1 with w l 1 c 1 and w aloc 1 c n s our first duality result can now be stated 6 keng hao ooi and nguyen cong phuc theorem 1 3 let p 1 0 s 1 with s n and p p p 1 we have n s p m sp in the sense that each bounded linear functional l n s p corresponds to a unique f m s p such that l g lf g for all g n s p where lf g rn f x g x dx g n s p moreover we have f m sp lf n s p in theorems 1 2 and 1 3 we can also drop the aloc 1 and the quasicontinuity conditions on the weights w and obtain the following similar results with equality of norms theorem 1 4 for p 1 and 0 s 1 with s n we have f m sp sup w rn f x pw x dx 1 p where the supremum is taken over all weights w such that w is defined cap s quasieverywhere and rn wdc 1 moreover we have n s p m s p where n s q n s q r n q 1 is the space of all measurable functions g such that g n s q inf w rn g x qw x 1 qdx 1 q here the infimum is taken over all nonnegative q e defined function w l 1 loc r n such that rn wdc 1 the spaces n s q and n s q are obviously quasinormed spaces however at this point it is not clear if they are normable or complete for all 0 s 1 with s n and q 1 we now introduce two banach spaces which are also preduals of m s p the first one is of course the ko the dual space m s p defined earlier in 1 3 the second one is a block type space in the spirit of brv which we call b s q q 1 definition 1 5 let q 1 0 and s 1 we define b s q b s q r n to be the space of all functions f of the form f j cjaj where the convergence is in pointwise a e sense here cj l 1 and each aj l q rn is such that there exists a bounded set aj r n for which 7 aj 0 a e in r n aj and aj lq cap s aj 1 q q the norm of a function f b s q is defined as f b sq inf j cj f j cjaj a e it is now easy to see from the definition that b s q is a banach space both m s p and b s p are also preduals of m s p theorem 1 6 let p 1 0 and s 1 we have m sp b s p m sp with equalities of norms having introduced several predual spaces to m s p a natural question to us now is whether they are isometrically isomorphic or at least isomorphic we will show eventually that they are all indeed isomorphic in the case the capacity cap s is strongly subadditive we claim that 1 11 n s p m sp n s p b s p provided cap s is strongly subadditive the first relation in 1 11 provides us with a new concrete description for the abstract space m s p and enables us to do harmonic analysis on it when cap s is strongly subadditive in order to deal with all capacities we now introduce another space which we call n s q q 1 eventually we show that n s p m s p for all p 1 and s n to this end we first modify the space l 1 c which in general is only a quasinormed space let l 1 c be the space of measurable functions w such that sup g g x w x dx where the supremum is taken over all g m s 1 such that g m s 1 1 in other words l 1 c is the ko the dual of m s 1 with the norm w l 1 c being defined as the above supremum it is easy to see that l 1 c l 1 c for q 1 we now define n s q n s q r n as the space of all measurable functions g such that there exists a weight w l 1 c aloc 1 with w l 1 c 1 and w aloc 1 c n s such that rn g x qw x 1 qdx 1 q as in the case of n s q the norm of a function g n s q is the defined as the infimum of the left hand side above over all w l 1 c aloc 1 with w l 1 c 1 and w aloc 1 c n s 8 keng hao ooi and nguyen cong phuc theorem 1 7 let p 1 0 s 1 s n then n s p and m s p are banach function spaces see sub section 2 2 and n s p m s p thus n s p m s p moreover if cap s is strongly subadditive then n s p n s p and b s p are also banach function spaces and n s p n s p m sp n s p b s p finally we have the following isomorphism result which applies to all capacities theorem 1 8 let p 1 0 s 1 s n we have 1 12 n s p n s p m sp n s p b s p in general the space of continuous functions with compact support cc is not dense in m s p we shall let m s p denote the closure of cc in m s p as it turns out we have that m s p is a predual of n s p theorem 1 9 let p 1 0 s 1 with s n we have m sp n s p in the sense that each bounded linear functional l m s p corresponds to a unique g n s p such that l v rn v x g x dx for all v m s p and g n s p l m s p as a consequence of theorem 1 9 we obtain a triplet duality relation m sp n s p m sp which is analogous to the famous triplet vmo h 1 bmo of harmonic anal ysis see cw see also ax 2 where a similar triplet was claimed without proof in the context of morrey spaces we mention that our proof of the orem 1 9 is completely different from the vmo h 1 duality proof of cw it is based on the relation n s p m s p radon nikodym theorem and hahn banach theorem moreover it can also be easily modified to provide a proof the claimed triplet in ax 2 for other related results in the morrey space setting see st isy thanks to the way the spacesn s p andn s p are constructed and theorem 1 8 we obtain the following important results regarding the behavior of the hardy littlewood maximal functions and caldero n zygmund operators on those spaces theorem 1 10 let p 1 0 s 1 and s n then the local hardy littlewood maximal function mloc is bounded on s where s is any of the spaces in 1 12 we recall the hardy littlewood maximal functionm is bounded on m s p s n see ms 1 however unlike m standard singular integrals are 9 generally unbounded on m s p take for example the j th riesz transform rj f x c n p v xj yj x y n 1 f y dy j 1 2 n and adapt the argument of rt theorem 1 1 to our setting using the fact that l m s p on the other hand m fails to be bounded on any of the spaces in 1 12 since they are included in l 1 likewise the first riesz transform r 1 say is also unbounded on these spaces to see that take a nonnegative function f c c b 1 0 such that f 1 on b 1 2 0 then for any x x 1 x x 1 x 2 xn with x 1 1 we have r 1 f x c n b 1 2 0 x 1 y 1 x y n 1 dy c x 1 x n 1 this shows that r 1 f 6 l 1 since r 1 f l 1 c 1 x x 1 x 1 x n 1 dx dx 1 c 1 x x 1 x n 1 dx dx 1 c 1 x 11 dx 1 and thus it does not belong to any of the mentioned spaces however the following localized boundedness property is applicable to m and any standard caldero n zygmund operator theorem 1 11 let q 1 0 s 1 and s n suppose that t is an operator not necessarily linear or sublinear such that t f qwdx c 1 f qwdx holds for all f lq w and all w a 1 with a constant c 1 depending only on n q and the bound for the a 1 constant of w then for any measurable function f such that supp f br 0 x 0 x 0 r n r 0 0 we have t f br 0 x 0 s c 2 f s where s n s q n s q m s q n s q b s q or m s q here the constant c 2 c 2 n s q r 0 we mention that theorem 1 11 can be applied to the so called non linear m harmonic transform hm m 1 where for each vector field f lm rn we define hm f u with u w 1 m 0 being the unique solution of mu div f m 2 f in here is a bounded c 1 domain in r n and m is the m laplacian defined as mu div u m 2 u indeed this is possible since the weighted bound hm f qwdx c n m q w a 1 f qwdx 10 keng hao ooi and nguyen cong phuc holds for all weights w a 1 and q m see ph 1 mp for q m and ap 1 for q m for m laplace equations with measure data where the exponent q can be less than the natural exponent m see ph 3 np in section 9 below we shall discuss about the homogeneous versions of theorems 1 10 and 1 11 which involve riesz potentials and riesz capacities we mention here that results in the homogeneous setting are neater as they require no localization notation in the above and in what follows for two quasinormed spaces f and g we write f g respectively f g to indicate that the two spaces are isomorphic respectively isometrically isomorphic for two quantities a and b we write a b to mean that there exist positive constants c 1 and c 2 such that c 1 a b c 2 a 2 preliminaries 2 1 capacities and the space l 1 c recall that the bessel capacity cap s 0 s 1 is defined for every subset e of r n by 1 4 it is an outer capacity i e for any set e rn cap s e inf cap s g g e g open and is countably subadditive in the sense that for ei r n i 1 2 cap s i 1 ei i 1 cap s ei moreover it has the following basic properties of a choquet capacity see ah i cap s 0 ii if e 1 e 2 then cap s e 1 cap s e 2 iii if k 1 k 2 is a decreasing sequence of compact sets of r n then cap s i 1 ki lim i cap s ki iv if e 1 e 2 is an increasing sequence of subsets of r n then 2 1 cap s i 1 ei lim i cap s ei thus by the capacitability theorem see cho mey for any borel or more generally suslin set e rn we have cap s e sup cap s k k e k compact by 1 1 we see that if is a positive integer then cap s e c s e for any set e rn see also ah here for a compact set k rn and n we define c s k inf w s c c 1 on k 11 and c s is extended to any set e of r n by letting 2 2 c s e inf g e g open supk g k compact c s k for s 2 and 0 1 it is known that cap s is strongly subadditive in the sense of 1 8 see lan pp 141 145 we note that the book lan considers only riesz capacities i e homogeneous versions of cap 2 however the argument there also applies to bessel capacities since for any 0 1 the bessel kernel g 2 is continuous and subharmonic in r n 0 hence the first maximum principle in the sense of lan theorem 1 10 holds on the other hand for 1 the capacity c 1 s is strongly subadditive for any s 1 indeed this can be proved by adapting the proof of hkm theorem 2 2 to our nonhomogeneous setting we shall need the following metric properties of cap s see ah for any 0 r 1 2 3 cap s br r n s if s n and cap s br log 2 r 1 s if s n for r 1 and s n we have 2 4 cap s br r n on the other hand we have for any non empty set e with diam e 1 2 5 cap s e 1 if s n by sobolev embedding theorem for any lebesgue measurable set e 2 6 e 1 s n c cap s e if s n moreover by young s inequality for convolution we have for s n 1 g f lq g lr f l n for any n q and r nq n q n thus for any 0 1 we find 2 7 e c cap s e if s n note that using the bound g f ls g l 1 f ls we also find that e c cap s e for all 0 s 1 it follows that if cap s e 0 then the lebesgue measure of e is zero moreover if f l rn then f m s p for any p 1 and 2 8 f m sp c f l rn on the other hand when s n by 2 6 we have 2 9 f m sp c f l np s rn 12 keng hao ooi and nguyen cong phuc where l np s rn is the weak l np s space remark 2 1 let s be any of the spaces in 1 12 as s m s p using the embedding 2 8 we see that s l 1 s n likewise by 2 9 we also have s l np np s 1 s n here l np np s 1 is a lorentz space which is the predual of l np s the choquet integral of a cap s quasieverywhere defined function w r n 0 was defined by 1 6 we also let l 1 c be the space of quasi continuous functions f in rn such that 1 7 holds perhaps a better nota tion for l 1 c should be l 1 cap s to indicate its dependence on cap s but we shall use the notation l 1 c for simplicity and implicitly understand that c cap s in general the norm of l 1 c is only a quasinorm i e we only have f g l 1 c 2 g l 1 c 2 g l 1 c however if cap s is strongly subadditive then it is actually a norm by a theorem of choquet see cho den in ad 3 theorem 4 the following quasiadditivity result was obtained for cap s 2 10 j 1 cap s e j 1 x j c cap s e for all e rn where c c n s 0 we now use 2 10 to obtain the following density result for the space l 1 c proposition 2 2 cc r n is dense in l 1 c where cc r n is the linear space of continuous functions with compact support in rn proof we first show that the set of all bounded continuous functions is dense in l 1 c let f l 1 c be given for m 0 we define fm x f x if f x m fm x m if f x m and fm x m if f x m note that fm f l 1 c 0 cap s fm f t dt 0 cap s f m t dt m cap s f t dt 0 as m for any 0 choose an m 0 such that fm f l 1 c as fm is quasicontinuous since f is quasicontinuous there exists an open set g such that cap s g and fm gc is continuous 13 by tietze extension theorem we can find a continuous function v such that v m and v fm on g c then v fm l 1 c 0 cap s v fm t dt 0 cap s x g v x fm x t dt 2 m 0 cap s x g v x fm x t dt 2 mcap s g 2 m as a result f v l 1 c 2 f fm l 1 c 2 fm v l 1 c 2 4 m which yields the claim now we claim that cc is dense in l 1 c all we need to do is to approx imate bounded continuous functions by functions in cc to this end let v be a bounded continuous function say v m for some m 0 for each n 1 2 let on v 1 n then on is open and cap s on n v l 1 c we observe that v oc n l 1 c 0 cap s x o c n v x t dt 1 n 0 cap s x o c n v x t dt 1 n 0 cap s v t dt 0 asn thus for any 0 there is an open seto such that cap s o and v oc l 1 c since cap s o by 2 10 we have j 0 cap s o j x j 1 and so there is a positive integer j 0 such that cap s o x j 0 j j 0 cap s o j x j 1 let o 1 o x j 0 and o 2 o x j 0 then o o 1 o 2 o 1 is bounded and cap s o 2 let be a continuous function with 14 keng hao ooi and nguyen cong phuc compact support such that 0 1 and 1 on o 1 we have v v l 1 c 2 v v oc l 1 c 4 v v o 1 l 1 c 4 v v o 2 l 1 c 2 v v oc l 1 c 4 v v o 2 l 1 c since 1 on o 1 on the other hand note that v v oc l 1 c 0 cap s x o c v x v x t dt 0 cap s x o c 2 v x t dt 2 v oc l 1 c 2 also v v o 2 l 1 c 2 m 0 cap s x o 2 v x v x t dt 2 mcap s o 2 2 m thus we conclude that v v l 1 c 4 8 m and since v has compact support the proof is then complete we are now ready to establish the completeness of l 1 c proposition 2 3 the quasinorm space l 1 c is complete for any 0 and s 1 proof let un be a cauchy sequence in l 1 c we need to show that un u in l 1 c for some u l 1 c since cc is dense in l 1 c we may assume that un cc as un is a cauchy sequence we can find positive integers n 1 n 2 such that 0 cap s um un t dt 4 j 2 11 for all m n nj j 1 2 in particular 2 j 0 cap s unj 1 unj 2 j dt 4 j and hence cap s unj 1 unj 2 j 2 j 15 let gj unj 1 unj 2 j then gj is open and cap s gj 2 j we now set hm j m gj then we have cap s hm j m cap s gj j m 2 j 0 2 12 as m observe that for any x hcm we have j m unj 1 x unj x j m 2 j thus if we let u hcm r be defined by u x lim k unk x unm x lim k k j m 1 unj x unj 1 x then by the weierstrass m test we see that u is continuous in hcm as the sethcm is increasing the function u can be extended to define in the union m 1 h c m it is now easy to see from 2 12 that u is quasicontinuous now by 2 1 and the monotone convergence theorem we have for each n 1 un u l 1 c 0 cap s un u t dt 0 cap s n 1 k n un unk t dt 0 lim n cap s k n un unk t dt lim n 0 cap s k n un unk t dt thus by 2 11 for each j 1 2 and n nj we have un u l 1 c 4 j this completes the proof of the proposition the following duality relation was stated without proof in ad 4 indeed it can be proved using proposition 2 2 and the formula rn ud sup rn vd v cc r n v u which holds for all u cc r n and u 0 16 keng hao ooi and nguyen cong phuc theorem 2 4 let 0 and s 1 we have l 1 c m s in the sense that each bounded linear functional l l 1 c corresponds to a unique measure m s in such a way that l f rn f x d x 2 13 for all f l 1 c moreover l m s remark 2 5 the right hand side of 2 13 makes sense since for f l 1 c and t r we have that the set f t f n for a g set f and a set n with n cap s n 0 here should be understood as the completion of and note that if cap s n 0 then n n where n is a g set with cap s n 0 2 2 banach function spaces most of the spaces under our consideration fit well in the context of banach function spaces in the sense of lux in the setting of rn with lebesgue measure as the underlying measure a banach function space x on rn is the set of all lebesgue measurable functions f such that f x f is finite here f f 0 is a given metric function 0 f that obeys the following properties p 1 f 0 if and only if f x 0 a e in rn f 1 f 2 f 1 f 2 and f f for any constant 0 p 2 if fj j 1 2 is a sequence of nonnegative measurable func tions and fj f a e in r n then fj f p 3 if e is any bounded and measurable subset of rn and e is its characteristic function then e p 4 for every bounded and measurable subset e of rn there exists a finite constant ae 0 depending only on the set e such that e fdx ae f for any nonnegative measurable function f in r n it follows from property p 2 that any banach function space x is com plete see lux we also have that for measurable functions f 1 and f 2 if f 1 f 2 a e in r n and f 2 x then it follows that f 1 x and f 1 x f 2 x given a banach function space x the ko the dual space or the associate space to x denoted by x is the set of all measurable functions f such that fg l 1 rn for all g x it turns out that x is also a banach function space with the associate metric function f f 0 defined by f sup fg dx g x g x 1 by definition the second associate space x to x is given by x x i e x is the ko the dual space to x the following theorems are important in the theory of banach function spaces see lux theorem 2 6 every banach function space x coincides with its second associate space x i e x x with equality of norms 17 theorem 2 7 x x isometrically if and only if the space x has an absolutely continuous norm here we say that x has an absolutely continuous norm if the following properties are satisfied for any f x a if e is a bounded set of rn and ej are measurable subsets of e such that ej 0 as j the f ej x 0 as j b f rn bj 0 x 0 as j it is known that x has an absolutely continuous norm if and only if any sequence fj x such that fj 0 a e in r n has the property that fj x 0 see lux page 14 it is easy to see from the definition that the space m s p 0 s 1 p 1 is a banach function space in rn and so is its ko the dual space m s p we will now follow an idea in kv proposition 2 11 and use the p convexity of m s p to show that m s p is actually a predual space of m s p proposition 2 8 we have m s p m s p isometrically for any 0 s 1 p 1 proof it is obvious that m s p is p convex with p convexity constant 1 i e for every choice of m functions fi m i 1 in m s p we have 2 14 m i 1 fi p 1 p m s p m i 1 fi p m s p 1 p now using the fact that p m s p p m s p we have for any choice of m functions gi m i 1 in m s p m i 1 gi p m s p 1 p m i 1 gi p m s p 1 p sup fi p m sp 1 m i 1 fi x gi x dx sup fi p m sp 1 m i 1 fi x p 1 p m i 1 gi x p 1 p dx sup fi p m sp 1 m i 1 fi p 1 p m s p m i 1 gi p 1 p m s p thus in view of 2 14 we see that m s p is p concave with p concavity constant 1 i e m i 1 gi p m s p 1 p m i 1 gi p 1 p m s p 18 keng hao ooi and nguyen cong phuc then by lt proposition 1 a 7 the space m s p must have an absolutely continuous norm hence theorems 2 6 and 2 7 yield that m sp m sp m sp as desired remark 2 9 the proof shows that m s p has an absolutely continuous norm and thus it is a separable banach space see lux remark 2 10 we notice that by mv theorem 1 2 it holds that f m sp g g f p s g f p 1 p s 1 l g f p 0 thus it follows from kv proposition 2 9 and kv theorem 2 10 that both f p s and g f p belong to z here z zs is the space of mea surable functions h such that the integral equation u g u s h a e has a nonnegative solution u ls loc r n for some 0 a norm for z can be defined by h z inf t 0 g h s ts 1 h a e g h s h 1 s 1 l h 0 see kv page 3455 moreover by kv theorem 2 10 we have f p s z g f p 1 s z with these observations we see that a function f m s p if and only if f p s z and f p s s p z f m sp in particular for p s we have z m s s and z m s s thus by kv theorem 2 12 it holds that f m s s inf hs g h 1 sdx h f a e however this interesting equivalence will not be used in this paper 3 proof of theorems 1 2 1 3 and 1 4 to prove theorem 1 2 we need the following preliminary results a ho mogeneous version of the next theorem can be found in ms 1 but our approach here is different from that of ms 1 at least in the case s 2 n 19 theorem 3 1 let s 1 0 and s n if t 1 n n for s 2 n and t 1 n s 1 n s for s 2 n then for any nonnegative measure and v g g 1 s 1 we have 3 1 mloc v t x 0 av t x 0 x 0 r n where a is a constant independent of proof we shall use the following properties of g see ah sect 1 2 4 3 2 g x x n x 4 0 n and 3 3 g x cg x y x 2 y 1 note that 3 2 and 3 3 yield that for any t 1 n n we have 3 4 mloc gt z x c g t x z x z r n where c is independent of x and z this can be verified by inspecting the case x b 3 z and the case x 6 b 3 z separately first we consider the case s 2 n and t 1 n n by minkowski s inequality and 3 4 we have for x 0 r n and r 0 1 br x 0 v t y dy br x 0 rn g y z g z 1 s 1 dz t dy rn g z 1 s 1 br x 0 gt y z dy 1 t dz t c rn g z 1 s 1 g x 0 z dz t c v t x 0 thus we get 3 1 when t 1 n n and s 2 n in fact the proof is valid for all s 1 we now consider the case s 2 n and t 1 n s 1 n s by ho lder s inequality we may assume that t s 1 let x 0 r n and r 0 1 we write v x v 1 x v 2 x where v 1 x y x 0 3 g x y y dy v 2 x y x 0 3 g x y y dy with y g y 1 s 1 observe that for x x 0 1 and y x 0 3 it holds that 3 5 g x y ag x 0 y 20 keng hao ooi and nguyen cong phuc indeed since x y y x 0 x x 0 3 1 2 and x x 0 1 by 3 3 we find g x y ag x y x 0 x ag x 0 y now by 3 5 we have v 1 x a rn g x 0 y y dy av x 0 for all x x 0 1 this yields 3 6 br x 0 v t 1 x dx av t x 0 as for v 2 we write v 2 x x u x 0 3 g u x u du c v 21 x v 22 x where v 21 x x u x 0 3 g u 1 x u du v 22 x x u x 0 3 g u 2 x u du with 1 x u z x 0 5 g x u z d z 1 s 1 2 x u z x 0 5 g x u z d z 1 s 1 using 3 3 for z x 0 5 x u x 0 3 and x x 0 1 we have g x u z ag x u z x x 0 ag x 0 u z thus for such x and u it follows that 1 x u a rn g x 0 u z d z 1 s 1 a x 0 u hence v 21 x a x u x 0 3 g u x 0 u du a rn g x 0 y y dy av x 0 as this holds for all x x 0 1 we deduce that 3 7 br x 0 v t 21 x dx av t x 0 21 it is now left to estimate v 22 note that for x x 0 1 v 22 x y x 0 3 g x y 2 y dy y x 4 g x y 2 y dy and thus by 3 2 we have 3 8 v 22 x c 5 0 b x 2 y dy n d we next claim that for x x 0 1 3 9 v 22 x c 100 0 b x n s 1 s 1 d assuming 3 9 we have 3 10 br x 0 v t 22 x dx c q 1 q 2 where q 1 br x 0 r 0 b x n s 1 s 1 d t dx q 2 br x 0 100 r b x n s 1 s 1 d t dx for q 2 we observe that if x br x 0 and r then b x b 2 x 0 and so q 2 br x 0 100 r b 2 x 0 n s 1 s 1 d t dx cv t x 0 where we used ad 1 theorem 2 in the last inequality for q 1 we first bound with x br x 0 and 0 r 0 b x n s 1 s 1 d t c r t s 1 sup 0 r b x n s t s 1 c r t s 1 sup 0 r x z d z x z n s t s 1 c r t s 1 x 0 z 2 r d z x z n s t s 1 22 keng hao ooi and nguyen cong phuc this and minkowski s inequality recall that t s 1 yield q 1 c r t s 1 br x 0 x 0 z 2 r d z x z n s t s 1 dx c r t s 1 x 0 z 2 r d z br x 0 dx x z n s t s 1 s 1 t t s 1 we now choose an 0 such that n s t s 1 n which is possible since n s 1 t n s then by simple calculations and ad 1 theorem 2 we arrive at q 1 c b 2 r x 0 rn s t s 1 c 4 0 b x 0 n s 1 s 1 d t dx cv t x 0 thus in view of 3 10 and the above estimates for q 1 and q 2 we get 3 11 br x 0 v t 22 x dx av t x 0 estimates 3 6 3 7 and 3 11 yield the bound 3 1 as desired therefore what s left now is to verify inequality 3 9 in view of 3 8 we need to estimate b x 2 y dy to this end we first observe that for y b x 0 5 by 3 2 it holds that 2 y z x 0 5 g y z d z 1 s 1 z y 11 g y z d z 1 s 1 c z y 11 1 y z n d z 1 s 1 thus for 0 5 we have 3 12 b x 2 y dy c i 1 i 2 where i 1 b x z y 1 y z n d z 1 s 1 dy 23 and i 2 b x z y 11 1 y z n d z 1 s 1 dy 3 13 b x 12 bt y tn dt t 1 s 1 dy c n 12 b 2 t x tn dt t 1 s 1 we now claim that 3 14 i 1 c b 2 x 1 s 1 n n s 1 indeed we have i 1 x y z x 2 d z z y n 1 s 1 dy and thus when s 2 by ho lder s inequality with exponents s 1 and s 1 s 2 and fubini s theorem we obtain i 1 z x 2 d z x y dy z y n 1 s 1 b x s 2 s 1 c b 2 x 1 s 1 s 1 n s 2 s 1 c b 2 x 1 s 1 n n s 1 on the other hand when 2 n s 2 we use minkowski s inequality to get i 1 z x 2 x y dy z y n s 1 s 1 d z 1 s 1 c b 2 x 1 s 1 n n s 1 thus the claim 3 14 follows at this point combining estimates 3 8 3 12 3 14 we obtain 3 15 v 22 x c 5 0 b x n s 1 s 1 d cj x where j x 5 0 12 b 2 t x tn dt t 1 s 1 d using hardy s inequality of the form 0 f t dt q d 1 q q 0 tf t qt dt t 1 q 24 keng hao ooi and nguyen cong phuc 1 q 0 f 0 when s 2 we find j x c 12 0 b 2 t x tn s 1 s 1 dt t c 24 0 b x n s 1 s 1 d when s 2 we have 12 b 2 t x tn dt t 1 s 1 k 0 k 0 2 k 1 2 k b 2 t x tn dt t 1 s 1 c k 0 k 0 b 2 k 2 x 2 k n 1 s 1 c k 0 k 0 b 2 k 2 x 2 k n 1 s 1 where k 0 k 0 is an integer such that 2 k 0 1 12 and 2 k 0 1 24 this yields 12 b 2 t x tn dt t 1 s 1 c 48 2 b 2 t x tn 1 s 1 dt t thus by fubini s theorem we get j x c 5 0 48 2 b 2 t x tn 1 s 1 dt t d c 48 0 b 2 t x tn 1 s 1 t 2 0 d dt t c 48 0 b 2 t x tn s 1 s 1 dt t c 96 0 b x n s 1 s 1 dt t now combining 3 15 with the above estimates for j x we arrive at 3 9 as desired the proof of the theorem is complete for any set e rn with 0 cap s e by ah theorems 2 5 6 and 2 6 3 one can find a nonnegative measure e with supp e called capacitary measure for e such that the function v e g g 1 s 1 satisfies the following properties 3 16 e e cap s e rn v ed e rn g e s s 1 dx v e 1 quasieverywhere on e 25 and 3 17 v e a on rn lemma 3 2 let e e and v e be as above and let 0 s n if 1 n n for s 2 and s 1 n s 1 n s for s 2 then the function v e aloc 1 with v e aloc 1 c n s moreover v e l 1 c with v e l 1 c c cap s e proof thanks to theorem 3 1 we just meed to prove the last statement of the lemma by ah proposition 6 1 2 we see that v e and hence v e are quasicontinuous we have 3 18 v e l 1 c 0 cap s v e 1 d for s 2 by am proposition 4 4 and 3 16 it holds that cap s v e c e rn 1 s c cap s e 1 s for 1 s 2 let be the capacitary measure for the set v e by fubini s theorem we have cap s v e rn d 1 rn v ed 1 rn g e y 1 s 1 g y dy thus by ho lder s inequality it follows that cap s v e 1 rn g e y s s 1 dy 2 s rn g e y g y 1 s 1 dy s 1 1 cap s e 2 s rn g g 1 s 1 d e c 1 cap s e 2 s e rn s 1 c 1 cap s e using 3 17 3 18 and the above estimates for cap s v e we get v e l 1 c c cap s e a 0 max s 1 1 1 d c cap s e as desired we are now ready to prove theorem 1 2 26 keng hao ooi and nguyen cong phuc proof of theorem 1 2 by theorem 2 4 given w l 1 c with w l 1 c 1 one has f x pw x dx f p m s 1 0 cap s w t dt f p m s p w l 1 c which yields sup f x pw x dx w l 1 c w l 1 c 1 f p m s p on the other hand fix a constant such that 1 n n if s 2 and s 1 n s 1 n s if s 2 and let e be a compact subset of rn with cap s e 0 then with v e as in lemma 3 2 we can find a constant c c n s 1 such that v e cap s e aloc 1 c thus we have e f x pdx cap s e e f x p v e dx cap s e rn f x p v e cap s e dx c sup f x pw x dx w l 1 c w l 1 c 1 w aloc 1 c this finishes the proof of the theorem proof of theorem 1 3 if f m s p then for any g n s p and w l 1 c w l 1 c 1 such that g p w 1 p dx one has f x g x dx f pwdx 1 p g p w 1 p dx 1 p by ho lder s inequality thus it follows from the proof of theorem 1 2 that f x g x dx f m sp g n sp and so lf n s p conversely let l n s p be given if g lp with supp g e for a bounded set e with positive capacity then with v e and as in lemma 3 2 we have rn g p v e cap s e 1 p dx cap s e p 1 g p lp thus g n s p with g n s p ccap s e 1 p g lp and so l g c l cap s e 1 p g lp 27 by riesz s representation theorem there is an f l p loc r n such that 3 19 l g f x g x dx for all g lp with compact support in particular if g sgn f f p 1 k for any compact set k then we deduce l g k f p c l cap s k 1 p g lp c l cap s k 1 p k f p 1 p this implies f m s p and f m sp c l note that for any g n s p the functions gk max min g k k bk 0 k 1 converge to g in n s p as k also for any g n s p and k 1 we have f g kdx c f m sp gk n s p c f m sp g n s p and thus by fatou s lemma we get fg l 1 rn then by continuity 3 19 and lebesgue dominated convergence theorem we arrive at l g lim k l gk lim k f x gk x dx f x g x dx for all g n s p this completes the proof of the theorem remark 3 3 the above proof shows that bounded functions with compact support f are dense in n s q for such f we define f n 1 f where 0 1 and c c b 1 0 let b be a ball such that supp f b and supp f b for any 0 1 then take a weight w l 1 c aloc 1 such that w 1 on b we have f f n sq c rn f f qw 1 qdx 1 q c f f lq thus we see that c c r n is dense in n s q likewise we also have that c c r n is dense in the space n s q proof of theorem 1 4 one just needs to follow the proofs of theorems 1 2 and 1 3 and replace the function v e with the characteristic function e 28 keng hao ooi and nguyen cong phuc remark 3 4 in general functions in n s p hence n s p do not belong to l p loc r n to see this consider the case p 2 1 4 s 2 and n 3 let g x x n 1 for x 1 and for g x x n 1 for x 1 also let w x g x for any x rn then using 2 3 and 2 4 it can be shown that w aloc 1 l 1 c moreover we have g 2 w 1 l 1 rn thus g n s p by enlarging c n s if necessary but g 6 l 2 b 1 0 on the other hand if in the definition of n s p we consider only weights w such that w l rn l 1 c aloc 1 with w l 1 c 1 and w aloc 1 c n s or only weights w such that w l rn and rn wdc 1 for n s p then theorems 1 3 and 1 4 still remain valid for those versions of n s p and n s p moreover functions in such spaces belong to lp rn 4 proof of theorem 1 6 proof of theorem 1 6 by proposition 2 8 we just need to show b s p m s p let f m s p and g b s p suppose that g j cjaj where aj 0 in rn aj and aj lp cap s aj 1 p we have f x g x dx j cj aj faj dx j cj f lp aj aj lp j cj f lp aj cap s aj 1 p j cj f m sp thus 4 1 f x g x dx f m sp g b sp conversely let l b s p be given if 0 6 g lp with supp g e for a bounded set e then g b s p as we can write g cap s e 1 p g lp g where g g cap s e 1 p g lp and so g b s p cap s e 1 p g lp this gives l g l cap s e 1 p g lp then as in the proof of theorem 1 3 we can find an f m s p with f m sp l and 4 2 l g f x g x dx 29 for all g lp with compact support we will now show that 4 2 holds for all g b s p note that for any g b s p we have a representation g j cjaj where aj 0 in r n aj aj s are bounded sets aj lp cap s aj 1 p and j cj thus the functions gk j k cjaj k 1 have compact support and converge to g in b s p as k also if hk j k cj aj k 1 then hk b s p and hk b s p j cj thus using 4 1 we have f hkdx f m sp hk b s p f m sp j cj and by fatou s lemma we get f j cj aj and fg l 1 rn now by continuity 4 2 and lebesgue dominated convergence theorem we arrive at l g lim k l gk lim k f x gk x dx f x g x dx for all g b s p remark 4 1 the proof above shows that if g j cjaj where aj 0 in r n aj for a bounded set aj aj lp cap s aj 1 p and j cj then the series j cjaj converges absolutely a e in r n 5 the space n s q let 0 s 1 and q 1 recall that l 1 c is defined as the ko the dual of m s 1 also by theorem 2 4 we see that l 1 c is continuously embedded into l 1 c moreover the norm of a function g n s q is the defined as g n sq infw rn g x qw x 1 qdx 1 q 5 1 where the infimum is taken over all w l 1 c aloc 1 with w l 1 c 1 and w aloc 1 c n s we remark that if cap s is strongly subadditive then it can be shown from hahn banach theorem theorem 2 4 and an approximation argument that f l 1 c f l 1 c for all f l 1 c let be a fixed constant such that 1 n n if s 2 and s 1 n s 1 n s if s 2 we observe that if e is subset of rn such that 0 cap s e and v e is as in lemma 3 2 then by theorem 30 keng hao ooi and nguyen cong phuc 2 4 and lemma 3 2 we have g x v e cap s e dx c for all g l 1 loc m s 1 such that g m s 1 1 that is v e cap s e l 1 c c moreover v e cap s e aloc 1 c n s for some c n s 1 thus by a simple modification of the proofs of theorems 1 2 and 1 3 we obtain the following duality result theorem 5 1 for p 1 and 0 s 1 with s n we have f m sp sup w rn f x pw x dx 1 p where the supremum is taken over all weights w l 1 c aloc 1 with w l 1 c 1 and w aloc 1 c n s moreover we have n s p m s p the fact that l 1 c is a norm yields the following important result a related result in the setting of morrey spaces can be found in mst theorem 5 2 the space n s q with the norm given by 5 1 is a banach function space proof for any g n s q we set g 1 inf j cj g j cjbj a e where each bj is a block in n s q i e bj n s q and bj n sq 1 it is easy to see that 1 is actually a norm and n s q 1 is a banach space that g 1 0 implies g 0 a e can be checked as follows since g 1 0 for any 0 there exist cj 1 and blocks bj s such that g j cjbj and j cj then for any cc r n by theorem 5 1 we have g dx j cj bj dx j cj bj n sq m s q m s q which yields that g dx 0 for all cc r n and hence g 0 a e we next show that 5 2 g n sq g 1 for all g n s q and thus property p 1 in the definition of banach function space is fulfilled see sub section 2 2 that g 1 g n sq is obvious to show the converse we will show that 5 3 g n sq 1 2 g 1 0 31 for any g n s q g 6 0 and any 0 there exist cj 1 and blocks bj s such that g j cjbj and j cj 1 g 1 since bj n sq 1 we can find wj l 1 c aloc 1 with wj l 1 c 1 and wj aloc 1 c n s such that bj qw 1 q j dx 1 q 1 by ho lder s inequality we have g q j cj bj q j cj wj q 1 j cj bj qw 1 q j let w j cj wj it is easy to see that w l 1 c aloc 1 with w l 1 c j cj and w aloc 1 c n s we then have g qw 1 qdx j cj bj q wj 1 qdx j cj 1 q this gives g q w j cj 1 q dx j cj q 1 q and so g n sq j cj 1 1 2 g 1 thus we obtain 5 3 and so 5 2 follows as properties p 3 and p 4 are easy to check what s left now is to verify the fatou property p 2 to this end let fj j 1 2 be a sequence of nonnegative measurable functions in n s q and fj f a e in r n we just need to show that f n sq supj 1 fj n s q for this we may assume that sup j 1 fj n sq m then for any j 1 and 0 we can find wj l 1 c aloc 1 with wj l 1 c 1 and wj aloc 1 c n s such that fj x qwj x 1 qdx 1 q m 5 4 note that if g 1 c where c is the constant in 2 8 then we have g m s 1 and g m s 1 1 this yields that 1 c wj x dx wj l 1 c 1 j 1 32 keng hao ooi and nguyen cong phuc thus by komlo s theorem see kom one can find some subsequence of wj still denoted by wj and a function w such that k x 1 k k j 1 wj x w x for almost everywhere x moreover any subsequence of wj is also cesa ro convergent to w almost everywhere then for any function g such that g m s 1 1 by fatou s lemma we have g x w x dx lim inf k g x k x dx lim inf k 1 k k j 1 g x wj x dx lim inf k 1 k k j 1 wj l 1 c 1 this shows that w l 1 c and w l 1 c 1 furthermore for each j 1 by the convexity of the function t 7 t 1 q on 0 we have fj x qw x 1 qdx fj x q lim k 1 k j k 1 m j wm x 1 q dx lim inf k fj x q 1 k j k 1 m j wm x 1 q dx lim inf k fj x q 1 k j k 1 m j wm x 1 qdx lim inf k 1 k j k 1 m j fm x q wm x 1 qdx where we used 0 fj fm for m j in the last bound by 5 4 this gives fj x qw x 1 qdx m q and letting j we get f x qw x 1 qdx m q 33 as this holds for all 0 we arrive at f n sq m sup j 1 fj n sq which completes the proof of the theorem we now obtain the main result of this section theorem 5 3 for 0 s 1 with s n and p 1 we have 5 5 n s p m sp and 5 6 n s p m sp proof the relation 5 5 is just a consequence of theorem 5 1 and in fact more precisely we have f n s p f m sp c f n s p to prove 5 6 we note from 5 5 that n s p m s p on the other hand by theorems 2 6 and 5 2 we find n s p n s p thus we obtain 5 6 as claimed remark 5 4 if we drop the aloc 1 condition in the definition of n s q then we get another space which we call n s q for this space we have n s p m s p and n s p m s p p 1 in particular we have n s q n s q q 1 6 proof of theorems 1 7 and 1 8 in order to prove theorem 1 7 we need the following lemmas lemma 6 1 suppose that q 1 and cap s is strongly subadditive then n s q and n s q are banach spaces and we have n s q n s q b s q with f n s q f b sq c 1 f n sq c 1 f n sq c 2 f b s q proof by reasoning as in the proof of theorem 5 2 we find 6 1 f n sq inf j cj f j cjbj a e where each bj n s q and bj n sq 1 likewise 6 2 f n s q inf j cj f j cjbj a e where each bj n s q and bj n sq 1 note here that to verify 6 1 we use the completeness of l 1 c theorem 2 3 to obtain that if w 34 keng hao ooi and nguyen cong phuc j cj wj where cj 1 and wj l 1 c with wj l 1 c 1 then w is quasicontinuous and wj l 1 c j cj now 6 1 and 6 2 yield that n s q and n s q are banach spaces note that if a lq rn is such that there exists a bounded set a rn for which a 0 a e in rn a and a lq cap s a 1 q q then obviously a n s q 1 and by lemma 3 2 a n sq c thus it follows from 6 1 and 6 2 that f n s q f b sq and f n s q c f b sq also it is obvious that f n s q f n sq and so we just need to show 6 3 f b sq c f n sq for any f n s q now for f n s q we can find a nonnegative function w defined quasieverywhere such that w dc 0 cap s w t dt 1 and f x qw x 1 qdx 1 q 2 f n s q note that k z 2 kcap s 2 k 1 w 2 k 1 4 k z 2 k 1 2 k 2 cap s 2 k 1 w 2 k dt 1 4 k z 2 k 1 2 k 2 cap s w t dt 1 4 w dc 1 4 let ek 2 k 1 w 2 k for k z and dl l 1 x l for l 1 2 note that w quasieverywhere and hence f k l f ek dl k l ck lak l a e 35 where k l k z l 1 and ck l f lq ek dl cap s ek dl q 1 q ak l f 1 lq ek dl cap s ek dl 1 q qf ek dl here we understand that ak l 0 whenever f 0 a e in ek dl it is obvious that ak l lq cap s ek dl 1 q q whenever ak l 6 0 moreover we have that k l ck l k l ek dl f x qw x 1 qw x q 1 dx 1 q cap s ek dl q 1 q k l ek dl f x qw x 1 qdx 1 q 2 k q 1 qcap s ek dl q 1 q k l ek dl f x qw x 1 qdx 1 q k l 2 kcap s ek dl q 1 q where we used ho lder s inequality in the last line on the other hand it follows from the quasiadditivity of cap s see 2 10 we have l 1 cap s ek dl c cap s ek thus k l ck l c f x qw x 1 qdx 1 q k 2 kcap s ek q 1 q c f n p s we have succeeded to decompose f as the sum f j cjaj such that cj l 1 c f n p s and aj lq cap s aj 1 q q with aj 6 0 aj for a bounded set aj thus by the definition of b s q we obtain f b s q with the bound 6 3 lemma 6 2 suppose that q 1 and cap s is strongly subadditive then n s q n s q and b s q are banach function spaces proof first we show that n s q is a banach function space and for that we just need to check the fatou property p 2 the proof is similar to that of theorem 5 2 let fj j 1 2 be a sequence of nonnega tive measurable functions in n s q and fj f a e in r n suppose that supj 1 fj n sq m it is enough to show that f n s q m 36 keng hao ooi and nguyen cong phuc as in the proof of theorem 5 2 for any j 1 and 0 we can find a nonnegative and q e defined weight wj with wj dc 1 such that fj x qwj x 1 qdx 1 q m and wj x dx c then by komlo s theorem one can find a subse quence of wj still denoted by wj and a function w such that k x 1 k k j 1 wj x w x for almost everywhere x moreover any subsequence of wj is also cesa ro convergent to w almost everywhere by redefining w x to be zero for all the points x such that k x 6 w x one has w x lim inf k k x quasieverywhere hence 0 cap s w t dt 0 cap s lim inf k k t dt 0 lim inf k cap s k t dt lim inf k 0 cap s k t dt lim inf k 1 k k j 1 0 cap s wj t dt where we used the strong subadditivity of cap s in the last inequality this gives w dc lim inf k 1 k k j 1 wj dc 1 moreover as in the proof of theorem 5 2 we have f x qw x 1 qdx m q and so f n s q m as desired next we show thatn s q is a banach function space let fj j 1 2 be a sequence of nonnegative measurable functions in n s q and fj f a e in rn suppose that supj 1 fj n sq m by lemma 6 1 and the fatou property of n s q we have f n sq m in particular f n s q n s q and thus gj f fj n s q n s q for all j 1 and gj 0 a e on the other hand theorem 1 3 implies that n s q n s q with equality of norms and hence it follows from theorem 2 7 that n s q has an absolutely continuous norm this yields that f fj n sq gj n sq 0 thus by lemma 6 1 we then obtain gj n sq 0 this yields fj n s q 37 f n sq and the fatou property p 2 follows for n s q it is now easy to see that n s q is a banach function space the proof that b s q is a banach function space can be proceeded similarly as long as we can verify the following properties of b s q 6 4 f b sq f b s q f b sq and 6 5 0 f g a e f b sq g b s q g b sq equality 6 4 is easy to see from the identities f fsgn f and f f sgn f to see 6 5 suppose that g b s q and g j cjaj where cj 1 and each aj l q rn is such that there exists a bounded set aj r n for which aj 0 a e in r n aj and aj lq cap s aj 1 q q then for 0 f g we can write f j cjfg 1 aj g 6 0 a e note that fg 1 aj g 6 0 lq aj lq cap s aj 1 q q and thus f b s q and f b sq g b s q this completes the proof of the lemma we can now prove theorem 1 7 proof of theorem 1 7 by theorems 1 4 and 1 6 we have m sp n s p b s p thus if cap s is strongly subadditive then by theorem 2 6 and lemma 6 2 we find m sp n s p b s p likewise by theorem 1 3 we have n s p m s p and so it follows from theorem 2 6 and lemma 6 2 that n s p m s p now the theorem follows from theorems 5 2 5 3 and lemma 6 2 we next prove theorem 1 8 proof of theorem 1 8 we will need the following functional which is defined by s u inf f sdx 0 f ls rn and g f u 1 s q e for each q e defined function u in rn note that s tu t s u for all t r and moreover s u inf t 0 u th 38 keng hao ooi and nguyen cong phuc where h is the set of all nonnegative and q e defined functions g in rn such that g 1 s g f q e for a function f l s rn f 0 such that f ls 1 note that if we define a nonlinear operator t by t h g h 1 s s h l 1 rn then by reverse minkowski s inequality we see that t is superadditive this yields that the seth is convex see kv lemma 2 4 and thus the functional s is subadditive on the other hand we can deduce from ah proposition 7 4 1 the fol lowing equivalence 6 6 0 cap s x u x t dt s u which holds for all q e defined functions u in rn in particular we find that the space l 1 c is normable for all 0 s 1 and s n now using 6 6 and the subadditivity of s and arguing as in the proof of theorem 5 2 we find f n sq inf j cj f j cjbj a e where bj n sq 1 and f n s q inf j cj f j cjbj a e where bj n sq 1 at this point we can repeat the argument in the proof of lemma 6 1 to obtain n s q n s q b s q combining this with theorem 5 3 we get the theorem 7 proof of theorem 1 9 the proof of theorem 1 9 is based on hahn banach theorem and the following lemma the morrey space version of this lemma can be found in st theorem 4 3 lemma 7 1 suppose that p 1 0 s 1 and s n let f be the closer in m s p of the set of all finite linear combinations of the characteristic functions of sets of finite lebesgue measure then f n s p in the sense that each linear functional l f corresponds to a unique g n s p in such a way that l f f x g x dx f f and l g n s p proof if e is a measurable set with finite measure then by 2 6 and 2 7 we have e m sp c e s np for s n 39 and e m sp c e 1 2 p for s n thus f is a nonempty closed subspace of m s p and a b m sp a b m s p c a b for any sets b a rn here s np if s n and 1 2 p if s n the lemma then follows from radon nikodym theorem and relation 5 6 via the same argument as in the proof of st theorem 4 3 proof of theorem 1 9 it is obvious that the embedding n s p m sp is continuous to show the converse we first show that m s p is a subspace of f where f is as in lemma 7 1 to see this let v cc and let q be a cube that contains the support of v for i 1 2 partition q into 2 ni smaller disjoint cubes say q 1 q 2 ni and let vi 2 ni k 1 v xk qk here xk is the center of qk k 1 2 ni as v is uniformly continuous we see that vi v in l rn and hence vi v in m s p by e g 2 8 thus v f and the claim follows now let l be a bounded linear functional on m s p by hahn banach theorem there exists bounded linear functional l on f such that l v l v for all v m s p and l l lemma 7 1 implies that there exists a function g n s p such that l f f x g x dx f f and l g n s p thus we have l v v x g x dx v m sp and l g n s p note that g is unique since if vgdx vg dx for all v cc then it holds that g g a e 8 proof of theorems 1 10 and 1 11 to prove theorems 1 10 and 1 11 we need the following basic results about aloc 1 weights we first observe that if w a loc 1 then for any ball br with radius r 1 2 we have 8 1 br w y dy 2 n w aloc 1 inf br w 40 keng hao ooi and nguyen cong phuc let b be any ball such that the radius of b is r b 1 2 we claim that there is a constant c n 0 such that 8 2 t 1 2 b w y dy c n w aloc 1 tb w y dy t 1 indeed for any t 1 let a t 1 2 b tb we can cover a by balls bk of radius r bk 1 2 such that bk tb c n and k bk x n n thus using 8 1 we have a w y dy k bk w y dy c w aloc 1 k inf bk w c w aloc 1 k inf bk tb w c w aloc 1 k bk tb w y dy c w aloc 1 tb w y k bk y dy c w aloc 1 tb w y dy it follows that t 1 2 b w y dy c w aloc 1 1 tb w y dy and the claim 8 2 follows using 8 2 we see that if w aloc 1 with w aloc 1 c then for any ball br with radius r r 0 r 0 0 we have 8 3 br w y dy c n r 0 c inf br w now using 8 3 and a minor modification of the proof of ryc lemma 1 1 we obtain the following result lemma 8 1 let w aloc 1 with w aloc 1 c and b br 0 x 0 r 0 0 then there exists a weight w a 1 such that w w in b and w a 1 c n r 0 c as a consequence of ryc lemma 2 11 and 8 3 we also have the fol lowing weighted bound for mloc lemma 8 2 for any p 1 and w aloc 1 with w aloc 1 c it holds that rn m loc f pwdx c n p c rn f pwdx in fact lemma 8 2 also holds for w in the larger class of alocp weights see ryc lemma 2 11 we are now ready to prove theorems 1 10 and 1 11 proof of theorem 1 10 this theorem follows from theorem 1 8 and lemma 8 2 41 proof of theorem 1 11 let w aloc 1 with w aloc 1 c and suppose that supp f br 0 x 0 for some r 0 0 by lemma 8 1 there exists a weight w a 1 with w a 1 c n r 0 c such that w w in br 0 x 0 thus it follows from the hypothesis of the theorem that t f q br 0 x 0 wdx t f qwdx c n q c f qwdx c n q c f qwdx theorem 1 11 now follows from theorems 1 8 and 1 2 9 the homogeneous case let p 1 0 and s 1 be such that s n the homogeneous version of m s p denoted as m s p is the space of functions f l p loc r n such that the trace inequality rn u s f pdx 1 p c u s p h s 9 1 holds for all u c c r n a norm of a function f m s p is defined as the least possible constant c in the above inequality in 9 1 h s stands for the space of riesz potentials which consists of functions of the form u i f for some f l s rn and u h s f ls here i 0 n is the riesz kernel defined as the inverse fourier transform of in the distributional sense and explicitly we have i x n x n where n n 2 n 22 2 it is known that see mh h s is the completion of c c r n with respect to the norm u h s 2 u ls rn f 1 f u ls rn in the case k n and s 1 we have h k s w k s where w k s w k s rn is the homogeneous sobolev space with norm being defined as u w k s k d u ls the capacity associated to h s is the riesz capacity defined for each set e rn by cap s e inf f sls f 0 i f 1 on e it is known that the norm of a function f m s p is equivalent to the quantity sup k k f x pdx cap s k 1 p 42 keng hao ooi and nguyen cong phuc where the supremum is taken over all compact sets k rn see ms 2 ah for this reason we shall use this quantity as the norm for m s p p 1 in what follows for s 2 and 0 1 it is known that cap s is strongly subadditive see lan pp 141 145 on the other hand for 1 cap 1 s is equivalent to the capacity c 1 s which is a strongly subadditive capacity see hkm theorem 2 2 here for each compact set k rn c 1 s k inf u sdx c c 1 on k and c 1 s is extended to all sets e as in 2 2 note that for all balls br r 0 we have cap s br r n s and for any measurable set e it follows from the sobolev embedding the orem that e 1 s n c cap s e this lower bound implies that l n s rn m s p with the estimate 9 2 f m s p c f l np s rn the capacity cap s is quasiadditive in the following sense there exists a constant c c n s 0 such that for any set e we have see ad 3 eq 7 and ad 2 j cap s e 2 j 1 x 2 j c cap s e the homogeneous version of l 1 c is l 1 c which is defined analogously using the riesz capacity cap s likewise the homogeneous version of l 1 c is l 1 c which consists of measurable functions w such that w l 1 c sup g g x w x dx where the supremum is taken over all g m s 1 such that g m s 1 1 that is l 1 c is the ko the dual of m s 1 it is easy to see that the quasinormed space l 1 c is continuously embedded into the banach space l 1 c let e be a subset of rn such that 0 cap s e by ah theorems 2 5 6 and 2 6 3 the capacitary measure for e exists as a nonnegative mea sure e with supp e e such that the function v e i i 1 s 1 satisfies the following properties e e cap s e rn v ed e rn i e s s 1 dx v e 1 quasieverywhere on e and v e a on rn 43 we have the following homogeneous version of lemma 3 2 lemma 9 1 let e e and v e be as above with 0 s n if 1 n n for s 2 and s 1 n s 1 n s for s 2 then the function v e a 1 with v e a 1 c n s moreover v e l 1 c with v e l 1 c c cap s e this lemma follows from lemmas 2 and 3 of ms 1 sub section 2 6 3 the following renorming theorem for m s p can be proved as in the inho mogeneous setting theorem 9 2 for p 1 and 0 s 1 with s n we have f m s p sup w rn f x pw x dx 1 p 9 3 where the supremum is taken over all nonnegative w l 1 c a 1 with w l 1 c 1 and w a 1 c n s for a constant c n s 1 the equivalence 9 3 also holds if we replace l 1 by l 1 moreover we have f m s p sup w rn f x pw x dx 1 p where the supremum is taken over all weights w such that w is defined cap s quasieverywhere and 0 cap s x r n w x t dt 1 the homogeneous versions of n s q n s q n s q and b s q are denoted by n s q n s q n s q and b s q respectively they are defined similarly using cap s in place of cap s we have the following relations theorem 9 3 let p 1 and 0 s 1 with s n then 9 4 n s p n s p m sp n s p b s p m sp moreover the spaces n s p and m s p are banach function spaces and n s p m s p additionally if cap s is strongly subadditive then n s p n s p and b s p are also banach function spaces and n s p n s p m sp n s p b s p in general if no strong subadditivity is assumed on cap s then we have 9 5 n s p n s p m s p n s p b s p note that by 9 2 and 9 4 all spaces in 9 5 are continuously embedded into the lorentz space l np np s 1 the homogeneous version of theorem 1 9 reads as follows 44 keng hao ooi and nguyen cong phuc theorem 9 4 let p 1 0 s 1 with s n we have m sp n s p where we define m s p as the closure of cc in m s p it is known that the hardy littlewood maximal function m and standard caldero n zygmund operators are bounded on m s p see mv and ms 1 for other spaces we have the following results theorem 9 5 let q 1 0 s 1 and s n suppose that t is an operator not necessarily linear or sublinear such that t f qwdx c 1 f qwdx holds for all f lq w and all w a 1 with a constant c 1 depending only on n q and the bound for the a 1 constant of w then t is bounded on n s q n s q m s q n s q and b s q acknowledgements n c phuc is supported in part by simons founda tion award number 426071 references ad 1 d r adams traces of potentials ii indiana univ math j 22 1972 73 907 918 ad 2 d r adams sets and functions of finite lp capacity indiana univ math j 27 1978 611 627 ad 3 d r adams quasi additivity and sets of finite lp capacity pacific j math 79 1978 no 2 283 291 ad 4 d r adams choquet integrals in potential theory publ mat 42 1998 no 1 3 66 ah d r adams and l i hedberg function spaces and potential theory springer verlag berlin 1996 am d r adams and n g meyers thinness and wiener criteria for non linear potentials indiana univ math j 22 1972 169 197 ax 1 d r adams and j xiao nonlinear analysis on morrey spaces and their capac ities indiana univ math j 53 2004 1629 1663 ax 2 d r adams and j xiao morrey spaces in harmonic analysis ark mat 50 2012 no 2 201 230 ap 1 k adimurthi and n c phuc an end point global gradient weighted estimate for quasilinear equations in non smooth domains manuscripta math 150 2016 111 135 ap 2 k adimurthi and c p nguyen quasilinear equations with natural growth in the gradients in spaces of sobolev multipliers calc var partial differential equa tions 57 2018 no 3 art 74 23 pp brv o blasco a ruiz and l vega non interpolation in morrey campanato and block spaces ann scuola norm sup pisa cl sci 4 28 1999 no 1 31 40 cho g choquet theory of capacities ann inst fourier grenoble 5 1953 1954 131 295 45 cw r r coifman and g weiss extensions of hardy spaces and their use in anal ysis bull amer math soc 83 1977 no 4 569 645 den d denneberg non additive measure and integral theory and decision library series b mathematical and statistical methods 27 kluwer academic publishers group dordrecht 1994 x 178 pp ger p germain multipliers paramultipliers and weak strong uniqueness for the navier stokes equations j differential equations 226 2006 373 428 hmv k hansson v g maz ya and i e verbitsky criteria of solvability for multi dimensional riccati equations ark mat 37 1999 no 1 87 120 hkm j heinonen t kilpela inen and o martio nonlinear potential theory of de generate elliptic equations oxford univ press oxford 1993 isy t izumi e sato and k yabuta remarks on a subspace of morrey spaces tokyo j math 37 2014 185 197 kv n j kalton and i e verbitsky nonlinear equations and weighted norm in equalities trans amer math soc 351 1999 no 9 3441 3497 kom j komlo s a generalization of a problem of steinhaus acta math acad sci hungar 18 1967 217 229 lan n s landkof foundations of modern potential theory translated from the rus sian by a p doohovskoy die grundlehren der mathematischen wissenschaften band 180 springer verlag new york heidelberg 1972 x 424 pp l r p g lemarie rieusset recent developments in the navier stokes problem chapman hall crc press boca raton 2002 lt j lindenstrauss and l tzafriri classical banach spaces ii function spaces ergebnisse der mathematik und ihrer grenzgebiete results in mathematics and related areas 97 springer verlag berlin new york 1979 x 243 pp lux w a j luxemburg banach function spaces thesis technische hogeschool te delft 1955 70 pp mst m mastylo y sawano and h tanaka morrey type space and its ko the dual space bull malays math sci soc 41 2018 no 3 1181 1198 mh v g maz ja and v p havin a nonlinear potential theory uspehi mat nauk 27 1972 no 6 67 138 in russian english translation russ math surv 27 1972 71 148 ms 1 v g maz ya and t o shaposhnikova the theory of multipliers in spaces of differentiable functions pitman new york 1985 ms 2 v g maz ya and t o shaposhnikova theory of sobolev multipliers with applications to differential and integral operators grundlehren der mathema tischen wissenschaften vol 337 springer verlag berlin 2009 p xiv 609 mv v g mazya and i e verbitsky capacitary inequalities for fractional integrals with applications to partial differential equations and sobolev multipliers ark mat 33 1995 81 115 mp t mengesha and n c phuc global estimates for quasilinear elliptic equations on reifenberg flat domains arch ration mech anal 203 2012 189 216 mey n g meyers a theory of capacities for potentials of functions in lebesgue classes math scand 26 1970 255 292 np q h nguyen and n c phuc good and muckenhoupt wheeden type bounds in quasilinear measure datum problems with applications math ann 374 2019 67 98 ov j orobitg and j verdera choquet integrals hausdorff content and the hardy littlewood maximal operator bull lond math soc 30 1998 145 150 ph 1 n c phuc weighted estimates for nonhomogeneous quasilinear equations with discontinuous coefficients ann sc norm super pisa cl sci 5 10 2011 1 17 46 keng hao ooi and nguyen cong phuc ph 2 n c phuc quasilinear riccati type equations with super critical exponents comm partial differential equations 35 2010 no 11 1958 1981 ph 3 n c phuc nonlinear muckenhoupt wheeden type bounds on reifenberg flat domains with applications to quasilinear riccati type equations adv math 250 2014 387 419 phph t v phan and n c phuc stationary navier stokes equations with critically singular external forces existence and stability results adv math 241 2013 137 161 phv n c phuc and i e verbitsky quasilinear and hessian equations of lane emden type ann of math 2 168 2008 no 3 859 914 rt m rosenthal and h triebel caldero n zygmund operators in morrey spaces rev mat complut 27 2014 1 11 ryc v s rychkov littlewood paley theory and function spaces with alocp weights math nachr 224 2001 145 180 st y sawano and h tanaka the fatou property of block spaces j math sci univ tokyo 22 2015 no 3 663 683 vw i e verbitsky and r l wheeden weighted trace inequalities for fractional integrals and applications to semilinear equations j funct anal 129 1995 no 1 221 241 department of mathematics louisiana state university 303 lockett hall baton rouge la 70803 usa e mail address kooi 1 lsu edu department of mathematics louisiana state university 303 lockett hall baton rouge la 70803 usa e mail address pcnguyen math lsu edu 1 introduction 2 preliminaries 2 1 capacities and the space l 1 c 2 2 banach function spaces 3 proof of theorems 1 2 1 3 and 1 4 4 proof of theorem 1 6 5 the space nq s 6 proof of theorems 1 7 and 1 8 7 proof of theorem 1 9 8 proof of theorems 1 10 and 1 11 9 the homogeneous case references