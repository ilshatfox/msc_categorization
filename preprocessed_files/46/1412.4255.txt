ar x iv 1 41 2 42 55 v 1 m at h s g 1 3 d ec 2 01 4 polyfolds and fredholm theory helmut h w hofer institute for advanced study april 4 2018 contents 1 introduction 2 2 a motivating example and natural structures 5 2 1 the category of stable noded riemann surfaces 7 2 2 the category of stable maps 23 2 3 a bundle and the cr functor 29 2 4 a basic construction 32 2 5 a good uniformizer 42 3 smoothness 46 3 1 sc structures and sc smooth maps 47 3 2 sc smooth spaces and m polyfolds 50 3 3 strong bundles 54 3 4 a special class of sc smooth germs 58 3 5 sc fredholm sections 61 4 polyfold structures and consequences 65 4 1 polyfold structures on certain categories 65 4 2 tangent category and differential forms 69 4 3 finite dimensional branched weighted subpolyfolds 74 4 4 fredholm theory and transversality 77 4 5 the stable map example 81 1 http arxiv org abs 1412 4255 v 1 1 introduction in this paper we discuss the generalized fredholm theory in polyfolds the initial version of the paper 22 was written in 2008 on the occasion of a lecture given at the clay mathematical institute cmi and described the theory as developed in 24 25 26 when nick woodhouse became the cmi president he found a folder of manuscripts from past cmi events and came up with the idea of having them published six years is a long time since then the theory considerably advanced and a comprehensive discussion of its more abstract part is contained in 29 30 currently nontrivial applications are being developed most notably those to symplectic field theory sft see 11 and 28 in order to account for the developments the paper was to a large extend rewritten rather than dealing with the general theory which also allows for boundary with corners we restrict ourselves to a special case and illustrate it with a discussion of stable maps a topic closely related to gromov witten theory we also would like to mention the paper 9 where the ideas of polyfold theory are explained as well the abstract theory has been applied in 28 as part of the general construction of sft in 51 it was used to address the weinstein conjecture in higher dimensions an extensive study of the case with boundary and corners is contained in 29 30 these extensions are crucial for an application to sft a basic paper in this direction is the upcoming 11 in which the polyfolds relevant for sft are being constructed this is the place where the full power of the theory becomes apparent we shall start by introducing the category of stable maps the construc tion of gromov witten invariants can be understood as the geometric study of perturbations of the full subcategory of j holomorphic stable maps we take a more general viewpoint and study the whole category our initial discussion is entirely topological and surprisingly the arising objects are so natural that one is forced to raise the question if these structures go beyond topology indeed they do and they give rise to a generalized differential geometry as well as a generalized nonlinear fredholm theory accompanied by its own blend of nonlinear analysis the whole package is referred to as polyfold theory the polyfold theory provides a language and a large body of results to address questions arising in the study of moduli problems in sym plectic geometry it is clear that its applicability goes far beyond the latter field from a nonlinear analysis perspective the symplectic applications are concerned with the study of isomorphism classes of families of nonlinear first 2 order elliptic equations with varying domains and varying targets the do mains even are allowed to change the topology and bubbling off phenomena will in general occur this is the source for compactness and transversal ity issues which make an algebraic counting of solutions very difficult in the case of the problems arising in symplectic geometry the polyfold theory overcomes these difficulties there is no doubt that the theory should have applications in other parts of nonlinear analysis as well it is a basic observation in symplectic geometry topology that geometric questions can be rephrased as questions about solution spaces of nonlinear first order elliptic partial differential equation the solution spaces are by definition the moduli spaces very often just counting solutions suffices to answer a seemingly difficult geometric question the construction of the moduli problems are difficult analytical problems involving analytical limit ing behaviors like bubbling off breaking of trajectories and stretching the neck the naive solution sets are very often not compact and not being cut out by the differential equation in a generic way in most applications there exist intriguing compactifications of the solution spaces which how ever are usually not compatible with the standard versions of smooth non linear analysis based on the notion of fre chet differentiability moreover as a consequence of local symmetries very often even a generic choice of geo metric auxiliary data used to construct the partial differential equation will never result in a generic solution set the polyfold theory allows to view the partial differential equation within an abstract framework which provides a sard smale perturbation theory and deals with the transversality issues the framework is so general that it also encompasses the geometric perturbation theory hence one can proceed geometrically as long as it is possible and use the abstract perturbations only if the problems cannot be dealt with ge ometrically in particular whatever has been established to work classically will also work in this extended framework the analytical limiting phenomena which we mentioned above even as suming a sufficient amount of genericity do not look like smooth phenomena if smoothness refers to the usual concept indeed the coordinate changes are from a classical perspective usually nowhere differentiable however it turns out that the notion of smoothness can be relaxed and a generalization of differential geometry and nonlinear functional analysis can be developed for which the limiting phenomena can be viewed as smooth phenomena even if they are quite often obscured by transversality issues in this generalized context the classical nonlinear fredholm theory can be extended to a much 3 larger class of spaces and operators which can deal with the aforementioned problems a great example to explain the theory comes from a study of the cate gory of stable maps associated to a symplectic manifold the study of these objects goes back to the seminal work by gromov on pseudoholomorphic curve theory see 17 gromov showed that the study of pseudoholomor phic maps is a powerful tool in symplectic geometry by demonstrating its uses by many examples kontsevich later pointed out the importance of the notion of stable pseudoholomorphic curves 33 our stable maps need not to be pseudoholomorphic we find several natural constructions which at first glance are just of topological nature without exhibiting more regularity however as it turns out these are the shadows of smooth constructions once the notion of differentiability in finite dimensions which usually is gen eralized as fre chet differentiability to infinite dimensional banach spaces is generalized in a quite different way such a generalization requires an addi tional piece of structure called an sc structure which occurs in interpolation theory 53 albeit under a different name in fact we give a quite different interpretation of such a structure and make clear that it can be viewed as a generalization of a smooth structure on a banach space we call this gener alization sc smoothness and the generalization of differentiability of a map we refer to as sc differentiability the very interesting aspect is then the following fact there are many sc differentiable maps r u u satisfying r r r i e sc smooth retractions for fre chet differentiability the image of such a retraction can be shown to be a submanifold of u incidentally this is h cartan s last mathematical theorem see 4 however the images of sc smooth retractions can be much more general most strikingly they can have locally varying dimensions of course a good notion of differentiability comes with the chain rule so that from r r r we deduce tr tr tr in other words the tangent map of an sc smooth retraction is again an sc smooth retraction if a subset o of an sc banach space is the image of an sc smooth retraction r then to tr tu defines the tangent space and it turns out that the definition does not depend on the choice of r as long as r is sc smooth and has o as its image so we obtain quite general subsets of banach spaces which have tangent spaces an sc smooth map f o o where o e and o f are sc smooth retracts is a map such that f r u f is sc smooth where r is an sc smooth retraction onto o as it turns out the definition does not depend on the choice of r further one verifies that tf t f r to 4 defines a map to to between tangent spaces and that the definition also does not depend on the choice of r in summary once we have a good notion of differentiability for maps be tween open sets we also obtain a notion of differentiability for maps between sc smooth retracts however for the usual notion of differentiability smooth retracts are manifolds and one does not obtain anything beyond the usual differential geometry and its standard generalization to banach manifolds on the other hand sc differentiability opens up new possibilities with serious applications we generalize differential geometry by generalizing the notion of a manifold to that of an m polyfold these are metrizable spaces which are locally homeomorphic to retracts with sc smooth transition maps the theory as described in this paper even gives new objects in finite dimensions see figure 1 most important for us is the fact that the new local models for a vastly generalized differential geometry allow us to build spaces which can be used to bring nonlinear partial differential equations which might show bubbling off phenomena into an abstract geometric framework which allows for a very general nonlinear fredholm theory with the usual expected prop erties acknowledgement the author thanks the clay institute for the opportu nity to present this material at the 2008 clay research conference some of the initial work was done during a sabbatical at the stanford mathematics department and was supported in part by the american institute of math ematics thanks to p albers y eliashberg j fish e ionel k wysocki and e zehnder for many stimulating discussions 2 a motivating example and natural struc tures the following discussion starts with a closer look at the category of stable riemann surfaces and describes some of the interesting structures appear ing as a result of the classical deligne mumford theory these structures and the associated viewpoint can be related to a topic arising in gromov witten theory namely the study of the category of stable maps which are not necessarily pseudoholomorphic this category of stable maps has natural structures natural structures in mathematics are usually there for a good 5 b 3 b 2 b 3 b 2 s c 1 c 2 c 1 c 2 a b figure 1 figure a shows a finite dimensional m polyfold x which is homeo morphic to the space consisting of the disjoint union of an open three ball b 3 and an open two ball b 2 connected by two curves c 1 c 2 figure b shows the same m polyfold containing a one dimensional s 1 like submanifold s this submanifold could arise as the zero set of a transversal section of a strong m polyfold bundle y over x which has varying dimensions namely over the three ball it is two dimensional over the two disk one dimensional and otherwise it is trivial the polyfold theory would then guarantee a natural smooth structure on the solution set s 6 reason in our case a deeper analysis reveals the existence of more general smooth models for an extended differential geometry as well as a vastly gener alized fredholm theory the latter can be used to define the gromov witten invariants the same scheme also works suitably extended in the much more complicated framework of stable maps in sft 2 1 the category of stable noded riemann surfaces a good starting point for explaining some of the later features in the polyfold theory is a study of stable noded riemann surfaces with marked points definition 2 1 a stable possibly noded riemann surface with marked points is a tuple s j m d where s j is a closed smooth riemann sur face m s is a finite collection of points called marked points and a finite collection d of un ordered pairs x y of points x y s m having the following properties i for x y d it holds x 6 y if x y x y 6 then x y x y ii the topological space s obtained by identifying x y for x y d is connected iii define the subset d by d x y d x y for every connected component c of s having genus g c with nc being the number of points in c d m it holds 2 g c nc 3 condition iii is called the stability condition in our case the set m is not ordered but the following discussion could be carried out in the ordered case as well we can view s j m d as an object in a category r where the morphisms are given by and s j s j is a biholomorphic map satisfying m m and d d where d x y x y d definition 2 2 we call r the category of stable possibly noded rie mann surfaces with un ordered marked points 7 the following result is well known and is part of the deligne mumford theory the theory has been described from a more differential geometric perspective in 47 and is being described in 23 from a polyfold perspective theorem 2 3 the category r has the following properties i every morphism in the category r is an isomorphism ii the stability condition implies that between any two objects there are at most finitely many morphisms iii the orbit space r of the category r which is the set of isomorphism classes of objects in r carries a natural metrizable topology iv the topological space r carries in a natural way the structure of a holomorphic orbifold for which each connected component is compact a basis for the topology is given in proposition 2 11 we shall need a variation of this result and shall describe a particular approach to r which one might view as a toy case for the polyfold approach to stable maps in symplectic manifolds we describe some of the results we shall need later on and refer the reader for more details to 28 23 or the references mentioned therein given an object s j m d inr it is not just a point in the category but it has geometry as well in fact the additional structures on the category come from the fact that every object has its own geometry which is being exploited by constructing associated objects by a plumbing procedure recall that the automorphism group g of is the finite collection of all morphisms which are all isomorphisms definition 2 4 let s j m d be an object in r with automor phism group g a small disk structure associated to and denoted by d assigns to every x d a compact disk like neighborhood dx s around the point x so that the following holds i dx has a smooth boundary and the disks are mutually disjoint ii x d dx is invariant under g iii dx m for all x d 8 given a small disk structure d we have for every x y d an associated noded disk pair dx dy x y from this data we can construct for every x y a natural gluing parameter this is done as follows denote for x d by x an oriented real line in txs j if s 1 c denotes the unit circle we observe that given s 1 we can define a new oriented real line x making use of the complex structure j we introduce an equivalence class of unordered pairs of real oriented lines x y associated to x y d as follows we say x y is equivalent to x y here the lines lie over x and y provided there exists s 1 satisfying x x and y 1 y equivalence classes will be written as x y clearly the collection of all equivalence classes associated to the pair x y can be parametrized by the unit circle via s 1 x y definition 2 5 an equivalence class x y is called a decorated nodal pair with underlying nodal pair x y hence above every x y d there lies an s 1 worth of decorated nodal pairs x y we shall refer to x y as a decoration for x y consider a formal expression r x y with r 0 1 2 two such formal expressions are considered the same i e r x y r x y provided one of the following holds i r r 0 or ii r r 6 0 and x y x y definition 2 6 a natural gluing parameter associated to the nodal pair x y is a formal expression a x y r x y where r 0 1 2 with the notion of equality as defined above in case r 0 we shall write a x y 0 we define the set b x y 1 2 by b x y 1 2 r x y r 0 1 2 x y a decoration of x y and call it the set of natural gluing parameters associated to the nodal pair x y the modulus of a x y r x y is the number r and we shall write a x y r 9 definition 2 7 given a natural total gluing parameter is a map a d x y a x y b x y 1 2 the collection of all gluing parameters associated to will be denoted by b the dependency of b on is as follows it only depends on the complex multiplication on the tangent spaces txs for x d we note the following result having an easy proof which is left to the reader proposition 2 8 assume that is given for every x y d the set b x y 1 2 has in a natural way the structure of a holomorphic manifold it is characterized by the following property for every choice of oriented real lines x and y the map b x y 1 2 z c z 1 2 r x y r is biholomorphic in particular the set b of all natural gluing parameters a x y a x y has a natural holomorphic structure and is biholomorphic to a product of open disks we shall use the natural gluing parameters to modify and produce new stable noded riemann surfaces in this context an important concept is that of a gluing profile definition 2 9 a gluing profile is a smooth diffeomorphism 0 1 0 we shall refer to r 1 2 ln r as the logarithmic gluing profile and to r e 1 r e as the exponential gluing profile restricting r x y to the case with r 0 1 2 has to do with the choice of these two gluing profiles for an arbitrary gluing profile we only have to require that r 0 where 0 depending on the profile is small enough assume we are given a small disk structure d and a gluing profile we can define a gluing or plumbing construction as follows for a gluing 10 parameter a x y r x y associated to x y d we consider the disks dx dy and the nodal pair x y if a x y 0 we keep this data i e with other words the gluing of dx dy x y with a x y 0 produces the noded disk dx dy x y if a x y 6 0 we compute the value r r and take a representative x y of the class x y after this choice there exist uniquely determined biholomorphic maps hx dx x d 0 thx x x r and hy dy y d 0 thy x y r here d is the closed unit disk in c and r t 0 d is oriented by 1 recall that the modulus of the annulus ar 1 r 2 z c r 1 z r 2 is defined by modulus ar 1 r 2 1 2 ln r 2 r 1 if we are given a riemann surface a j where a is compact has smooth boundary components and is diffeomorphic to an annulus we know from the uniformization theorem that a j is biholomorphic to ar 1 for a uniquely determined 0 r 1 the modulus of a j by definition is given by modulus a j 1 2 ln r we note that the right hand side is precisely r r for the logarithmic gluing profile in the next step the choice of the gluing profile matters and a remark why we consider other gluing profiles than the logarithmic one is in order remark 2 10 in later constructions we shall see that the sc smooth structure we are going to construct will depend on the choice of the sc smooth structure also influences if certain operators are sc smooth fredholm operators the operators we are interested in will be sc smooth for the exponential gluing profile but not for the logarithmic one with some gluing profile fixed we pick concentric compact annuli ax dx and ay dy with one boundary component being the boundary of dx and dy respectively so that ax and ay have modulus r r we discard the points dx ax and dy ay from s and the nodal pair x y with 11 ax ay s dx ax dy ay we identify ax with ay by identifying z z where z z ax ay satisfying hx z hy z e 2 r the definition of the identification z z is independent of the choice of the representatives x y in x y let us denote by za x y the glued space obtained by identifying the two annuli if a x y 0 this is the noded dx dy x y and for a x y 6 0 it is the space obtained by identifications just described clearly in the latter case we have natural biholomorphic maps ax za x y and ay za x y by associating to a point its equivalence class carrying out the above pro cedure for every noded disk pair dx dy x y defines for a gluing pa rameter a b a new noded stable riemann surface sa ja ma da with marked points we just described how to obtain sa we denote by ja the natural smooth almost complex structure on the latter observe that z z is a holomorphic identification by ma we just mean m naturally identified with a subset of sa the collection of nodal points da is obtained by first removing from d all x y with a x y 6 0 and then identifying this set with the obvious set of nodal pairs for sa for every x y da we still have dx dy sa at this point we can exhibit a basis of open neighborhoods for a given point r for the natural metrizable topology for a representative and an associated gluing parameter a we define a by a max x y d a x y write s j m d and fix a small disk structure d the set of all smooth almost complex structures k on s which define the same orientation as j has a natural metrizable topology measuring the c distance denote a choice of metric by for a given gluing profile and 0 small enough define u d sa ka ma da j k j k on d a theorem 2 11 fix a gluing profile pick for every class c r an object c and choose an associated small disk structure dc for c consider u c dc for 0 c and denote this collection by uc then the union u c r uc is the basis for a metrizable topology t on r the topology t does not depend on the choices involved in constructing u 12 the topology t is the one referred to in theorem 2 3 the automorphism group g acts on the set of gluing parameters b via biholomorphic maps g b b g a g a in a natural way as follows namely b g a is defined by b g x g y r tg x x t g y y where r x y a x y with the above construction an element g g induces a biholomorphic map ga sa ja ma da sb jb mb db where b g a it also holds hg a ga h g a let us abbreviate sa ja ma da by a then a a if and only if a a consider for these objects a with a 1 2 the associated full subcate gory a a d of r this subcategory is small given the object with automorphism group g every choice of a small disk structure a set of pos sible choices produces such a subcategory we also consider the translation groupoid g b the latter is a small category with object set b and morphism set g b where g a is seen as a morphism a g a observe that object set and morphism set have in our case both smooth manifold structures there exists the obvious functor g b a which maps the object a to a and the morphism g a a g a to a ga g a a g a we note that is injective on objects more is true namely from the results of the deligne mumford theory we obtain the following proposition which is true for any gluing profile it has to be viewed as an intermediate result neglecting for the moment the possibility of deforming the integrable almost complex structure j associated to 13 proposition 2 12 for a suitable g invariant open neighborhood u of 0 b depending on the choice of the gluing profile the functor g u r is injective on objects and fully faithful the above proposition describes the family we can obtain just from gluing or plumbing without considering deformations of the integrable almost complex structure we can also obtain from new objects by changing the complex structure of course a priori we only would like to consider only those deformations which produce non isomorphic objects there is however an inherent difficulty coming from the automorphisms given the object in the categoryr consider the complex vector space 0 consisting of smooth sections of ts s which vanish at the points in m d by 0 1 s we denote the complex vector space of smooth sections of homr ts ts s which are complex anti linear the cauchy riemann operator defines a linear operator 0 0 1 define via the formula ga 1 d c g c 1 where the sum is taken over all connected components c of s the arithmetic genus ga the basic fact is given by the following proposition proposition 2 13 the cauchy riemann operator is a complex linear differential operator the stability property of implies that is injective and as a consequence of riemann roch the cokernel has complex dimension 3 ga m d 3 in the next step we consider the deformation space of for fixed com binatorial type this means we consider the deformation of the complex structure the marked points and the nodal pairs but do not remove nodes the natural deformation space introduced in the following is the infinitesi mal version of this if we divide out by isomorphisms but keep track of the automorphisms 14 definition 2 14 the infinitesimal natural deformation space of fixed combinatorial type of s j m d is by definition the complex vector space h 1 defined by h 1 0 1 0 the construction h 1 is functorial namely we associate to an object a finite dimensional complex vector space and to a morphism a complex vector space isomorphism h 1 h 1 h 1 1 in particular the automorphism group g of the object has an action on h 1 assume that v is an open subset of some vector space e and v v j v a smooth family of almost complex structures on s then it holds j v 2 id and differentiating at v into the direction v e gives the identity j v dj v v dj v v j v this means that for every z s the map dj v v z tzs j v tzs j v is complex anti linear and induces an element dj v v h 1 s j v m d hence we obtain for every v v a linear map dj v e h 1 s j v m d this map is called the kodaira spencer differential associated to v j v we define v by v s j v m d definition 2 15 given a stable and an associated small disk struc ture d we shall call a smooth family v j v of almost complex structures on s defined on a g invariant open neighborhood v of 0 in h 1 a good deformation compatible with d provided it has the following properties i j 0 j ii j v j on all disks dx associated to d 15 iii for every v v the kodaira spencer differential dj v h 1 h 1 v is a complex linear isomorphism iv for every g g and v v the map g v g v is biholomorphic a well known result with a proof given in 23 is the following theorem 2 16 given a stable in r with automorphism group g and a small disk structure d there always exist good deformations compatible with d suppose we start with a stable with automorphism group g and have fixed a small disk structure d then we can as we have seen construct the functor g b r now taking a good deformation as described in the previous definition say v v j v we can construct the following functor where we take either the logarithmic or exponential gluing profile g v b r to objects v a we assign v a sa j v a ma da the morphism g v a v a g v g a is mapped to v a ga g v g a v a g v g a the basic result is the following a proof is given in 23 theorem 2 17 given the stable object in r with automorphism group g a small disk structure d and a good deformation v j v compatible with d there exists an open g invariant neighborhood o of 0 0 v b so that the following holds for a given gluing profile i g o r is a fully faithfull functor 16 ii the map g o r induced on orbit spaces defines a homeo morphism onto an open neighborhood u of iii for every v a the partial kodaira spencer differentiable associated to v a is an isomorphism iv for every point q o there exists an open neighborhood u q o with the property that every sequence qk u q for which qk converges in r there exists a subsequence of qk converging in clo u q for the definition of at the partial kodaira spencer differentiable see 28 or 23 the above construction is possible for every given gluing profile definition 2 18 assume a gluing profile is fixed a functor g o r constructed as described previously associated to a stable and a small disk structure d and satisfying the properties i iv of theorem 2 17 is called a good uniformizer associated to for the following discussion we assume that a gluing profile has been fixed let us observe that the construction of g o r is associated to a given object in r and 0 0 and g 0 0 g the constructions requires the choice of a small disk structure d the good deformation v j v and the open g invariant subset o of v b here b is a well defined set associated to and v is an open subset of the complex vector space h 1 associated to all in all our possible choices involved in constructing for a fixed constitute a set therefore we can make the following definition definition 2 19 by f we denote the set of good uniformizers asso ciated to we shall elaborate next about the functorial properties of f definition 2 20 by r we denote the category which has the same objects as r but as morphisms only the identities we can view the assignment f 17 as a functor defined on r with values in the category of sets set this is the minimalistic version of our construction giving us the functor f r set f on objects which on morphisms f id idf we said that this is the minimalistic version since there is in fact much more structure let us explore this now recall that for s j m d an element in the set f is con structed by making the following choices i a small disk structure d for s j m d ii a deformation of j with specific properties v j v on s m d i e which is constant on d has some symmetry properties and is defined on a g invariant open neighborhood v of 0 in h 1 iii from this data we obtain the natural gluing parameters b and can construct the family v a sa j v a ma da iv a g invariant open neighborhood o of 0 0 in v b so that the restriction of the above family satisfies a list of properties defining an element in f see definition 2 18 hence the collection f is obtained via a precise instruction which requires choices in its construction when we consider isomorphic objects in r say and there is a natural way of matching a specific choice for with a specific choice for this matching depends on the choice of an isomorphism and has functorial properties so that one can upgrade f r set to a functor f r set more precisely assume that is a morphism then we define the following data for i d d dz z d 18 ii the biholomorphic map defines a linear isomorphism h 1 h 1 and we take v v and a biholomorphic map b b iii for j we take the map v v j v t j 1 v t 1 iv o o from the data d v j v and b we construct the element f corresponding to this shows that a morphism defines a bijection f f f hence we obtain a functor f r set just saying that f is functor from r into set is again quite minimalistic since we suppress the various maps we constructed above hence under lying this bijection there is in our case even some fine structure which we shall describe now assume that the automorphism group of s j m d is g then the elements of g have the form g where g is a biholomorphic map for simplicity of notation we identity g g assume that we are given an isomorphism having the domains fixed most importantly the almost complex structures we identify denote by g the automorphism group of and proceeding as in the case of g the morphism determines a group isomorphism g g g g 1 consider the by the previous discussion related elements f and f given by g o r and g o r related means that f the biholomorphic map defines an equivariant diffeomorphism o o which satisfies g q g q 19 where q v a this in particular means that defines a smooth equiv alence between the translation groupoids but also is a bijection on objects and morphisms f g o g o q q g q from this we see that we have the two functor and f both defined on g o on objects with v a f v a we have the biholomorphic map a v a v a and hence the isomorphism v a v a a f v a v a f v a equivalently written this precisely means for an object v a in g o v a v a f v a we note that 0 0 and f 0 0 0 0 assume that g q q g q is a morphism in g o with g q f g q being the corresponding morphism in g o we obtain the following commutative diagram q q f q g q y f g q y g q g q f g q hence the map o r q q q is a natural transformation in fact an equivalence f this shows that there is more structure than justing having a functor f r set hence we have proved the following theorem 2 21 with the functor f r set as just described given an isomorphism there exists for every element f with corresponding element f an uniquely determined smooth equivalence of categories f g o g o and a natural equivalence f 20 at this point the good uniformizers in f and f are mostly unre lated with the exception when the objects are isomorphic in the following in particular for the abstract theory we shall always take the minimalistic viewpoint even if in all applications there is additional structure along the lines as just described we need some additional structure to related f and f even if and are not isomorphic this needs some preparation definition 2 22 given the functor f r set and objects and in r we define for f and f the set m called the associated transition set between and by m q q q o q o q q the construction of the transition set comes with several structure maps definition 2 23 the target map t m o and the source map s m o are given by t q q q and s q q q the inversion map m m is defined by q q q 1 q the unit map o m is given by u q q 1 q q and the multiplication map is defined as m s tm m m q q q q q q the following results hold for the logarithmic and the exponential gluing profile there are similar results for other but not all gluing profiles the logarithmic case is a reformulation of the classical deligne mumford theory the case of the exponential gluing profile can be reduced to this classical case in 23 we derive both cases using pde methods but also show that the case with exponential gluing profile can be reduced to the classical case theorem 2 24 given the logarithmic or the exponential gluing profile the transition sets m carry a natural metrizable topology and in addi tion naturally oriented smooth manifold structures so that all the structure maps are smooth and s and t are orientation preserving local diffeomor phisms in case of the logarithmic gluing profile the smooth manifold struc ture is underlying to a complex manifold structure and all structure maps 21 are holomorphic the object space of g o is oriented by the orientation coming from the fact that o is an open subset of a complex vector space the orientations of the manifolds m are determined by the fact that the source and target map are orientation preserving in particular at this point we have after picking the exponential gluing profile a natural construction f m which associates to every object a set f of good uniformizers at and to a transition set m an oriented manifold structure remark 2 25 let us just note that with corresponding to if is given the natural transformation f defines a diffeomorphism g o m g q q g q g q f g q here is one thing we can do with this data take a family a set of good uniformizers so that r o then we define an oriented smooth manifold x by x o and a smooth oriented manifold x by x m we may view x as the collection of objects in a small category and x as the set of morphisms more precisely if q o and q o then the morphisms q q are precisely all elements m with s q and t q using property iv it follows immediately that x x x is a an e tale proper lie groupoid see 45 for a short description of the theory more com prehensive treatments are given in 1 and see 18 19 20 for the beginnings of this theory using the we can construct a functor x r 22 which is an equivalence of categories namely we map the object q o x to q so that on objects x obj r q q and on morphisms x mor r q q q q hence we might view x as a smooth up to equivalence model for r of course making different choices we obtain x r having the same properties taking the union of the choices we obtain x r and smooth equivalences of e tale proper lie groupoids via the inclusions x x and x x taking the weak fibered product associated to the diagram x x x denoted by x x x the projections onto the factors are equivalences of e tale proper lie groupoids with other words x and x are morita equivalent moreover x r and x r are naturally equivalent via the data from x in summary we have constructed up to morita equivalence smooth models for r each pair x gives an orbifold structure on r and these orbifold structures are equivalent the whole collection turns r into a smooth oriented orbifold with the structure depending on the gluing profile if the process is carried out with the logarithmic gluing profile we again obtain a natural orbifold r which however this time is holomorphic the underlying smooth structures for the two constructions mentioned are not the same but they should be diffeomorphic the latter is definitely true over the un noded part the reader is referred to 45 46 1 for more reading on e tale proper lie groupoids 2 2 the category of stable maps the construction carried out in this subsection is formally very similar to the one we carried out for r now the category r is replaced by a different category s the category of stable maps again s has a natural metrizable topology and we shall construct a pair f m similarly as before however the local models are infinite dimensional and all ingredients have never any change to be classically smooth in fact the occurring maps are generally 23 nowhere differentiable in any classical sense nevertheless as it will turn out there is a smoothness concept called sc smoothness so that the constructions viewed within an associated differential geometry are smooth let q be a compact symplectic manifold without boundary we consider maps defined on riemann surfaces with image in q having various regularity properties we shall write u o s x q for a mapping germ defined on a riemann surface s near x definition 2 26 let m 2 be an integer and 0 we say a germ of continuous map u o s x q is of class m at the point x if for a smooth chart u u 0 r 2 n mapping u 0 to 0 and holomorphic polar coordinates 0 s 1 s x around x the map v s t u s t defined for s large has partial derivatives up to order m which weighted by e s belong to l 2 s 0 s 1 r 2 n if s 0 is sufficiently large we say the germ is of class m around a point z s provided u is of class hmloc near z we observe that the above definition does not depend on the choices involved like charts and holomorphic polar coordinates we consider now tuples s j m d u u where s j m d is a noded riemann surface with ordered marked points m and nodal pairs d and u s w is a continuous map having some additional regularity properties we do not assume to be stable i e being an object in r after forgetting the order of m definition 2 27 a noded riemann surface with ordered marked points is a tuple s j m d where s j is a closed riemann surface m s a finite collection of ordered marked points and d is a finite collection of un ordered pairs x y of points in s called nodal pairs so that x 6 y and two pairs which intersect are identical the union of all x y denoted by d is disjoint from m we call d the set of nodal pairs and d the set of nodal points as in the definition of the objects in r the riemann surface s might consist of different connected components c we call c a domain component 24 of s the special points on c are as before the points in c m d we say that s j m d is connected provided the topological space s obtained by identifying x y in the nodal pairs x y d is connected with our terminology it is possible that s j m d is connected but on the other hand s may have several connected components i e its domain components next we describe the tuples in more detail definition 2 28 we say that s j m d u is a stable map of class m provided the following holds here m 2 and 0 i the underlying topological space obtained by identifying the two points in any nodal pair is connected ii the map u is of class m around the points in d and of class m around all other points in s iii u x u y for every nodal pair x y d iv if a domain component c of s has genus gc and nc special points so that 2 gc nc 2 then c u 0 otherwise we assume that c u 0 this is called the stability condition next we introduce the category of stable maps of class 3 0 where 0 is a fixed umber in 0 2 definition 2 29 fix a 0 0 2 the category of stable maps of class 3 0 denoted by s 3 0 q has as objects the tuples of class 3 0 and as morphisms where is a biholomorphic map s j m d s j m d satisfying u u remark 2 30 i the category s 3 0 q has several interesting fea tures all the morphisms are isomorphisms and between two objects the number of morphisms is finite this is a consequence of the stability condi tion 25 ii if we identify isomorphic objects in s 3 0 q we obtain the orbit class s 3 0 q which is easily verified to be a set an element in the orbit set is written as iii the choice of 0 0 2 is dictated by the fact that in any analyt ical treatment of stable maps fredholm theory one has to derive elliptic estimates near the nodes which involve self adjoint operators which have spectrum 2 z so 0 2 has to be understood as a spectral gap this requirement is important for the fredholm theory the first important fact is that the orbit set s 3 0 q carries a natural topology more precisely theorem 2 31 given 0 0 2 the orbit space s 3 0 q carries a natural hausdorff second countable regular and hence metrizable topology we refer the reader to 10 28 for the complete construction however we shall give some ideas later on the key is a recipe to construct a basis for a topology this recipe involves choices nevertheless the resulting topology is independent of them and this is what we mean by being natural however this is only the beginning and there is another natural construction what we shall see next will remind the reader of the type of construction which already occurred in the treatment of r in the case of r we saw uniformizers defined on translation groupoids where object and morphism sets carried natural smooth manifold structures in the relevant constructions for s 3 0 q our translation groupoids will have much less structure for the moment namely they are just metrizable topological spaces the reason is that all occurring maps have no chance of being classically smooth and the natural local models seem very often far away from open subsets of banach spaces recall that given a metrizable space o with the action of a group g by continuous maps we can construct the metrizable translation groupoid g o this is a small metrizable category with objects being the elements in o and the morphisms being the tuples g q where q o and g g here the source of g q is q and the target is g q i e g q q g q ametrizable category is a small category where object and morphism sets are metrizable spaces and all structure maps are continuous namely associating to a morphism its source and target the inversion map 1 the unit 26 map q 1 q as well as the multiplications map m defined on the appropriate subspace of the product of two copies of the morphism space definition 2 32 let be an object in s 3 0 q with automorphism group g a good uniformizer around is a functor g o s 3 0 q having the following properties i is fully faithful and there exists an object q 0 o with q 0 ii passing to orbit spaces g o s 3 0 q is a homeomorphism onto an open neighborhood of in s 3 0 q iii for every object q o there exists an open neighborhood u q o so that every sequence qk u q for which qk converges in s 3 0 q has a convergent subsequence in clo u q given two good uniformizers around and around we can define the set m consisting of all tuples q q where q o q o and is a morphism in s 3 0 q associated to m we have the source map s m o q q q and the target map t m o q q q in addition there is the inversion map m m q q q 1 q the unit map u o m q q 1 q q and given a third uniformizer the multiplication map m m s tm m m q q q q q q the maps s t u and m are called the structure maps the next natural construction is summarized by the following theorem where as before set is the category of sets 27 theorem 2 33 there exists a natural functor f s 3 0 q set which associates to an object a set f of good uniformizers around moreover f comes with a natural construction which associates to every choice f and f a metrizable topology on m so that the source and target maps are local homeomorphisms and all structure maps are continuous remark 2 34 it is again possible to lift the functor to s 3 0 q so that morphisms are mapped to bijections one can be more explicit about the correspondence of constructions for and the constructions for when we are given a morphism this is in the spirit of the discussion for r there are many consequences of this result for example we can pick a family where is a set of good uniformizers so that s 3 0 q o then we can define the objects of a category x as the disjoint union x o and the morphism set x by x m we note that x and x are both metrizable and the can be used to define a functor from x x x to s 3 0 q by x obj s 3 0 q o q q and x mor s 3 0 q m q q lemma 2 35 the functor is an equivalence of categories 28 with other words we can build a topological version of s 3 0 q up to equivalence of course the construction of x involves a choice of a family as in the r case if we make a different choice we obtain x s 3 0 q and taking the disjoint union of the choices x s 3 0 q the inclusions x x and x x are local homeomorphisms on the object and morphism spaces and equivalences of categories starting from this situation and quite similar to the r case one can define a notion of equivalence of two pairs x and x so that we might say that s 3 0 q up to morita equivalence has a unique topological metriz able model as it turns out the construction of f in theorem 2 33 has many more properties namely the domains g o of the functors are in some sense smooth spaces not in the usual way but in a generalized differential geometry this will also be explained later on at the end of day there is a differential geometric version of theorem 2 33 which one might view as the construction of a smooth structure on the category s 3 0 q and which allows to build small smooth versions of our category up to morita equivalence 2 3 a bundle and the cr functor assume next that a compatible almost complex structure j has been fixed for q we consider tuples s j m d u where is an object in s 3 0 q and z tzs tu z q is complex anti linear for the given structures j and j further we assume that z z has sobolev regularity h 2 away from the nodal points at the nodal points we assume it to be of class 2 0 to make this precise pick a nodal point x and take positive holomorphic polar coordinates around x say s t with x lims s t then take a smooth chart around u x with u x 0 finally consider the principal part s t pr 2 t u s t s t s t s 29 which we assume for large s 0 to be in h 2 0 s 0 s 1 r 2 n the definition of the decay property does not depend on the choice of and denote by bang the category where the objects are the banach spaces and the morphisms are topological linear isomorphisms the above discussion gives us a functor s 3 0 q bang we associate to an object the hilbert space of all of class 2 0 as described above to a morphism we associate the topological linear isomorphism t 1 we can now define a new category e 2 0 q j whose objects are the tuples of the form where is an object in s 3 0 q and is a complex anti linear tq valued 0 1 form along u of class 2 0 a morphism is a tuple with being a morphisms in s 3 0 q so that in addition there is the projection functor p e 2 0 q j s 3 0 q which on objects maps and on morphisms to on the object level the preimage under p of an object is a hilbert space consisting of the elements given the morphism is lifted to a bounded linear isomorphism p 1 p 1 t 1 where the map t 1 is linear we may view the two categories fibering over each other via p e 2 0 q j s 2 0 q as a bundle then we have the cauchy riemann section functor j 1 2 tu j u tu j 30 where s j m d u from the results in 28 we can deduce the follow ing theorem theorem 2 36 the orbit space e 2 0 q j carries a natural second countable metrizable topology the induced maps on orbit spaces p and j are continuous the topology on the orbit space of the full subcategory associated to the objects with j 0 has compact connected components and coincides with the union of all gromov compactified moduli space of j pseudoholomorphic curves the previous discussion about the construction f can be extended to cover p given an object the notion of a good uniformizer generalizes by replacing o by a continuous surjective map p w o between metriz able spaces where the fibers are hilbert spaces or more generally banach spaces and where in addition we have a continuous g action linear between the fibers then the good bundle uniformizers are given by commutative di agrams g w e 2 0 q j y y g o s 3 0 q with the obvious properties the bottom is as described before and is a linear bounded isomorphism between the fibers again as it will turn out these constructions will fit into a scheme of generalized differential geometry and the local representative of j a g equivariant section of w o will turn out to be a nonlinear fredholm section in the extended framework we refer the reader to 12 28 for the constructions related to stable maps and to 29 30 for the abstract theory in the above extension we have a functorial construction f s 3 0 q set covering f in the following way for every object the set f consists of strong bundle uniformizers which together with the underlying f fit into the above commutative diagram moreover it comes with an associated construction of a metrizable topology on the transition set m there is a projection p m m k k o o whose fibers are hilbert spaces moreover there exists the commutative 31 diagram involving source and target maps k s m t k p y p y p y o s m t o we leave the execution of the idea to the reader the above follows from the results in 28 2 4 a basic construction the following discussion is carried out in detail in 31 see also 28 consider the hilbert space e consisting of pair of maps u u u r s 1 rn where for each pair there exists a constant c rn so that u c has partial derivatives up to order 3 which weighted by e 0 s belong to l 2 r s 1 the constant c is called the common asymptotic limit of u u given a complex number a 1 2 we write a a e 2 i if a 6 0 we define r a where is the exponential gluing profile which we recall is defined by 0 1 0 r e 1 r e we construct for 0 a 1 2 the finite cylinder za by identifying s t 0 r s 1 with s t r 0 s 1 via s s r and t t denote by s t the equivalence class of the point s t 0 r s 1 and by s t the equivalence class of s t r 0 s 1 then s t s r t and za 0 r s 1 and za r 0 s 1 defined by s t s t and s t s t respectively are holomorphic coordinates where the targets are equipped with the standard complex structures if a 0 we define z 0 r s 1 r s 1 pick a smooth map r 0 1 satisfying s 1 for s 1 s 0 for s 1 1 and s s 1 for all s r 32 definition 2 37 given u u e and a 1 2 the glued map a u u za r n is defined for a 0 by 0 u u u u and for a 6 0 by a u u s t s r 2 u s t 1 s r 2 u s r t for fixed a 6 0 many different u u will produce the same glued map we can remove the ambiguity by introducing the anti glued map a u u it is defined on ca given by c 0 and for 0 a 1 2 by gluing r s 1 and r s 1 along za note that za can be identified with an obvious subset of both half cylinders namely ca is given by ca r s 1 r s 1 where s t s t provided s t r 0 s 1 s t r s 1 and s s r and t t we shall write s t or equivalently s t for the points in the part being identified note that we have for 0 a 1 2 a natural embedding za ca s t s t for a 6 0 the cylinder ca has a natural complex manifold structure for which the maps on za ca defined by s t s t r s 1 and s t s t r s 1 have natural extensions to biholomorphic maps ca r s 1 the extensions will be written as above the transition map r s 1 r s 1 s t s t is given by s t s r t definition 2 38 for u u e the anti glued map a u u ca r n is defined for a 0 by 0 u u 0 i e the only map rn 33 and otherwise by a u u s t s r 2 1 u s t ava u u s r 2 u s r t ava u u here ava u u 1 2 s 1 u r 2 t u r 2 t dt if we start with u u e and pick any 0 a 1 2 the total gluing map a u u a u u a u u defines a bounded linear isomorphism from e to h 3 za r n h 3 0 c ca r n here h 3 0 c ca r n denotes the hilbert space of maps u ca r n which are of class h 3 loc so that in addition there exists a constant c r n depending on u for which u c has partial derivatives up to order 3 which weighted by e 0 s belong to l 2 s 0 s 1 or l 2 s 0 s 1 respectively for a suitably large s 0 in particular we obtain for a 6 0 a linear topological isomorphism ker a h 3 za r n u u a u u since e decomposes as the topological direct sum e ker a ker a there exists an associated family a a of bounded projection operators a e e which project onto ker a along ker a proposition 2 39 for every a 1 2 the linear operator a e e is a bounded projection however the map a c a 1 2 l e a a where the space of bounded operators l e is equipped with the operator norm is nowhere continuous the map a c a 1 2 e e a u u a u u is continuous 34 the map r a 1 2 e a 1 2 e defined by r a u u a a u u is continuous and satisfies r r r it also preserves the fibers of a 1 2 e a 1 2 the image of r is then a fiber wise retract define ker as the subset of a c a 1 2 e consisting of all tuples a u u with a u u 0 then we have continuous projection ker a c a 1 2 where the fibers are sc hilbert spaces let us define the set x 3 0 rn by x 3 0 rn 0 e 0 a 1 2 0 h 3 za r n we obtain a fiber preserving fiber wise linear bijection ker x 3 0 rn y y a 1 2 a 1 2 we equip the right hand side with the topology t which makes a home omorphism we observe that ker depends on the choice of the cut off function whereas the right hand side does not depend on any choice so one might ask if t depends on the choice of proposition 2 40 the definition of the topology t does not depend on the choice of the cut off function moreover t is a metrizable topology as a consequence of this proposition x 3 0 rn is in a natural way a metrizable topological space so that the projection p x 3 0 rn a 1 2 u za r n a is continuous we can carry out this construction for every rn interestingly a smooth map f rn rm induces a continuous map x 3 0 rn x 3 0 rm u f u summarizing this means that the following assertion holds true 35 proposition 2 41 the construction x 3 0 defines a natural functor from the category of euclidean spaces with objects rn and smooth maps between them into the category of metrizable topological spaces if q is a smooth connected manifold without boundary we can take for a sufficiently large n a smooth proper embedding j q rn and define x 3 0 q to consist of all continuous maps u za q such that j u x 3 0 rn and equip it with the topology making the map u j u a homeomorphism onto its image the resulting topological space x 3 0 q does not depend on the choice of the embedding indeed if k q rm is another proper embedding then k j 1 and j k 1 are restrictions of globally defined smooth maps which implies the conclusion if q does not have boundary but is not connected we can apply the above to every component consequently we have the following result proposition 2 42 the functor x 3 0 defined for the spaces rn and the smooth maps between them has a natural extension to the category of smooth manifolds without boundaries and the smooth maps between them given a finite dimensional smooth manifold and a smooth map l a c a 1 2 we can consider the pull back x 3 0 rn x 3 0 rn defined by the diagram x 3 0 rn y l a 1 2 the next result is more complicated to prove denote by j the standard almost complex structure on za we assume that for a 1 2 we are given a family a j a of smooth almost complex structures on za the j a live on different do mains and we require a certain form of smooth dependence on a the first requirement is the following where denotes the exponential gluing profile i there exist 0 1 2 and h 0 so that j a j on s t za s h a h 36 provided 0 a and if a 0 it holds that j 0 r s 1 equals j on h s 1 and h s 1 here we assume that 2 h with other words if the neck gets longer the structure will be j in the necks but can be different near the boundaries in the next step we shall have to formulate the smoothness requirements near the boundaries consider for a the maps 0 3 2 h s 1 za s t s t and 3 2 h 0 s 1 za s t s t which we can use to pull back j a to obtain the families j a and j a respectively defined for a ii for as in i the maps a j a a are smooth next we need to say something about the smoothness for a 1 2 if 1 2 a 1 2 we can identify 0 1 s 1 with za via the map s t a s t and via pull back obtain the family j a 1 2 a 1 2 on 0 1 s 1 similarly we can identify 1 0 s 1 with za via the map s t a 0 s t and obtain the pull back family a j a on 1 0 s 1 we require the following iii a j a and a j a for 1 2 a 1 2 are smooth families definition 2 43 a family a j a which associates to a 1 2 a smooth almost complex structure on za and having the properties i ii and iii as described above will be called a good family of smooth almost complex structures there are many equivalent formulations for defining a good family the important result is concerned with the continuity of a certain class of maps theorem 2 44 assume j and k are two good families as described above and a 1 2 a 1 2 a b a is a smooth map so that there exists a core smooth family defined below a a za j a zb a k b a 37 of biholomorphic maps then the map b x 3 0 q x 3 0 q a u u a is continuous the family a a being core smooth just requires this map and its inverse to be smooth near the boundaries this is well defined using the coordinates s t and s t by unique continuation a is entirely determined by knowing a b a and its values near the boundaries so the fact that a za zb a is biholomorphic also determines the behavior inside which of course is crucial for the validity of the theorem remark 2 45 the proof of this result requires some work the above map will in fact be sc smooth once we have introduced this concept in 31 28 proofs of sc smooth versions of theorem 2 44 can be found we note that maps of the type occurring in theorem 2 44 usually will not be classically differentiable unless they are constant in fact the expression u a when differentiating with respect to a would loose a derivative of u the previous discussion can be extended in a first step rather than considering the half cylinders r s 1 we consider a noded disk pair dx dy x y from all possible decorations x y of x y we obtain the nat ural gluing parameters r x y with r 0 1 2 and define the set of gluing parameters associated to x y d as described before by b x y 1 2 r x y r 0 1 2 x y decorated nodal pair if we pick x and y so that x y is a representative of x y there are unique associated biholomorphic maps hx dx x d 0 and similarly hy so that thx x x r and thy y y r with this data we first obtain the map b x y 1 2 z c z 1 2 r x y r which by the definition of the complex structure on b x y 1 2 is biholo morphic if a x y and hx and hy are as described above then hx and 1 hy is the uniquely determined choice of maps dx x d 0 and dy y d 0 with thx x x r and t 1 hy y y r hence 38 the identification z z with hx z hy z e 2 r defines zr x y where r r with hx and hy fixed let us define biholomorphic maps dx x 0 s 1 z s t where e 2 s it hx z and dy y 0 s 1 z s t where e 2 s it hy z we would like to find the complex number a a a so that we obtain a natural induced biholomorphic map from za to za clearly the identification z z associated to hx z 1 hy z e 2 r which defines za if a r x y is equivalent to the identification s t s t given by e 2 s it e 2 s it e 2 i e 2 r where we write as e 2 i hence s s r and t t this is the identification defining za hence with a r x y r we obtain an induced biholomorphic map za za a z e 2 s it s t this family of maps allows us to use the definition of x 3 0 rn to define a set of maps on the za resulting in a set x 3 0 d r n with d dx dy x y more precisely x 3 0 d r n h 3 0 c d r n a b x y 1 2 0 a 1 2 h 3 za r n the elements in h 3 0 c d r n are pairs u u of continuous maps defined dx and dy respectively so that u x u y and if x are positive polar coordinates on dx centered at x and y negative ones on dy centered at y the pair u x u y belongs to e the previous construction might a priori depend on the choices involved however making different initial 39 choices of identifying x 3 0 d r n with e the associated transition families in duce continuous maps as a consequence of theorem 2 44 this is a natural construction and the space itself is homeomorphic to the image of a continu ous retraction moreover it follows immediately from the definition that for a smooth map f rn rm the map w f w is continuous from this we can deduce that the functor x 3 0 d has a natural extension to all smooth manifolds q without boundary at this point we have a well defined functorial construction which asso ciates to a nodal disk paird dx dy x y and smooth manifold without boundary q a metrizable topological space x 3 0 d q and to a smooth map f q q a continuous map x 3 0 d q x 3 0 d q w f w we can go one step further this step is natural as well consider a noded riemann surface s j d we assume that s has no boundary and is com pact we do not assume any stability assumption suppose that we are given a finite group g acting by biholomorphic maps on s j d and d is a small disk structure invariant under g then we can take the natural gluing parameters and consider the family a sa ja da we have dealt with problems arising near the nodes and the obtained glued necks away from these regions we are just dealing with static domains and sobolev class h 3 functions on them we obtain the following result from the previous discussion theorem 2 46 given a noded closed riemann surface s j d with an action by biholomorphic maps by a finite group and a g invariant small disk structure there exists a functorial construction of a metrizable topological space x 3 0 s j d d q for every smooth manifold q without boundary moreover g acts continuously on these spaces associated to a smooth map f q q there is a continuous equivariant map x 3 0 s j d d q x 3 0 s j d d q w f w there are some additional useful constructions which will be used later assume that s is a finite g invariant subset in the complement of the disks coming from the small disk structure suppose that we have fixed for every g orbit z of a point z a codimension two submanifold h z in q denote the collection of all these constraints by h define a sub set x 3 0 s j d d h q of x 3 0 s j d d q to consist of all u intersecting h z at z 40 transversally for all z if we have a map u in x 3 0 s j d d h q we find a small neighborhood around every z and an open neighborhood u around u so that for every z there is continuous map u w zw uniquely determined by the requirement that w intersects h z transversally at zw denote by a deformation of we can construct a continuous family of self maps a sa da sa da which in the necks are the identity and which move back to and are supported in a small neighborhood around then the map defined for w u given by w w 1 w a where w is the deformation associated to w i e the collection of all zw defines a continuous retraction on some open neighborhood o o w so that r o o x 3 0 s j d d h q with other words the subset x 3 0 s j d d h q of x 3 0 s j d d q is locally a retract given by an retraction of a particular form since the ambient space was modeled locally on retracts the same is true for this subset remark 2 47 all the constructions which we have carried out do not have a chance to be classically smooth however as we shall see later they are in fact smooth construction in the sc smooth world i e they are differen tial geometric constructions in an extended differential geometry as described in 29 30 we complete the discussion by adding some words about the construction of certain bundles over x 3 0 s j d d h q first of all we would like to change the almost complex structure on the sa da by deforming the ja let us assume for the moment we are given a smooth family j v v j v satisfying j 0 j and j v j on the disks of the small disk structure here v is an open subset of some finite dimensional vector space in general we would have an action of g on these spaces but at the moment this is not relevant for the point we would like to make then v x 3 0 s j d d h q is a metrizable topological space and we can view a point v w in this space as a map defined on sa j v a da i e defined on a deformation of sa ja da the space on which w was originally defined we consider next tuples v u 41 where z z is of class h 2 0 and for fixed z sa it holds that z tzsa j v a tu z q j is complex anti linear by e 2 0 s j d d h j q j we denote the collection of all these tuples we have a natural projection p e 2 0 s j d d h j q j v x 3 0 s j d d h q v u v u a similar construction involving retractions allows to equip the above with a natural metrizable topology and the local models for these spaces arek o where o is a retraction in an hilbert space and similarly for k in a product of hilbert spaces where in this case the retraction is linear on fibers with respect to a projection of the product onto the first factor we refer the reader to 28 31 for details 2 5 a good uniformizer in the following discussion we shall need the version of deligne mumford theory of stable riemann surfaces using the exponential gluing profile the discussion is in spirit completely parallel to the one for the category r however the difference is that all occurring maps in the discussion of r are either smooth or holomorphic depending on the gluing profile but in the stable map discussion they are only continuous we shall now describe the construction of the functors which were intro duced in subsection 2 2 fix an object in s 3 0 q with automorphism group g and write s j m d u as a consequence of the stability condition we obtain the following lemma 2 48 the group g is a finite we need the notion of a domain stabilization definition 2 49 a domain stabilization for consists of a finite subset s m d so that the following holds i s j m d withm being the unordered setm is a stable perhaps noded riemann surface ii is an invariant set under the action of g 42 iii if z z and u z u z then there exists a g g with g z z iv for every z the map tu z tzs tu z q is injective and pulls back to a non degenerate two form on tzs defining the same orien tation as j one easily proves that domain stabilizations always exist as a consequence of the stability assumption lemma 2 50 every object in s 3 0 q has a domain stabilization after fixing a domain stabilization we have two stable objects namely the stable map in obj s 3 0 q and the stable noded riemann surface with unordered marked points s j m d which is an object in r the automorphism group g of is contained in the automorphism group g of and both are finite groups we continue with and pick a small disk structure d which is invariant under g then we fix a good deformation v j v with v v where v h 1 is an open g invariant subset we can construct the functor associated to v a sa j v a m a da where m m taking a sufficiently small g invariant open neighbor hood o of 0 0 in h 1 b we obtain a good uniformizer g o r denote for z by z the g orbit it follows that if z 6 z then u z 6 u z of course u takes the same value on all the elements of z for every z we fix a smooth oriented submanifold h z in q of codimension two so that u z h z and the oriented range tu z h z equals the oriented tu z q then u intersects h z transversally at z we assume that h z does not have a boundary it is even fine to assume that it is diffeomorphic to an open ball denote the whole collection h z by h recall our topological space x 3 0 s j d d q which contains u s d q from the sobolev embedding theorem we know that h 3 loc c 1 loc as a consequence the subset x 3 0 s j d d h q consisting of all w sa da q which at z intersects h z transversally is well defined we also recall that if w x 3 0 s j d d q is close enough to u there is a unique intersection 43 point zw near z so that w intersects h z transversally moreover w zw is continuous one can use this to prove the following before mentioned result proposition 2 51 for every map w in x 3 0 s j d d h q there exists an open neighborhood u w in x 3 0 s j d d q and a continuous map r u w u w so that r u w u w x 3 0 s j d d h q with other words the subspace associated to the constraints is a local continuous retract this part is very important and ties in with the dm theory with our original object being the stable map s j m d u it holds that s d u x 3 0 s j d d h q we also have the object in r and with the small disk structure we obtained the good uniformizing family a v sa j v a m a da which was used to construct the good uniformizer g o r next we form the topological product space v x 3 0 s j d d h q and bring the two separate discussions together we define for its elements the map v sa da w sa j v a ma da w the group g acts on the topological space v x 3 0 s j d d h q and the above map defines a functor g v x 3 0 s j d d h q s 3 0 q the fundamental observation is the following which follows from the results in 28 theorem 2 52 for a suitable g invariant open neighborhood o of 0 s d u v x 3 0 s j d d h q the following properties hold i g o s 3 0 q is full and faithful ii the map induced on orbit spaces is a homemomorphism onto an open neighborhood of 44 iii if v sa da w o then a v o where we recall the good uni fomizer for r denoted by g o r iv for every q v sa da w o there exists an open neighborhood u q o so that every sequence qk in u q for which qk converges in s 3 0 q has a subsequence qk which converges in clo u q we note that the construction of requires several choices however starting with an object we obtain a set worth f of functors having the properties stated in the theorem hence again we obtain a functorial construction f s 3 0 q set remark 2 53 moreover if is an isomorphism the possible choices made for can be bijectively identified with choices for this means f is in fact a functor s 3 0 q set further there is a precise geometric relationship between and f similar to the r case assume that we are given two such functors and associated to stable maps and and suppose there exist q 0 and q 0 for which there exists an isomorphism 0 q 0 q 0 then 0 has an underlying biholomorphic map 0 and as we shall see taking a variation q of q 0 there is a uniquely determined core continuous see 28 germ q q and a germ of homeomorphism q q q so that q q q q q satisfies q q q q one can use this fact to construct a topology on the transition sets m for this topology the source and target maps will be local homeomorphisms and all structure maps will be continuous one can find the details in 28 where this program is carried out in the sc smooth case which we shall discuss later on the current topological discussion is easier in summary there is a natural construction f m for s 3 0 q here f associates to an object a set f of good uniformizers defined on metriz able translation groupoids and m associates to the transition sets m 45 metrizable topologies having the property that the structural maps become continuous and the source and target maps even local homeomorphisms the procedure we just outlined can be extended to deal with p e 2 0 q j s 3 0 q in this case the construction f m can be extend to a construction f m covering the construction f m where f s 3 0 q set but associates to an object a good bundle uniformizer g k e 2 0 q j p y p y g o e 3 0 q it requires variations of the previous constructions and the necessary details can be found in 28 10 one might raise the question given the naturality of the construction if there is perhaps more structure to be found in particular since pertur bations of the pseudoholomorphic part of s 3 0 q for a given compatible almost complex structure are used to define gromov witten invariants the answer is a resounding yes in fact all the constructions which occured are smooth constructions in an extension of differential geometry which relies on a more flexible notion of differentiablity in banach spaces in this differ ential geometry there is a much larger library of smooth finite dimensional or infinite dimensional local models for smooth spaces these local models can have locally varying dimensions but still have tangent spaces moreover there is a nonlinear fredholm theory with the usual expected properties we shall describe this in the next section 3 smoothness it is an amazing fact that the construction f m is not just topological but in fact a smooth construction within a suitable framework of smoothness which is quite different from the classical one it will be described next we keep in mind the occurrence of continuous retractions when constructing the domains of the good uniformizers 46 3 1 sc structures and sc smooth maps assume we are given two banach spaces e and f for which we have as vector spaces a continuous inclusion e f in interpolation theory 53 general methods are developed to construct banach spaces which interpolate between e and f we take the concept of a scale with suitable properties from interpolation theory but give it a new interpretation as a generalization of a smooth structure this study was initiated in 24 25 26 and leads to a quite unexpectedly rich theory in 29 30 we streamlined the presentation and added many further developments which have not been published before definition 3 1 let e be a banach space an sc smooth structure or sc structure for short for e consists of a nested sequence of banach spaces e 0 e 1 e 2 with e 0 e so that 1 the inclusion ei 1 ei is a compact operator 2 e iei is dense in every em example 3 2 a typical example is e l 2 r with the sc structure given by em h m m r where hm m r is the sobolev space of functions in l 2 so that the derivatives up to order m weighted by e m s belong to l 2 here m is a strictly increasing sequence starting with 0 0 if e and f are sc banach spaces then e f has a natural sc structure given by e f m em fm every finite dimensional vector space has a unique sc structure namely the constant one where ei e if e is infinite dimensional the constant se quence violates 1 of definition 3 1 we continue with some considerations about linear sc theory definition 3 3 let e be an sc banach space and f e a linear sub space we call f an sc subspace provided the filtration fi f ei turns f into an sc banach space if f e is an sc banach space then we say that it has an sc complement provided there exists an sc subspace g such fi gi ei as topological linear sum for all i let us note that a finite dimensional subspace f ofe has an sc complement if and only if f e see 24 47 the linear operators of interest are those linear operators t e f which map em into fm for all m such that t em fm is a bounded linear operator we call t an sc operator an sc isomorphism t e f is a bijective sc operator so that its inverse is also an sc operator of particular interest are the linear sc fredholm operators definition 3 4 a sc operator t e f is said to be sc fredholm provided there exist sc splittings e k x and f y c so that c and k are smooth and finite dimensional y t x and t x y defines a linear sc isomorphism we note that the above implies that em xm k and fm t xm c for all m the fredholm index is by definition ind t dim k dim c let us also observe that for every m we have a linear fredholm operator in the classical sense t em fm which in particular have the same index and identical kernels next we begin with the preparations to introduce the notion of an sc smooth map if u e is an open subset we can define an sc structure for u by the nested sequence ui i 0 given by ui ei u we note that u ui is dense in every um considering u with its sc structure we see that ui 0 ei 0 also admits an sc structure defined by ui 0 m ui 0 m we write u i 0 for ui 0 equipped with this sc structure given two such sc spaces u and v we write u v for u v equipped with the obvious sc structure now we can give the rigorous definition of the tangent tu of an open subset u in an sc banach space e definition 3 5 the tangent tu of an open subset u e of the sc banach space e is defined by tu u 1 e we note that tu i u 1 i ei continuing example 3 2 we have tl 2 r h 1 1 r l 2 r and tl 2 r i h i 1 i 1 r h i i r 48 definition 3 6 given two open subsets u and v in sc banach spaces a map f u v is said to be of class sc 0 provided for every m the map f maps um into vm and the map f um vm is continuous the following example takes a little bit of work example 3 7 take l 2 r with the previously defined sc structure and define r l 2 r l 2 r t u t u where t u s u s t then is sc 0 next we define the notion of an sc 1 map definition 3 8 let u e and v f be open subsets in sc banach spaces an sc 0 map f u v is said to be sc 1 provided for every x u 1 there exists a continuous linear operator df x e 0 f 0 so that the following holds 1 for h e 1 with x h u we have lim h 1 0 1 h 1 f x h f x df x h 0 0 2 the map tf defined by tf x h f x df x h for x h tu defines an sc 0 map tf tu tv inductively we can define the notion of a sck map a map is sc provided it is sck for all k the following result shows that the chain rule holds this is quite unexpected since this fact looks not compatible with 1 of the previous definition however one is saved by the compactness of the inclusions stipulated by our definition of sc structure theorem 3 9 chain rule assume that u v and w are open subsets in sc banach spaces and f u v and g v w are sc 1 maps then g f is sc 1 and t g f tg tf the same holds for sck and sc smooth maps example 3 10 one can show see 31 that the map from the previous example is sc smooth classically it is nowhere differentiable 49 3 2 sc smooth spaces and m polyfolds now we are in the position to introduce new local models for smooth spaces the interesting thing about sc smoothness is the fact that there are many smooth retractions with complicated images so that one obtains a large library of smooth local models for spaces this library is large enough to describe problems occurring when studying the nonlinear cauchy riemann operators in symplectic geometry which shows analytical limiting behavior allowing for bubbling off and similar analytical phenomena definition 3 11 let u e be an open subset of the sc banach space e a map r u u is called a sc retraction provided it sc smooth and r r r the chain rule implies that for a sc retraction r its tangent map tr is again an sc retraction we call the image o r u of an sc retraction r u u an sc retract the crucial definition is the following definition 3 12 a local sc model is a pair o e where e is an sc banach space and o e an sc retract given as the image of an sc smooth retraction r u u defined on an open subset u of e the following lemma is easily established lemma 3 13 assume that o e is a local sc model and r and s are sc smooth retractions defined on open subsets u and v of e respectively having o as the image then tr tu ts tv in view of this lemma we can define the tangent of a local sc model which again is a local sc model as follows definition 3 14 the tangent of the local sc model o e is defined by t o e to te where to tr tu for any sc smooth retraction r u u having o as the image where u is open in e remark 3 15 let us observe that if o e is a local sc model and o an open subset of o then o e is again a local sc model indeed if r u u 50 is an sc smooth retraction with o r u then define u r 1 o and r r u u u is an sc smooth retraction with image o a map f o o between two local sc models is sc smooth or sck provided f r u e is sc smooth or sck one easily verifies that the definition does not depend on the choice of r we can define the tangent map tf to to by tf t f r tr tu as it turns out this is well defined and does not depend on the choice of r as long as it is compatible with o e theorem 3 16 chain rule assume that o e o e and o e are local sc models and f o o and g o o are sc 1 then g f o o is sc 1 and t g f tg tf moreover if f g are sck so is g f the same for sc the following remark 3 17 explains how the current account is related to 24 25 26 remark 3 17 in the series of papers 24 25 26 we developed a gener alized fredholm theory in a slightly more restricted situation which however is more than enough for the applications namely rather than considering sc smooth retractions and sc smooth retracts splicings and open subsets of splicing cores were considered which one can view as a special case a splic ing consists of an open subset v in some sc banach space w and a family of bounded linear projections v e e v v where e is another sc banach space so that the map v e e v e v e is sc smooth then the associated splicing core is k defined by k v e v e v e e clearly v e is an open subset in w e and r v e v v e is an sc smooth retraction the associated retract is of course the splicing core k 51 if o is an open subset of k we know that it is again an sc smooth retract let us note that in all our applications the retractions are obtained from splicings the above modifications have been implemented in 29 30 we demonstrate next how the definition of a manifold can be general ized let z be a metrizable topological space a chart for z is a tuple u o e where u o is a homeomorphism and o e is a local sc model we say that two such charts are sc smoothly compatible provided 1 u v u v is sc smooth and similarly for 1 here v p f is the second chart note that the sets u v and u v are sc smooth retracts for sc smooth retractions defined on open sets in e and f respectively an sc smooth atlas for z consists of a family of sc smoothly compatible charts so that their domains cover z two sc smooth atlases are compatible provided their union is an sc smooth atlas this defines an equivalence relation definition 3 18 let z be a metrizable space an sc smooth structure on z is given by an sc smooth atlas two sc smooth structures are equivalent if the union of the two associated atlases defines again an sc smooth structure a m polyfold is a metrizable space z together with an equivalence class of sc smooth structures we note that these spaces have a natural filtration z 0 z 1 z 2 the points in zi one should view as the points of some regularity i the sc smooth spaces are a very general type of space on which one can define sc smooth functions it is possible to generalize many of the constructions from differential geometry to these spaces if we have an sc smooth partition of unity we can define riemannian metrics and consequently a curvature tensor note however that curvature would only be defined at points of regularity at least 2 the existence of an sc smooth partition of unity depends on the sc structure the tangent space at a point of level at least one is defined in the same way as one defines them for banach manifolds see 34 namely one considers tuples z u o e h where z z 1 and u o e a chart so that z u and h t z o two such tuples say the second is z u o e h are said to be equivalent provided z z and t 1 z h h an 52 equivalence class z u o e h then by definition is a tangent vector at z the tangent space at z z 1 is denoted by tzz and we define tz as tz z z 1 z tzz one can show that tz has a natural m polyfold structure so that the natural map tz z 1 is sc smooth see 29 example 3 19 consider the metrizable space z given as the subspace of r 2 defined by z s t r 2 t 0 if s 0 then z admits the structure of an m polyfold in order to see this one constructs a topological embedding into r l 2 r where l 2 r has the previously introduced sc structure in such a way that the image is an sc smooth retract here the idea of an sc smooth splicing comes in handy take a smooth compactly supported map r 0 with t 2 ds 1 denote by fs for s 0 the unit length element in l 2 defined by fs t t e 1 s for s 0 we define fs 0 and denote by s the l 2 orthogonal projec tion onto the subspace spanned by fs then a somewhat lengthy computation shows that r r l 2 r l 2 r s u s s u is an sc smooth retraction with obvious image o being s t fs s t r 2 hence o r l 2 is a local sc model we note that it has varying dimension the map z r l 2 s t s t fs is a homeomorphic embedding onto o the map is clearly continuous and injective and has image o define r l 2 r 2 by s x s r x t fs t dt this map is continuous and its restriction to o is the inverse of the previ ously defined map hence we obtain the structure of an m polyfold on z 53 this gives us the first example of a finite dimensional space with varying di mension which has a generalized manifold structure we also note that the induced filtration is constant so that a tangent space is defined at all points this is due to the fact that the local model o lies entirely in the smooth part of r l 2 it is instructive to study sc smooth curves o satisfying 0 0 0 modifications of the above construction allow us to put smooth structures on the spaces shown in figure 1 the m polyfold does not allow an sc smooth embedding into any rn since then it would have be a smooth manifold by 4 however as seen in the construction it can be sc smoothly embedded into an infinite dimensional space 3 3 strong bundles the notion of a strong bundle is designed to give additional structures in the fredholm theory which guarantee a compact perturbation and transversality theory the crucial point is the fact that there will be a well defined vector space of perturbations which have certain compactness properties on the other hand these perturbations are plentiful enough to allow for different versions of sard smale type theorems 50 in the fredholm theory let us start with a non symmetric product u f where u is an open subset in some sc banach space e and f is also an sc banach space by definition as a set u f is the product u f but in addition it has a double filtration u f m k um fk defined for all pairs m k satisfying 0 k m 1 we view u f u as a bundle with base space u and fiber f where the double filtration has the interpretation that above a point x u of regularity m it makes sense to talk about fiber regularity of a point x h up to order k provided k m 1 at this point it is not clear why one introduces this non symmetric product coming with a non symmetric double filtration we refer the reader to the later example 3 22 explaining why it is introduced given u f we might consider the associated sc spaces u f and u f 1 of interest for us are the maps u f v g of the form u h u u h 54 which are linear in h definition 3 20 we say that the map as described above is of class sc 0 provided it induces sc 0 maps u f i v gi for i 0 1 we define the tangent t u f by t u f tu tf note that the order of the factors is different from the order in t u f one has to keep this in mind indeed t u f u 1 e f 1 f and t u f u 1 f 1 e f definition 3 21 a map u f v g is of class sc 1 provided the maps u f i v gi for i 0 1 are sc 1 taking the tangents of the latter gives after rearrangement the sc 0 map t tu tf tv tg iteratively we can define what it means that a map is sck for k 1 2 and we can also define sc smooth maps given u f u a sc smooth section f is map of the form x x f x such that the induced map u u f is sc smooth in particular f is horizontal with respect to the filtration i e a point on level m is mapped to a point of bi level m m this can be considered as a convention and it is precisely this convention which is responsible for the filtration constraint k m 1 there is another class of sections called sc sections these are sc smooth sections of u f u which induce sc smooth maps u u f 1 in particular if s is an sc section of u f u and s x x s x for x um then s x fm 1 this type of sections will be important for the perturbation theory indeed it is a kind of compact perturbation theory since the inclusion fm 1 fm is compact we give an example before we generalize an earlier discussion about retracts and retractions to bundles of the type u f u example 3 22 let us denote by e the sobolev space h 1 s 1 rn of loops we define an sc structure by em h 1 m s 1 rn further we define f l 2 s 1 rn h 0 s 1 rn which we filter via fm h m s 1 rn finally 55 we introduce e f e then we can view the map f x x as an sc smooth section of e f e in particular f maps em into em fm we observe that the filtration of f is picked in such a way that the first order differential operator x x is an sc smooth section in particular it is horizontal i e the choices are made in such a way that they comply with our convention that sc smooth sections are index preserving the map x x can be viewed as an sc section then x x x is an sc smooth section obtained from the sc smooth section x x via the perturbation by an sc section consider now a smooth vector bundle map rn rn rn rn of the form x h x x h where rn rn is a diffeomorphism and for every x rn the map x rn rn is a linear isomorphism then we define for x h e f the element x h t x t x t h t note that if x em and h fk for k m 1 then x h y satisfies y em and fk however if x em and y fk for some k m 1 we cannot conclude that fk we can only say that fm 1 now one easily verifies that e f e f is sc smooth this justifies our constraint k m 1 for the double filtration definition 3 23 an sc retraction is an sc smooth map r u f u f with the property r r r of course r has the form r u h r u u h with r being an sc smooth retraction and u h linear in the fiber given r we can define its image k r u f and o r u then we have a natural projection map p k o we may view this as the local model for a strong bundle observe that k has a double filtration and p maps points of regularity m k to points of regularity m 56 definition 3 24 the tuple k e f where k is a subset of e f so that there exists an sc retraction r defined on u f where u e is open and k r u f is called a local strong bundle model starting with k e f we have the projection k e and denote its image by o and the induced map by p k o one can define t k e f by t k e f tk te tf where tk is the image of tr as before we can show that the definition does not depend on the choice of r now we are in the position to define the notion of a strong bundle let p w x be a surjective continuous map between two metrizable spaces so that for every x x the space wx p 1 x comes with the structure of a banach space a strong bundle chart is a tuple p 1 u e f where p 1 u k is a homeomorphism covering a homeomorphism u o which between each fiber is a bounded linear operator p 1 u k p y y u o we call two such charts sc smoothly equivalent if the associated transition maps are sc smooth we can define the notion of a strong bundle atlas and can define the notion of equivalence of two such atlases definition 3 25 let p w x be as described before a strong bundle structure for p is given by a strong bundle atlas two strong bundle structures are equivalent if the associated atlases are equivalent finally p equipped with an equivalence class of strong bundle atlases is called a strong bundle let us observe that a strong bundle p w x admits a double filtration wm k with 0 k m 1 by forgetting part of this double filtration we observe that w 0 which is w filtered by w 0 m wm m has in a natural way the structure of an m polyfold the same is true for w 1 which is the space w 0 1 equipped with the filtration w 1 m wm m 1 obviously the maps p w i x for i 0 1 are sc smooth 57 the previously introduced notions of sc smooth sections and sc sections for u f u generalize as follows definition 3 26 let p w x be a strong bundle over the m polyfold x without boundary i a sc smooth section of the strong bundle p is an sc 0 map s x w with p s idx such that s x w 0 is sc smooth the vector space of all such sections is written as p ii a sc section section of the strong bundle p is a sc 0 map s x w 1 with p s idx which in addition is sc smooth the vector space of sc sections is denoted by p in some sense sc sections are compact perturbations since the inclusion map w 1 w 0 is fiber wise compact they are very important for the perturbation theory 3 4 a special class of sc smooth germs the next goal is to define a suitable notion of fredholm section of a strong bundle the basic fact about the usual fre chet differentiability is the follow ing if f u f is a smooth map in the usual sense between an open neighborhood u of 0 e with target the banach space f and satisfying f 0 0 then we can describe the solution set of f 0 near 0 by an implicit function theorem provided df 0 is surjective and the kernel of df 0 splits i e has a topological linear complement so smoothness and some properties of the linearized operator at a solution give us always qualitative knowledge about the solution set near 0 on the other hand f u f being only sc smooth df 0 being surjective and its kernel having an sc complement is not enough to conclude much about the solution space near 0 however as we shall see there is a large class of sc smooth maps for which a form of the implicit function theorem holds in applications the class is large enough to explain gluing constructions a la taubes and floer as smooth implicit function theorems in the sc world one of the issues which has to be addressed at some point is the fact that the spaces we are concerned with have locally varying dimensions though it might sound like a major issue it will turn out that there is a simple way to deal with these type of problems it is a crucial observation that in 58 applications base and fiber dimension change coherently the sc formalism incorporates this with a minimum amount of technicalities one should re mark that our presentation is slightly more general than the one given in 25 let us begin with some notation as usual e is an sc banach space we shall write o e 0 for an unspecified nested sequence u 0 u 1 u 2 where every ui is an open neighborhood of 0 ei note that this differs from previous notation where ui ei u when we are dealing with germs we always have the new definition in mind a sc smooth germ f o e 0 f is a map defined on u 0 so that for points x u 1 the tangent map tf u 1 e 0 tf is defined which again is a germ tf o te 0 tf we introduce a basic class cbasic of germs of maps as follows definition 3 27 an element in cbasic is an sc smooth germ f o rn w 0 rn w 0 for suitable n and n and an sc banach space w so that the following holds if p rn w w is the projection then p f has the form p f r w w b r w for r w u 0 r n w moreover for every 0 and m n we have b r w b r w m w w m for all r w r w um close enough to 0 0 on level m in 25 the class of basic germs was slightly more general in the sense that it was not required that f 0 0 in its definition however all important results were then proved under the additional assumption that f 0 0 in the applications to sft and the other mentioned theories one can bring the occurring nonlinear elliptic differential operators even at bubbling off points modulo a filling which is a crucial concept in the polyfold theory and will 59 be explained shortly via sc smooth coordinate changes into the above form see 28 10 for gromov witten theory and 11 for the operators in sft it is important to note that if f is sc smooth so that f 0 0 and df 0 is sc fredholm it is generally not true that after a change of coordinates f can be pushed forward to an element which belongs to cbasic as shown in 25 29 basic germs admit something like an infinitesimal smooth implicit function theorem near 0 this is something intrinsic to sc structures which for certain maps can be bound together to a local implicit function theorem to explain this assume that u e is an open neighborhood of 0 and f u f is an sc smooth having the following properties where ui ei u i f 0 0 and df 0 is a surjective sc fredholm operator ii f is regularizing this means if x um and f x fm 1 then x um 1 iii viewing f as a section of u f u near every smooth point x and for a suitable sc section with s x f x the germ f s o e 0 f is conjugated to a basic germ under these conditions there is a local implicit function theorem near 0 which guarantees a local solution set of dimension being the fredholm index of df 0 at 0 and in addition guarantees a natural manifold structure on this solution set the infinitesimal implicit function theorem refers to the following phe nomena for basic germs if f cbasic then pf a w w b a w where b is a family of contractions on every level m near 0 0 hence using banach s fixed point theorem we find a germ m solving m a b a m a on level m for a near 0 by uniqueness a solution on level m also solves the problem on lower levels this implies that we have a solution germ a a a of pf a w 0 the infinitesimal sc smooth implicit function theorem gives the nontrivial fact that the germ o rn 0 w 0 is an sc smooth germ see 25 29 60 in summary as we shall discuss in more detail later if we have a reg ularizing sc smooth section which around every smooth point is conjugated mod a suitable sc section to a basic germ then the infinitesimal implicit function theorems around points y near x combine together to give a local implicit function theorem near a point x where the linearization is surjective we refer the reader to 29 for a comprehensive discussion 3 5 sc fredholm sections assume next that p k o is a strong local bundle i e k e f is a local strong bundle model suppose f o o x k is a germ which we shall write as f x definition 3 28 a filling for the germ f x consists of the following data 1 an sc smooth germ f o e x f 2 a choice of strong bundle retraction r u f u f such that k is the image of r viewing f as a map o f such that y f y f y where r y h r y y h we assume that the data satisfies the following properties 1 f y f y for all y o near x 2 f y r y f y for y near x in u implies that y o 3 the linearisation of the map y id r y f y at x restricted to the ker dr x defines a linear topological isomor phism ker dr x ker x the germ f x is said to be fillable provided there exists a germ of strong bundle map covering a germ of local sc diffeomorphism so that the push forward germ f x has a filling a filled version of f x is an sc smooth germ g x obtained as a filling of a suitable push forward 61 in the definition the meaning that is a germ of strong bundle map covering is the following for the given k u f p k o with x o u there exists k u f p k o with x o e and open neighborhoods x v o x v o so that the following is a commutative diagram associated to a strong bundle isomorphism p 1 v p 1 v p y p y v v moreover the size of v and then of v is unspecified small but fixed also in this case vi oi v only for the solution germs the neighborhoods in higher regularity shrink if f x has a filling f x the local study of f y 0 with y o near x is equivalent to the local study of f y 0 where y u close to x let us note that if f x 0 the linearisation f x txo kx has the same kernel as f x txu fx and the cokernels are naturally isomorphic definition 3 29 if f is an sc smooth section of a strong m polyfold bundle p w x with x and x is a smooth point we say that the germ f x admits a filled version provided in a suitable local coordinate rep resentation f x admits a filled version as defined in the previous definition we always may assume that the filled version has the form g o e 0 f we recall the notion of a regularizing section which we already mentioned before definition 3 30 let p w x be a strong bundle over the m polyfold x without boundary and f an sc smooth section we say that f is regular izing provided for a point x x the assertion f x wm m 1 implies that x xm 1 note that for a regularizing section f a solution x of f x 0 belongs nec essarily to x if f is regularizing and s p then f s is regularizing now we come to the crucial definition definition 3 31 we call the sc smooth section f of the strong bundle p w x over an m polyfold with x an sc fredholm section 62 provided f is regularizing and around every smooth point x the germ f x has a filled version g 0 so that for a suitable germ of sc section s with s 0 g 0 the germ g s 0 is conjugated to an element in cbasic we denote the collection of all sc fredholm sections of p by f p remark 3 32 an sc fredholm section according to the above definition is slightly more general than the sc fredholm sections defined in 25 an additional advantage of the current definition is the stability result saying that given an sc fredholm section for p w x and an sc section s then f s is an sc fredholm section for p w x with the version given in 25 one can only conclude that f s is an sc fredholm section of p 1 w 1 x 1 in applications the difference is only academic however as far as a presentation is concerned this new version is more pleasant see 29 the following stability result is crucial for the perturbation theory and rather tautological in the setup of 25 it was a nontrivial theorem however some of the burden is now moved to the implicit function theorem see 29 for the proofs in this new setup theorem 3 33 stability let p w x a strong bundle over the m polyfold x then given f f p and s p we have that f s f p fredholm sections allow for an implicit function theorem theorem 3 34 assume that p w x is a strong bundle over the m polyfold x without boundary let f be a sc fredholm section and x a smooth point such that f x 0 and f x txx wx is surjective then the solution set near x carries in a natural way the structure of a smooth manifold with dimension being the fredholm index of f x in addition there exists an open neighborhood v of x so that for every y v with f y 0 the linearisation f y is surjective moreover its kernel can be identified with the tangent spaces of the solution set at y finally we introduce the notion of an auxiliary norm and give a useful compactness result definition 3 35 assume that p w x is a strong bundle over the m polyfold x without boundary an auxiliary norm for p is a map n w 63 r having the following properties i the restriction n w 0 1 is real valued and continuous and on w w 0 1 the map n takes the value ii n restricted to any fiber of p w 0 1 x is a complete norm iii if hk w 0 1 is a sequence such that p hk x 0 in x and n hk 0 then hk 0 x 0 in w 0 1 the existence of an auxiliary norm can be establishes using continuous partitions of unity proposition 3 36 given a strong bundle p w x over the m polyfold x without boundary there exists an auxiliary norm n for two given auxiliary norms n 1 and n 2 there exist continuous maps f 1 f 2 x 0 such that f 1 n 1 n 2 f 2 n 1 now we are in the position to state a useful compactness result for sc fredholm sections which is important for the perturbation theory see 29 theorem 3 37 let p w x be a strong bundle over the m polyfold x without boundary suppose f is an sc fredholm section for which f 1 0 is compact i given an auxiliary norm n there exists an open neighborhood u of f 1 0 so that for every sc section s p with support in u sat isfying n s x 1 for all x x the set f s 1 0 is compact ii if x admits sc smooth partitions of unity we find for every 0 1 an sc section s with support in u so that n s x for all x and the set m f s 1 0 has the structure of a compact smooth manifold without boundary so that the linearization f m tmm wm for all m m is surjective and the tangent space tmm can be canonically identified with ker f m 64 4 polyfold structures and consequences at this point we have discussed a smooth theory for the category of sta ble riemann surfaces based on the construction of good uniformizers and a topological theory associated to the category of stable maps in order transform the latter discussion into one taking place in a smooth world we have generalized the finite or infinite dimensional classical differential geom etry to a more general sc smooth differential geometry and described some of the aspects of an associated nonlinear functional analysis the differential geometric nonlinear functionalanalytic theory is discussed in great detail in 29 30 and gives many more ideas about the framework outlined in section 3 in the following we show how to use this theory to equip certain cate gories with sc smooth structures and illustrate the ideas with the stable map example 4 1 polyfold structures on certain categories it is useful to start with a general definition taken from 30 definition 4 1 a good category with metrizable orbit space is given by a pair c t where c is a category with the following properties i between any two objects there are only finitely many morphisms and every morphism is an isomorphism ii the orbit space c is a set moreover t is a metrizable topology on c we call c t a gct g good c category t topology by our discussion in the previous sections the categoriesr and s 3 0 q are gct s precisely for such categories a construction of type f m is important and very often naturally exists if c is a category coming from geometric considerations next we give a precise definition of the type of previously discussed constructions in the polyfold framework definition 4 2 let c be a gct a good uniformizer for c around an object c with automorphism group g written as g o c 65 consists of a m polyfold o with an sc smooth action of g on o where g o is the associated translation groupoid and is a functor with the following properties i is full and faithful ii there exists a q 0 o with q 0 c iii passing to orbit spaces g o c is a homeomorphism onto an open neighborhood of iv given q o there exists an open neighborhood u q o with the property that every sequence qk u q for which qk converges in c has a convergent subsequence with limit in clo u q as in the continuous case we can define for two good uniformizers the transition set m and have the usual structural maps here comes the crucial definition which is the minimalistic version denote for the category c by c the category having the same objects but as morphisms only the identities definition 4 3 let c be a gct a polyfold structure for c is a pair f m where f c set is a functor associating to an object c a set f c of good uniformizers and where m associates to two good uniformizers say f c and f c a m polyfold structure to the transition set m so that all structural maps are sc smooth and the source and target map are local sc diffeomorphisms instead of denoting the polyfold structure by f m we just write f i e f f m let us emphasize that f c is a set of good uniformizers i e a specifically picked collection of good uniformizers constructed by a given pro cedure since classically smooth manifolds are in particular m polyfolds we see that the constructions associated to r equip it with a polyfold structure remark 4 4 there are several useful points one should make a note that from f the category c can be recovered first of all since f is defined on c we know all the objects of c for two objects c and c pick f c and f c and let q o q o with f q c and f q c then we can identify the elements q q in m q q 66 with the morphisms in the set morc c c via q q b we also note that having a polyfold structure on c there exists a functor reg c n 0 n 0 which associates to an object its regularity here n 0 has as morphisms only has the identities given an object c pick f c and q 0 o so that q 0 c then define reg c sup k n 0 q 0 ok this is well defined independent of the choices involved and a morphism invariant we can define the full subcategories cr of c associated to the objects c with reg c r c given a polyfold structure f for c we consider c 1 and define f 1 c 1 set by f 1 c 1 g o 1 c 1 f c one can equip c 1 with a uniquely determined metrizable topology which makes every element in f 1 c a good uniformizer then one can show that f 1 defines a polyfold structure on c 1 we shall denote by c 1 the category c 1 equipped with the polyfold structure we also need a bundle version as in subsection 2 3 denote by bang the category whose objects are banach spaces and the morphisms are invertible topological linear isomorphisms suppose we are given a category c and a functor c bang then we can build a new category e e whose objects are pairs c h where c is an object in c and h is a vector in c the morphisms c h c h are the lifts of the morphisms c c namely h c h c h provided s c t c and h h we shall abbreviate which is a linear topological isomorphism p 1 s p 1 t the class of all morphisms for the category e we shall denote by e since c is a set the same is true for e we denote by p p e c the 67 functor which on objects c h c and on morphisms h we also have the source map s e e defined by s h s h and the target map t h t h definition 4 5 a bundle gct is given by a tuple c t where c is a gct c bang is a functor and t a metrizable topology on e so that p e c is continuous and open we shall introduce the notion of strong bundle uniformizers the strong bundle uniformizer are build on strong bundles p k o over m polyfolds equipped with an action of a finite groupg acting by sc smooth strong bundle isomorphisms inducing an action of g on o by sc diffeomorphisms so that p is equivariant definition 4 6 a good strong bundle uniformizer for the bundle gct c t around an object c in c is a functor g k e covering a functor g o c so that the following holds i the following diagram is commutative diagram g k e p y p y g o c and q 0 c for some q 0 o ii is full and faithful iii k e is a homeomorphism onto an open subset of e of the form p 1 u where u o iv the map is fiber wise a topological linear banach space isomorphism v given q o there exists an open neighborhood u q o so that every sequence hk k with qk p hk u q for which hk converges in e has a convergent subsequence in p 1 clo u q we observe that automatically g o c has to be a good uni formizer given two strong bundle uniformizers and we can similarly 68 as before define the transition set m h h h k h k mor h h observe that we have a natural map m m h h p h p h where a fiber has a a natural banach space structure we note that s and t in the following diagram are fiber wise linear the top row k s m t k p y y p y o s m t o 1 the main definition is now that of strong polyfold bundle structure for c t definition 4 7 a strong polyfold bundle structure for c t is given by f m where f c set is a functor associating to every object c in c a set of good strong bundle uniformizers and to every transition m m a strong bundle structure so that source and target map define local strong bundle isomorphisms and all structural maps are strong bundle maps see diagram 1 4 2 tangent category and differential forms assume c is a gct equipped with a polyfold structure f m then we have a filtration and inclusion functors since as a consequence of this construction we can talk about the regularity of an object c ci 1 ci c 0 c we can define the tangent category tc together with a projection functor tc c 1 here c 1 is the category c 1 with filtration c 1 i ci 1 and its polyfold structure consider tuples c q h where c is an object in c 1 69 f c say g o c q c and h tqo we shall introduce the notion of equivalence of two such tuples for this consider a second one say c q h take suitable open neighborhoods u q 1 c q m u q o and u q o so that the source and target maps u q s u q 1 c q t u q are sc diffeomorphisms and define l u q u q l p t s u q 1 c q 1 p we call the two tuples equivalent written as c q h c q h provided the following holds c c and tl q h q h we denote an equivalence class by c q h and view them as objects in a category denoted by tc on the object level we have the projection functor tc c 1 given by c q h c we observe that 1 c is a banach space given a morphism c c we can define a topological linear isomorphism t 1 c 1 c as follows t c q h c tl q h 2 the morphisms in tc are given by the tuples c q h t c q h where c c and t c q h c q h here s c q h and t c q h the projection functor on the level of morphisms is defined by c q h t c q h at this point we have shown the following 70 lemma 4 8 let c be a gct equipped with a polyfold structure f m then there is a well defined tangent category tc with objects being the equiv alence classes c q h with c being an object in c 1 q h tqo where q c and f c the morphisms are given by the tuples c q h t c q h where t c q h c q h in addition the projection functor tc c 1 is defined by on morphisms and c q h c on objects we shall show that we can equip tc with a polyfold structure as well this needs some preparation fix an object c 0 in c 1 and pick 0 f c 0 which is given by 0 g o c there is an element q 0 o 1 with 0 q 0 c 0 for q o 1 let c 0 q and note that q is an object in c 1 pick f c say g o c and q 0 o with q 0 c 0 q then q 0 o 1 now we us the transition m polyfold m 0 and take open neighborhoods u q u q 0 and u q 1 c q 0 so that we have a diagram of sc diffeomorphisms u q s u q 1 c q 0 t u q 0 we define l u q u q 0 p l p l t s u q 1 c q 1 p the we define for q h tqo which is an object in g to t 0 q h c tl q h which belongs to 1 c for a morphism g q h q h g q g h in g to we define the morphism t 0 g q h t 0 q h t 0 g q g h by t 0 g q h c tl q h t 0 g q t 0 g q c tl q h t 0 q h t 0 g q t 0 q q t 0 q h 71 here t 0 g q is the tangent associated to the morphism 0 g q 0 q 0 g q defined as in 2 we define for an object c 0 in c 1 f c 0 t g to tc f c 0 and view this definition as a functor f c 1 set then we define tf tc set tf f i e tf c 0 0 q 0 h 0 f c 0 given t tf c 0 0 q 0 h 0 and t c 0 0 q 0 h 0 we can build m t t the basic result proved in 30 is the following theorem theorem 4 9 given a polyfold structure f for the c there exists an associated natural polyfold structure tf for tc c 1 covering the lifted one for c 1 given by f 1 see the diagram below more precisely given f c say g o c the associated 1 fits into the following commutative diagram g to t tc o y y o 1 1 c 1 here we already have an example of an sc smooth functor namely tc c 1 has for every t a sc smooth representative namely o one of the main points of having polyfold structures is to say that certain functors defining algebraic structures are sc smooth or that they are sc fredholm functors which allows a perturbation theory also if c is equipped with a polyfold structure we can define sc differential forms as certain kind of functors we can define the k fold product category tc tc which projects to a k fold product of c 1 with itself and pull back by the multi diagonal which we denote by ki 1 tc c 1 the preimages of objects are k fold products of banach spaces viewing r as a category with only the identities as morphisms we are interested in certain functors ki 1 tc r 72 which are multi linear and skew symmetric on the fibers we assume tc equipped with its canonical polyfold structure tf given t f c we can pull back via ki 1 t and obtain to to r in 29 we have introduced the notion of an sc smooth differential form definition 4 10 the functor is said to be sc smooth provided there exist a family a set of good unifomizers associated to f so that the collection of sets o covers c and in addition all the are sc smooth differential forms several remarks are in order remark 4 11 1 one can show that the definition does not depend on the choice of the family see 29 2 we view as associated to c despite the fact that it is defined on tc which lies over c 1 and therefore seemingly only involves c 1 however by using the good uniformizers for c in the definition of tc incorporates the polyfold structure on c in a subtle way 3 one is tempted to call as defined above a sc smooth differential form on c if we call according to 2 as associated to c it will turn out that d the exterior differentiation can only be defined as a form associated to c 1 since we have the system of inclusion functors ci 1 ci c one can take a direct limit for forms the set see below of all defined by the direct limit for all k 0 turns out to be invariant under d defined by d d so that it is better to call an sc smooth differential form using this we obtain a de rham complex associated to c as we shall see below for the moment we shall call an sc differential form and leave the name sc smooth differential form for the result of a further construction the collection of all sc smooth functors is a set since it is completely determined by the set using the inclusion functors c i 1 ci we can pull back a functor defined on ki 1 t c i to ki 1 t c i 1 this is nothing else but restricting to tangent vectors of specified higher regularity denote by k c i the set of differential k forms on ci i e defined on kj 1 tc i this set has the obvious structure as a real vector space then we have the direct 73 system k ci k ci 1 and denote the direct limit by k c and its elements by if x is an ep groupoid constructed from the polyfold structure f on c we can use the equivalence x c to pull back since t tx tc is well defined in fact this pull back completely determines and the pull back is compatible with the exterior derivative defined on x see 27 29 and 30 as it turns out the exterior differential is well defined so that we obtain the de rham complex c f d so in particular there exists a de rham cohomology we refer the reader for details of this theory to 29 30 and 27 4 3 finite dimensional branched weighted subpoly folds suppose that c is a gct equipped with a polyfold structure f we are interested in certain full subcategories which arise when studying fredholm functors later on in a first step consider the non negative rational numbers q as objects in a category with the morphisms being the identities of interest for us are certain functors c q in order to define this class of functors we need the definition of a submanifold m of a m polyfold x definition 4 12 let x be a m polyfold and m a subset we say m is a submanifold provided for every m m there exists an open neighborhood u u m x and an sc smooth map r u u having the following properties i r ui ui 1 for all i and r u u 1 is sc smooth ii r r r iii r u u m 74 first of all we note that r is an sc smooth retraction so that m is a sub polyfold but the stronger requirement that r u u 1 is sc smooth in fact implies that the m polyfold structure on m induced from x is the sc smoothly equivalent to the structure of a finite dimensional smooth manifold see 29 this of course justifies that we call m a submanifold in the first place more precisely we have the following result proposition 4 13 let m be a submanifold of the m polyfold x in the sense of definition 4 12 then m is a sub polyfold and its sc smooth struc ture induced from x is sc smoothly equivalent to a classical manifold struc ture remark 4 14 a hint that this is true is given by the following considera tion if r x x it follows that x x so that for every m m the tangent space tmm is defined and an sc banach space since tr m tmx tmx is an sc operator its image is compact since tr m restricted to its image is the identity the image must be finite dimensional if m viewed as manifold is equipped with an orientation we shall call it an oriented submanifold definition 4 15 suppose c q is a functor and c an object pick f c so that we can take the functor g o q let q 0 c and assume there exists an open neighborhood u q 0 in o finitely many submanifolds mi i i and positive rational numbers i i i such that q i i q mi i for all q u q 0 we say has a smooth finite dimensional representation with respect to at c we also say that the representation is n dimensional provided every mi is n dimensional if f c with q 0 c we consider m and find open neigh borhoods so that the source and target map are sc diffeomorphisms v q 0 s v q 0 1 c q 0 t v q 0 we may assume that v q 0 u q 0 and can map the mi v q 0 to m i 75 v q 0 then q i i q m i i for q v q 0 hence if we have a smooth finite dimensional representation at c for some f c it holds for all uniformizers in f c the same argument goes through if c c is an isomorphism and shows if we have a smooth finite dimensional representation at c we also have this property at an isomorphic c observe that if the representation at c with respect to is n dimensional this will be true for every isomorphic c as well we can therefore say that is smooth at c and has a n dimensional representation at c since the collection of all c is a set the following makes sense definition 4 16 let c be a gct equipped with a polyfold structure and c q a functor we call a smooth weighted branched subpolyfold of dimension n provided has a smooth n dimensional representation at every c c there is also a notion of orientation for see 27 30 definition 4 17 let c be a polyfold category and c q a smooth weighted branched subpolyfold of dimension n we say is closed provided the orbit space associated to all objects c with c 0 is a compact subset of c an important result is that we can integrate sc differential forms over closed smooth oriented weighted branched subpolyfold of dimension n see 30 27 theorem 4 18 let c be a gct equipped with a polyfold structure f and c q a closed smooth oriented weighted branched subpolyfold of dimension n suppose further is a n dimensional sc smooth differential form on c then there is a well defined integral called the branched integral the integral is characterized uniquely by certain properties and in the somewhat more general context with boundary with corners even a version 76 of stokes theorem holds the basic observation is that defines a com pact subset of c equipped with what is called a lebesgue algebra of measurable sets and a measurable q valued weight function w the dif ferential form induces a signed measure and the integral is given by wd this construction is formidable and given in 27 for ep groupoids but generalizes immediately to our context since the ep groupoid version is compatible with morita equivalence i e generalized isomorphisms associated to diagrams of sc smooth equivalences between ep groupoids see 30 4 4 fredholm theory and transversality suppose we are given a bundle gct c t equipped with a strong polyfold bundle structure f c set and a section functor f c e if c is an object in c and a strong bundle uniformizer around c we obtain the commutative diagram g k e p y p y g o c since f maps an object to an element in the banach space associated to c i e p 1 c it follows that an object q o is mapped to f q p 1 q however p 1 q p 1 q is a linear isomorphism and it follows that f has a local representative f which is a section of p definition 4 19 let f be a section functor of p e c where c t is a bundle gct equipped with a strong polyfold bundle structure f we say f is an sc fredholm functor provided there exists a family a set of good strong bundle uniformizers so that covers c and every f is an sc fredholm section of k o this definition does not depend on the choice of the strong bundle uni formizers taken from f of course like in the classical situation one is interested in a perturbation theory which allows an sc fredholm section to be brought into a general 77 position since we are dealing with functors there is the added difficulty that symmetry i e compatiblility with morphisms and transversality are competing issues in order to achieve transversality we locally break the symmetry under a small perturbation by an sc section but keep track of the symmetry by introducing a finite family correlated with the initial pertubation of local sc fredholm problems invariant under the symmetry in order to have still the right counts of the solutions the problems in the local family need to be weighted of course these local modifications have to be done coherently so that overlapping families can be patched together in a suitable way in this context it is very important to understand how big perturbations can be in order to guarantee that the perturbed fredholm section is again proper in order to formulate some results we need some auxiliary structures view r 0 as a category only having the identities as morphisms definition 4 20 let c t be a bundle gct equipped with a strong polyfold bundle structure f c set an auxiliary norm n is a functor n e r with the following properties there exists a family of good strong bundle uniformizers a set so that the underlying o cover c and for every n k r is an auxiliary norm according to definition 3 35 the definition does not depend on the family of good strong bundle uni formizers definition 4 21 let c t be a bundle gct equipped with a strong polyfold bundle structure f c set a functor e q is called an sc smooth multisection functor provided there exists a set a of good strong bundle uniformizers so that the underlying have the property c a o with the following property for every g k q and given q o there exist an open neighborhood u q o and sc sections si i i defined for 78 k u q and rational weights i 0 i i with i i i 1 so that for e k u q e i i e si p e i remark 4 22 the definition is independent of the choice of as long as the associated open sets o cover the orbit space of s 3 0 q the functor induces a map e q definition 4 23 the support of an sc smooth multisection functor is the full subcategory supp associated to all objects e in e with e 0 the domain support dom supp is the full subcategory associated to the closure of the open subset u of c consisting of all c so that there exists e p 1 c e 6 0 with e 0 we note that each fiber of p has a distinguished 0 element given e q and an auxiliary norm n e 0 we can measure the size of namely for an object c there are finitely many points ei p 1 c for which ei 0 moreover the bi regularity is at least 0 1 so that n ei is finite therefore we can define max n ei i i and obtain a functor c 0 by c max n ei i i we can pass to orbit space and obtain a continuous map n c 0 now we are in the position to describe a series of results in sc fredholm theory for our categorical setup without going into much detail there is the notion of orientation for an sc smooth fredholm section functor see 28 29 30 the first result is concerned with a compactness assertion theorem 4 24 let c t be a bundle gct equipped with a strong polyfold bundle structure f c set suppose n e r is an auxiliary norm and f an sc fredholm section functor of p having the property that the orbit space f 1 0 c is compact then there exists an open neighborhood u of f 1 0 in c so that for every sc multisection functor e q with domain support in cu and satisfying n c 1 for all c c the orbit space associated to supp f is compact note that f c q is a functor and supp f consists of all objects c with f c 0 79 definition 4 25 if u n is a pair consisting of an auxiliary norm n and an open neighborhood u of the orbit space associated to f 1 0 so that the conclusion of the previous theorem concerning compactness holds we shall say that u n controls compactness in order to construct sc multisection functors one needs that the un derlying polyfold structure on c admits sc smooth partitions of unity for example if everything is build on hilbert scales or at least the zero level then these are available see 29 30 for the following denote by h dr c the de rham cohomology theorem 4 26 let c t be a bundle gct equipped with a strong polyfold bundle structure f c set suppose n e r is an auxiliary norm and f an sc fredholm section functor of p having the property that the orbit space f 1 0 c is compact we assume that the induced polyfold structure on c admits sc smooth partitions of unity let u be an open neighborhood around the orbit space associated to f 1 0 so that u n controls compactness then the following holds i given any 0 1 there exists a sc multisection functor with domain support in cu and n c for all c so that f c q is a smooth closed weighted branched subpolyfold of dimension n ii if f is oriented i e f o then is naturally oriented iv given hndr c the branched integral does not depend on the choice of as long as it is generic and satisfies the above conditions v the value of the integral is independent of the choice u n as long as it is admissible as a consequence of this theorem the oriented sc fredholm section functor f o defines a linear functional i f o h dr c r via i f o f 80 for having support sufficiently small and being generic this functional will stay the same under even large oriented deformations t ft ot as long as the orbit space of the solution set satisfies some compactness properties during the deformation we can even change the t as long as it is done sc smoothly for an overall strong polyfold bundle structure there are also appropriate versions where the underlying category changes sc smoothly as well 4 5 the stable map example in some sense we just need to take a fresh look at what we did in section 2 and verify implementing the discussion from section 3 that the constructions are sc smooth we shall concentrate on the category s 3 0 q rather than the full problem p e 3 0 q j s 3 0 q in the case of s 3 0 q our discussion so far gives a precise construction with established topological properties from the discussion in 28 based on results in 31 see the forthcoming 10 for a comprehensive treatment it follows that indeed all the constructions are sc smooth remark 4 27 it is very good exercise using 31 and some of the results in 28 to fill in the technical details we give a few useful comments in the constructions mentioned in the orem 2 52 we already used the exponential gluing profile given the strictly increasing sequence 0 1 with all 0 i 2 it can be shown that x 3 0 s j d d h q has a m polyfold structure it only depends on and we shall abbreviate this topological space equipped with this m polyfold structure by x 3 s j d d h q as a consequence the product v x 3 s j d d h q also has a m polyfold structure for this structure the automorphism group g acts by sc diffeomorphisms taking a suitable open g invariant neighbor hood o of 0 s d u we obtain g o s 3 0 q 81 which on objects is given by v sa da w sa j v a ma da w also recall that we had the underlying good uniformizers for r g o r which on objects map v a sa j v a m a da our aim is to define a polyfold structure on s 3 0 q utilizing the previous construction of f of course we need to be able to equip m with a m polyfold structure in order to achieve this we have to make an additional requirement which is achieved by possibly restricting to a smaller o this leads to the definition of a good polyfold uniformizer definition 4 28 assume a sequence and the exponential gluing profile are given as previously described let s j m d u be an object in s 3 0 q with automorphism group g a good polyfold uniformizer for s 3 0 q is a functor g o s 3 0 q where o is a g invariant open neighborhood of 0 s d u in v x 3 s j d d h q so that the following holds i is fully faithful and v s d u s j m d u ii passing to orbit spaces g o s 3 0 q is a homeomorphism onto an open neighborhoodof iii the collection of all v a occuring in elements v sa da w o are contained in o and o v a sa j v a m a da defines a good uniformizer for r iv for every object q o there exists an open neighborhood u q o so that every sequence qk u q for which qk converges in s 3 0 q has a convergent subsequence in clo u q remark 4 29 a the condition iii is very important and it summa rizes four conditions from the definition of a good uniformizer for r most important is that the partial kodaira spencer differentials are isomorphisms 82 this is extensively used when putting a m polyfold structure on m it is crucial for making s and t local sc diffeomorphisms see 28 b let f consists of the good uniformizers previously constructed and their domain g o equipped with the m polyfold structures associated to a choice of in addition we assume that the set of all v a coming from the v sa da w lies in o so that we have the good uniformizer for r defined on g o with f modified as just described it is possible to lift m to a functor which associates to not only a metrizable space but in fact a m polyfold structure the details given in the ep groupoid seen are presented in 28 the relevant construction f s 3 0 q set associates to an object the set f consisting of good polyfold uniformizers as described in definition 4 28 this leads to the following important result theorem 4 30 given the exponential gluing profile and an increasing sequence of weights 0 0 1 2 the construction f m given in theorem 2 52 with the modification just mentioned defines a polyfold structure when the local models are equipped with the sc structures associated to these weights we can also construct a bundle gct s 3 0 q t as follows given an object s j m d u we associate to it the hilbert space con sisting of all tq j valued 0 1 forms along u of class 2 0 in par ticular z tzs j tu z q j is complex anti linear a morphism defines a linear topological isomorphism t 1 this allows us to define the category e with objects being the where is an object in s 3 0 q and is a vector in we shall denote e by e 2 0 q j one can define a metrizable topology t for e 2 0 q j and carry out a construction f m f s 3 0 q set 83 equipping p with a strong polyfold bundle structure here f consists of good strong bundle uniformizers where an element in the latter fits into a commutative diagram of functors with certain properties g k e 2 0 q j p y p y g o s 3 0 q on objects has the form v sa da w sa j v a ma w and is given by v sa da w sa j v a ma w the transition structure m m has an sc smooth strong bundle structure these structures as already explained can be viewed as some kind of sc smooth bundle structure for p e 2 0 q j s 3 0 q the latter equipped with this strong bun dle structure which depends on the weight sequence is written as p e 2 q j s 3 q the local representative of the cauchy riemann section takes the form o k 3 v sa da w v sa da w 1 2 tw j w tw j v a it has been proved in 28 that the section just defined is sc fredholm theorem 4 31 the local representative of the section functor j of p with respect to f for any object as given in 3 is sc fredholm hence j is an sc fredholm section of p e 2 q j s 3 q in the case of our gromov witten example consider the full subcategory s 3 g m a q of s 3 q where g 0 and m 0 are integers and a h 2 q z consisting of all stable maps of arithmetic genus g with m marked points in the homology class a 84 theorem 4 32 the following holds i the orbit space s 3 g m a q is an open and closed subset of s 3 q and consequently s 3 g m a q has an induced polyfold structure more over e 2 g m a q j e 2 q j s 3 g m a q has an induced strong polyfold bundle structure ii the orbit space of f s 3 g m a q 1 0 is compact iii for every 1 i m the evaluation map evi s 3 g m a q q 4 at the i th marked point is an sc smooth functor in the sense that evi is sc smooth if is a good uniformizer iv if 2 g m 3 then the forgetful functor s 3 g m a q r ord g m 5 into the stable riemann surface category with ordered mark points is sc smooth as well where we can take good uniformizers for s 3 g m a q and rordg m to see that the local representative is sc smooth the consequence of iii is that the pull back of a smooth differential form on q gives an sc smooth differential form on s 3 g m a q for the forgetful map the pull back of a smooth differential form defines an sc smooth differential form on s 3 g m a q as a consequence of iv moreover j restricted to s 3 g m a q is an sc smooth fredholm functor with a compact solution set and it has a natural orientation giving us j o and its restrictions j g k a o as a consequence we have the linear maps i g m a i j g k a o i g m a h dr s 3 g k a q r these maps give precisely the data from which one can define the gromov witten invariants see 28 remark 4 33 there is of course a large literature on gromov witten invariants and further developments see 13 14 35 36 48 49 52 39 40 41 42 all the methods differ in some sense all the approaches had to come up with a fix for the fact that classical fredholm theory doesn t work 85 the theory which we described here provides a very powerful language to deal with moduli problems in symplectic geometry in 11 we shall use this approach to define a fredholm setup for sft the language for doing so is that developed in 29 30 the necessary nonlinear analysis comes from 31 in 10 the ideas described here are carried out on the level of a graduate text describing the construction of gromov witten theory and the verifica tion of its axioms see 37 in detail references 1 a adem j leida and y ruan orbifolds and stringy topology cam bridge tracts in mathematics 171 cambridge university press cam bridge 2007 xii 149 pp 2 v borisovich v zvyagin and v sapronov nonlinear fredholm maps and leray schauder degree russian math survey s 32 4 1977 p 1 54 3 f bourgeois y eliashberg h hofer k wysocki and e zehnder compactness results in symplectic field theory geometry and topol ogy vol 7 2003 pp 799 888 4 h cartan sur les re tractions d une varie te c r acad sc paris t 303 serie i no 14 1986 p 715 5 k cieliebak i mundet i riera and d a salamon equivariant moduli problems branched manifolds and the euler class topology 42 2003 no 3 641 700 6 s donaldson and p kronheimer the geometry of four manifolds oxford mathematical monographs oxford science publications the clarendon press oxford university press new york 1990 7 y eliashberg a givental and h hofer introduction to symplectic field theory geom funct anal 2000 special volume part ii 560 673 8 h eliasson geometry of manifolds of maps j differential geometry 1 1967 169 194 86 9 o fabert j w fish r golovko and k wehrheim polyfolds a first and second look arxiv 1210 6670 10 j fish and h hofer lectures on polyfold constructions in symplectic geometry i the polyfolds of gromov witten theory in preparation 11 j fish h hofer k wysocki and e zehnder applications of polyfold theory ii the polyfolds of sft in preparation 12 a floer and h hofer coherent orientations for periodic orbit problems in symplectic geometry math z 212 1993 no 1 13 38 13 k fukaya and k ono arnold conjecture and gromov witten invari ants topology vol 38 no 5 1999 pp 933 1048 14 k fukaya y g oh h ohta and k ono lagrangian intersection floer theory anomaly and obstruction part i ams ip studies in ad vanced mathematics 46 1 american mathematical society providence ri international press somerville ma 2009 pp i xii 396 15 k fukaya y g oh h ohta and k ono lagrangian intersection floer theory anomaly and obstruction part ii ams ip studies in ad vanced mathematics 46 2 american mathematical society providence ri international press somerville ma 2009 pp i xii 397 805 16 p gabriel and m zisman calculus of fractions and homotopy theory ergebnisse vol 35 springer 1967 17 m gromov pseudoholomorphic curves in symplectic geometry inv math vol 82 1985 307 347 18 a haefliger homotopy and integrability in manifolds amsterdam 1970 133 163 springer lecture notes in math 197 1971 19 a haefliger holonomie et classifiants asterisque 116 1984 70 97 20 a haefliger groupoids and foliations contemp math 282 2001 83 100 21 h hofer a general fredholm theory and applications current devel opments in mathematics edited by d jerison b mazur t mrowka w schmid r stanley and s t yau international press 2006 87 http arxiv org abs 1210 6670 22 h hofer polyfolds and a general fredholm theory arxiv 0809 3753 23 h hofer k wysocki and e zehnder deligne mumford type spaces with a view towards symplectic field theory lecture note in prepara tion 24 h hofer k wysocki and e zehnder a general fredholm theory i a splicing based differential geometry j eur math soc jems 9 2007 no 4 841 876 25 h hofer k wysocki and e zehnder a general fredholm theory ii implicit function theorems geom funct anal 19 2009 no 1 206 293 26 h hofer k wysocki and e zehnder a general fredholm theory iii fredholm functors and polyfolds geom topol 13 2009 no 4 2279 2387 27 h hofer k wysocki and e zehnder integration theory for zero sets of polyfold fredholm sections math ann 346 2010 no 1 139 198 28 h hofer k wysocki and e zehnder applications of polyfold theory i gromov witten theory arxiv 1107 2097 memoirs of the ams to appear 29 h hofer k wysocki and e zehnder polyfolds and fredholm theory i basic theory in m polyfolds arxiv 1407 3185 30 h hofer k wysocki and e zehnder polyfolds and fredholm theory ii basic theory in polyfolds in preparation 31 h hofer k wysocki and e zehnder sc smoothness retractions and new models for smooth spaces discrete and continuous dynamical sytems vl 28 no 2 2010 665 788 32 d joyce kuranishi bordism and kuranishi homology preprint arxiv 0707 3572 v 1 33 m konsevich enumeration of rational curves via torus action in the moduli space of curves r dijkgraaf c faber and g van der geer eds birkhauser 1995 335 568 88 http arxiv org abs 1407 3185 34 s lang introduction to differentiable manifolds second edition springer new york 2002 35 j li and g tian virtual moduli cycles and gromov witten invariants of general symplectic manifolds in topics in symplectic 4 manifolds irvine ca 1996 47 83 int press 1998 36 g lu and g tian constructing virtual euler cycles and classes int math res surv imrs 2007 2008 in electronic version art id rym 001 220 pp 37 y manin frobenius manifolds quantum cohomology and moduli spaces ams colloquium publications volume 47 38 d mcduff groupoids branched manifolds and multisection j sym plectic geom 4 259 315 2006 39 d mcduff notes on kuranishi atlases arxiv 1411 4306 v 1 40 d mcduff and k wehrheim smooth kuranishi atlases with trivial isotropy arxiv 1208 1340 revision in progress 41 d mcduff and k wehrheim smooth kuranishi atlases with isotropy work in progress 42 d mcduff and k wehrheim stratied smooth kuranishi atlases work in progress 43 d mcduff and d salamon introduction to symplectic topology 2 nd edition oxford university press 1998 44 d mcduff and d salamon j holomorphic curves and symplectic topol ogy colloquium publications vol 52 amer math soc providence ri 2004 xii 669 pp 45 i moerdijk orbifolds as groupoids an introduction contemp math 310 205 222 2002 46 i moerdijk and j mrc un introduction to foliation and lie groupoids cambridge studies in advanced mathematics vol 91 2003 89 http arxiv org abs 1411 4306 http arxiv org abs 1208 1340 47 j robbin and d salamon a construction of the deligne mumford orbifold j eur math soc jems 8 2006 no 4 611 699 48 y ruan topological sigma model and donaldson type invariants in gromov theory duke math j 83 1996 451 500 49 y ruan symplectic topology on algebraic 3 folds j diff geom 39 1994 215 227 50 s smale an infinite dimensional version of sard s theorem amer j math 87 1965 861 866 51 s suhr and k zehmisch polyfolds cobordisms and the strong wein stein conjecture arxiv 1411 5016 52 g tian quantum cohomology and its associativity current develop ments in mathematics 1995 p 361 397 international press 53 h triebel interpolation theory function spaces differential operators north holland amsterdam 1978 90 http arxiv org abs 1411 5016 1 introduction 2 a motivating example and natural structures 2 1 the category of stable noded riemann surfaces 2 2 the category of stable maps 2 3 a bundle and the cr functor 2 4 a basic construction 2 5 a good uniformizer 3 smoothness 3 1 sc structures and sc smooth maps 3 2 sc smooth spaces and m polyfolds 3 3 strong bundles 3 4 a special class of sc smooth germs 3 5 sc fredholm sections 4 polyfold structures and consequences 4 1 polyfold structures on certain categories 4 2 tangent category and differential forms 4 3 finite dimensional branched weighted subpolyfolds 4 4 fredholm theory and transversality 4 5 the stable map example