ar x iv 1 71 2 07 47 4 v 3 cs s c 1 j un 2 01 8 noname manuscript no will be inserted by the editor can one design a geometry engine on the un decidability of certain affine euclidean geometries johann a makowsky received june 4 2018 accepted date abstract we survey the status of decidabilty of the consequence relation in various ax iomatizations of euclidean geometry we draw attention to a widely overlooked result by martin ziegler from 1980 which proves tarski s conjecture on the undecidability of finitely axiomatizable theories of fields we elaborate on how to use ziegler s theorem to show that the consequence relations for the first order theory of the hilbert plane and the euclidean plane are undecidable as new results we add a the first order consequence relations for wu s orthogonal and metric geometries wen tsu n wu 1984 and for the axiomatization of origami geometry j justin 1986 h huzita 1991 are undecidable it was already known that the universal theory of hilbert planes and wu s orthogonal geom etry is decidable we show here using elementary model theoretic tools that b the universal first order consequences of any geometric theory t of pappian planes which is consistent with the analytic geometry of the reals is decidable the techniques used were all known to experts in mathematical logic and geometry in the past but no detailed proofs are easily accessible for practitioners of symbolic computation or automated theorem proving keywords euclidean geometry automated theorem proving undecidability j a makowsky faculty of computer science technion israel institute of technology haifa israel e mail janos cs technion ac il http arxiv org abs 1712 07474 v 3 2 j a makowsky contents 1 introduction 2 2 decidable and undecidable theories of fields 7 2 1 background on fields 7 2 2 undecidable theories of fields 8 2 3 decidable theories of fields 9 2 4 the universal consequences of a theory of fields 10 3 axioms of geometry hilbert wu and huzita justin 10 3 1 the vocabularies of geometry 11 3 2 incidence geometries 11 3 3 hilbert style geometries 12 3 4 axioms of orthogonal geometry 13 3 5 the origami axioms 14 4 proving undecidability of geometrical theories 15 4 1 translation schemes 15 4 2 interpretability 17 5 the role of coordinates 18 5 1 analytic geometry over fields of characteritic 0 18 5 2 properties of pp and ppwu 19 5 3 introducing coordinates 20 5 4 segment arithmetic 20 5 5 planar ternary rings 22 6 undecidable geometries 23 6 1 incidence geometries 23 6 2 hilbert planes and euclidean planes 24 6 3 wu s geometry 25 6 4 origami geometry 25 7 decidability for fragments of first order logic 26 8 conclusions 27 1 introduction truth cannot be demonstrated only invented the bishop in max frisch s play don juan or the love of geometry act v since the beginning of the computer era automated theorem proving in geometry re mained a central topic and challenge for artificial intelligence already in the late 1950 s gel 59 ghl 60 h gelernter presented a machine implementation of a theorem prover for euclidean geometry the very first idea for mechanizing theorem proving in euclidean geometry came from the fact that till not long ago high school students were rather proficient in proving theorems in planimetry using euclidean style deductions a modern treatment of euclidean geometry was initiated by d hilbert at the end of the 19 th century hil 02 and a modern reevalua tion of euclidean geometry can be found in har 00 formalization in first order logic is thoroughly discussed in adm 09 and conceptual issues are discussed in bal 18 part iii on the high school level one distinguishes between analytic geometry which is the geometry using coordinates ranging over the real numbers and synthetic geometry which deals with points and lines with their incidence relation augmented by various other rela tions such as equidistance orthogonality betweenness congruence of angles etc a geo metric statement is in the most general case a formula in second order logic sol using these relations however it is more likely that for practical purposes full second order logic is rarely used in fact all the geometrical theorems proved in hil 02 are expressible by decidability of geometry 3 formulas of of first order logic fol with very few qunatifier alterntaions cf also adm 09 mil 07 instead one uses statements expressed in a suitable fragment f of second order logic which can be full first order logic fol the restricted calculus in the terminology of ha 50 or an even more restricted fragment such as the universal formulas u the existential formulas e or horn formulas h of first order logic many variants of synthetic euclidean geometry are axiomatized in the language of first order logic by a finite set of axioms or axiom schemes t fol if continuity requirements are discarded it follows from the completeness theorem of first order logic that the first order consequences of t are recursively computably enumerable if full continuity ax ioms which not fol expressible are added even the first order consequences of t are not necessarily recursively enumerable a first order statement in the case of analytic geometry over the reals is a first order formula in the language of ordered fields and we ask whether is true in the ordered field of real numbers by a celebrated theorem of a tarski announced in tar 31 and proven in tar 51 this question is mechanically decidable using quantifier elimination however the complexity of the decision procedure given by tarski uses an exponential blowup for each elimination of a quantifier this has been dramatically improved by g e collins in 1975 reprinted in cj 12 giving a doubly exponential algorithm in the size of the input formula further progress was and is slow for a state of the art discussion cf bpr 03 cj 12 how ever it is unlikely that a polynomial time algorithm exists for quantifier elimination over the ordered field of real numbers for existential formulas because this would imply that in the computational model of blum shub smale over the reals r bcss 98 we would have pr npr poi 95 pru 06 which is one of the open millennium problems cjw 06 for formulas with unrestricted alternation of quantifiers a doubly exponential lower bound was given in dh 88 simply exponential upper bound for existential formulas were given by several authors for a survey see bpr 03 so what can a geometry engine for euclidean geometry try to achieve for a fixed fragment f of sol in the language of analytic or synthetic geometry we look at the following possibilities analytic tarski machine atm f input a first order formula f in the language of ordered fields output true if is true in the ordered field of real numbers and false otherwise synthetic tarski machine stm f input a first order formula f in a language of synthetic geometry output i a translation cart of into the language of analytic geometry output ii true if is true in the ordered field of real numbers and false otherwise geometric theorem generator gtg f input a recursive set of first order formulas t fol not necessarily in f in the language of some synthetic geometry output a non terminating sequence i n of formulas in f the language of the same synthetic geometry which are consequences of t geometric theorem checker gtc f input a recursive set of first order formulas t and another formula f in the lan guage of some synthetic geometry output true if is a consequence of t and false otherwise in the light of the complexity of quantifier elimination over the real numbers poi 95 pru 06 designing computationally feasible analytic or synthetic tarski machines for vari ous fragments f with the exception of u is a challenge both for automated theorem proving 4 j a makowsky atp as well as for symbolic computation symbcomp designing geometric theorem generators gtg f is possible but seems pointless because it will always output long sub sequences of geometric theorems in which we are not interested in this paper we will concentrate on the challenge of designing geometric theorem checkers gtc f this is possible only for very restricted fragments f of fol such as the universal formulas u the main purpose of this paper is to bring negative results concerning geometric theo rem checkers gtc f to a wider audience the negative results are based on a correspondence between sufficiently strong axiom atizations of synthetic euclidean geometries and certain theories of fields consistent with the theory of the ordered field of real numbers a model of incidence geometry is an incidence structure which satisfies the axioms i 1 i 2 and i 3 from section 3 2 an affine plane is a model of incidence geometry satisfying the parallel axiom parax an affine plane is pappian is it additionally satisfies the axiom of pappus pappus in this paper an axiomatization of geometry t is sufficiently strong if all its models are affine planes let f be a field of characteristic 0 one can construct an cartesian plane f over f which satisfies the pappian axiom and where all the lines are infinite this construction is an example of a transduction as defined in section 4 1 on the other side if is an pappian plane which has no finite lines then one can define inside its coordinate field f which is of characteristic 0 proposition 1 f schur sch 09 and e artin art 57 i f is a field of characteristic 0 iff f is a pappian plane with no finite lines ii is a pappian plane with no finite lines iff f is a field of characteristic 0 iii the fields f and f f are isomorphic iv the pappian planes and f are isomorphic as incidence structures a theory set of formulas t fol is axiomatizable if the set of consequences of t is computably enumerable t is decidable if the set of consequences of t is computable t is undecidable if it is not decidable t is complete if for every formula fol without free variables either t or t we note that if t is axiomatizable and complete the t is decidable on the side of theories of fields we have several undecidability results proposition 2 j robinson 1949 rob 49 i the theory of fields is undecidable the same holds for fields of characteristic 0 ii the theory of ordered fields is undecidable iii the theory of the field of rational numbers q is undecidable to show that the first order theory of affine geometry is undecidable we would like to use a classical tool from decidability theory the details of which we explain in section 4 proposition 3 rab 65 based on tmr 53 let i be a first order translation scheme with associated transduction i which maps structures into structures furthermore let s be an undecidable first order theory over a relational vocabulary and let t be a theory over assume that i maps the models of t onto the models of s and that s is undecidable then t is also undecidable decidability of geometry 5 the onto condition needed for our purpose is rarely stated in textbooks however it is ex plicitely stated in hod 93 propositions 1 and 2 are not enough to prove that first order theory of affine geometry is undecidable we have to verify all the conditions of proposition 3 in particular we have to show a there is a first order translation scheme rff ield such that for every pappian plane the structure rf f ield is a field b there is a first order translation scheme pp such that for every field f the structure pp is an pappian plane c for every field f we have rf f ield pp f f all this is shown in detail in section 5 5 while the existence of pp is rather straightfor ward the existence of rff ield with the necessary properties b and c requires the first order definability of the coordinatization of affine planes if is a hilbert plane or a eu clidean plane coordinatization can be achieved through segment arithmetic which can be achieved via a first order translation scheme fff ield which is somehow simpler that rr f ield only after having established a and c we can conclude theorem 1 i the first order theory of pappian planes undecidable ii the first order theory of affine geometry is undecidable ii follows from i because pappian planes are obtained from affine planes by adding a finite number of axioms in the language of incidence geometry the ingredients for proving theorem 1 were all implicitly available when proposition 2 was published i would also assume that theorem 1 was known in berkeley but no detailed proof was written down a tarski presented the result for projective planes at the 11 th meeting of the association of symbolic logic already in 1949 zor 49 an incomplete sketch of a proof theorem 1 was published in 1961 by w rautenberg rau 61 his more detailed proof of the projective case in rau 62 uses proposition 2 and lemma 5 but fails to note that something like theorem 11 is needed to complete the argument we discuss this in detail at the end of section 4 it also seems that w szmielew planned to include a proof of theorem 1 in her unfinished and posthumously published szm 83 the only complete proof of theorem 1 i could find in the literature appears in bgkv 07 however the arguments contain some fixable errors 1 one of the purposes of this paper is to give a conceptually clear account of what is needed to prove theorem 1 to repeat this argument for other axiomatizations of extensions of affine geometry we need the following theorem of m ziegler theorem 2 m ziegler 1982 zie 82 bee i let t be a finite subset of the theory of the reals r and let t t n 6 0 n n where n is shorthand for 1 1 n both t and t are undecidable ii the same holds if t is a finite subset of the theory of the complex numbers c 1 in bgkv 07 section 7 the undecidability of affine and projective spaces is stated corollary 7 38 it also discusses proposition 1 in bgkv 07 section 6 but fails to mention that proposition 1 is needed to prove theorem 1 theorem 1 37 in bgkv 07 section 7 it also attributes proposition 2 erroneously to a tarski 6 j a makowsky we paraphrase this theorem following sv 14 by saying that the theory of real closed algebraically closed fields of characteristic 0 is finitely hereditarily undecidable theorem 2 was conjectured 2 by a tarski but only proved in 1982 by m ziegler ziegler s theorem remained virtually unnoticed having been published in german in the festschrift in honor of ernst specker s 60 th birthday published as a special issue of l enseignement mathe matique in wst 83 the significance of the results of zie 82 is recognized how ever the book is written in german and is usually quoted for its presentation of tarskian geometry the discussion of theorem 2 is buried there in the second part of the book dealing with metamathematical questions of geometry this part of the book is difficult to absorb both because of its pedantic style and its length in short the only reference to theorem 2 within the the framework of atp and sc is bee 13 a very short and casual mention of theorem 2 can also be found in bgkv 07 the present paper gives a survey on the status of decidability of various axiomatizations of euclidean geometry including wu s metric geometry and the origami geometry which are all undecidable see theorems 12 14 and 16 none of these theorems are technically new they all could have been proven with the tools used in the proof of theorem 1 together with ziegler s theorem 2 however theorem 12 is stated and proved only in wst 83 and theorems 14 and 16 could not have been stated before the corresponding geometries were axiomatized for wu s orthogonal geometry this would be 1984 respectively 1994 when the first translation from chinese appeared wu 94 or 1986 wu 86 for origami geometry this would be at the earliest in 1989 jus 89 but rather in 2000 with alp 00 the purpose of this paper is to discuss undecidability results in geometry addressing practitioners in automated theorem proving articial intelligence and symbolic compu tation although many variants of these results were stated and understood already in the early 1950 s i could not find references with detailed proofs which could be easily under stood and reconstructed by graduate students of logic in computer science on the other hand the techniques described in this paper are well known in the mathematical logic com munity theorem 1 and some of its variations are given as an exrecise in hod 93 exercise 10 of section 5 4 although the theorems 14 and 16 are strictly speaking new their proofs use the same techniques together with ziegler s theorem 2 from 1982 we hope that our presentation of this material is sufficiently concise and transparent in showing the limitations of automatizing theorem proving in affine geometry we restrict our discussion here to theories of affine euclidean geometries however the methods can be extended to projective and hyperbolic geometries outline of the paper in section 2 we summarize what is known about the un decidability of theories of fields theorems 2 and 4 show that the decidability of the theory of real closed fields and its elimi nation of quantifiers are very specific properties of this theory in section 3 describe the geometrical theories which are the center of our discussion affine incidence geometry hilbert style euclidean geometry wu s orthogonal geometry and origami geometry in section 4 we spell out the subtleties needed to derive undecidability of geometrical theories from the undecidability of corresponding theories of fields although the general idea is very intuitive the argument given frequently in the literature tends to overlook that 2 in hr 74 a proof was announced which later was found containing in irreparable mistake cf zie 82 decidability of geometry 7 this reduction depends on deep theorems specific to geometry besides the one one corre spondence between geometrical theories and theories of fields one also needs the first order definability of the coordinatization theorem for affine incidence geometry in section 5 we do discuss the role coordinatizations play in the undecidability proofs and show that co ordinatization is first order definable in section 6 we finally give the complete proofs of undecidability of our geometrical theories and in section 7 we show that the consequences in the universal fragment u of these geometries are still decidable in section 8 we summa rize what we have achieved and propose some open problems an after thought concerning computer checkable proofs as some authors misquote proposition 3 by omitting the condition that i has to map the models of t onto the models of s it would be interesting to know whether a proof checking system would have helped in discoving the exact nature of the gap in the published incom plete proofs of theorem 1 2 decidable and undecidable theories of fields 2 1 background on fields let f ield be the purely relational vocabulary consisting of a ternary relation add x y z for addition with add x y z holds if x y z a ternary relation mult x y z for multiplication with mult x y z holds if x y z and two constants for the neutral elements 0 and 1 a field f a adda multa 0 a 1 a is a f ield structure satisfying the usual field axioms which we write for convenience in the usual notation with and let o f ield be the purely relational vocabulary f ield where is a binary relation symbol an ordered field f a adda multa 0 a 1 a a is a o f ield structure satisfying the usual axioms of ordered fields we sometimes also look at ordered fields as structures over a vocabulary containing function symbols let f f ield be the vocabularies with binary functions for addition and multiplication unary functions for negatives x and inverses 1 x and f o f ields f f ield the difference between the relational and functional version lies in the notion of sub structure in the functional version substructures of ordered fields are ordered fields for mulas in the functional version can be translated into formulas in the relational version but this requires the use of existential quantifiers let b x 1 xm y be a quantifier free formula with free variables x 1 xm y a for mula with free variables y is universal if it is of the form x 1 xmb x 1 xm y a formula is existential if it is of the form x 1 xmb x 1 xm y note that when translating a quantifier free formula in fol f f ield into an equivalent formula in fol f ield the result is not quantifier free but in general an existential formula translating a universal formula results in an formula let f be a field 8 j a makowsky i for p a prime f is of characteristic p if 1 1 p 0 ii f is of characteristic 0 if for all n n we have that 1 1 n 6 0 iii f is pythagorean if every sum of two squares is a square x y z x y 2 z 2 u u 2 x iv f is a vieta field if every polynomial with coefficients in f of degree at most 3 has a root in o v f is formally real if 0 cannot be written as a sum of nonzero squares i e for all n n we have x 1 xn n i 1 x 2 i 0 n i 1 x 2 i 0 vi f is algebraically closed if every non constant polynomial with coefficients in f has a root in f we denote by acf 0 the first order sentences of fields describing an algebraically closed field of characteristic 0 an ordered field o is a field f with an additional binary relation which is compatible with the arithmetic relations of f an ordered field is always of characteristic 0 let o be an ordered field i o is euclidean if every positive element has a square root x x 0 y y 2 x ii an ordered field is pythagorean vieta formally real if it is an ordered field and as a field is pythagorean vieta formally real iii an ordered field o is real closed if o is formally real every positive element in o has a square root x y y 2 x and every polynomial of odd degree with coefficients in o has a root in o x 0 x 2 n 1 x 2 n 1 6 0 y 2 n 1 i 0 xiy i 0 we denote by rcf the first order sentences of ordered fields describing a real closed field 2 2 undecidable theories of fields we now are ready to apply ziegler s theorem theorem 2 in order to show the following theorem 3 let t one of the first order theories over the vocabulary of ordered fields listed below then the set of first order consequences of t is undecidable not computable but computably enumerable i the theory of fields and of ordered fields ii the theory of pythagorean fields and ordered pythagorean fields iii the theory of vieta fields and ordered vieta fields decidability of geometry 9 iv the theory of pythagorean fields and ordered pythagorean fields of characteristic 0 v the theory of ordered euclidean fields proof first we note that each of these theories has the field of ordered real numbers as a model furthermore each of them is either finite or of the form t t n 6 0 n n with t finite hence we can apply theorem 2 2 3 decidable theories of fields in order to prove decidability of the theory tarskian geometry a tarski and a seidenberg independently proved the following proposition 4 a tarski and a seidenberg bas 14 the first order theory rcf fol f o f ield is recursiveley axiomatized complete and admits elimination of quantifiers and therefore is decidable a first order theory t fol over some vocabulary is complete if t is satisfiable and for every formula fol without free variables we have either t or t proposition 5 a tarski tar 51 the first order theory acf 0 fol f f ield is recursively axiomatized complete and admits elimination of quantifiers and therefore is decidable remark 1 to prove decidability one has to prove additionally in both propositions 4 and 5 that equality and inequality and comparison by of constant terms of f f ield f o f ield is decidable we also note that quantifier elimination is not possible if the theories are ex pressed in folo f ield respectively fol f ield however even in fol f o f ield respectively fol f f ield the method of quantifier elimi nation cannot be used for other theories compatible with the theories rcf or acf 0 theorem 4 mmvdd 83 assume t fol f f ield t fol f o f ield is a theory of or dered fields which has the complex real numbers as a model and t admits elimination of quantifiers then t is equivalent to acf 0 rcf problem 1 is there a decidable infinite theory t of ordered fields which has no real clo sure inside the field of real numbers there exists a minimal pythagorean p euclidean e vieta v field which is the intersection of all pythagorean euclidean vieta subfields in r the theory of the minimal field of characteristic 0 the field q of the rationals q is undecidable by proposition 2 iii problem 2 are the complete theories of ordered fields of p e or o undecidable theorem 2 holds not only for finite subtheories of real or algebraically closed fields of characteristic 0 but also for finite characteristic and for certain formally p adic fields in sv 14 many more infinitely axiomatizable theories of fields are shown to be finitely hereditarily undecidable 10 j a makowsky 2 4 the universal consequences of a theory of fields our next observation concerns the universal consequences of a theory of fields the following is a special case of tarski s theorem for universal formulas proven in every textbook on model theory e g hod 93 lemma 1 let f be a field and f 0 be a subfield let fol f f ield be a universal formula with parameters from f 0 and f then f 0 the same also holds for ordered fields proposition 6 1 let f be a set of f f ield sentences such that all its models are fields of characteristic 0 and f is consistent with acf 0 then for every universal fol f f ield we have f iff acf 0 hence the universal consequences of f are decidable 2 let fo be a set of f o f ield sentences such that all its models are ordered fields and fo is consistent with rcf then for every universal fol f o f ield we have fo iff rcf hence the universal consequences of fo are decidable proof i as acf 0 is complete and f is consistent with acf 0 we have that acf 0 f let f then also acf 0 conversely assume acf 0 now we use that is universal by lemma 1 holds in every subfield f of an algebraically closed fields of characteristic 0 by a classical theorem of algebra ste 10 every field of characteristic 0 has an algebraically closed extension which satisfies acf 0 hence t ii the proof is similar using real closures instead in wu 94 a special case of the decidability in proposition 6 i is proved where the decision procedure is given using hilbert s nullstellensatz and gro bner bases rather than via quantifier elimination we discuss this further in section 7 this makes the decision procedure seemingly less complicated than in the case of the decidability in proposition 13 ii a comparison of the complexity of the two cases may be found in kap 88 problem 3 for which theories of fields f is the consequence problem for existential for mulas e decidable the answer is positive for acf 0 and rcf by propositions 4 and 5 in spite of recent results by j koengismann koe 16 a koe 16 b on decidability of theories of fields problem 3 is open for the field of rational numbers q problem 4 is the existential theory of the field q q q 0 1 decidable 3 axioms of geometry hilbert wu and huzita justin in this section we collect some of hilbert s axioms of geometry which we need in the sequel and which are all true when one considers the analytic geometry of the plane with real coordinates decidability of geometry 11 3 1 the vocabularies of geometry models of plane geometry are called planes these models differ in their basic relations the universe is always two sorted consisting of points and lines and the most basic relation is incidence with p to be interpreted as a point p is coincident with a line other relations are equidistant eq p 1 p 2 p 1 p 2 to be interpreted as two pairs of points p 1 p 2 and p 1 p 2 have the same distance orthogonality or 1 2 to be interpreted as two lines are orthogonal perpendicular equiangular an p 1 p 2 p 3 p 1 p 2 p 3 to be interpreted as two triples of points define the same angle betweenness be p 1 p 2 p 3 to be interpreted as three distinct points are on the same line and p 2 is between p 1 and p 3 p equidistant peq 1 p 2 to be interpreted as the point p has the same distance from two lines 1 and 2 l equidistant leq p 1 p 2 to be interpreted as the two points p 1 and p 2 have the same distance from the line symmetric line symline p 1 p 2 to be interpreted as the two points p 1 and p 2 are sym metric with respect to the line we define now the following vocabularies the vocabulary of incidence geometry which uses incidence alone possibly extended with a few symbols for specific constants hilbert the vocabulary of hilbertian style geometry incidence betweenness equidistance and equiangularity har 00 wu the vocabulary of wu s orthogonal geometry incidence equidistance orthogonality wu 94 chapter 2 origami the vocabulary used to describe origami constructions incidence symmetric line l equidistant orthogonality git 07 o origami an alternative version for describing origami constructions incidence equidis tance orthogonality hence o origami wu we note that all these vocabularies contain the symbol for the incidence relation in cwthe following subsections we collect some of hilbert s axioms of geometry which we need in the sequel and which are all true when one considers the analytic geometry of the plane with real coordinates 3 2 incidence geometries axioms using only the incidence relation i 1 for any two distinct points a b there is a unique line l with a l and b l i 2 every line contains at least two distinct points i 3 there exists three distinct points a b c such that no line l contains all of them they can be formulated in fol using the incidence relation only parallel axiom we define par l 1 l 2 or l 1 l 2 if l 1 and l 2 have no point in common parax for each point a and each line l there is at most one line l with l l and a l par l 1 l 2 can be formulated in fol using the incidence relation only hence also the parallel axiom 12 j a makowsky pappus axiom pappus given two lines l l and points a b c l and a b c l such that ac a c and bc b c then also ab a b axioms of desargues and of infinity inflines given distinct a b c and l with a l b c 6 l we define a 1 par ab c l and inductively an 1 par anb c l then all the ai are distinct note that this axiom is stronger than just saying there infinitely many points it says that there are no lines which have only finitely many points de 1 if aa bb cc intersect in one point or are all parallel and ab a b and ac a c then bc b c de 2 if ab a b ac a c and bc b c then aa bb cc are all parallel the axiom inflies is not first order definable but consists of an infinite set of first order formulas with infinitely many new constant symbols for the points ai and the incidence relation the two desargues axioms are first order definable using the incidence relation only affine plane let be a vocabulary of geometry a structure is an infinite affine plane if it satisfies i 1 i 2 i 3 and the parallel axiom parax and inflines we denote the set of these axioms by ta f f ine pappian plane is a pappian plane if additionally it satisfies the axiom of pappus pap pus we denote the set of these axioms by tpappus in the literature the definition of affine planes vary sometimes the parallel axiom is in cluded and sometimes not we always include the parallel axiom unless indicated explicitly otherwise 3 3 hilbert style geometries axioms of betweenness b 1 if be a b c then there is l with a b c l b 2 for every a b there is c with be a b c b 3 for each distinct a b c l exactly one point of the points a b c is between the two others b 4 pasch assume the points a b c and l in general position i e the three points are not on one line none of the points is on l let d be the point at which l and the line ab intersect if be a d b there is d l with be a d c or be b d c the axioms of betweenness are all first order expressible in the language with incidence relation and the betweenness relation congruence axioms equidistance we write for eq a b c d the usual ab cd c 0 ab ab ba c 1 given a b c c l with c c l there is a unique d l with ab cd and b c c d or b c d c c 2 if ab cd and ab ef then cd ef c 3 addition given a b c d e f with be a b c and be d e f if ab de and bc ef then ac df note that c 1 and c 3 use the betweenness relation be hence they are first order defin able using the incidence betweenness and equidistance relation decidability of geometry 13 congruence axioms equiangularity we denote by ab the directed ray from a to b and by abc the angle between ab and bc for the congruence of angles an a b c a b c we write abc a b c c 4 given rays ab ac and de there is a unique ray df with bac edf c 5 congruence of angles is an equivalence relation c 6 side angle side given two triangles abc and a b c with ab a b ac a c and bac b a c then bc b c abc a b c and acb a c b axiom e let a be a point and bc be a line segment a circle a bc is the set of all points u such that e a u b c a point d is inside the circle a bc if there is u with e a u b c and be a d u a point d is outside the circle a bc if there is u with e a u b c and be a u d axe given two circles such that contains at least one point inside and one point outside then 6 0 hilbert plane let with hilbert be a vocabulary of geometry a structure is an infinite hilbert plane if it satisfies i 1 i 2 i 3 b 1 b 2 b 3 b 4 and c 1 c 2 c 3 c 4 c 5 c 6 we denote the set of these axioms by thilbert p hilbert plane is a p hilbert plane if it additionally satisfies parax we denote the set of these axioms by tp hilbert euclidean plane is a euclidean plane if it is a p hilbert plane which also satisfies axiom e we denote the set of these axioms by teuclid 3 4 axioms of orthogonal geometry congruence axioms orthogonality we denote by l 1 l 2 the orthogonality of two lines or l 1 l 2 we call a line l isotropic if l l note that our definitions do not exclude this o 1 l 1 l 2 iff l 2 l 1 o 2 given o and l 1 there exists exactly one line l 2 with l 1 l 2 and o l 2 o 3 l 1 l 2 and l 1 l 3 then l 2 l 3 o 4 for every o there is an l with o l and l 6 l o 5 the three heights of a triangle intersect in one point axiom of symmetric axis and transposition axsymax any two intersecting non isotropic lines have a symmetric axis axtrans let l l be two non isotropic lines with a o b l ao ob and o l there are exactly two points a b l such that ab a b b a and a o o b the two axioms are equivalent in geometries satisfying the incidence parallel desargues and orthogonality axioms together with the axiom of infinity orthogonal wu plane let with wu be a vocabulary of geometry a structure is an orthogonal wu plane if it satisfies i 1 i 2 i 3 o 1 o 2 o 3 o 4 o 5 the axiom of infinity inflines parax and the two axioms of desargues d 1 and d 2 we denote the set of these axioms by to wu 14 j a makowsky metric wu plane is a metric wu plane if it satisfies additionally the axiom of symmetric axis axsymax or equivalently the axiom of transposition axtrans we denote the set of these axioms by tm wu the axiomatization of orthogonal is due to w wu wu 86 wu 94 wg 07 see also pam 07 3 5 the origami axioms a line which is obtained by folding the paper is called a fold the first six axioms are known as huzita s axioms axiom h 7 was discovered by k hatori jacques justin and robert j lang also found axiom h 7 wik the axioms h 1 h 7 only express closure under folding operations and do not define a geometry to make it into an axiomatization of geometry we have to that these operations are performed on an affine plane we follow here git 07 the original axioms and their expression as first order for mulas in the vocabulary origami are as follows h 1 given two points p 1 and p 2 there is a unique fold line that passes through both of them p 1 p 2 1 l p 1 l p 2 l h 2 given two points p 1 and p 2 there is a unique fold line that places p 1 onto p 2 p 1 p 2 1 lsymline p 1 l p 2 h 3 given two lines l 1 and l 2 there is a fold line that places l 1 onto l 2 l 1 l 2 k p p k peq l 1 p l 2 h 4 given a point p and a line l 1 there is a unique fold line perpendicular to l 1 that passes through point p p l 1 k p p k or l k h 5 given two points p 1 and p 2 and a line l 1 there is a fold line that places p 1 onto l 1 and passes through p 2 p 1 p 2 l 1 l 2 p p 2 l 2 p 2 symline p 1 l 2 p 2 p 2 l 1 h 6 given two points p 1 and p 2 and two lines l 1 and l 2 there is a fold line that places p 1 onto l 1 and p 2 onto l 2 p 1 p 2 l 1 l 2 l 3 q 1 symline p 1 l 3 q 1 q 1 l 1 q 2 symline p 2 l 3 q 2 q 2 l 2 h 7 given one point p and two lines l 1 and l 2 there is a fold line that places p onto l 1 and is perpendicular to l 2 p l 2 l 2 l 3 or l 2 l 3 qsymline p l 3 q q l 1 affine origami plane let with origami be a vocabulary of geometry a structure is an affine origami plane if it satisfies i 1 i 2 i 3 the axiom of infinity inflines parax and the huzita hatori axioms h 1 h 7 we denote the set of these axioms by ta origami decidability of geometry 15 proposition 7 the relations symline and peq are first order definable using eq and or with existential formulas over f f ield hence the axioms h 1 h 7 are first order definable in fol wu proof i symline p 1 p 2 iff there is a point q such that or p 1 q or p 2 q and eq p 1 q p 2 q ii peq 1 p 2 iff there exist points q 1 q 2 such that or p q 1 1 or p q 2 2 eq p q 1 and eq p q 2 4 proving undecidability of geometrical theories in this section we spell out how one can apply j robinson s proposition 2 or m ziegler s theorem theorem 2 to prove undecidability of geometric theories 4 1 translation schemes we first introduce the formalism of translation schemes transductions and translation in tmr 53 this was first used but not spelled out in detail our approach follows mak 04 section 2 to keep it notationally simple we explain on an example let be a vocabulary consisting of one binary relation symbol r be a vocabulary consisting of one ternary relation symbol s in general if and are purely relational vocabularies the definition can be extended in a straighforward way if the contain function symbols and constants one has to be a bit more careful when extending the definitions below however for our purpose here this is not needed we want to interpret a structure on k tuples of elements of a structure a translation scheme s consists of a formula x with k free vari ables and a formula s with 3 k free variables is quantifier free if all its translation for mulas are quantifier free let a a ra be a structure we define a structure a b sb as follows the universe is given by b a ak a a and s b b ak 3 a s b is called a transduction 3 let be a formula we define a formula inductively by substituting occur rences of s b by their definition via s where the free variables are suitable named is called a translation the fundamental property of translation schemes transductions and translation is the following proposition 8 fundamental property of translation schemes let be a translation scheme and be a formula hence is a tau formula a iff a if has free variables the assignment have to be chosen accordingly furthermore if is quantifier free and is a universal formula is also universal 3 this terminology was put forward in the many papers by b courcelle cf ce 12 16 j a makowsky in order to use translation schemes to prove decidability and undecidability of theories we need two lemmas lemma 2 let be a translation scheme i let a be a structure if the complete first order theory t 0 of a is decidable so is the complete first order theory t 1 of a ii there is a structure a such that the complete first order theory t 1 of a is decidable but the complete first order theory t 0 of a is undecidable iii if however is onto i e for every fol there is a formula fol with logically equivalent to then the converse of i also holds iv let t fol be a decidable theory and t fol and be such that mod t mod t mod t be onto then t is decidable proof i this follows from 8 a iff a hence t 1 iff t 0 as t 0 is decidable we can decide whether t 0 and also whether t 1 ii let a n n n where addition and multiplication are ternary relations t 0 a is undecidable by go del s theorem now let a be n a a where a n but a n a is like press burger arithmetic but has two names a and a for the same addition hence the com plete theory of a is decidable iii if we assume t 0 to be decidable we can only decide whether t 1 for of the form iv let fol we want to check whether t let b t as is onto there is a with a t and a b now we have using proposition 8 b iff a iff t 6 iff t 6 but by assumption t is decidable hence t is decidable remark 2 the condition that resp have to be onto is often overlooked in the litera ture 4 we shall need one more observation lemma 3 let t fol and fol assume t is decidable then t is also decidable proof this follows from the semantic version of the deduction theorem of first order logic t iff t 4 theorems 1 36 and 1 37 as stated in bgkv 07 are only true when one notices that their theorems 1 20 and 1 21 imply that the particular transductions used in theorems 1 36 and 1 37 are indeed onto however this is not stated there decidability of geometry 17 4 2 interpretability a theory t fol is finitely axiomatizable if there is a finite t which is axiomatizable and has the same set of consequences as t t is essentially undecidable if no theory t fol extending t is decidable t is completely undecidable if there is a finite subtheory t t which is essentially undecidable let s fol and t fol be two theories over disjoint vocabularies s is inter pretable in t if there exists a first order translation scheme such that t s s is weakly interpretable in t if there exists a theory t over the same vocabulary as t and a translation scheme such that t s lemma 4 bet 64 statement e 3 on page 602 assume s is a theory which is i finitely axiomatizable ii essentially undecidable and iii weakly interpretable in a theory t using a translation scheme then t and every subtheory of t is undecidable moreover there is a theory t with t t and with the same vocabulary as t which is essentially undecidable let m be a class of structures closed under isomorphisms a translation scheme is invertible on m if there exists a translation scheme such that for all a m a a and for all b m b b clearly if is invertible on m m m m is onto lemma 5 let a be a structure and a be a structure and let be a translation scheme such that a a let s be the complete theory of a assume s is undecidable let t fol with a t and assume that is invertible on m a a t then i s is weakly interpretable in t and ii t is undecidable proof ii follows from i and lemma 4 to see i we use that a t and use as t the complete theory of a now the invertibility of allows us to complete the argument in rau 62 lemma 5 is stated without the invertibility assumption as the interpreta tionstheorem in the particular application in rau 62 s is the complete theory of the field of rational numbers which is undecidable by proposition 2 the translation scheme is vaguely sketched as pp and its inverse is not defined at all we will show in the next section that both pp and rr are first order definable theorem 11 implies that both pp and rr are invertible this allows us to complete the gap in rau 62 in the proof of theorem 1 how ever theorem 11 only appears explicitly in blu 80 and in szm 83 and were not available in 1962 18 j a makowsky 5 the role of coordinates 5 1 analytic geometry over fields of characteritic 0 given a field f or an ordered field o we define the following relations in f o where elements p x y are called points and a b c x y ax by c are called lines similarly we write pi xi yi and i ai bi ci in f ield points are defined using a quantifier free formula and lines are defined using an existential formula in f f ield both are defined using a quantifier free formula incidence p iff ax by c 0 in f f ield is a quantifier free formula equidistance eq p 1 p 2 p 3 p 4 iff x 1 x 2 2 y 1 y 2 2 x 3 x 4 2 y 3 y 4 2 in f f ield is a quantifier free formula orthogonality or 1 2 or 1 2 iff a 1 a 2 b 1 b 2 0 in f f ield is a quantifier free formula for equiangularity we have to work a bit more let a b c be a line the slope of is defined as sl a b now let 1 2 be two lines intersection at the point p let and k a line with or k 1 intersecting i at qi 1 2 the angle q 1 p q 2 is an acute angle for acute angles we define tan q 1 p q 2 sl 1 sl 2 1 sl 1 sl 2 we now give a quantifier free definition of equiangularity in rectangular triangles rectangular rectangular p 1 p 2 p 3 iff or p 1 p 2 p 1 p 3 equiangular assume we have two rectangular triangles p 1 p 2 p 3 and q 1 q 2 q 3 with rectangular p 1 p 2 p 3 and rectangular q 1 q 2 q 3 we define an p 1 p 2 p 3 q 1 q 2 q 3 iff tan p 1 p 2 p 3 tan q 1 q 2 q 3 in f f ield this is a quantifier free formula if the field is an ordered field we define additionally colinear col p 1 p 2 p 3 iff 3 i 1 pi for a b c and pi xi yi we can write this as a b c 3 i 1 axi bxyi c 0 which is equivalent to det x 1 y 1 1 x 2 y 2 1 x 3 y 3 1 0 which in f f ield is a quantifier free formula betweenness be p 1 p 2 p 3 iff col p 1 p 2 p 3 x 1 x 2 x 3 y 1 y 2 y 3 x 3 x 2 x 1 y 3 y 2 y 1 which in f o f ield is a quantifier free formula decidability of geometry 19 definition 1 given a field with universe a let points f a 2 and lines f a 3 for a field f respectively an ordered field o we define i f to be the two sorted structure points f lines f f the quantifier free first order translation scheme pp lines satisfies pp f f ii wu f to be the two sorted structure points f lines f f eqf orf the quantifier free first order translation scheme ppwu lines eq or satisfies pp wu f wu f iii hilbert o to be the two sorted structure points o lines o o eqo an o beo the quantifier free first order translation scheme pphilbert lines eq an be sat isfies pp hilbert f hilbert f this gives us proposition 9 the translation schemes pp ppwu and pphilbert are quantifier free first or der translation schemes 5 2 properties of pp and ppwu we summarize now the properties needed of these translation schemes and their induced transductions and translations here and in the next section we call these properties the correctness of the translation schemes because they state that they behave as needed to prove undecidability results theorem 5 correctness of pp and ppwu i har 00 14 1 if f is a field then pp f satisfies the incidence axioms i 1 i 3 the parallel axiom and the pappus axiom ii har 00 14 4 if f is a field of characteristic 0 then pp f satisfies additionally the axioms of infinity i e is an infinite pappian plane iii wu 94 if f is a pythagorean field of characteristic 0 then pp wu f satisfies i 1 i 3 o 1 o 5 the parallel axiom the axiom of infinity the axiom of desargues and the axiom of symmetric axis which are axioms of a metric wu plane iv alp 00 if f is a vieta field then pp wu f satisfies the huzita hatori axioms h 1 h 7 theorem 6 correctness of pphilbert i har 00 17 3 if o is an ordered pythagorean field then pp hilbert o satisfies i 1 i 3 b 1 b 4 c 1 c 6 and the parallel axiom which are axioms of a hilbert plane which satisfies the parallel axiom ii har 00 17 3 if o is an ordered euclidean field then pp hilbert f is a hilbert plane which satisfies the parallel axiom and axiom e 20 j a makowsky 5 3 introducing coordinates we have seen in the last section how get models of geometry using coordinates in a field now we want to find a way to define coordinates from a model of geometry we say that we want to coordinatize this problem has a long tradition and was solved already in the 19 th century there are two accepted ways of coordinatizing if we have the notion of equidistance and betweenness available we can define an arithmetic of line segments this is discussed in detail in har 00 chapter 18 in the absence of betweenness and congruence but in the pres ence of the parallel axiom one can use pappus axiom to define the arithmetic operations even in a pappus plane this was first done by k g c von staudt vs 47 vs 57 a student of c f gauss before d hilbert s hil 02 the first modern treatment of coordinatization for affine and projective planes was given by m hall hal 43 definition 2 let a vocabulary for geometry t fol a set of axioms of geometry tf be a set of axioms for fields in f ields or o f ields we say that the models of t have a first order coordinatization in fields satisfying tf if there exists a first order translation scheme cc f ield such that a for every which satisfies t the structure cc f ield cc o f ield is a field which satisfies t b for every field f which satisfies tf the structure pp f satisfies t c for every field f which satisfies tf we have cc f ield pp f f d for every structure which satisfies t we have pp cc f ield we have formulated the definition in terms of the relational vocabularies for fields to make the use of translation schemes simple as we deal here with full first order logic there is no loss of generality in order to deduce undecidability of geometric theories using undecidability of theories of fields we will need the following theorem 7 segment arithmetics every p hilbert plane has a first order coordinatiza tion fff ield via segment arithmetic theorem 8 planar ternary rings every infinite pappus plane without finite lines has a first order coordinatization rr f ield via planar ternary rings we will show in the sequel that fff ield and rr f ield are fol definable 5 4 segment arithmetic given a hilbert plane which satisfies the parallel axiom we now want to show that one can interpret in an ordered field of coordinates fhilbert note that orthogonal ity or 1 2 of lines is definable in every hilbert plane using equiangularity we follow essentially har 00 chapter 4 fix a line segment 1 a 0 a 1 given by two points a 0 a 1 we first define commutative semiring shilbert as follows decidability of geometry 21 positive elements equivalence classes p 1 p 2 of pairs of points p 1 p 2 with eq p 1 p 2 zero element the equivalence class a 0 a 0 unit element the equivalence class a 0 a 1 positive addition choose three points p 1 p 2 p 3 such that be p 1 p 2 p 3 then we put p 1 p 2 p 2 p 3 p 1 p 3 if p 1 p 2 p 3 or not colinear we always can choose p 1 p 2 p 3 with be p 1 p 2 p 3 such that p 1 p 2 p 1 p 2 and p 2 p 3 p 2 p 3 positive multiplication let p 0 p 1 p 2 p 3 p 4 be points such that be p 0 p 1 p 2 and be p 0 p 3 p 4 and the lines p 1 p 3 and p 2 p 4 are parallel and the lines p 1 p 2 and p 3 p 4 are or thogonal and p 0 p 3 a 0 a 1 1 is the unit length then we put for a p 0 p 1 and b p 0 p 4 the product ab p 0 p 2 one easily verifies now proposition 10 the arithmetic operations defined as above are definable in fol in the vocabulary hilbert proposition 11 in any hilbert plane even without the parallel axiom addition of line segments as defined above is well defined commutative associative furthermore if a b are two line segments then one of the following holds i a b ii there is a line segment c such that a c b iii there is a line segment d such that a b d proposition 12 in any hilbert plane with the parallel axiom multiplication of line seg ments as defined above is well defined associative and has 1 as its neutral element fur thermore for all line segments a b c we have i a b c ab ac ii there is a unique d such that ad 1 iii if is also pappian then multiplication is also commutative lemma 6 in every semiring satisfying propositions 11 and 12 we can define an ordered field in fact this field is definable using a first order translation scheme proof we use the standard construction the same way as one constructs the ordered field of rational numbers q from the ordered semiring of the natural numbers n this gives us the first order translation schemes fff ield and ffo f ield theorem 9 correctness of fff ield and ffo f ield let be a hilbert plane which satisfies the parallel axiom i ff f ield is a field of characteristic 0 which can be uniquely ordered to be an ordered field f ii let f ff f ield be the ordered field of segment arithmetic in then f is pythagorean and pp hilbert f is isomorphic to iii an ordered field o is pythagorean iff pp hilbert o is a hilbert plane which satisfies the parallel axiom iv is a euclidean plane iff ff f ield is a euclidean field v f is a euclidean fields iff pp hilbert f is a euclidean plane proof a proof may be found in har 00 theorems 20 7 21 1 and 21 2 22 j a makowsky 5 5 planar ternary rings in order to use the undecidability of the theory of fields we have to find a first order trans duction rr which turns any pappian plane into a field rr without using the be tweenness relation be fortunately this can be done using planar ternary rings which were introduced by m hall in hal 43 m hall credits vs 57 hil 71 for the original idea a good exposition can be found in blu 80 szm 83 we follow here almost verbatim iva 16 which is a particularly nice exposition of hal 43 let be an affine plane satisfying i 1 i 3 parax with two distinguished lines 0 m 0 in let o be the point of intersection of 0 and m 0 lemma 7 there is a formula bi j x y d fol which for every line different from 0 and m 0 such that o defines a bijection between 0 and m 0 proof let x 0 and z x be the intersection with of the line m 1 parallel to m 0 containing x let y x m 0 be the intersection of the line 1 parallel to 0 containing z x clearly f 0 m 0 given by f x y x is a bijection and is fol definable by a formula bi j x y we will define a structure rr with universe a set k which we take to be 0 thinking of 0 and m 0 as axes of a coordinate system we can identify the points of with pairs of points in k 2 the projection of a point p onto 0 is defined by the point x 0 which is the intersection of the line m 1 parallel to m 0 with p m 1 the projection of a point p onto m 0 is defined analogously the point 0 has coordinates 0 0 furthermore we fix an arbitrary point 1 0 different from 0 which has coordinates 1 0 next we define the slope of a line in to be an element sl k if is parallel to 0 its slope is 0 and it is called a horizontal line if is parallel to m 0 its slope is and it is called a vertical line for not vertical let 1 be the line parallel to and passing through 0 let 1 a be the coordinates of the intersection of 1 with the line vertical line 2 passing through 1 0 then the slope sl a this shows lemma 8 there is a first order formula slope a fol which expresses sl a with respect to the auxiliary line lemma 9 i two lines 1 have the same slope sl sl 1 iff they are parallel ii for the line we have sl 1 because 1 1 we now define a ternary operation t k k we think of t a x b ax y as the result of multiplying a with x and then adding b but we yet have to define multiplication and addition let a b x k let be the unique line with sl a 6 intersecting the line m 0 at the point p 1 0 b let 1 x z k 2 z k for every x k the line intersects 1 at a unique point say p 2 x y we set t a x b y lemma 10 there is a formula ter a x b y fol which expresses that a x b y with respect to the auxiliary line lemma 11 the ternary operation t a x b has the following properties and interpreta tions decidability of geometry 23 t 1 t 1 x 0 t x 1 0 x t 1 x 0 x means that the auxiliary line d x x k 2 x k is a line with sl d 1 t x 1 0 x means that the slope of the line passing through 0 0 and 1 x is given by sl x this is the true interpretation of the slope in analytic geometry t 2 t a 0 b t 0 a b b the equation t a 0 b b means that the line defined by t a x b y intersects m 0 at 0 b which is the meaning of ax b in analytic geometry the equation t 0 a b b means that the horizontal line 1 passing through 0 b consists of the points a b k 2 a k t 3 for all a x y k there is a unique b k such that t a x b y this means that for every slope s different from there is a unique line with sl s passing through through x y t 4 for every a a b b k and a 6 a the equation t a x b t a x b has a unique solution x k this means that two lines 1 and 2 with different slopes not equal to intersect at a unique point p t 5 for every x y x y k and x 6 x there is a unique pair a b k such that t a x b y and t a x b y this means that any two points p 1 p 2 not on the same vertical line are contained in a unique line with slope different from a structure k tk with a ternary operation tk satisfying t 1 t 5 is called a planar ternary ring ptr if the ptr k tk arises from a pappian plane we define addition by addt a b c by t a 1 b c and multiplication by multt a x c by t a x 0 c we define now the translation schemes rrptr line ter and rff ield line addt multt the transduction rr ptr maps incidence planes into structures with universe defined by the lines and a ternary function and the transduction rf ptr maps pappian planes into structures with universe defined by the lines and with two binary operations with these definitions we get theorem 10 correctness of rrptrand rff ield let be plane satisfying i 1 i 2 and i 3 with distinguished lines m d and points o 0 0 and i 1 0 i rr ptr is a planar ternary ring ii is a infinite pappian plane iff rf f ield is a field of characteristic 0 a detailed proof may be found in blu 80 szm 83 6 undecidable geometries 6 1 incidence geometries first we look structures i e at models of the incidence relation alone to prove unde cidability the correctness of the translation scheme rr f ield theorem 10 is not enough we still have to show that rr f ield is onto as a transduction from pappus planes to fields theorem 11 szm 83 section 4 5 i if is a pappus plane there is a field f such that pp f is isomorphic to 24 j a makowsky ii if additionally satisfies inf f is a field of characteristic 0 in fact f can be chosen to be rr f ield from theorem 8 corollary 1 rr f ield is onto as a transduction from pappus planes to fields we now can use proposition 2 i to prove theorem 1 which states that the theory tpappus of pappus planes is undecidable proof proof of theorem 1 assume for contradiction that tpappus is decidable by corol lary 1 rr f ield is onto hence the theory of fields is decidable which contradicts proposition 2 proof alternative proof of theorem 1 we could also use proposition 2 iii to prove the orem 1 let q be the field of rational numbers in this case we use lemma 5 with a pp q and a rr a rr a q by theorem 11 so s is the complete theory of q which is undecidable by proposition 2 iii hence tpappus is undecidable this alternative proof does not work for hilbert planes and euclidean planes because we do not know whether the complete theories of the fields p and e are undecidable 6 2 hilbert planes and euclidean planes similarly the correctness of the translation scheme ff f ield theorem 9 is not enough we need one more lemma 5 lemma 12 let f be a pythagorean field and f pp hilbert f then ff f ield f is isomorphic to f proof for every a f with a 0 there is a segment in f of the form 0 0 a 0 on the line y 0 and every segment 0 0 b 0 on the line y 0 corresponds to an element b f we conclude that there is an isomorphism f of ordered fields between f and the segments on the line y 0 similarly there is an isomorphism of ordered fields g between the segments on the line y 0 and the field ff f ield f composing the two isomorphisms gives the required isomorphism between f and ff f ield f corollary 2 i ff f ield is onto as a transduction from hilbert planes to ordered pythagorean fields ii ff f ield is onto as a transduction from euclidean planes to ordered euclidean fields using ziegler s theorem 2 lemma 2 theorem 9 and and corollary 2 we conclude theorem 12 i the consequence problem for the hilbert plane which satisfies the parallel axiom is undecidable ii the consequence problem for the hilbert plane is undecidable iii the consequence problem for the euclidean plane is undecidable 5 in bgkv 07 it is overlooked that lemma 12 is needed in order to apply lemma 2 in wst 83 it is used properly but not explicitly stated decidability of geometry 25 6 3 wu s geometry there are two systems of orthogonal geometry wu s orthogonal geometry to wu and wu s metric geometry tm wu recall that in wu s orthogonal geometry we have as basic relation incidence a l and orthogonality or l 1 l 2 but neither betweenness nor equidistance we also require that models of wu s geometry are infinite pappian planes without finite lines theorem 13 i let f be a pythagorean field of characteristic 0 then ppwu f is a metric wu plane ii conversely let is a metric wu plane then rf f ield is a pythagorean field of char acteristic 0 iii furthermore rf f ield ppwu f is isomorphic to f and ppwu rff ield is isomor phic to corollary 3 rf f ield maps metric wu planes onto pythagorean fields theorem 14 the consequence problem for wu metric is undecidable the consequence problem for wu orthogonal is undecidable proof i use ziegler s theorem 2 for acf 0 lemma 2 theorem 10 and corollary 3 ii we observe that wu metric is obtained from wu orthogonal by adding one more ax iom this gives that if wu orthogonal were decidable so would wu metric be decidable which contradicts i 6 4 origami geometry in origami geometry we have also points and lines the incidence relation a l the orthog onality relation or l 1 l 2 a relation symp a l b and a relation d a l 1 l 2 the intended interpretation of symp a l b states that a and b are symmetric with respect to l i e l is perpendicular to the line ab and intersects ab at a point c such that eq a c and eq c b the intended interpretation of d a l 1 l 2 states that the point a has the same perpendic ular distance from l 1 and l 2 clearly symp a l b and d a l 1 l 2 are definable in a hilbert plane using eq or an origami plane is an infinite pappian plane without finite lines which satisfies addi tionally the axioms h 1 to h 7 theorem 15 alp 00 if is an origami plane then rf f ield is a vieta field conversely for every vieta field f the structure pp origami f is an origami field corollary 4 rr f ield maps origami planes onto vieta fields using ziegler s theorem 2 lemma 2 and 3 we can now apply theorem 15 and corol lary 4 to conclude theorem 16 i the consequence problem for origami planes is undecidable ii the consequence problem for the huzita axioms h 1 h 7 is undecidable 26 j a makowsky 7 decidability for fragments of first order logic problems in high school geometry are usually of the form given a configuration between points p and lines described by a quantifier free formula p show that these points also satisfy a quantifier free formula p p p p p a typical example would be of the three altitudes 1 2 3 of a triangle p 1 p 2 p 2 which intersect pairwise at the points p 1 2 p 1 3 p 2 3 show that p 1 1 p 1 2 p 1 3 the formula is a universal horn formula in uh u h in the literature the following was observed proposition 13 kap 88 the universal consequences of tm wu are decidable pam 94 the universal consequences of tp hilbert and teuclid are decidable using a simple model theoretic argument we can generalize this to theorem 17 below the reader can easily verify the following proposition 14 the formulas in the definition of the translation scheme pp points lines eq or an be can be written in the vocabulary o as quantifier free formulas qp points lines eq or an be in particular if folhilbert is a universal formula then qp fol o is a universal formula the general form of proposition 13 can now be stated as follows theorem 17 t fol hilbert be a geometrical theory such that i t tpappus ii the set of formulas ft fol o pp t is consistent with rcf iii for every with t pp rr is isomorphic to then the universal consequences of t are decidable the analogous statement also holds for t fol wu and t fol origami where rcf is replaced by acf 0 decidability of geometry 27 proof of theorem 17 let t be as required and be universal we want to show that t iff rfc qp the latter can be decided using the theorems 4 we have t iff for every plane with t also by theorem 11 is isomorphic pp rr and also to qp rr by theorem 8 iff rr qp by the definition of qp the formula qp is universal therefore rr qp iff rcf qp by lemma 6 in the case of fields rather than ordered fields we show that t iff acf 0 qp which can be decided using theorem 5 proposition 13 now follows easily using theorems 4 and 5 we also get corollary 5 the universal consequences of ta origami formulated as formulas in fol wu are decidable proof this follows from the characterization of the fields corresponding to torigami as the vieta fields theorem 15 more decidability for the universal consequences can be obtained from axiomatizations of geometrical constructions using more than just ruler and compass cf pam 08 8 conclusions we have discussed the decidability of the consequence problem for various axiomatizations of euclidean geometry the purpose of the paper was to make the metamathematical meth ods discussed in wst 83 and in bgkv 07 more accessible to the research communities of symbolic computation and automated theorem proving in particular we wanted to draw attention to ziegler s theorem 2 and spell out in detail what is needed to draw its conse quences for geometrical theories we have also listed some open problems concerning the decidability of theories of fields if restricted to fragments of first order logic such as u e h in writing this expository paper we also included new applications of these methods to wu s orthogonal geometry and to the geometry of paper folding origami these results both undecidability of first order consequences and decidability of universal consequences can be easily extended to theories of geometric constructions going beyond ruler and compass or paper folding cf har 00 pam 08 from a complexity point of view we see that the consequence problem for first order formulas is either undecidable or in the case of tarski s decidability results prohibitively difficult we have also shown that in the cases discussed the consequence problem for universally quantified formulas is decidable possibly in nondeterministic polynomial time what is left open and remains a challenge for future research is the decidability question for existential and horn formulas e and h acknowledgements this paper has its origin in my lecture notes on automated theorem proving mak 15 developed in the last 15 years i was motivated to develop this material further when i prepared a lecture on p bernays and the foundations of geometry which i gave at the occasion of the unveiling in summer 2017 of a plaque at the house where p bernays used to live in go ttingen before going into forced exile in 1933 p bernays edited hilbert s hil 02 from the 5 th 1922 till the 10 th edition 1967 see also hil 71 hil 13 i am indebted to r kahle who invited me to give this lecture without this invitation this paper would not have been written i 28 j a makowsky would also like to thank l kovacs for her patience and flexibility concerning the deadline for submitting this paper to the special issue on formalization of geometry and reasoning of the annals of mathematics and artificial intelligence special thanks are due to the anonymous referees and to j baldwin for critical remarks and suggestions as well as for pointing out various imprecisions which i hope were all corrected i was lucky enough to know p bernays personally as well as some other pioneers of the modern foun dations of geometry among them r baer h lenz w rautenberg w schwabha user w szmielew and a tarski i dedicate this paper to them and to my wonderful teacher of descriptive geometry m herter at the gymnasium freudenberg in zurich switzerland blessed be their memory references adm 09 jeremy avigad edward dean and john mumma a formal system for euclids elements the review of symbolic logic 2 4 700 768 2009 alp 00 r c alperin a mathematical theory of origami constructions and numbers new york j math 6 119 133 2000 art 57 e artin geometric algebra volume 3 of interscience tracts in pure and applied mathematics interscience publishers 1957 bal 18 j t baldwin model theory and the philosophy of mathematical practice cambridge univer sity press 2018 bas 14 s basu algorithms in real algebraic geometry a survey arxiv preprint arxiv 1409 1534 2014 bcss 98 l blum f cucker m shub and s smale complexity and real computation springer verlag 1998 bee m beeson some undecidable field theories translation of zie 82 available at www michaelbeeson com research papers ziegler pdf bee 13 m beeson proof and computation in geometry in international workshop on automated deduction in geometry 2012 volume 7993 of lnai pages 1 30 springer 2013 bet 64 e w beth the foundations of mathematics a study in the philosophy of science 2 nd edition elsevier 1964 bgkv 07 p balbiani v goranko r kellerman and d vakarelov logical theories for fragments of elementary geometry handbook of spatial logics pages 343 428 2007 blu 80 l m blumenthal a modern view of geometry courier corporation 1980 bpr 03 s basu r pollack and m f roy algorithms in real algebraic geometry volume 10 of algorithms and computation in mathematics springer verlag 2003 ce 12 b courcelle and j engelfriet graph structure and monadic second order logic a language theoretic approach cambridge university press 2012 cj 12 b f caviness and j r johnson quantifier elimination and cylindrical algebraic decomposi tion springer science business media 2012 cjw 06 j a carlson a jaffe and a wiles the millennium prize problems american mathematical soc 2006 dh 88 j h davenport and j heintz real quantifier elimination is doubly exponential journal of symbolic computation 5 29 35 1988 gel 59 h gelernter realization of a geometry theorem proving machine in ifip congress pages 273 281 1959 ghl 60 h gelernter j r hansen and d w loveland empirical explorations of the geometry theorem machine in papers presented at the may 3 5 1960 western joint ire aiee acm computer conference pages 143 149 acm 1960 git 07 f ghourabi t ida h takahashi m marin and a kasem logical and algebraic view of huzita s origami axioms with applications to computational origami in proceedings of the 2007 acm symposium on applied computing pages 767 772 acm 2007 ha 50 d hilbert and w ackermann principles of mathematical logic chelsea publishing company 1950 hal 43 m hall projective planes transactions of the american mathematical society 54 2 229 277 1943 har 00 r hartshorne geometry euclid and beyond springer 2000 hil 02 d hilbert the foundations of geometry open court publishing company 1902 hil 71 d hilbert foundations of geometry second edition translated from the tenth edition revised and enlarged by dr paul bernays the open court publishing company la salle illinois 1971 decidability of geometry 29 hil 13 d hilbert grundlagen der geometrie springer verlag 2013 hod 93 w hodges model theory volume 42 of encyclopedia of mathematics and its applications cambridge university press 1993 hr 74 k hauschild and w rautenberg rekursive unentscheidbarkeit der theorie der pythagora ischen ko rper fundamenta mathematicae 82 3 191 197 1974 the name of the coauthor w raut enberg was ommitted for political reasons but appears on the page headers of the paper iva 16 n v ivanov affine planes ternary rings and examples of non desarguesian planes arxiv preprint arxiv 1604 04945 2016 jus 89 j justin re solution par le pliage de e quation du troisieme degre et applications ge ome triques in proceedings of the first international meeting of origami science and technology pages 251 261 ferrara italy 1989 kap 88 d kapur a refutational approach to geometry theorem proving artificial intelligence 37 1 3 61 93 1988 koe 16 a j koenigsmann defining z in q annals of mathematics 183 1 73 93 2016 koe 16 b j koenigsmann on a question of abraham robinson israel journal of mathematics 214 2 931 943 2016 mak 04 j a makowsky algorithmic uses of the feferman vaught theorem annals of pure and applied logic 126 1 3 159 213 2004 mak 15 j a makowsky topics in automated theorem proving 1989 2015 course 236 714 fac ulty of computer science technion israel institute of technology haifa israel available at http www cs technion ac il janos courses thpr 2015 mil 07 nathaniel miller euclid and his twentieth century rivals diagrams in the logic of euclidean geometry csli publications stanford 2007 mmvdd 83 a macintyre k mckenna and l van den dries elimination of quantifiers in algebraic struc tures advances in mathematics 47 1 74 87 1983 pam 94 v pambuccian ternary operations as primitive notions for constructive plane geometry v mathematical logic quarterly 40 4 455 477 1994 pam 07 v pambuccian orthogonality as a single primitive notion for metric planes contributions to algebra and geometry 49 399 409 2007 pam 08 v pambuccian axiomatizing geometric constructions journal of applied logic 6 1 24 46 2008 poi 95 b poizat les petits cailloux une approche mode le the orique de l algorithmie ale as paris 1995 pru 06 m prunescu fast quantifier elimination means p np in logical approaches to computational barriers second conference on computability in europe cie 2006 swansea uk june 30 july 5 2006 proceedings volume 3988 page 459 springer science business media 2006 rab 65 m o rabin a simple method for undecidability proofs and some applications in y bar hillel editor logic methodology and philosophy of science pages 58 68 north holland publishing company 1965 rau 61 w rautenberg unentscheidbarkeit der euklidischen inzidenzgeometrie mathematical logic quarterly 7 1 5 12 15 1961 rau 62 w rautenberg u ber metatheoretische eigenschaften einiger geometrischer theorien mathe matical logic quarterly 8 1 5 5 41 1962 rob 49 j robinson definability and decision problems in arithmetic journal of symbolic logic 14 2 98 114 1949 sch 09 f schur grundlagen der geometrie bg teubner 1909 ste 10 e steinitz algebraische theorie der ko rper journal fu r reine und angewandte mathematik 137 167 309 1910 sv 14 a shlapentokh and c videla definability and decidability in infinite algebraic extensions annals of pure and applied logic 165 7 1243 1262 2014 szm 83 w szmielew from affine to euclidean geometry an axiomatic approach polish scientific publishers warszawa poland and d reidel publishing company dordrecht holland 1983 tar 31 a tarski sur les ensembles de finissables de nombre re els fundamenta mathematicae 17 210 239 1931 tar 51 a tarski a decision method for elementary algebra and geometry university of california press 1951 tmr 53 a tarski a mostowski and r m robinson undecidable theories studies in logic and the foundations of mathematics north holland 1953 vs 47 k g c von staudt geometrie der lage bauer und raspe 1847 vs 57 k g c von staudt beitra ge zur geometrie der lage volume 2 f korn 1857 30 j a makowsky wg 07 w wu and x gao mathematics mechanization and applications after thirty years frontiers of computer science in china 1 1 1 8 2007 wik wikipedia huzita hatori axioms wikipedia entry https en wikipedia org wiki huzita hatori axioms wst 83 w szmielew w schwabha user and a tarski metamathematische methoden in der geometrie springer 1983 wu 86 w t wu basic principles of mechanical theorem proving in elementary geometries journal of automated reasoning 2 3 221 252 1986 wu 94 w t wu mechanical theorem proving in geometries springer 1994 springer 1994 orig inal in chinese 1984 zie 82 martin ziegler einige unentscheidbare ko rpertheorien in v strassen e engeler h la uchli editor logic and algorithmic an international symposium held in honour of e specker pages 381 392 l enseignement mathe matique 1982 zor 49 m zorn eleventh meeting of the association for symbolic logic in journal of symbolic logic volume 14 1 pages 73 80 asl 1949 1 introduction 2 decidable and undecidable theories of fields 2 1 background on fields 2 2 undecidable theories of fields 2 3 decidable theories of fields 2 4 the universal consequences of a theory of fields 3 axioms of geometry hilbert wu and huzita justin 3 1 the vocabularies of geometry 3 2 incidence geometries 3 3 hilbert style geometries 3 4 axioms of orthogonal geometry 3 5 the origami axioms 4 proving undecidability of geometrical theories 4 1 translation schemes 4 2 interpretability 5 the role of coordinates 5 1 analytic geometry over fields of characteritic 0 5 2 properties of pp and ppwu 5 3 introducing coordinates 5 4 segment arithmetic 5 5 planar ternary rings 6 undecidable geometries 6 1 incidence geometries 6 2 hilbert planes and euclidean planes 6 3 wu s geometry 6 4 origami geometry 7 decidability for fragments of first order logic 8 conclusions