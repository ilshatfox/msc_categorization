cad based design optimization of four bar mechanisms a coronaventilator case study cad based design optimization of four bar mechanisms a coronaventilator case study abdelmajid ben yahyaa b nick van oosterwycka b ferre knaepkensc simon houwenf g stijn herregodtse jan herregodtse bart vanwalleghemf g annie cuytc d stijn derammelaerea b adepartment of electromechanics cosyslab university of antwerp antwerp belgium bansymo cosys flanders make the strategic research centre for the manufacturing industry belgium cdepartment of mathematics and computer science university of antwerp antwerp belgium dcollege of mathematics and statistics shenzhen university shenzhen guangdong 518060 china edepartment of human structure and repair ghent university gent belgium fdepartment of electrical energy metals mechanical constructions and systems ghent university campus kortrijk kortrijk belgium geedt mp flanders make the strategic research centre for the manufacturing industry belgium abstract design optimization of mechanisms is a promising research area as it results in more energy efficient machines without compromising performance how ever machine builders do not actually use the design methods described in the literature as these algorithms require too much theoretical analysis moreover the design synthesis approaches in the literature predominantly utilize heuristic optimizers leading to suboptimal local minima this research introduces a convenient optimization workflow allowing wide industrial adoption while guaranteeing to reveal the global optimum to guar antee that we find the global optimum a mathematical expression of the con straints describing the feasible region of possible designs is of great importance therefore kinematic analysis of the point to point ptp planar four bar mech anism is discussed to obtain the static and dynamic constraints within the feasible region objective value samples are generated through cad multi body software these motion simulations determine the required torque to fulfill the movement for a certain combination of design parameters sparse interpo corresponding author email adresses abdelmajid benyahya uantwerpen be abdelmajid ben yahya nick vanoosterwyck uantwerpen be nick van oosterwyck ferre knaepkens uantwerpen be ferre knaepkens simon houwen ugent be simon houwen stijn herregodts ugent be stijn herregodts jan herregodts ugent be jan herregodts bart vanwalleghem ugent be bart vanwalleghem annie cuyt uantwerpen be annie cuyt stijn derammelaere uantwerpen be stijn derammelaere 1 ar x iv 2 20 1 01 59 0 v 1 ee ss s y 5 j an 2 02 2 lation techniques allow minimizing the required amount of samples and thus cad simulations moreover this interpolation of simulation results enables the representation of the objective in a mathematical description without in depth analytical design analysis by the machine designer subsequently the math ematical expression of the objective allows global optimizers to find a global optimal design within the feasible design space in a case study of a coron aventilator mechanism with three design parameters dp s 1870 cad motion simulations from which only 618 are used to build a model allowed to reduce the rms torque of the mechanism by 67 keywords dimensional synthesis four bar linkage optimization mechanical systems motion control 2020 msc 70 1 introduction the energy consumption of industrial machinery is a topic of primary im portance due to environmental and economic considerations 1 the 45 share that electric motors have in the global electric consumption 2 supports the statement that any energy saving method should be investigated thoroughly the methodology proposed within this paper is applicable for all planar four bar mechanisms with an imposed movement of the end effector and or output link bc see figure 1 the potential of this scope is indicated in 3 4 5 stating that four bar linkages are extensively used in practical engineering ap plications moreover reciprocating ptp machinery is progressively common within the industry 5 the link lengths in a four bar mechanism can differ while fulfilling the same task being the ptp displacement of output link bc therefore the geome try parameters depicted in figure 1 can be considered as design parameters to enhance the mechanism design optimization of a point to point ptp mech y x o a b c oa input link ab coupler link bc output link b figure 1 the considered design parameters oa ab and bc of a four bar in the present paper 2 anism is one specific approach to reduce the energy consumption of electric machinery as indicated in figure 2 awareness about the influence of machine components geometry on energy consumption has recently attracted attention 6 7 8 mechanism models 9 10 replace the prototyping allowing computa tional evaluation of multiple designs with limited costs i e i e design 1 design 2 o o a b c ab c design 1 design 2 figure 2 defining certain lengths for the links of a four bar influences the required torque to move the output link bc from i to e driven from point o input link oa a coronaventilator is used as a validation case within this study this mech anism was constructed during the first wave of the covid 19 pandemic by a non profit organization 11 having continuous 24 7 access to electricity is not obvious within low and middle income countries thus having a mecha nism that consumes a minimum of electric energy enabling the usage of batteries is highly relevant therefore the objective of this study is to find the optimal design being lengths oa ab and bc leading to a minimal trms for a reciprocal four bar mechanism the method introduced in this paper relies on cad software to sample the objective function through motion simulations these simulation tools allow broad industrial applicability furthermore sparse interpolation technique is implemented to avoid an infeasible computational burden of numerous cad simulations moreover the objective function is only to be considered in the feasible design space of the four bar mechanism hence constraints that limit the design space are highly relevant state of the art tech niques generally use heuristic optimizers which cannot guarantee to find the global optimum 12 however the method described in this paper guarantees to reveal the global optimum 1 1 related work in the literature the minimisation of the driving torque is done by establish ing dynamic equations of the system to predict the dynamics however this makes the method inconvenient for machine builders moreover 13 14 15 do 3 not define the feasible search domain nor include it in searching for the optimum result the constraints that define the feasible design space are important as defects giving infeasible designs 16 frequently occur in the kinematic mecha nism synthesis of a four bar linkage the optimization algorithms of 13 14 17 assure that the objective function has converged towards a minimum yet it is generally not guaranteed that the designed linkage will be feasible therefore the necessary constraints should be added so that the optimal solution can fulfill the movement without inconveniences using a constrained global optimization algorithm requires a deterministic mathematical description of the constraints to find the global optimum to the authors knowledge this has not been done yet in the literature 18 developing a four bar mechanism that follows the desired output trajectory is a classic design problem that researchers extensively explore 19 20 21 22 23 however all methods above are not implementable in global optimizers as the algebraic expression when provided is only evaluated in discrete defined points xb yb i n on the coupler curve b shown in figure 1 thus these cannot deliver a deterministic mathematical description of the feasible design space which is required 1 2 method in general it will be shown how cad based motion simulations combined with a sparse interpolation technique enable a global optimizer that guaran tees revealing the global optimum and thereby outperform heuristic optimizers regarding energy savings mechanical design of systems is mainly done in computer aided design cad software these cad models include all required information i e vol ume mass friction damping joints to model the dynamics of a mechanism this information is necessary to calculate the necessary torque of the mecha nism through motion simulations by driving the mechanism with the motion profile t at point o figure 1 the location where the mechanism is driven in reality by a motor the user can extract the necessary torque from the soft ware as in figure 2 to fulfill the prescribed movement of the output link bc furthermore within these motion simulations the design parameters oa ab and bc of the four bar can be parameterized to simulate different de signs the objective value to minimize by the optimizer is the rms torque trms value necessary to drive the mechanism fulfilling an imposed ptp mo tion the literature states that minimizing the trms corresponds with reducing the energy losses in the system 5 hence by calculating the rms torque based on cad simulations as eluci dated in section 2 the objective value for a certain design i e certain values for the three design parameters oa ab and bc is obtained the whole simulation process to obtain the objective value for different design parameter combinations oa ab and bc is automated constraints on the design parameter values are necessary to define an area containing feasible designs as 4 discussed in section 3 from which designs are selected to simulate their corre sponding objective value trms as one design evaluation can take on average 1 minute and 25 seconds computational simulation time becomes a burden therefore wise selection of the simulated designs within the feasible design space is essential the brute force method requires an inconceivable number of gd mo tion simulations with g being the granularity of sampling and d the number of design parameters even with state of the art interpolation techniques the con struction of the objective function would require at least d 1 n 2 log 2 d 2 n samples 24 with n the total number of terms in the mathematical description of the objective function in the case of the coronaventilator this would mean 782 933 samples are required therefore the selection of samples is performed with certain rules in order to use an innovative multidimensional sparse interpo lation approach 25 this novel interpolation technique introduced in section 4 allows obtaining the objective function with a sparse sampling method within the feasible design space this reduces the number of required samples to 618 with an additional 1252 validation samples limiting the number of samples to construct the objective function is a major enabler for a global optimizer as the interpolation limits the number of cad motion simulations to a bare mini mum in this case the number of necessary samples is reduced from 10 000 000 to 1870 2 cad motion simulations in kinematic analysis linkage dimensions oa ab bc and oc are known and the resulting output motion t and its derivatives can be calcu lated on the other hand dimensional synthesis is regarded as the inverse in which for a specific output motion t the feasible dimensions of the linkages are obtained 26 this paper is based on the dimensional synthesis of a planar four bar function generation 27 as shown in figure 3 the movement of output linkage bc caused by t is described by a starting angle i and end angle e in this paper the machine designer only defined an output motion t which results in a reciprocal movement between the positions i and e i e o x y a c b figure 3 the output link bc requires a movement from i to e which is performed by moving over a design specific angle the validation case is clarified to make all the following more tangible this mechanism shown in figure 4 can ventilate a patient by pressing the inden tor into the bag which causes airflow towards the patient figure 4 presents 5 the cad model of the coronaventilator and illustrates that the red beam con nected with the indentor i e the end effector moves by rotating input link oa around point o this is the point where an electric motor drives the mech anism the red beam has two predefined angles an angle e that holds the mechanism in a position where the indentor touches the bag and an angle i that corresponds to a position in which the air is compressed out of the bag figure 4 clearly shows that the mechanism is a four bar linkage on which the method proposed in this paper can be applied k x e e x o indentor a b c x i i o bag beam b c a figure 4 the used case within this research is a coronaventilator developed by gear up medical vzw 11 it can be seen that the mechanism is from a four bar type however the output motion of the coronaventilator is described by the angle linked to the red beam while the four bar has an angle that is linked to the output link bc a relation between these angles stated as asin sin k tan b 2 k 2 b 1 allows a conversion from to the parameter k in equation 1 figure 4 is a constant value that changes neither in the optimization nor during the four bar mechanism s movement a cad motion simulation 28 can determine the necessary torque to drive the mechanism at point o only if the required position profile t at that point o is known however the user solely defines the required position profile of the end effector in this case t according to equation 1 we obtain t the conversion of t to t depends on the values of the design parameters oa ab and bc therefore each selected design is analysed by two mo tion simulations as indicated in figure 5 if the design is combined with the required output motion t the first kinematic motion simulation can extract the required motor position displacement t subsequently the motor motion profile t is used in the second motion simulation from which the required driving torque is determined this process with kinematic simulation and sub sequent torque calculation extracts the objective value for predefined designs 6 motion sim 1 t t t t transfer file t t t torque profile t t t motion sim 2 output motion motion sim 1 t t t t transfer file t t t torque profile t t t motion sim 2 output motion iii motion sim 1 t t t t transfer file t t t torque profile t t t motion sim 2 output motion ii motion sim 1 t e i t e i t t 1 i e transfer file t t t 1 torque profile t t t i e motion sim 2 output motion i output oa bc trms ab high low i ii iii t t 1 i e design parameters sample n oa ab bc 1 oa 1 ab 1 bc 1 2 oa 2 ab 2 bc 2 3 oa 3 ab 3 bc 3 oa ab bc x oa x ab x bc x model bc ab oa figure 5 the approach performing the necessary driving torque calculation of the mechanism 3 design parameter constraints 3 1 static constraints of a four bar the combinations of design parameters oa ab and bc to consider in the workflow above are chosen so that the designs are located within the feasible design space of the four bar mechanism to determine this region of feasible designs the first step is looking for static constraints this implies that only the designs which can be assembled for the maximal and minimal angle of the output link bc i and e can be part of the feasible design space an example of a design that cannot be assembled in e due to the chosen values for dp s oa ab and bc is illustrated in figure 6 this shows that the input link oa cannot be connected with the coupler link a b this assemblability o a a b c x e figure 6 the combination of design parameters oa ab and bc serve an infeasible design that cannot be assembled in e define the first boundaries on the design space that is illustrated in figure 7 left only in 2 d for illustrative purposes these boundaries are obtained through a position analysis of the four bar mechanism for both begin i and end position e for analysis of the ventilator the origin of the fixed frame is placed in joint o the driver joint let be the angle of the input link oa measured relative to the x axis and the angle of the output link bc relative to the x axis figure 7 right a relation between the input angle and output 7 y x c b a o feasible design space boundary on assemblability in e boundary on assemblability in i upperlimit of design parameters infeasible design space figure 7 the static constraints left shown for 2 dp s limit the design space to the area of designs that reach the output link s bc start and end position i and e angle is obtained based on the length of the coupler link ab which stays fixed during the mechanism s movement 29 therefore the analysis can start with xb yb xa ya xb yb xa ya ab 2 2 where xa oa cos ya oa sin xb xc bc cos yb yc bc sin 3 by substitution of 3 in 2 the dependency of the input angle based on the output angle is noted as 1 2 atan 2 v u arccos w u 2 v 2 4 where u 2 xc oa 2 oa bc cos v 2 yc oa 2 oa bc sin w xc 2 yc 2 oa 2 bc 2 ab 2 2 cos xc bc 2 sin yc bc 5 equation 4 allows the derivation of the input angle from the output angle the latter is the imposed output motion defined by the range however the mechanism can be assembled in two ways for a single output angle resulting in two possible solutions for in equation 4 this is a consequence of having the possibility to construct the four bar with a certain angle with output link bc on both sides of the diagonal ob as shown in figure 8 both constructions called the elbow up oabc and elbow down oa bc provide feasible solutions 8 the method proposed in the present paper applies to both configurations yet it is chosen to focus on the elbow up oabc as it is the most efficient one according to 30 to obtain the corresponding 1 which is smaller than 2 the second term is subtracted from the first term in equation 4 y x 1 o a b c a oab elbow up oa b elbow down 2 figure 8 the elbow up oab and elbow down oa b are two possible constructions in which the four bar linkage can be assembled for one angle of the output link bc regardless of the elbow configuration feasibility constraints due to the solv ability of equation 4 arise a solution can be found if the argument of the arccos is in the range 1 1 thus a solution solely exist when the inequality constraint u 2 v 2 w 2 0 6 is satisfied in this way an inequality constraint for the two output angles that bring point b farthest and closest to o must be established therefore equation 6 is evaluated for the maximal and minimal angle e and i this evaluates the assemblability in the positions i and e u 2 v 2 w 2 i e 0 7 by fulfilling equation 7 one can say that the designed mechanism is assem blable over its movement this design lies than within the area formed by the blue lines which means that the mechanism is assemblable in i and inside the area formed by red lines as it is assemblable in e see figure 7 3 2 dynamic constraints of a four bar the aforementioned static constraints in chapter 3 1 are not sufficient to exclude all infeasible designs to ensure that the desired movement t of the output linkage bc is feasible all defects during the movement should also be excluded the three types of defects that can occur during the motion of a four bar linkage are branch order and circuit defects the broad review in 31 reveals that research about branch order and circuit defect avoidance is of great significance in the field of linkage synthesizes with a branch defect the mechanism cannot perform the desired movement continuously more specifi cally four bar linkages can move in two different ways in figure 9 the input link oa moves between its extreme positions min until max resulting in a 9 change of the transmission angle between 0 and the extreme input angle positions min and max corresponds with an angle equal to respectively and 0 the movement is conducted by initiating the motion of the output link bc clockwise or counter clockwise around c the movement in each initial di rection around c clockwise or counter clockwise represents separate a branch if the mechanism has to change branch while moving a branch defect occurs for this linkage system design 32 when a branch defect occurs one can observe that the mechanism reaches the min or max position more than once during the movement this results in a transmission angle moving through 0 or hence when the mechanism moves through the positions equal to 0 or a change in the direction of occurs order defects appear if certain points xb yb i n are not reached in a certain sequence or order 17 order defects are impossible in this study as a reciprocal mechanism is considered which moves continuously with a fixed motion profile t between the maximal and minimal angle e and i figure circuit 1 x min start b oc a short after initiation branch 1 branch 2 c b a o x branch 1 x branch 2 c o ab end x c o a b max figure 9 an example of a four bar mechanism that has two connecting branches on the first circuit it is shown that moving the mechanism from min until max corresponds with a movement of the transmission angle on branch 1 from 180 to 360 while on branch 2 from 180 to 0 9 indicates that a circuit can exist out of two connected branches moreover this design reveals that a mechanism can have an other circuit in which the mechanism reaches whole other positions xb yb i n as shown in figure 10 the maximum circuits a four bar mechanism can have are limited to two the mechanism can move in each circuit separately without the necessity of discon necting any joints 33 a circuit defect arises when the linkage mechanism must be disassembled and placed in the other circuit shown in figure 11 to complete the motion to obtain a circuit defect should become bigger or smaller than max with 0 or min with respectively to fulfill the desired movement of the output link bc t a circuit defect has the same influence on as during a branch defect in this paper ptp movements with only a desired start and endpoint are considered the movement takes place through the actuation of one joint point o therefore the movement should stay within a single branch of a single circuit 34 figure 9 or 10 to eliminate the possible circuit and branch defects dynamic constraints 10 circuit 2 start b o a short after initiation branch 1 branch 2 branch 1 branch 2 end c x c o a b maxx min x x o o a a c c b b figure 10 the second circuit of this specific four bar design indicate that another circuit entails a complete different range nonetheless the circuit is also constructed by two connected branches with the same transition conditions for start end x min b oc a b o a c x min circuit defect oc b a a figure 11 a designed linkage system that moves from one circuit to another must be disas sembled which is a circuit defect are created based on the consequence of a defect that changes the direction of the input angle the calculations of the motor angle are always chosen for the elbow up oabc however by altering the circuit the configuration becomes an elbow down in which moves in the other direction therefore one can exclude branch and circuit defects by guaranteeing monotonicity in the motor position profile t the dynamic constraint sign i sign e 8 will check if the first derivative of in the start and end position i and e does not alter its sign equation 8 is only applicable if the mechanism deals with an odd number of branch and or circuit defects while moving as only then a change of sign is detected nonetheless the method is still applicable when an even number of defects occur because a defect results in very high required driving torques for each sign change the interpolation in chapter 4 neglects these disproportional objective values in that way an even number of sign changes caused by an even number of defects will not affect the optimization so all the constraints together indicate the feasible design spaces as shown in figure 12 within the feasible design spaces motion simulations for certain samples are performed to determine the objective value 4 multidimensional sparse interpolation determining the objective values using cad multi body simulations for the three dimensional design problem in a brute force way would lead to a tremen 11 boundary on assemblability in e boundary on assemblability in i upperlimit of design parameters boundary on sign change of boundary on sign change of design space 1 design space 2 infeasible design space figure 12 all constraints are shown for 2 dp s left and 3 dp s right the objects on the right are the feasible design spaces where the designs can perform the imposed reciprocal movement dous computational burden requiring 10 000 000 samples therefore we rely on a sparse data fitting method to determine a mathematical model for the ob jective function trms oa ab bc while several interpolation methods are characterized by a trade off between model accuracy and computing cost sparse interpolation does not involve such compromise the method introduced here uses a divide and conquer approach 35 25 by splitting up the involved numerical linear algebra problems into smaller and hence better conditioned independent sub problems for this method the objective value within the feasible design space as defined in 7 and 8 is determined on l distinct lines in 3 d space that are all parallel to a chosen vector u v w we let i i 0 l 1 indicate the 3 d vector that the i th parallel line is shifted over with respect to the line through the origin spanned by for which we take 0 0 then the equidistant samples on these parallel lines as depicted in figure 13 left are denoted by t i k trms k i i 0 l 1 k 0 ni 1 let us compactly denote the tuple of design variables oa bc ab by u u v w oa bc ab and let denote the standard inner product in 3 d space on each i th parallel line the samples t i k can be modeled by the sparse interpolant trms i u ni j 1 i j exp i j u 9 12 satisfying t i k ni j 1 i j exp k i j i 0 l 1 k 0 ni 1 note that the effect or influence of i is absorbed into the coefficients i j in trms i u which models the behaviour of trms on the i th line v u w t 0 0 t l 1 0 t i 0 t l 1 1 t l 1 2 t l 1 k t l 1 ni 1 t 0 1 t 0 2 t 0 k t 0 ni 1 t i ni 1 t i 1 t i 2 t i k i 1 l 1 line 0 first sample line line i 1 i th sample line line l 1 last sample line sample sample line figure 13 at the left all the samples located at points k i the convex hull in blue of the l lines covering the larger part of the design space at the right the model for trms i u can be computed using any of the existing 1 d exponential fitting methods such as 35 36 37 38 the number of terms ni in the sparse model can differ on each i th line the l individual models are only valid on their respective line spanned by and shifted over i now we need to blend these individual sparse models into an overall sparse model valid in the convex hull blue area in figure 13 right of the l lines which should cover the larger part of the region of interest this requisite or demand actually dictates the more proper choices for and the i i 1 l 1 in what follows we consider every design parameter combination u in 3 d space to lie on some line parallel with the one spanned by also if u is not an interpolation point all the points on such a line take the form u r r r 10 the normal plane through the origin and orthogonal to is given by the equa tion uu vv ww 0 or more compactly u 0 the intersection point r of the normal plane with 10 is thus given by r 0 r u r 13 or more explicitly r u u 2 11 hence the distance of u to this intersection point r expressed as a multiple of equals p u v w u 2 u u v w and the points on the line given by 10 can be re expressed as r p u 12 on each line through a point u parallel with the intersection point r with the normal plane shown in figure 14 is where p r 0 on the line we therefore propose a blended 3 d model of the following form to represent the objective value trms overall trms u v w l 1 i 0 ni j 1 b i j u v w exp p u v w i j 13 where the parameters i j and the value of p u v w are already determined and where furthermore the overall model continues to interpolate the values t i k in the sample points k i the blended model 13 coincides with the 1 d models 9 on each parallel line and in between the lines the exponential terms fade in and out since p k i k p i this means trms k i ni j 1 b i j k i exp p i i j exp k i j 14 in other words on each data line the model consists of only ni terms while in the convex hull of the parallel lines it consists of n 0 nl 1 terms remember that all of l and n 0 nl 1 are small integer numbers from equation 14 and equation 9 we consequently find b i j k i i j exp p i i j k 0 ni 1 i 0 1 j 1 ni 15 note that b i j u remains constant along each line of the form r p u and only varies with the projection r of that line onto the normal plane remains to determine the b i j u v w these functions can be determined from the interpolation conditions given in equation 15 a simple model for 14 v u w r r u u r sample line i projection of a line through u on the normal plane p i a point from which the objective value is desired p q projection of a sample line in the normal plane p q r p 1 q 1 p 2 q 2 p 3 q 3 p 0 q 0 p 4 q 4 p 5 q 5 p 6 q 6 figure 14 the intersection point r of the line u r parallel with and through u at the left all l 7 lines intersection points p i q i with the normal plane at the right b i j u v w is a 2 d polynomial interpolant a i j p q as we outline now let us denote the coordinates of the intersection point given in equation 11 by r r s t the collection of points on a particular line perpendicular to the normal plane say here through r is entirely identified by the remaining two degrees of freedom that pinpoint the intersection point of such a line with the normal plane since every point u u v w on the line perpendicular to the normal plane and passing through r satisfies the conditions u r u v s v w t w we can take any two of the values vu uv r v s u wu uw r w t u wv vw s w t v 16 to characterize the full line over the whole of such a perpendicular line the right hand sides of equation 16 are constant and independent of the points u on the line the right hand sides of equation 16 are only determined by and r say for now that we take the first two of 16 without any loss of generality p vu uv q wu uw for the l parallel lines on which the samples where collected we find p i q i v i u u i v w i u u i w i 0 l 1 let us abbreviate the values in the right hand side of equation 15 by i j and replace b i j u v w in equation 13 by the more appropriate a i j p q since 15 the interpolation conditions for b i j u v w hold for a whole line and vary only with the intersection point of such a line with the normal plane trms u v w l 1 i 0 ni j 1 a i j p q exp p u v w i j 17 finally the 2 d polynomial interpolant a i j p q h i j h th p t q where tn denotes the well known chebyshev polynomial of the first kind of degree n is computed from the interpolation conditions a i j p m q m i j m i 0 m 6 i i m 0 l 1 j 0 ni figure 15 region of interest delimited by 7 and 8 at the left and sampling locations on l 7 parallel lines at the right in red we now apply the above to our four bar problem the region of interest for the design variables oa ab bc and restricted by the conditions 7 and 8 is shown in figure 15 and the sampling performed in this region is shown in red in figure 15 right we take l 7 and 0 000 0 920 0 503 to guarantee maximal coverage of the region of interest also the whole do main is translated over 31 000 257 859 72 705 to start sampling at the ori gin in line with our description in total only 618 samples are determined by the simulations explained in section 2 which shape the objective func tion we find that ni 5 for all i 0 6 thus yielding 7 5 terms in the global model trms oa ab bc the coefficients a i j p q are in terpolated by a linear combination of the 7 bivariate chebyshev polynomials tm p tn q 0 m n 2 and t 2 p t 1 q t 1 p t 2 q as a final step we validate the blended model by collecting 1252 more simulation data on 10 other lines within the convex hull along directions different from these evaluation directions are shown in purple in figure 16 left and the result of this validation is shown in figure 16 right in figure 16 right the red and purple markers 16 depict the simulated data and the blue markers represent the value computed from the blended model 17 each partial curve shows the function values of trms u v w restricted to one of the lines where samples were collected either for interpolation red or validation purple the overall root mean square error rmse equals 0 0281 nm indicating a very good fit when restricting our attention to trms values below 5 reasonable to locate a minimum the rmse reduces to 0 0153 nm figure 16 validation directions at the left in purple and validation results of the blended model 17 at the right after this validation we look for a minimum of the modelled trms u v w 17 in the convex hull of the parallel lines shown in figure 15 right this was fulfilled through a brute force evaluation of the objective function 17 in which 10 000 000 calculations were performed in 3 minutes thus we can conclude that the most time consuming was the collection of all 1870 samples in which generating a sample takes on average 1 minute and 25 seconds of simulation time the model reaches a minimal value of 2 5989 nm at u 33 246 266 088 79 435 if we want to achieve the same result through brute force evaluation of the simulations 10 000 000 simulations would be required 5 conclusion this study proposes an industrially applicable approach that guarantees to reveal the global optimal design of a four bar mechanism based on cad motion simulations and sparse interpolation the process of sampling the objective value trms for a combination of design parameters oa ab and bc is automated by means of cad multi body motion simulations subsequently the constraints limiting the feasible design space are introduced based on the position analysis of the four bar mechanism this guarantees that all designs considered by the optimiser can be assembled and no circuit or branch defect will occur during the mechanism s movement if the unconstrained design space would be considered by a brute force ap proach 10 000 000 objective value samples would be required as each objective value sample requires a simulation of approximately 1 minute and 25 seconds this would be practically impossible and seriously hampering the identification of the global optimum however thanks to the mathematical description of 17 table 1 saving potential achieved with design optimization design oa mm ab mm bc mm trms nm tmax nm trms savings tmax savings original 53 65 282 7 91 13 26 local optimum 40 6 77 2 263 23 4 19 6 30 47 52 5 global optimum 33 246 79 435 266 088 2 60 4 35 67 67 the design space constraints introduced in this paper sparse interpolation can be applied the innovative sparse interpolation technique described and ap plied in this paper reduces the number of necessary simulations to only 618 this allowed to identify the global optimal design as shown in table 1 the method clearly outperforms the best result local optimum obtained through the heeds sherpa heuristic optimizer 39 the global optimum is 38 more efficient than the local optimum moreover the global optimum also reduces the tmax by 67 compared to the original design which means that the mechanism can operate with a smaller and thus cheaper motor 18 references 1 d dornfeld green manufacturing fundamentals and applications vol 9781441960 springer us 2013 doi 10 1007 978 1 4419 6016 0 2 p waide c u brunner energy efficiency policy opportunities for elec tric motor driven systems internationale energy agency na na 2011 132 doi 10 1787 20792581 3 k russell r s sodhi on the design of slider crank mechanisms part i multi phase motion generation mechanism and machine theory 40 3 2005 285 299 doi 10 1016 j mechmachtheory 2004 07 009 4 v l reis g b daniel k l cavalca dynamic analysis of a lubri cated planar slider crank mechanism considering friction and hertz con tact effects mechanism and machine theory 74 2014 257 273 doi 10 1016 j mechmachtheory 2013 11 009 5 g berselli f balugani m pellicciari m gadaleta energy optimal mo tions for servo systems a comparison of spline interpolants and perfor mance indexes using a cad based approach robotics and computer integrated manufacturing 40 2016 55 65 doi 10 1016 j rcim 2016 01 003 6 g carabin e wehrle r vidoni a review on energy saving optimization methods for robotic and automatic systems robotics 6 4 2017 doi 10 3390 robotics 6040039 7 t mashimo t urakubo t kanade singularity based four bar linkage mechanism for impulsive torque with high energy efficiency journal of mechanisms and robotics 7 3 2015 1 8 doi 10 1115 1 4028930 8 p sheppard s rahimifard improving energy efficiency in manufacturing using peer benchmarking to influence machine design innovation clean technologies and environmental policy 21 6 2019 1213 1235 doi 10 1007 s 10098 019 01701 4 9 n v oosterwyck f vanbecelaere m haemers d ceulemans k stock man s derammelaere cad enabled trajectory optimization and accu rate motion control for repetitive tasks in ieee international confer ence on control and automation icca vol 2019 july ieee 2019 pp 387 392 doi 10 1109 icca 2019 8899728 10 n van oosterwyck a b yahya a cuyt s derammelaere cad based trajectory optimization of ptp motions using chebyshev polynomials in ieee asme international conference on advanced intelligent mechatron ics aim vol 2020 july 2020 pp 403 408 doi 10 1109 aim 43001 2020 9158893 19 https doi org 10 1007 978 1 4419 6016 0 https doi org 10 1787 20792581 https doi org 10 1016 j mechmachtheory 2004 07 009 https doi org 10 1016 j mechmachtheory 2013 11 009 https doi org 10 1016 j mechmachtheory 2013 11 009 https doi org 10 1016 j rcim 2016 01 003 https doi org 10 1016 j rcim 2016 01 003 https doi org 10 3390 robotics 6040039 https doi org 10 3390 robotics 6040039 https doi org 10 1115 1 4028930 https doi org 10 1007 s 10098 019 01701 4 https doi org 10 1007 s 10098 019 01701 4 https doi org 10 1109 icca 2019 8899728 https doi org 10 1109 aim 43001 2020 9158893 https doi org 10 1109 aim 43001 2020 9158893 11 j herregodts s herregodts gear up medical 2019 url https www coronaventilator be 12 a piazzi a visioli global minimum time trajectory planning of mechan ical manipulators using interval analysis international journal of control 71 4 1998 631 652 doi 10 1080 002071798221713 13 b el kribi a houidi z affi l romdhane application of multi objective genetic algorithms to the mechatronic design of a four bar system with con tinuous and discrete variables mechanism and machine theory 61 2013 68 83 doi 10 1016 j mechmachtheory 2012 11 002 14 z affi b el kribi l romdhane advanced mechatronic design using a multi objective genetic algorithm optimization of a motor driven four bar system mechatronics 17 2007 489 500 doi 10 1016 j mechatronics 2007 06 003 15 r rayner m n sahinkaya b hicks combining inverse dynamics with traditional mechanism synthesis to improve the performance of high speed machinery in 2008 proceedings of the asme dynamic systems and control conference dscc 2008 2009 pp 393 400 doi 10 1115 dscc 2008 2186 16 a herna ndez a mun oyerro m ur zar e amezua comprehensive ap proach for the dimensional synthesis of a four bar linkage based on path assessment and reformulating the error function mechanism and machine theory 156 2021 doi 10 1016 j mechmachtheory 2020 104126 17 g r gogate s b matekar optimum synthesis of motion generating four bar mechanisms using alternate error functions mechanism and machine theory 54 2012 41 61 doi 10 1016 j mechmachtheory 2012 03 007 18 q shen w t lee k russell on adjustable planar four bar motion generation with order branch and circuit defect rectification journal of mechanisms and robotics 7 3 2015 doi 10 1115 1 4028828 19 j a hrones g l nelson analysis of the four bar linkage its application to the synthesis of mechanisms technology press of the massachusetts institute of technology 1978 20 a jaiswal h p jawale comparative study of four bar hyperbolic function generation mechanism with four and five accuracy points archive of applied mechanics 87 12 2017 2037 2054 doi 10 1007 s 00419 017 1310 5 21 s bai j angeles coupler curve synthesis of four bar linkages via a novel formulation mechanism and machine theory 94 2015 177 187 doi 10 1016 j mechmachtheory 2015 08 010 20 https www coronaventilator be https www coronaventilator be https doi org 10 1080 002071798221713 https doi org 10 1016 j mechmachtheory 2012 11 002 https doi org 10 1016 j mechatronics 2007 06 003 https doi org 10 1016 j mechatronics 2007 06 003 https doi org 10 1115 dscc 2008 2186 https doi org 10 1115 dscc 2008 2186 https doi org 10 1016 j mechmachtheory 2020 104126 https doi org 10 1016 j mechmachtheory 2012 03 007 https doi org 10 1115 1 4028828 https doi org 10 1007 s 00419 017 1310 5 https doi org 10 1007 s 00419 017 1310 5 https doi org 10 1016 j mechmachtheory 2015 08 010 https doi org 10 1016 j mechmachtheory 2015 08 010 22 x li s wei q liao y zhang a novel analytical method for four bar path generation synthesis based on fourier series mechanism and machine theory 144 2020 doi 10 1016 j mechmachtheory 2019 103671 23 x li s wei q liao y zhang a novel analytical method for function generation synthesis of planar four bar linkages mechanism and machine theory 101 2016 222 235 doi 10 1016 j mechmachtheory 2016 03 013 24 t sauer prony s method in several variables symbolic solutions by uni versal interpolation journal of symbolic computation 84 2018 95 112 doi 10 1016 j jsc 2017 03 006 25 a cuyt w shin lee multivariate exponential analysis from the minimal number of samples advances in computational mathematics 44 4 2018 987 1002 doi 10 1007 s 10444 017 9570 8 26 w t lee k russell developments in quantitative dimensional synthesis 1970 present four bar motion generation inverse problems in science and engineering 26 1 2018 133 148 doi 10 1080 17415977 2017 1310858 27 w t lee k russell developments in quantitative dimensional synthesis 1970 present four bar path and function generation inverse problems in science and engineering 26 9 2018 1280 1304 doi 10 1080 17415977 2017 1396328 28 simcenter 3 d for motion simulation 2020 url www cardsplmsolutions com nl producten simcenter 3 d 29 j m mccarthy gim song soh geometric design of linkages 2 nd edition springer us 2010 doi doi 10 1007 978 1 4419 7892 9 30 r a srivatsan s bandyopadhyay on the position kinematic analysis of mapaman a reconfigurable three degrees of freedom spatial parallel manipulator mechanism and machine theory 62 april 2013 150 165 doi 10 1016 j mechmachtheory 2012 11 008 31 s s balli s chand defects in link mechanisms and solution rectification mechanism and machine theory 37 9 2002 851 876 doi 10 1016 s 0094 114 x 02 00035 6 32 r singh h chaudhary a k singh defect free optimal synthesis of crank rocker linkage using nature inspired optimization algorithms mechanism and machine theory 116 2017 105 122 doi 10 1016 j mechmachtheory 2017 05 018 33 t r chase j a mirth circuits and branches of single degree of freedom planar linkages 21 st biennial mechanism conference 1993 11 19 21 https doi org 10 1016 j mechmachtheory 2019 103671 https doi org 10 1016 j mechmachtheory 2016 03 013 https doi org 10 1016 j mechmachtheory 2016 03 013 https doi org 10 1016 j jsc 2017 03 006 https doi org 10 1007 s 10444 017 9570 8 https doi org 10 1080 17415977 2017 1310858 https doi org 10 1080 17415977 2017 1310858 https doi org 10 1080 17415977 2017 1396328 https doi org 10 1080 17415977 2017 1396328 www cardsplmsolutions com nl producten simcenter 3 d https doi org doi 10 1007 978 1 4419 7892 9 https doi org 10 1016 j mechmachtheory 2012 11 008 https doi org 10 1016 s 0094 114 x 02 00035 6 https doi org 10 1016 s 0094 114 x 02 00035 6 https doi org 10 1016 j mechmachtheory 2017 05 018 https doi org 10 1016 j mechmachtheory 2017 05 018 34 m s feki f chaari m s abbes f viadero a fdez del rincon m haddar identification of a usable six bar linkage for dimensional synthesis mechanisms and machine science 7 2013 311 318 doi 10 1007 978 94 007 4902 3 35 m briani a cuyt f knaepkens w shin lee vexpa validated expo nential analysis through regular sub sampling signal processing 177 cmi 2020 arxiv 1709 04281 doi 10 1016 j sigpro 2020 107722 36 r roy t kailath esprit estimation of signal parameters via rotational invariance techniques ieee transactions on acoustics speech and signal processing 37 7 1989 984 995 doi 10 1109 29 32276 37 r schmidt multiple emitter location and signal parameter estimation ieee transactions on antennas and propagation 34 3 1986 276 280 doi 10 1109 tap 1986 1143830 38 w m steedly c ying r moses statistical analysis of tls based prony techniques autom 30 1994 115 129 doi 10 1016 0005 1098 94 90232 1 39 red cedar technology sherpa an efficient and robust optimization search algorithm 2014 1 3 22 https doi org 10 1007 978 94 007 4902 3 https doi org 10 1007 978 94 007 4902 3 http arxiv org abs 1709 04281 https doi org 10 1016 j sigpro 2020 107722 https doi org 10 1109 29 32276 https doi org 10 1109 tap 1986 1143830 https doi org 10 1016 0005 1098 94 90232 1 https doi org 10 1016 0005 1098 94 90232 1 1 introduction 1 1 related work 1 2 method 2 cad motion simulations 3 design parameter constraints 3 1 static constraints of a four bar 3 2 dynamic constraints of a four bar 4 multidimensional sparse interpolation 5 conclusion