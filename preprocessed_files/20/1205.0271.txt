ar x iv 1 20 5 02 71 v 1 m at h g r 1 m ay 2 01 2 detecting ends of residually finite groups in profinite completions owen cotton barratt abstract let c be a variety of finite groups we use profinite bass serre theory to show that if u h g is a map of finitely generated residually c groups such that the induced map u h g is a surjection of the pro c completions and g has more than one end then h has the same number of ends as g however if g has one end the number of ends of h may be larger we observe cases where this occurs for c the class of finite p groups we produce a monomorphism of groups u h g such that either g is hyperbolic but not residually finite or u h g is an isomorphism of profinite completions but h has property t and hence fa but g has neither either possibility would give new examples of pathological finitely generated groups 1 introduction a property of finitely generated residually finite groups is said to be profinite if it is preserved among groups with the same profinite completion understanding which properties are profinite amounts to understanding what the profinite completion of a residually finite group tells you about the group and there has been a lot of recent work in the area e g 12 9 14 the number of ends of a finitely generated group is always 0 1 2 or and this provides an important division in classifying finitely generated groups while 0 ended obviously coincides with finite and 2 ended is easily seen to be virtually cyclic a theorem of stallings precisely describes those groups with infinitely many ends 20 the theorem is proved by invoking the theory of group actions on trees see for example 19 for an introduction to this subject analogous to the discrete case and the theory of groups acting on trees there is a theory of profinite groups acting continuously on profinite trees the groundwork of this theory has been developed principally by ribes and zalesskii 17 16 date march 2012 1 http arxiv org abs 1205 0271 v 1 2 owen cotton barratt we use this profinite bass serre theory to prove theorem a below that when an injection u h g of finitely generated residually finite groups induces a surjection of profinite completions then a splitting of g over a finite subgroup can be used to construct such a splitting of h and hence if g has more than one end then h must also thus having infinitely many ends is a down weak profinite property this argument is general in that it extends to the case where the groups are residually c and the completion taken is a pro c completion for c any extension closed class of finite groups we are unable to establish whether the number of ends of a group is fully a profinite property however we show via an example from the theory of parafree groups that having infinitely many ends is not a pro p property or even an up weak one hence any argument that it is a profinite property could not be made generic that having more than one end passes via pro c equivalence from an ambient group to a subgroup but not vice versa may be thought of as loosely analogous to the fact that a subgroup of a free group is free whereas a supergroup of a free group need not be free theorem a if c is a variety of finite groups i e a class closed under taking subgroups quotients and extensions then having more than one end is a down weak pro c property however for any prime p having more than one end is not an up weak pro p property even among finitely presented groups the rips construction is an algorithmic method which takes a finitely presented group q as input and outputs a short exact sequence 1 n g q 1 where n is finitely generated and g is a hyperbolic small cancellation group more recent variations on the construction offer further control over n or g in particular wise produced a ver sion in which g is residually finite 21 and wilton and i showed that it is in fact conjugacy separable 9 on the other hand belegradek and osin 4 exhibit a version of the rips construction where n may be taken to be a quotient of an arbitrary non elementary hyperbolic group we investigate whether these two versions may be reconciled it seems that the methods used to prove residual finiteness have no hope of being applied to a variation which gives such broad control over n this raises the question of whether there is a genuine obstruction to g being residually finite we apply the belegradek osin version taking n to have property t to a suitable pathological group q so as to exhibit a hyperbolic group g either g is not residually finite which would be interesting in its own right or the inclusion n g induces an isomorphism of detecting ends of residually finite groups in profinite completions 3 profinite completions but n has properties t and fa whereas g does not hence theorem b either not every gromov hyperbolic group is residually finite or neither of the following are up weak profinite properties prop erty fa property t this work forms part of the author s doctoral thesis he would like to thank his supervisor martin bridson for guidance and helpful conversations and the epsrc for providing support 2 preliminaries definition 2 1 two finitely generated residually finite groups are said to be profinitely equivalent if their profinite completions are isomorphic a priori as topological groups but by a result of nikolov and segal 15 this is the same as being abstractly isomorphic a property of finitely generated residually finite groups is called a profinite property if it can be detected in the profinite completion i e if a group g has the property then so does every group profinitely equivalent to g observe that profinite equivalence is indeed an equivalence relation some authors talk about the equivalence class of g in this sense possi bly restricted to groups in a given class c this is known as the genus of g in c in the cases we consider in this paper we will generally know not just that there is an abstract isomorphism between the profinite completions of two residually finite groups g and h but that there is an explicit homomorphism u h g such that the induced map u h g is an isomorphism of the profinite completions indeed in this case since h is residually finite it injects into its profinite completion and hence u is also an injection it is not a priori obvious that there is room for difference here grothendieck asked whether u itself must be an isomorphism if h and g are finitely presented but this question was answered in the negative in 6 we will also be interested in cases where u is an injection and u is surjective but not necessarily injective we make two more definitions definition 2 2 a property p of discrete groups is said to be an up weak profinite property if whenever there exists a map of residually finite groups u g h such that the induced map u g h is an isomorphism of the profinite completions and g has p then h must also have p definition 2 3 a property p of discrete groups is said to be a down weak profinite property if whenever there exists a map of residually 4 owen cotton barratt finite groups u h g such that the induced map u h g is an isomorphism of the profinite completions and g has p then h must also have p the use of the word weak reflects the fact that any profinite property automatically satisfies these weaker conditions the further labels refer to whether the property is passed from the subgroup up to the ambient group or from the ambient group down to the subgroup any of these terms may also be used in the context where we care not about arbitrary finite quotients but finite quotients in a certain class c in this case we replace the word profinite with pro c wherever it appears so a pro c equivalence means an isomorphism between pro c completions etc we will chiefly concern ourselves with the cases where c is the class of all finite groups or the class of finite p groups pro c has special names in these cases profinite and pro p respectively 2 1 ends of groups and stallings theorem the number of ends of a finitely generated group is an important geometric property and the following theorem of stallings 20 translates this into algebraic structure theorem 2 4 a finitely generated group g has more than one end if and only if it splits nontrivially as an amalgamated free product or hnn extension over a finite subgroup 2 2 profinite bass serre theory we recall some basic definitions and facts from the theory of profinite groups acting on profinite trees as developed by ribes and zalesskii details of this background material may be found in 16 17 or 22 recall that a profinite graph is an inverse limit of finite graphs it is connected if each of its finite quotients is connected and its profinite fundamental group 1 is the group of deck transformations of its profinite universal cover satisfying an appropriate universal property among connected galois covers of we say that is a profinitely simply connected profinite tree if 1 1 if a profinite group g acts continuously on a profinite tree t with finite quotient then there is analogously to the abstract case a profinite graph of groups g over where the vertex and edge groups are isomorphic to the stabilizers of the corresponding vertices and edges in t in this case 1 g is isomorphic to g similarly associated to a finite 1 graph of profinite groups is a profinite tree on which the 1 for technical reasons this is not so straightforward when the underlying graph may not be finite detecting ends of residually finite groups in profinite completions 5 fundamental group acts as in the discrete case each closed subgroup has a minimal invariant subtree see lemma 2 2 of 17 the following proposition is a variation on a statement in 17 con cerning the case where c is the class of all finite groups this more general form must be known to the experts but i have not found it in the literature proposition 2 5 let c be an extension closed class of finite groups let g be a finite graph of discrete groups over an underlying graph with finitely generated vertex groups such that g 1 g is residually c then the pro c completion g of g is isomorphic to the pro c fun damental group c 1 g c of the finite graph of pro c groups g c obtained from g by taking the completion of each edge and vertex group with respect to the topology induced by the pro c topology of g there is a natural map from the standard tree s associated to g to the standard pro c tree s associated to g c if the edge groups of g are separable in the vertex groups with respect to the topology induced by the pro c topology on g this map is an injection proof the first part of the proposition simply rests on the observation that the finite quotients of c 1 g c are precisely those of g for in each case a finite quotient is generated by the images of the vertex groups and the fundamental group of the underlying graph by construction the possible images in such finite quotients of the vertex groups from g and g c coincide likewise the finite quotients of the fundamental groups the standard tree s is built as a set of right cosets of the edge and vertex groups of g in g similarly s as a set is the disjoint union of right cosets of the edge and vertex groups of g c in g the obvious map sending a coset g g to the coset g g respects incidence maps and so is a map of graphs s s the natural requirement for this to be an injection is that the vertex and edge groups are separable in g with respect to the pro c topology on g or in other words that the pro c topology on g is efficient our assumption that the edge groups of g are separable in the vertex groups is a priori weaker than the efficiency of g when the edge groups are separable in the vertex groups however the edges adjoining any vertex v in s have disjoint images in s so the map from s to s is locally injective if it were not globally injective there would be some finite loops in the image but s is a pro c tree and in particular has no finite loops hence separability of the edge groups in the vertex groups is sufficient to give an injection of standard trees 6 owen cotton barratt 3 ends of groups let c be an extension closed class of finite groups we will show that having more than one end is a down weak pro c property we refer the reader back to proposition 2 5 which lets us pass a splitting of a pro c group to a splitting of its pro c completion lemma 3 1 let u h g be a map of residually c groups such that the induced map u h g is a surjection of the pro c completions and g splits nontrivially as the fundamental group of a finite graph of groups g over the underlying graph with edge groups separable in the vertex groups they are incident at with the topology induced by the pro c topology on g then h also splits as a finite graph of groups proof let t be the bass serre tree associated with the splitting of g given by g as g is residually c by proposition 2 5 the pro c comple tion g c of g can be recovered as the pro c fundamental group of the completion g c so the quotient g t of the pro c tree t is isomorphic to moreover since the edge groups are separable in the vertex groups t embeds into the pro c tree t as h is a subgroup of g it also acts on t and we consider the quotient h t h cannot lie in the vertex stabilizer of any vertex in t since then by continuity its closure h would also lie in the vertex stabilizer which is absurd since h t hence h splits nontrivially as a graph of groups there is some edge in this graph of groups such that by collapsing everything except this one edge we get a different nontrivial splitting of h as the fundamental group of a graph of groups with a single edge the existence of such an edge may be seen by an argument by contradiction firstly if the graph of groups is not a tree of groups then by choosing an edge in a loop and collapsing the connected components at either end we get a decomposition of h as an hnn extension which is nec essarily non trivial if we have a tree of groups begin by choosing an edge if collapsing the connected components at either end we reduce to a trivial splitting then h is contained in one of the vertex groups of this induced splitting now we choose an edge in the corresponding component and repeat there are a priori two possibilities this pro cess will terminate with a non trivial splitting for h over a single edge or it does not terminate and by collapsing all except the sequence of chosen edges we get h as the ascending union of a ray of groups but in this latter case h is inside the ascending union of the edge groups each edge group is a subgroup of one of the finitely many edge groups of g so h lives inside one of the edge groups and hence one of the vertex groups of g a contradiction detecting ends of residually finite groups in profinite completions 7 proposition 3 2 whenever u h g is a map of residually c groups such that the induced map u h g is a surjection of the pro c completions and g has more than one end h also has more than one end proof now by stallings theorem theorem 2 4 any group with more than one end splits as a graph of groups with a single edge and finite edge stabilizer if a group g is residually c and has more than one end then in this splitting the vertex group or groups are also residually c as subgroups of g being residually c means that the trivial subgroup and hence any finite subgroup is separable thus the edge group is separable in the vertex group s in this splitting and lemma 3 1 gives an embedding of the tree t associated with the split ting of g into the pro c tree t associated with the splitting of g since the splitting of g had finite edge stabilizers this property carries through directly to the constructed splitting of h hence by stallings theorem again h has more than one end corollary 3 3 having more than one end is a down weak pro c prop erty equivalently having one end is an up weak profinite property proof this is just proposition 3 2 specialised to the case where u is an isomorphism remark 3 4 it is not in general the case that h t recovers in the proof of lemma 3 1 indeed this occurs only when h is of finite index in g and since u is a surjection then h can be of finite index only when h g having two ends is the same as being virtually z this is not hard to detect algebraically and is in fact a pro c property proposition 3 5 let c be a variety of finite groups then having precisely 2 ends is a pro c property proof leth have 2 ends and g be pro c equivalent to h since h has two ends it is virtually z having a cyclic subgroup h 0 of finite index replacing h 0 if necessary with its normal core we may assume this is normal in h in particular h is virtually abelian and the closure h 0 of h 0 in the pro c completion h is finite index k normal and abelian let h 0 h 0 h and h 0 h 0 g since g is residually c it injects into its pro c completion g which coincides with h so this makes sense so g is also virtually abelian and the index of g 0 in g equals the index of h 0 in h equals k as g 0 is a finitely generated abelian group it is virtually z n for some n if n 1 g is 2 ended and we are done if n 1 for a 8 owen cotton barratt contradiction we will construct a finite quotient of g which does not have a cyclic subgroup of index k which thus cannot be a quotient of h say g 0 is d generated and of rank n let n be an integer much greater than k such that the cyclic group cn c since c is subgroup closed there is some p such that cp c and since it is extension closed it follows that cpm c m n so such n exists now g n 0 is of index at least nn in g 0 it may not be the case that g n 0 is normal in g but it is certainly normal in g 0 and the quotient g 0 g n 0 is a quotient of cdn which surjects onto c n n we let l be the normal closure of g n 0 in g since g 0 is of index k in g l consists of the union of at most k conjugates of gn 0 so the index l gn 0 k since g 0 l g 0 is a quotient of g 0 g n 0 no cyclic subgroup has order greater than n so g l has order at least nn k and no cyclic subgroup of order greater than nk so long as n 2 and n k 3 it follows that g l has no cyclic subgroup of order k which is a contradiction at least in the general case however we cannot hope for the stronger statement that the number of ends is a profinite property or even a weak profinite property as the following example shows proposition 3 6 having infinitely many ends is not an up weak pro p property for any prime p proof this is an observation based on the theory of parafree groups parafree groups are residually nilpotent groups having the same nilpo tent quotients as a free group it is of interest that non free parafree groups exist we consider the group g a b c a c a c b which was shown by baumslag to be residually p and non free parafree 3 he shows that b and c generate a free subgroup and that their images generate any nilpotent quotient of g and hence in particular any finite p quotient hence the injection b c g induces an isomorphism of pro p completions g is one ended if not it would split over a finite subgroup but g as a one relator group is torsion free hence we would have g as a free product grushko s theorem states that the rank of a free product is equal to the sum of the ranks of the free fac tors hence in this case g would be the free product of a cyclic group and a 2 generator group but 2 generator subgroups of parafree groups are free 3 so g would be a free product of free groups thus free which is a contradiction theorem a if c is any class of finite groups closed under taking subgroups quotients and extensions then having more than one end is a down weak pro c property however for any prime p having more detecting ends of residually finite groups in profinite completions 9 than one end is not an up weak pro p property even among finitely presented groups proof combine the conclusions of corollary 3 3 and proposition 3 6 4 producing further pathologies there is a technique due to rips which allows pathologies of an arbi trary finitely presented group to be translated to new pathologies of a group over which we have more control the original rips construction is as follows 18 theorem 4 1 for every 6 there exists an algorithm that given a finite presentation s r for a finitely presented group q as input outputs a short exact sequence 1 n q 1 such that 1 n is 2 generated and 2 is a c 1 small cancellation group and hence hyperbolic since the original version several variations have been produced these mostly vary the properties which is constrained to have and sometimes demand more than two generators for n but still a finite number they may also give extra control over n wise exhibited a version in which g is seen as a 1 acylindrical hnn extension of a free group and used this characterisation to show that g is residually finite 21 wilton and i subsequently showed that such groups are also conjugacy separable 9 it is a result due to belegradek and osin 4 that there is a version of the rips construction where the left group may be taken to be a quotient of an arbitrary non elementary hyperbolic group theorem 4 2 there exists an algorithm which given as input a finitely presented group q and a non elementary hyperbolic group h will output a short exact sequence 4 1 1 n q 1 where is finitely presented and hyperbolic and n is a quotient of h one might hope to combine this with the version discussed above in which the central output group is residually finite and conjugacy sepa rable in search of further pathological groups however the approach to proving residual finiteness is based upon expressing the group as the fundamental group of a graph of groups with the normal subgroup n necessarily not lying in a vertex group and thus having an action without fixed points on a tree in osin s construction letting h be 10 owen cotton barratt a group with property fa which is inherited under quotients it is clear that the two versions may not easily be reconciled if there is a genuine obstruction here this would be very interesting since careful application could give us explicit examples of hyperbolic groups which are not residually finite on the other hand if it could be made residually finite this would allow us to construct more examples demonstrating further properties not to be profinite of course if any of these properties were known to be profinite that would provide us with an obstruction to residual finiteness haglund and wise have described a further residually finite vari ant of the rips construction 10 which is known by recent work of martino and minasyan to be conjugacy separable 13 this suffers similar obstructions to combination with osin s version in this case is built as the fundamental group of a compact non positively curved 2 complex and acts freely on the universal cover x of this complex which is a cat 0 space and hence contractible 7 by choosing h with an appropriate fixed point property we can see that the central output group from osin s version of the rips construction could never have such a structure for instance for every d 0 one can construct a non elementary hyperbolic group which has no action without a global fixed point on any contractible space of dimension d 2 taking h to be such a group for d 2 suffices here for if the two versions were reconciled then the free action of on the 2 complex x would induce a free action of n on x and hence an action of h on the x without global fixed point which is a contradiction 4 1 direct profinite equivalence in short exact sequences of groups if a group surjects onto anything with no finite quotients then all of the finite quotients of must be surjective images of the kernel if moreover the kernel is finitely generated and the target group is superperfect i e having trivial homology in dimensions 1 and 2 with z coefficients this is a profinite equivalence proposition 4 3 let 1 n q 1 be a short exact se quence of groups such that n is finitely generated is finitely generated and residually finite and q is superperfect and has no finite quotients then the injection of n into induces a strong profinite equivalence proof this is lemma 5 2 in 6 we will use this source of strong profinite equivalences by inputting an appropriate group q to the version of the rips construction in the orem 4 2 either the central group is residually finite in which case we have a profinite equivalence and some properties not carried by it or detecting ends of residually finite groups in profinite completions 11 the central group is not residually finite which would be interesting in its own right theorem b either not every gromov hyperbolic group is residually finite or neither of the following are up weak profinite properties prop erty fa property t unfortunately i am thus far unable to say which of these alternatives is correct proof we let p be an infinite superperfect finitely presented group with no finite quotients such groups exist 5 now we take q p p q is also an infinite superperfect finitely presented group with no finite quotients and additionally it acts on a tree without global fixed point we apply theorem 4 2 with this q as the input group and having chosen h to be a hyperbolic group with property t this gives us an output short exact sequence 1 n u g q 1 in which g is hyperbolic and n is a quotient of h hence finitely generated and having t since the latter is a fixed point property and so preserved under quotients note that t implies fa and that fa is inherited under quotients so as q does not have fa neither can g we assume for a contradiction that g is residually finite and that one of properties fa and t is up weakly profinite since g is residually finite then so is n as a subgroup and so by proposition 4 3 we would have u an isomorphism of profinite completions by the assumption either t passes from n to g which thus has fa or fa passes from n to g in either case we conclude that g has fa which is a contradiction thus one of our assumptions was false remark 4 4 everything in the construction here is algorithmic see 8 thus by choosing particular finite presentations for such groups p and h which we can do we could produce a completely explicit finite presentation for the hyperbolic group g which would be pathological in one of the above manners of course one can insert any property x in place of t or fa if it satisfies a small number of conditions x must be inherited under quotients this makes fixed point properties obvious candidates there must exist a non elementary hyperbolic group h having x there must exist a superperfect finitely presented group q having neither x nor any nontrivial finite quotients in order to prove that g is a hyperbolic group which is not residually finite it would also suffice to show the slightly weaker statement that n having property t would induce property fa in g various results are in some sense close to showing that g that is not residually finite properties t and are not profinite 1 11 but 12 owen cotton barratt is up weakly profinite 2 we cannot use in the above argument since we need q to be without finite quotients so it automatically has i cannot say whether t is up weakly profinite having one end is also an up weak profinite property but it is not preserved under quotients the proof that it is up weak lemma 3 1 almost suffices to show that property fa is also an up weak profinite property if the larger group acts on a tree t then it induces an action on the profinite tree t associated with the profinite completion of the graph of groups so long as this action is nontrivial then by continuity the subgroup will act on t so as not to stabilise any vertex as we showed there it is sufficient for this that the edge groups be separable in the vertex groups in fact the only case in which it fails is if the underlying graph of the graph of groups is simply connected and each edge group is dense in the vertex groups at which it is incident all with respect to the profinite topology on g in this case the profinite graph of groups is simply labelled with g everywhere and t is nothing but the underlying graph of the graph of groups with the trivial ac tion unfortunately this is precisely the situation we have in the above construction 5 further questions we highlight two open questions in the light of the results of sec tion 3 showing that having more than one end is a down weak pro c property for extension closed c but not an up weak pro p property it is natural to ask if we can say anything stronger when c is the class of all finite groups question 5 1 is having more than one end an up weak profinite prop erty is the number of ends of a group a profinite property having one end corresponds to having no action on a tree with finite edge stabilizers without fixed point a natural generalisation is prop erty fa simply having no action on a tree without fixed point we ask whether the results of section 3 can be extended to this case question 5 2 is having property fa an up weak profinite property in view of the results of section 4 a positive answer to this ques tion would be extremely interesting as it would imply the existence of hyperbolic groups which are not residually finite 2 property says that among unitary representations which factor through finite quotients the trivial representation is isolated but adding elements to a generating set can only further isolate the trivial representation so it is clear that it is up weakly profinite detecting ends of residually finite groups in profinite completions 13 references 1 m aka profinite completions and kazhdan s property t arxiv preprint arxiv 1005 4566 2010 2 goulnara arzhantseva martin r bridson tadeusz januszkiewicz ian j leary ashot minasyan and jacek brodzki infinite groups with fixed point properties geom topol 13 3 1229 1263 2009 3 gilbert baumslag groups with the same lower central sequence as a rela tively free group ii properties trans amer math soc 142 507 538 1969 4 igor belegradek and denis osin rips construction and kazhdan prop erty t groups geom dyn 2 1 1 12 2008 5 martin r bridson decision problems and profinite completions of groups j algebra 326 59 73 2011 6 martin r bridson and fritz j grunewald grothendieck s problems concerning profinite completions and representations of groups ann of math 2 160 1 359 373 2004 7 martin r bridson and andre haefliger metric spaces of non positive curvature 319 of grundlehren der mathematischen wissenschaften funda mental principles of mathematical sciences springer verlag berlin 1999 8 martin r bridson and henry wilton the triviality problem for profi nite completions in preparation 9 owen cotton barratt and henry wilton conjugacy separability of 1 acylindrical graphs of free groups mathematische zeitschrift pages 1 12 10 1007 s 00209 012 0978 z 10 fre de ric haglund and daniel t wise special cube complexes geom funct anal 17 5 1551 1620 2008 11 m kassabov pro finite properties and property tau unpublished talk 2008 12 marc lackenby detecting large groups j algebra 324 10 2636 2657 2010 13 a martino and a minasyan conjugacy in normal subgroups of hyper bolic groups preprint 2009 14 a menny profinite completions and kazhdan s property t arxiv preprint arxiv 1005 4566 2010 15 nikolay nikolov and dan segal on finitely generated profinite groups i strong completeness and uniform bounds ann of math 2 165 1 171 238 2007 16 l ribes and p a zalesski profinite trees springer to appear to ap pear 17 luis ribes and pavel a zalesskii conjugacy separability of amalgamated free products of groups j algebra 179 3 751 774 1996 18 e rips subgroups of small cancellation groups bull london math soc 14 1 45 47 1982 19 jean pierre serre arbres amalgames sl 2 socie te mathe matique de france paris 1977 avec un sommaire anglais re dige avec la collaboration de hyman bass aste risque no 46 20 john r stallings on torsion free groups with infinitely many ends ann of math 2 88 312 334 1968 21 daniel t wise a residually finite version of rips s construction bull lon don math soc 35 1 23 29 2003 14 owen cotton barratt 22 p a zalesski and o v mel nikov fundamental groups of graphs of profinite groups algebra i analiz 1 4 117 135 1989 mathematical institute 24 29 st giles oxford ox 1 3 lb uk e mail address cotton b maths ox ac uk 1 introduction 2 preliminaries 2 1 ends of groups and stallings theorem 2 2 profinite bass serre theory 3 ends of groups 4 producing further pathologies 4 1 direct profinite equivalence in short exact sequences of groups 5 further questions references