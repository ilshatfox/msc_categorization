em irjj 210093 1 11 online programming system for robotic fillet welding in industry 4 0 ignacio diaz cano department of automatic electronic computer architecture and communication networks engineering university of c adiz c adiz spain fernando m quintana department of computer science and engineering school of engineering university of c adiz c adiz spain miguel lopez fuster and francisco javier badesa department of automatic electronic computer architecture and communication networks engineering university of c adiz c adiz spain pedro l galindo department of computer science and engineering school of engineering university of c adiz c adiz spain and arturo morgado estevez department of automatic electronic computer architecture and communication networks engineering university of c adiz c adiz spain abstract purpose fillet welding is one of the most widespread types of welding in the industry which is still carried out manually or automated by contact this paper aims to describe an online programming system for noncontact fillet welding robots with u and l shaped structures which responds to the needs of the fourth industrial revolution design methodology approach in this paper the authors propose an online robot programming methodology that eliminates unnecessary steps traditionally performed in robotic welding so that the operator only performs three steps to complete the welding task first choose the piece to weld then enter the welding parameters finally it sends the automatically generated program to the robot findings the system finally managed to perform the fillet welding task with the proposed method in a more efficient preparation time than the compared methods for this a reduced number of components was used compared to other systems a structured light 3 d camera two computers and a concentrator in addition to the six axis industrial robotic arm the operating complexity of the system has been reduced as much as possible practical implications to the best of the authors knowledge there is no scientific or commercial evidence of an online robot programming system capable of performing a fillet welding process simplifying the process so that it is completely transparent for the operator and framed in the industry 4 0 paradigm its commercial potential lies mainly in its simple and low cost implementation in a flexible system capable of adapting to any industrial fillet welding job and to any support that can accommodate it originality value in this study a robotic robust system is achieved aligned to industry 4 0 with a friendly intuitive and simple interface for an operator who does not need to have knowledge of industrial robotics allowing him to perform a fillet welding saving time and increasing productivity keywords communications shipbuilding industry 4 0 industrial automation human machine interface online programming robots paper type research paper 1 introduction industrial robotics did not appear until the third industrial revolution they represented a new paradigm around manufacturing focusing it on a new way of increasing productivity in terms of lower costs and faster work speed the inclusion of robots in the industry was taken as a new opportunity to automate all serial production which had already appeared in the second industrial revolution also contributing to this is the parallel emergence of new materials more flexible and powerful software and more reliable electronic devices salisbury 1980 in this third revolution the first industrial robots were not intuitive at all so their programming was extensive and complex and had to be carried out by a well trained operator e i 2013 tzvetkova 2014 nowadays companies are still looking for improvements in their manufacturing process with the appearance of the concept of industry 4 0 throughout 2011 lu 2017 all the current issue and full text archive of this journal is available onemerald insight at https www emerald com insight 0143 991 x htm industrial robot the international journal of robotics research and application emerald publishing limited issn 0143 991 x doi 10 1108 ir 07 2021 0137 this work was supported by the spanish plan estatal de investigaci on cient fica y t cnica y de innovaci on 2017 2020 under contract aurovi eqc 2018 005190 p fernando m quintana would like to acknowledge the spanish ministerio de ciencia innovaci on y universidades for the support through fpu grant fpu 18 04321 received 6 july 2021 revised 24 august 2021 21 september 2021 accepted 27 september 2021 http dx doi org 10 1108 ir 07 2021 0137 industrial sectors have set out to achieve the objectives proposed by this paradigm called the fourth industrial revolution to achieve the objectives proposed in the fourth industrial revolution up to nine key enabling lagani re 2011 lu 2017 technologies have been established this work takes advantage of several of those key enabling technologies to implement an advanced approach for industrial welding using autonomous robots and taking shipbuilding as a case study welding robots of the third industrial revolution in general were very large and heavy structures inflexible and slow to program which required the operator to spend a lot of time occupying the production area with the consequent added cost kim 2008 however as we move into the 21 st century robots tend to be programmed off line to better optimize production times achieving higher precision an essential feature in shipbuilding welding ang et al 1999 alternatively they can be programmed online and minimize the track time that is the required product assembly duration that is needed to match the demand nowadays computer vision is used to achieve not only an efficient track time but also a better precision in the work to be done the authors show different applications and vision technologies in bogue 2018 based on a traditional sequence of steps and on the laser as a vision device in the last year various approaches to robotic vision welding have been reviewed updated and proposed thus in lei et al 2020 the authors point out as a challenge the positioning of the welding start point for efficient online robot work proposing a complex achievement of detection algorithms or specific programming the authors in shen et al 2020 propose a data model for automated welding relying on cad computer aided manufacturing computer aided process planning technology achieving a robust system but with an excess of devices and steps in their method that could be solved by taking another approach the authors in chen and hu 2021 show a specific double arm welding robot focused on stud welding where the system relies on a computer aided design cad model to develop the welding trajectories on shipbuilding the authors analyze in zych 2021 current programming methods where they dedicate a space to the use of vision in ship welding as a future analysis they propose a study of the application of 3 d sensors in the capture of the scene in real time which is addressed in the present work therefore current robot programming can be classified into two main categories online and offline in online programming in the most basic way the operator controls the robot from the teach pendant tp moving the robot to each point these points are stored in a program within the robot itself and are run when needed pan et al 2010 there are also other customized solutions called operator assisted online programming where the robot is controlled through a human machine interface hmi on the other hand offline programming is based on semi automated platforms which need to incorporate precise cad designs of the scene to be simulated in this way it is possible to emulate manufacturing tasks outside the production area this tends to avoid long and costly tasks within the line of work the cad designs used should reflect as accurately as possible the specific stage to be modeled which often includes complex designs or robot calibrations however sometimes the cad designs are used in online programming robots systems bedaka et al 2019 in this work we consider the step in which the cad of the piece is compared with the real scene unnecessary and therefore it is eliminated to the best of our knowledge there is no scientific evidence of an online programming system for robots capable of carrying out a fillet welding process such as the one presented in this study thus its main contributions are as follows effective integration of various technologies to obtain a robotic fillet welding system with reliable and secure communications efficiently distributing automated tasks between a computer where the user operates and a computer which manages the movements of the robot reducing the process time compared to previous methods an appropriate workflow adapted to the proposed system eliminating unnecessary steps in the welding process an example is the comparison with a three dimensional model of the structure as the scene is captured live at all times and the creation of an intuitive specific and simple hmi greatly reducing the time to start the welding process thus the article is organized as follows section 2 shows the proposed system overview section 3 presents the methodology followed in this study section 4 collects the experimentation and results finally in section 5 the conclusions and future work are presented 2 system overview an environment has been designed where two computers communicated with each other through an access point together with a robotic arm share the performance of all the tasks involved in the welding process the system is made up of three different parts that will be described below a diagram of the architecture of the proposed system is shown in figure 1 2 1 robot side the robot side is the one near the scene to capture in it a high resolution structured light camera takes care of the capture connected via usb 3 0 to the robot handler a camera connected via ethernet might also be considered the camera is anchored to the robot on its right side jointly so that when the robot moves the camera moves with it as shown in figure 2 the robot handler is responsible for calibrating and aligning the camera with respect to the robot the welding wire feedingmachine is anchored to the left side of the robot the robot handler is a computer responsible for the communication of the operator hmi operator side with the robot through the communications that have been established in turn the robot handler communicates with the robot and transfers all the requests that come to it from the hmi through a socket and robot operating system ros ros org 2021 communication with the camera obtaining the position of the robot the state in which it is at all times is achieved through the compatibility that it also has with ros when requested the information is transferred to the operator according to the established protocol 2 2 communications communication between the robot handler and the robot is required to be able to control its position and performance robotic fillet welding ignacio diaz cano et al industrial robot the international journal of robotics research and application likewise there must be direct communication with the operator as he will generate the welding program and send it to the robot finally a general communication between the customer and the robot is needed to send the different orders that make up the steps of the welding process to respond to communication needs different network communication protocols have been chosen in the first place for direct communication between the robot and the robot handler in order for it to control its pose is done through a socket that the robot itself has implemented finally to achieve fluid communication during all the steps that make up the welding process and so that the customer knows the situation of the robot at all times it has been decided to implement the message queuing telemetry transport mqtt protocol as the authors explain in hillar 2017 mqtt is a lightweight publish subscribe network protocol transporting messages between different devices mqtt has two entities within the network broker and one or more clients the broker is a software that acts as a server and the clients can be any device that connects to the network information is shared through messages across topics when an element of the network publisher has an element to share on the network it is sent to the broker and this is sent to all clients that are subscribed to the topic for which the publisher has sent the message thus the main advantages of the mqtt broker are as follows eliminate vulnerable and insecure client connections you can easily scale from a single device to thousands figure 1 diagram of the proposed system architecture figure 2 robot fanuc lr mate 200 id 7 l with zivid one 1 m structured light cam anchored robotic fillet welding ignacio diaz cano et al industrial robot the international journal of robotics research and application manage and track all client connection states including credentials and security certificates reduce network tension without compromising security cellular or satellite network this protocol is often widely used for communication on internet of things iot platforms as stated in mqtt saxena et al 2019 the advantages it offers together with its operation make it ideal for the architecture presented in this study as it meets what is required to achieve the objectives of a communication in a project that meets the industry 4 0 standard however both this computer and the operator hmi act as clients and servers within themqtt network as both sides are subscribed and publish on the same topic where messages are shared according to the task to be performed once an element of the system publishes a message associated with a topic all the elements that are subscribed to that topic will receive the message and perform the function that is programmed in each case it should be noted that the proposed network is not part of the factory s corporate network but is isolated and external to it without having an internet connection however all file transfer protocol and mqtt communications are carried out using secure sockets layer ssl encryption in the listing you can see an example of connection to the mqtt broker using ssl in listing 1 you can see an example of the code sequence necessary for communications in mqtt to be carried out securely using ssl the entire process is done by sending and receivingmessages between the robot handler and the operator hmi bymqtt table 1 shows the list of messages that are exchanged between the two computers that control the system robot handler and operator hmi during the welding process in each row of the table you can read the internal operating command transmitter and receiver of the message as well as a description of it listing 1 systemmessages undermqtt protocol qsslconfiguration sslconfig qsslconfiguration defaultconfiguration add custom ssl options here for example extra certificates qmqtt client client new qmqtt client ip broker 8883 sslconfig client setclientid clientid client setusername user client setpassword password optionally set ssl errors you want to ignore this may weaken security qsslsocket ignoresslerrors const qlist qsserror client ignoresslerrors list of expected ssl errors client connecttohost 2 3 operator side on the operator side is the operator who communicates with the system through software containing an intuitive hmi for its design it has had the help of an experienced naval welder who has explained to us the steps that a humanwould have to take to carry out the complete welding process based on the instructions of the welding expert a system has been created where the operator only has to interact three times to start the welding process which is shown in figure 3 first step the operator selects a type of structure to be welded this choice will send the robot handler a message for the camera to start capturing the piece once this capture is completed it will table 1 system messages under mqtt protocol command transmitter receiver description interfaceready operator hmi robot handler the operator application informs the robot handler that it is in the welding panel and ready to start work handlerrobotready robot handler operator hmi the robot handler performs the necessary checks to be able to start the work connection with the robot and the camera ok capture operator hmi robot handler the operator requests the robot handler to send an order to the camera to capture the scene answercapture robot handler operator hmi once the camera has captured the scene the robot handler sends a json structure with the data necessary to perform the welding ftp ok operator hmi operator hmi the operator sends this message if the robot correctly loads the welding program that the operator has sent via ftp the hmi receives it and informs the operator of it ftp no ok operator hmi operator hmi the robot sends an incorrect load signal of the program and the operator informs the operator of this fact to restart the process welding operator hmi robot handler once the welding program has been sent to the robot the hmi asks the robot handler to order the robot to start the sent weld endwelding robot handler operator hmi the robot manipulator informs the operator via a message that appears on the hmi that the welding is complete pickup operator hmi robot handler the operator asks the robot handler to command the robot to return to the home position to start another weld pickuped robot handler operator hmi the robot handler informs the operator that the robot has already reached the start position so that the operator can start another weld again robotic fillet welding ignacio diaz cano et al industrial robot the international journal of robotics research and application be sent through the communications channel and will appear on the left side of the screen real image in the form of a 3 d point cloud along with their dimensions a diagram of the structure to be welded scheme will appear on the right together with themaximummeasurement of the horizontal and vertical part of the structure this choice will send the robot handler amessage for the camera to start capturing the piece next the second step the operator must select the length to be welded below the maximum of the system measured finally you must choose the welding and weave sine schemes that will be applied to the job both are stored in the robot this interface onlymakes a call to them finally finally in the third step the operator must choose if he wants to carry out a simulation of the welding with which the robot will only carry out the necessary trajectories to achieve the final work but without lighting the torch and therefore without carrying out the welding or it will carry out the complete welding initially the program will be sent to the robot already generated depending on the structure chosen at the beginning and then the operator will give the order to the robot handler so that it tells the robot to start welding at the end of it the robot handler will notify the operator hmi that the job has been concluded and the form will be restarted to accept a new interaction once this capture is completed it will be sent through the communications channel and will appear on the left side of the screen real image in the form of a 3 d point cloud along with their dimensions a diagram of the structure to be welded scheme will appear on the right together with the maximum measurement of the horizontal and vertical part of the structure in this interaction the operator will be able to see the scanned part from a different position and must select the length to be welded below the maximum that the system has measured finally youmust choose the welding and weave sine scheme to be applied to the job both are stored in the robot and this interface onlymakes one call to them second and after having sent a message to the robot handler with the choice of the structure the camera will start capturing the piece once this capture is completed it will be sent through the communications channel and will appear on the left side of the screen real image in the form of a 3 d point cloud along with their dimensions a diagram of the structure to be welded scheme will appear on the right side together with themaximum length of the horizontal and vertical part of the structure in this interaction the operator will be able to see the scanned part from a different position and must select the length to be welded over the maximum that the system hasmeasured finally youmust choose the welding and pendulum scheme to be applied to the job both parameters are stored in the robot and this interface only makes one call to them third the operator must choose if he wants to carry out a simulation of the welding with which the robot will only carry out the necessary trajectories to achieve the final work but without lighting the torch and therefore without carrying out the welding or it will carry out the complete welding initially the program will be sent to the robot already generated depending on the structure chosen at the beginning and then the operator will give the order to the robot handler so that it tells the robot to start welding at the end of it the robot handler will notify the operator hmi that the job has been concluded and the form will be restarted to accept a new interaction 3 methodology industrial robots are not very intuitive to use and are of considerable complexity especially if they are to be used in precise tasks with complex geometries such as ship welding stani c et al 2018 that is why an interface is required that acts as a simple and intuitive hmi as transparent as possible so that an operator expert in welding who does not know how the programming of a robot works is able to manage and communicate with it figure 3 user controlled hmi application showing the consecutive steps involved in welding process 1 selecting the structure to be welded 2 choosing the appropriate welding parameters and 3 sending the order for welding a communication log is also shown for sending messages to the user to assess its interaction with the system robotic fillet welding ignacio diaz cano et al industrial robot the international journal of robotics research and application the proposed method is based on a classic computer assisted online robot programming system for welding tasks as proposed by guhl et al 2019 but adapting and optimizing the key steps of the method in this way the aim is to produce weld seams in the in the shortest possible time and with the greatest possible efficiency in the proposed case study the shipbuilding is governed by a precision error determined by iso 5817 iso 2014 taken into account in this study figure 5 shows the sequence diagram that has been proposed and which optimizes the conventional programming method on which it is based you can also see the place where each of the system messages in table 1 is executed this sequence diagram shows a valid route planning transaction with no errors each of the tasks performed by the proposed system is detailed below locating each of the key steps of the original method 3 1 calibration tool the first step to take when using any tool only once before you start programming the robot or when the tool suffers any alteration in its position because of improper movement shock or displacement in general the tool in the proposed case study is a welding torch all robot manufacturing companies use very similar methods their methods are based in the same idea calculate the position of tool center point tcp calculate the rotation especially for complex tools or those that have an angle on it in the case of fanuc robot used in the study they use the method known as the three point method for a simple tool and the six point method for a complex tool as this is our case therefore we need to calculate not only its position but also its orientation three points are calculated in space as in the three point method and additionally the following points must be taken 1 orient origin point this point corresponds to the origin of the orientation 2 x direction point with this point we define the direction of the x axis moving the robot in world coordinates 3 z y direction point the last point is the one that corresponds to the z or y direction once we capture these six points the robot calculates the denavit hartenberg parameters of the position and orientation of the tool 3 2 human machine interface interaction calculations the key step in the interaction of the operator with the system is carried out in the simplest way possible in three steps these steps are distributed throughout the process that were commented on in section 3 it is a transversal step that will comprise an important part of the operator s interaction with the system next in the calculations the robot handler will instruct the structured light camera to take a photo of the scene obtaining a three dimensional point cloud next the random sample consensus ransac algorithm derpanis 2010 is used to equations of the planes present in the scene by intersecting these planes the key points of the scanned structure are calculated in the case of fillet welding the key points will be those that correspond to the corners and the consequent intersection of three planes once these points have been found and knowing the plans that make up the piece it can be extrapolated to the remaining points knowing the distance at which they are to do this we calculate the normalized vector corresponding to the intersection of two planes taking as origin the corner corresponding to the intersection of the three planes and multiplying the vector by the distance at which the point is located the figure 4 a shows a real l shaped structure while figure 4 b shows a 3 dmodel of the same structure where the three planes detected are observed in different color red green and blue finally the remaining points are obtained a procedure suggested by the authors in yang and f rstner 2010 the inclination of the tool at each point is also calculated according to the iso 6947 iso 2019 standard applied by the authors in li et al 2016 subsequently all the information will be stored on the robot handler itself and will be sent through the mqtt protocol with the message answercapture in a javascript object notation structure to the operatorhmi the robot handler controls the pose of the robot and the camera through ros zivid 2020 ros org 2021 the rest of the process is implemented in c 11 language additionally using the point cloud library pcl library rusu and cousins 2011 3 3 create send execute program once the operator has chosen the welding parameters and the points where the welding paths are to be planned he will issue the order to weld at that time the operator application will generate the welding program dynamically depending on the choice of the operator next the operator first sends the welding program to the robot and if it arrived correctly the interface will be enabled so that the operator can send the welding order to the robot handler figure 4 an example of an l structure capture using the 3 d camera a real image l structure b three 3 d cloud points showing in three different colors the planes identified by ransac algorithm and the l lines and the vertex found by intersections of the fitted planes robotic fillet welding ignacio diaz cano et al industrial robot the international journal of robotics research and application and the latter transfers it to the robot executing the welding program 3 4 storage welding data finally automatically and completely transparent to the operator the operator application stores locally a record of the welding execution the information is stored in csv format so that any external application could connect with this source of information and transmit it to an iot platform or carry out any other computing in the cloud figure 5 to preserve the local network of the proposed system from cyberattacks no type of internet connection is made from the figure 5 diagram of the key steps of the proposed programming method table 2 stored data of each weld performed by the robot data stored description timestamp date and time the work is done vertical welded distance distance in centimeters welded on the vertical horizontal welded distance distance in centimeters welded on the horizontal vertical maximum size maximum distance in centimeters from the vertical horizontal maximum size maximum distance in centimeters from the vertical process time total process time from when the operator begins to interact with the system until welding begins capture time time spent by the system in capturing the structure structure type the type of structure that has been worked on is stored welding scheme the number of welding scheme used in each job is stored weave sine scheme the number of weave sine scheme used in each job is stored robotic fillet welding ignacio diaz cano et al industrial robot the international journal of robotics research and application operator application which could be used to carry out an intrusion into it but the data are left prepared in an external storage for any other application needing it thus the stored data could be processed later if you wanted to store it on an iot platform the structure of the stored data are shown in thetable 2 4 experimental results to validate the suitability of the proposed methodology and system architecture and to evaluate and compare online and offline robot programming approaches the experimental environment and the results obtained are described and discussed below 4 1 experimental environment the experimental environment was designed to implement the proposed methodology table 3 shows the components of the system architecture which has been tested to plan welding trajectories in one of the most numerous repeatable structures within shipbuilding u shaped also called open blocks lee 2014 to simulate the necessary trajectories in offline programming methods a scenario has been generated according to the occasion and based on it thus in figure 6 a you can see the scenario recreated for roboguide li et al 2007 and in figure 6 b you can see the scenario generated for robodk ribeiro et al 2019 in the experiment the welding program of the mentioned part has been created in figure 7 thus in figure 7 a you can see the real view of the piece whereas in figure 7 b you can see the drawings with the dimensions of the structure and the paths that will be generated and numbered in the order in which they have to be programmed first the horizontal edge will be welded and then the vertical one listing 2 welding program code in a fanuc robot for a u shaped structure 1 j p 1 10 fine 2 l p 2 100 mm sec fine 3 l p 3 weld speedcnt 100 4 l p 4 100 mm sec fine 5 l p 3 100 mm sec fine 6 l p 5 weld speedcnt 100 7 j p 6 100 mm sec fine 8 l p 7 100 mm sec fine 9 l p 8 weld speedcnt 100 10 l p 9 100 mm sec fine 11 l p 8 weld speedcnt 100 12 j p 10 100 mm sec fine a fair comparison should be made between the four methods involved in the investigation for this the same welding program will be generated thus in the program in listing 2 the lines of code that should ignite the welding torch and swing the robot weld start and weave sine respectively have been omitted this decision has been made because its timing is constant andwould not affect the timing of the experiment it has been seen that four paths are needed to weld this structure routes 1 2 3 and 4 according to figure 7 b are identified by instructions 3 6 9 and 11 respectively the rest of the instructions of the program are points of approach and withdrawal of the robot necessary to complete the task table 3 items that make up the system architecture item description role pc 8 th generation processor 8 gb ram 1 tb ssd ubuntu 18 04 operator hmi pc 8 th generation processor 16 gb ram 1 tb ssd ubuntu 18 04 robot handler switch rj 45 ethernet switch gigabit ethernet 10 100 1000 8 ports full duplex access point cam camera zivid one 1 m 0 1 mm precision until 1 20 m figure 2 light structure cam robot fanuc lr mate 200 id 7 l figure 2 robotic arm mqtt eclipse mosquitto an open source mqtt broker see eclipse 2021 broker mqtt figure 6 offline programming scenarios for u structure robotic fillet welding ignacio diaz cano et al industrial robot the international journal of robotics research and application 4 2 results and discussion in the experiment the necessary trajectories have been generated before welding a u shaped structure numerous in shipbuilding the experiment shows the time difference between the four programming options that have been proposed in this study two of them online and two offline for the study of repeatability each of the simulations has been repeated five times for each programming option during the experiment the execution times of each of the key steps that the authors propose in guhl et al 2019 for online programming methods in the same way the same operation has been carried out for the key steps that the authors propose in larkin et al 2011 for offline programming methods due to all the executions were close to the mean value and there were no outline values the mean of the times obtained as a result in each of the five execution repetitions of each method is taken as a measure these data can be seen numerically in table 4 and graphically in figure 8 both results are shown in seconds the rows in the table show each of the programming methods involved on the other hand the columns represent each of the key steps of each method and the total time thus the table is separated so that the upper part shows the results of the offline programmingmethods whereas the lower part of the table shows the results of the online programmingmethods the data are shown graphically in two figures in each of them the x axis represents the key steps of each programming method while the y axis shows the time invested in seconds if we look at the offline methods it is observed that there is hardly any difference between one type of software and another the generic framework robodk being somewhat faster therefore in case of opting for offline programming the software package used would not matter for online programming methods the authors of guhl et al 2019 claim that they are suitable for high volumes of repetitive work however the occupation time in the production area must be minimal online programming by the simplest method the tp has been carried out by an experienced welder with a high qualification in handling robots however it is observed how the time it takes to generate a program is too long in comparison with the proposedmethod andwith offlinemethods a comparison has also been made with two commercial solutions taking the data from their web pages as there are no papers that show the operating data in the first one inrotech 2021 has proven that its laser based vision system has a total operating time that amounts to almost double that of the proposed method in the second commercial pemamek 2021 a system can be seen that is capable of performing more functions than the proposed method but that requires more in depth training as well as a more complex handling than the proposed method in addition neither of the two systems is capable of preserving the data of each job to later draw conclusions or apply data analysis techniques that allow us to improve the environment regarding the implications of the study one can speak of a theoretical implication in the sense that a method and a series of constituent elements have been proposed that align any project to industry 4 0 on the other hand one can speak of a practical implication in the sense that the system can be easily matured to be able to be commercialized with a low cost and a very efficient result table 4 planning execution time by key step key steps offline programming programming 3 d model tag trajectory process post robot total methods generation generation planning planning processing program time robodk 131 28 23 13 22 24 241 roboguide 138 29 22 14 23 21 247 online programming teach pendant tp hmi interaction calculations creat program send execute program total time proposed 36 33 550 5 624 method 52 10 4 7 73 figure 7 u structure sample used for described welding experiment robotic fillet welding ignacio diaz cano et al industrial robot the international journal of robotics research and application 5 conclusions this paper presents an online programming system robotic for fillet with a hardware architecture capable of controlling the robot from an intuitive and easy to use interface that responds to some of the needs of the fourth industrial revolution incorporating several enabling technologies of this paradigm cybersecurity mqtt communications with ssl systems integration ros systems have been integrated with c 11 programming and libraries such as virtual tool kit and pcl autonomous robots the robot has been endowed with the greatest autonomy with a control simple from the operator panel process simulation each welding task can be previously simulated and data generation for a possible cloud computing platform or iot the data of each welding are saved in a data set to be processed in the future in addition to the successful incorporation of these enabling technologies of industry 4 0 as reflected in schiele et al 2021 we have also had taken into account the ethical implications and the opinions of the operators to be able to complete a simple welding model in three steps and to contribute all the welding concepts to the proposed system giving importance not only to the technological ones but also to the ethical and social implications it has been shown how the proposed method based on operator assisted online programming requires less processing time than the rest of the methods currently used in robot programming even from other commercial solutions created specifically for robotic fillet welding however it is found that the welding times of offline programming methods are acceptable but it must be remembered that to carry them out an experienced programmer is needed in addition to the welder who supervises the welds carried out with the consequent extra expense of personnel in addition the elimination of unnecessary steps has been successfully achieved such as the comparison of the scene captured in each welding with the cad design previously taken as other systems use shen et al 2020 the remaining key steps are implemented under an abstraction layer for the operator who only has to select three simple options to complete the welding task structure select welding parameters and send program automatically based on the first two options the position of the initial welding point an important element to achieve lei et al 2020 is previously determined according to the welding instructions implemented in the operator software at the expense of the indications of this the system has the limitation that it is not capable of performing any task if it does not find three planes that is if it is not capable of detecting a u structure or an open structure if it is this structure can address the welding of any of its parts but it would not work in another situation nor is it capable of welding other structures other than the joints between planes and its work area is limited to a horizontal 90 cm 70 cm vertical as the robotic arm does not advance during the welding task additional work needs to be done to assess the potential benefits of incorporating other enabling technologies that make up industry 4 0 likewise more case studies could be proposed for other productive sectors other than shipbuilding where fillet welding work is carried out however the expansion of the system will be limited by the bracket on which it is installed thus if it is intended in the future to expand the number of structures to be welded in terms of dimension and shape a preliminary study should be carried out on the convenience of this extension or the realization of a different system references ang m h lin w and lim s 1999 a walk through programmed robot for welding in shipyards industrial robot an international journal vol 26 no 5 pp 377 388 bedaka a k vidal j and lin c y 2019 automatic robot path integration using three dimensional vision and offline programming the international journal of advanced manufacturing technology vol 102 nos 5 8 pp 1935 1950 edited byk tang london springer london bogue r 2018 vision assisted robotic welding industrial robot an international journal vol 45 no 4 pp 425 430 doi 10 1108 ir 04 2018 0072 chen y and hu q 2021 dual robot stud welding system for membrane wall industrial robot the international journal of robotics research and application doi 10 1108 ir 03 2021 0049 figure 8 planning execution time by key stepnotes a online methods b offline methods robotic fillet welding ignacio diaz cano et al industrial robot the international journal of robotics research and application http dx doi org 10 1108 ir 04 2018 0072 http dx doi org 10 1108 ir 03 2021 0049 http dx doi org 10 1108 ir 03 2021 0049 derpanis k g 2010 overview of the ransac algorithm e i 2013 dynastat memory aids unimate robot electrical engineering institute of electrical and electronics engineers ieee vol 80 no 4 pp 319 320 eclipse 2021 eclipse mosquitto available at https mosquitto org accessed 30 may 2021 guhl j nikoleizig s heimann o hugle j and kr ger j 2019 combining the advantages of on and offline industrial robot programming 2019 24 th ieee international conference on emerging technologies and factory automation etfa ieee pp 1567 1570 hillar g c 2017 mqtt essentials a lightweight iot protocol packt publishing inrotech 2021 robot welding for shipbuilding a well proven product available at www inrotech com inrotech classic accessed 20 august 2021 iso 2014 iso iso 5817 2014 welding fusion welded joints in steel nickel titanium and their alloys beamwelding excluded quality levels for imperfections available at www iso org standard 54952 html accessed 23 june 2021 iso 2019 iso 6947 2019 welding and allied processes welding positions available at www iso org standard 72741 html kim j h 2008 automation and robotization of production processes in shipbuilding 2008 international conference on control automation and systems ieee pp xxxv xxli lagani re r r 2011 opencv 2 computer vision application programming cookbook over 50 recipes to master this library of programmingfunctions forreal timecomputer vision packt pub larkin n milojevic a pan z polden j and norrish j 2011 offline programming for short batch robotic welding available at https ro uow edu au eispapershttps ro uow edu au eispapers 551 accessed 23 june 2021 lee d 2014 robots in the shipbuilding industry robotics and computer integrated manufacturing vol 30 no 5 pp 442 450 lei t youmin r hui w yu h and min l 2020 a review of vision aided robotic welding computers in industry vol 123 p 103326 doi 10 1016 j compind 2020 103326 li j huan l huiliang w and ying g 2016 effect of torch position and angle on welding quality andwelding process stability in pulse on pulse mig welding brazing of aluminum alloy to stainless steel the international journal of advanced manufacturing technology vol 84 nos 1 4 pp 705 716 li l xiang l xin z and jianfeng y 2007 study of off line programming system of arc robot based on the software of roboguide robotic welding intelligence and automation springer berlin heidelberg pp 401 408 lu y 2017 industry 4 0 a survey on technologies applications and open research issues journal of industrial information integration vol 6 pp 1 10 pan z joseph p nathan l stephen v d and john n 2010 recent progress on programming methods for industrial robots joint 41 st international symposium on robotics and 6 th german conference on robotics 2010 isr robotik 2010 pp 619 626 available at http ro uow edu au eispapers 29 accessed 19 may 2020 pemamek 2021 shipbuilding j pemamek available at https pemamek com welding solutions shipbuilding accessed 20 august 2021 ribeiro f m pires j n and azar a s 2019 implementation of a robot control architecture for additive manufacturing applications industrial robot the international journal of robotics research and application vol 46 no 1 pp 73 82 ros org 2021 fanuc roswiki available at http wiki ros org fanuc accessed 24 may 2021 rusu r b and cousins s 2011 3 d is here point cloud library pcl proceedings ieee international conference on robotics and automation salisbury d f 1980 the third industrial revolution robot factories and electronic offices the christian science monitor 8 october saxena s jain s arora d and sharma p 2019 implications of mqtt connectivity protocol for iot based device automation using home assistant and openhab 2019 6 th international conference on computing for sustainable global development indiacom pp 475 480 schiele h nehles b christina a peter s vincent d and i a r t 2021 interpreting the industry 4 0 future technology business society and people journal of business strategy doi 10 1108 jbs 08 2020 0181 shen w tianliang h chengrui z yingxin y and zhengyu l 2020 a welding task data model for intelligent process planning of robotic welding robotics and computer integrated manufacturing vol 64 p 101934 doi 10 1016 j rcim 2020 101934 stani c v marko h nik a f and tin m 2018 toward shipbuilding 4 0 an industry 4 0 changing the face of the shipbuilding industry brodogradnja vol 69 no 3 pp 111 128 zagreb univ zagreb fac mechanical engineering naval architecture tzvetkova g v 2014 the first bulgarian industrial robot probo 1987 journal of theoretical and applied mechanics vol 43 no 4 pp 73 76 yang m y and f rstner w 2010 plane detection in point cloud data available at www ipb uni bonn de technicalreports accessed 30 may 2021 zivid 2020 github zivid zivid ros official ros driver for zivid 3 d cameras available at https github com zivid zivid ros accessed 28 may 2021 zych a 2021 programming of welding robots in shipbuilding procedia cirp vol 99 pp 478 483 doi 10 1016 j procir 2021 03 107 corresponding author ignacio diaz cano can be contacted at ignacio diaz uca es for instructions on how to order reprints of this article please visit our website www emeraldgrouppublishing com licensing reprints htm or contact us for further details permissions emeraldinsight com robotic fillet welding ignacio diaz cano et al industrial robot the international journal of robotics research and application https mosquitto org https mosquitto org http www inrotech com inrotech classic http www inrotech com inrotech classic http www iso org standard 54952 html http www iso org standard 72741 html http www iso org standard 72741 html https ro uow edu au eispapershttps ro uow edu au eispapers 551 https ro uow edu au eispapershttps ro uow edu au eispapers 551 http dx doi org 10 1016 j compind 2020 103326 http dx doi org 10 1016 j compind 2020 103326 http ro uow edu au eispapers 29 http ro uow edu au eispapers 29 https pemamek com welding solutions shipbuilding https pemamek com welding solutions shipbuilding http wiki ros org fanuc http wiki ros org fanuc http dx doi org 10 1108 jbs 08 2020 0181 http dx doi org 10 1016 j rcim 2020 101934 http www ipb uni bonn de technicalreports http www ipb uni bonn de technicalreports https github com zivid zivid ros https github com zivid zivid ros http dx doi org 10 1016 j procir 2021 03 107 mailto ignacio diaz uca es mailto ignacio diaz uca es online programming system for robotic fillet welding in industry 4 0 1 introduction 2 system overview 2 1 robot side 2 2 communications 2 3 operator side 3 methodology 3 1 calibration tool 3 2 human machine interface interaction calculations 3 3 create send execute program 3 4 storage welding data 4 experimental results 4 1 experimental environment 4 2 results and discussion 5 conclusions references