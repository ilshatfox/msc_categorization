helmut hofer krzysztof wysocki eduard zehnder polyfold and fredholm theory july 28 2017 ar x iv 1 70 7 08 94 1 v 1 m at h f a 2 7 ju l 20 17 two lives were tragically lost while writing this book my coauthor and friend kris wysocki passed away on february 16 2016 and my son david s hofer on march 1 2016 i dedicate this book to them helmut hofer i dedicate this book to my friend and coauthor kris wysocki who lost his long fight against cancer on february 16 2016 and to his wife and our friend beata wysocka we all miss kris eduard zehnder preface polyfold theory is a systematic and efficient approach providing a language and a large body of results for dealing with larger classes of nonlinear elliptic equations involving compactness bubbling off smoothness varying domains and targets and geometric transversality issues the abstract theory proposed in the series of papers 36 37 38 generalizes differential geometry and nonlinear fredholm theory to a class of spaces which are much more general than banach manifolds these spaces may have locally varying dimensions and are described locally by retracts on scale banach spaces replacing the open sets of banach spaces in the familiar local description of manifolds the theory also allows to equip certain kinds of categories with smooth structures current applications include the study of moduli spaces of pseudoholomorphic curves in symplectic geometry f e the construction of symplectic field theory sft see 43 32 14 15 the theory grew out of the attempts to find an appropriate framework to develop sft a general theory of symplectic invariants outlined in 11 the sft constructs invariants of symplectic cobordisms by analyzing the structure of solutions of ellip tic partial differential equations of cauchy riemann type from riemann surfaces into compact symplectic manifolds the partial differential equations are defined on varying domains and map into varying targets the occurring singular limits like bubbling off phenomena give rise to serious compactness and transversality problems yet these phenomena are needed to derive the underlying rich algebraic structure of sft therefore they have to be embraced and accurately accounted for the analytical difficulties in dealing with sft become apparent in the series of papers 29 33 34 41 culminating in the sft compactness paper 4 this book is written as a reference volume for polyfold theory and the accompa nying fredholm theory we do not give any applications since they are developed elsewhere for example in 14 the theory is used to develop methods to equip spe cific groupoidal categories with smooth structures and to apply these ideas to con struct the polyfolds of sft using the polyfold setup for sft developed in 14 the transversality from the present book is applied in 15 to construct sft the publica vii viii preface tion 43 illustrates the polyfold theory by its application to gromov witten theory and makes transparent how the theory deals with the occurring issues another ap plication is given in 68 to the weinstein conjecture the paper 42 illustrates part of the theory by examples relevant for applications a reader who understands the inner workings of the machinery should feel com fortable to use more stream lined versions as for example developed in 14 which exploit the full strength of the material described here it is clear that the polyfold theory which grew out of the structurally very rich sft example also applies to other classes or families of nonlinear elliptic partial differential equations as well in part i of this book based on 36 37 we develop the fredholm theory in a class of spaces called m polyfolds these spaces can be viewed as a generalization of the notion of a manifold finite or infinite dimensional in part ii m polyfolds based on 38 will be generalized to a class of spaces called ep groupoids which can be viewed as the polyfold generalization of e tale proper lie groupoids this general ization is useful in dealing with problems having local symmetries which is needed in more advanced applications in part iii we develop following 37 38 39 40 the fredholm theory in ep groupoids transversality and symmetry are antagonistic concepts since perturbing a problem to achieve transversality might not be possible when we also want to preserve the symmetries although it seems hopeless in many cases to achieve transversality there is a version of transversality theory over the rational numbers which is based on a perturbation theory using set valued pertur bations such an idea was introduced by fukaya and ono 18 in their kuranishi framework for the arnold conjectures the use of set valued operators in nonlinear analysis is older and a description can be found in 74 it seems that the latter was never used to develop a transversality theory in a context of symmetries we merge these ideas into a nice formalism which was in a very special case suggested in 7 in some sense the transversality theory in a symmetric setting replaces locally the equivariant problem by a symmetric weighted family of problems a by product of our considerations is a fredholm theory generalizing what in clas sical terms would be a fredholm theory on banach orbifolds with boundary with corners in summary parts i iii describe a wide array of nonlinear functionalan alytic tools to study perturbation and transversality questions for a large class of so called fredholm sections and fredholm section functors in ep groupoids the whole theory can be generalized even a step further to equip certain categories groupoidal categories with smooth structures and to develop a theory of fred holm functors this is carried out in part iv an outline of such ideas in the case of gromov witten theory is given in 32 another example is the construction of sft which most elegantly is described within such a framework these ideas are carried out in 14 15 the series of videos 30 1 71 illustrate the motivation behind the polyfold theory we also recommend 13 for the intuitive ideas involved in the polyfold theory preface ix other approaches to the type of problems considered in applications were put for ward in 18 19 46 47 51 52 53 54 72 73 and 59 particularly the care fully written papers by mcduff and wehrheim are a very good introduction to the finite dimensional kuranishi type approaches the work of yang is concerned with showing the relationship between the polyfold and kuranish type approaches princeton and zu rich helmut hofer july 2017 eduard zehnder acknowledgements the first author was partially supported by the nsf grants dms 0603957 and dms 1104470 the second author was partially supported by the nsf grant dms 0906280 the second and the third author would like to thank the institute for ad vanced study ias in princeton for the support and hospitality the second author would like to thank the forschungsinstitut fu r mathematik fim in zurich for the support and hospitality the authors would like to thank joel fish dusa mcduff and katrin wehrheim for many useful and enlightening discussions the first au thor also would like to thank michael jemison jake solomon dingyu yang and the participants of the workshop on polyfolds at pajaro dunes in august 2012 for their valuable feedback xi contents part i basic theory in m polyfolds 1 sc calculus 3 1 1 sc structures and differentiability 3 1 2 properties of sc differentiability 9 1 3 the chain rule and boundary recognition 10 1 4 appendix 11 1 4 1 proof of the sc fredholm stability result 11 1 4 2 proof of the chain rule 12 1 4 3 proof lemma 1 1 13 2 retracts 15 2 1 retractions and retracts 15 2 2 m polyfolds and sub m polyfolds 20 2 3 degeneracy index and boundary geometry 27 2 4 tame m polyfolds 34 2 5 strong bundles 44 2 6 appendix 49 2 6 1 proof of proposition 2 1 49 2 6 2 proof of theorem 2 2 51 2 6 3 proof of proposition 2 5 53 3 basic sc fredholm theory 57 3 1 sc fredholm sections 57 3 2 subsets with tangent structure 71 3 3 contraction germs 76 3 4 stability of basic germs 80 3 5 geometry of basic germs 84 3 6 implicit function theorems 97 3 7 conjugation to a basic germ 103 3 8 appendix 107 xiii xiv contents 3 8 1 proof of proposition 3 3 107 3 8 2 proof of lemma 3 9 114 3 8 3 proof of lemma 3 10 117 3 8 4 diffeomorphisms between partial quadrants 119 3 8 5 an implicit function theorem in partial quadrants 125 4 manifolds and strong retracts 131 4 1 characterization 131 4 2 smooth finite dimensional submanifolds 139 4 3 families and an application of sard s theorem 147 4 4 sc differential forms 149 5 fredholm package for m polyfolds 151 5 1 auxiliary norms 151 5 2 compactness results 155 5 3 perturbation theory and transversality 161 5 4 remark on extensions of sc sections 172 5 5 notes on partitions of unity and bump functions 173 6 orientations 181 6 1 linearizations of sc fredholm sections 181 6 2 linear algebra and conventions 184 6 3 the determinant of a fredholm operator 189 6 4 classical local determinant bundles 200 6 5 local orientation propagation 204 6 6 invariants 215 6 7 appendix 218 6 7 1 proof of lemma 6 1 218 6 7 2 proof of proposition 6 5 219 part ii ep groupoids 7 ep groupoids 225 7 1 ep groupoids and basic properties 225 7 2 effective and reduced ep groupoids 239 7 3 topological properties of ep groupoids 244 7 4 paracompact orbit spaces 249 7 5 appendix 253 7 5 1 the natural representation 253 7 5 2 sc smooth partitions of unity 254 8 bundles and covering functors 257 8 1 the tangent of an ep groupoid 257 8 2 sc differential forms on ep groupoids 268 8 3 strong bundles over ep groupoids 270 8 4 proper covering functors 275 contents xv 8 5 appendix 286 8 5 1 local structure of proper coverings 286 8 5 2 the structure of strong bundle coverings 288 9 branched ep subgroupoids 291 9 1 basic definitions 291 9 2 the tangent and boundary of 297 9 3 orientations 310 9 4 geometry of local branching structures 315 9 5 integration and stokes 322 9 6 appendix 330 9 6 1 questions about m polyfolds 330 9 6 2 questions about branched objects 331 10 equivalences and localization 333 10 1 equivalences 333 10 2 the weak fibered product 342 10 3 localization at the system of equivalences 347 10 4 strong bundles and equivalences 357 10 5 localization in the strong bundle case 364 10 6 appendix 368 10 6 1 proof of theorem 10 3 368 10 6 2 proof of theorem 10 4 371 11 geometry up to equivalences 375 11 1 ep groupoids and equivalences 375 11 2 sc differential forms and equivalences 380 11 3 branched ep subgroupoids and equivalences 389 11 4 equivalences and integration 396 11 5 strong bundles up to equivalence 399 11 6 coverings and equivalences 401 part iii fredholm theory in ep groupoids 12 sc fredholm sections 417 12 1 introduction and basic definition 417 12 2 auxiliary norms 418 12 3 sc section functors 426 12 4 compactness properties 434 12 5 orientation bundle 439 13 sc multisections 445 13 1 structure result 445 13 2 general sc multisections 453 13 3 structurable sc multisections 459 13 4 equivalences coverings and structurability 467 xvi contents 13 5 constructions of sc multisections 475 14 extension of sc multisections 483 14 1 definitions and main result 483 14 2 good structured version of 487 14 3 extension of correspondences 489 14 4 implicit structures and local extension 496 14 5 extension of the sc multisection 507 14 6 remarks on inductive constructions 516 15 transversality and invariants 519 15 1 natural constructions 519 15 2 transversality and local solution sets 523 15 3 perturbations 526 15 4 orientations and invariants 535 16 polyfolds 539 16 1 polyfold structures 539 16 2 tangent of a polyfold 547 16 3 strong polyfold bundles 552 16 4 branched finite dimensional orbifolds 559 16 5 sc multisections 563 16 6 fredholm theory 566 part iv fredholm theory in groupoidal categories 17 polyfold theory for categories 573 17 1 polyfold structures and categories 573 17 2 tangent construction 582 17 3 subpolyfolds 592 17 4 branched ep subcategories 594 17 5 sc differential forms and stokes 599 17 6 strong bundle structures 605 17 7 proper covering constructions 609 18 fredholm theory in polyfolds 623 18 1 basic concepts 624 18 2 compactness properties 628 18 3 sc multisection functors 631 18 4 constructions and extensions 632 18 5 orientations 634 18 6 perturbation theory 638 19 general constructions 641 19 1 the basic constructions 641 19 2 the natural topology t for s 645 contents xvii 19 3 the natural topology for m 647 19 4 metrizability criterion for t 651 19 5 the polyfold structure for s t 655 19 6 a strong bundle version 658 19 7 covering constructions 665 19 8 covering constructions for strong bundles 675 references 685 index 689 part i basic theory in m polyfolds in part i we introduce the notion of an sc banach space it can be viewed as a banach space e with an additional structure provided by a compact scale of banach spaces although such gadgets are known from interpolation theory the new viewpoint in terprets them as some kind of smooth structure on e then we introduce a new notion of differentiability and the smooth maps in this context are called sc smooth maps there are many more sc smooth maps than in the usual context of classical differentiability but still the maps have enough structure to recognize boundaries with corners unlike homeomorphisms which only recognize boundaries also the chain rule holds t g f t g t f where t g and t f are well defined tangent maps of particular interest are the sc smooth maps r u u which satisfy r r they are called sc smooth retractions if a subset o of the sc banach space e can be written as o r u for some sc smooth retraction it turns out that the definition to tr tu is independent of the sc smooth retraction onto o and defines what is called the tangent space at this point we can take the sc smooth retracts o as the local models for an extended differential geometry one should note that sc smooth retractions also exist in the classical context but their images are always submanifolds so that taking them as local model gives nothing new in our context the sc smooth retracts can be very general for example there exist finite dimensional ones with local varying dimen sions which however cannot be embedded smoothly into a finite dimensional vec tor spaces the new sc smooth spaces which are build on the new local models are studied in detail they can be viewed as a generalization of the standard smooth manifolds we shall study sc smooth subspaces and sc smooth bundles it is clear that taking any classical text book on differentiable manifolds many of the concepts can be generalized and that in addition new concepts arise since the notion of differentiability is rather weak smooth maps in general do not satisfy an implicit function theorem however we are able to identify a class of smooth maps for which it holds these will be the so called sc fredholm sections we study these in detail derive a perturbation and transversality theory and develop a theory of orientation with all these ingredients we obtain the fredholm package which provides for a sard smale type theory but in the context of much more gen eral spaces the notion of smoothness is so general that in applications bubbling off phenomena can be described within this abstract framework the basic core ideas go back to 36 37 and we refer the reader to 42 and 13 for illustrations of the ideas in concrete contexts chapter 1 sc calculus the basic concept is the sc structure on a banach space 1 1 sc structures and differentiability we begin with the linear sc theory definition 1 1 a sc structure or scale structure on a banach space e consists of a decreasing sequence em m 0 of banach spaces e e 0 e 1 e 2 such that the following two conditions are satisfied 1 the inclusion operators em 1 em are compact 2 the intersection e i 0 ei is dense in every em sc structures where sc is short for scale are known from linear interpolation the ory see 69 however our interpretation is that of a smooth structure it should be noted that scales have been used in geometric settings before see for example the work by d ebin 10 and h omori 58 the latter of these is somewhat closer to the viewpoint in our paper however omori does not use compact scales and this turns out to be a crucial condition for our applications without the com pactness assumption the maps we shall be considering do not satisfy the chain rule moreover one does not obtain the new local models the sc smooth retracts for a the first author thanks t mrowka for pointing out these two references 3 4 1 sc calculus generalized differential geometry in which bubbling off and trajectory breaking is a smooth phenomenon in the following a sc banach space or a sc smooth banach space stands for a ba nach space equipped with a sc structure a finite dimensional banach space e has precisely one sc structure namely the constant structure em e for all m 0 if e is an infinite dimensional banach space the constant structure is not a sc structure because it fails property 1 we shall see that the sc structure leads to interesting new phenomena in nonlinear analysis points in e are called smooth points points in em are called points of regularity m a subset a of a sc banach space e inherits a filtration am m 0 defined by am a em it is of course possible that a 0 we adopt the convention that ak stands for the set ak equipped with the induced filtration akm m 0 ak m m 0 the direct sum e f of sc banach spaces is a sc banach space whose sc smooth structure is defined by e f m em fm for all m 0 example 1 1 an example of a sc banach space which is relevant in applications is as follows we choose a strictly increasing sequence m m 0 of real numbers starting with 0 0 we consider the banach spaces in fact hilbert spaces e l 2 r s 1 and em hm m r s 1 where the space hm m r s 1 consists of those elements in e having weak partial derivatives up to order m which if weighted by e m s belong to e using sobolev s compact embedding theorem for bounded domains and the assumption that the sequence m is strictly increasing one sees that the sequence em m 0 defines a sc structure on e definition 1 2 a linear operator t e f between sc banach spaces is called a sc operator if t em fm and the induced operators t em fm are continuous for all m 0 a linear sc isomorphism is a bijective sc operator whose inverse is also a sc operator a special class of linear sc operators are sc operators defined as follows definition 1 3 a sc operator s e f between sc banach spaces is called a sc operator if s em fm 1 and s e f 1 is a sc operator in view of definition 1 1 the inclusion operator fm 1 fm is compact implying that a sc operator s e f is a sc compact operator in the sense that s em fm is compact for every m 0 hence given a sc operator t e f and a sc operator s e f the operator t s can be viewed on every level as a per turbation of t by the compact operator s definition 1 4 a subspace f of a sc banach space e is called a sc subspace pro vided f is closed and the sequence fm m 0 given by fm f em defines a sc structure on f 1 1 sc structures and differentiability 5 a sc subspace f of the sc banach space e has a sc complement provided there exists an algebraic complement g of f so that gm em g defines an sc structure on g such that on every level m we have a topological direct sum em fm gm such a splitting e f g is called a sc splitting the following result from 36 proposition 2 7 will be used frequently proposition 1 1 let e be a sc banach space a finite dimensional subspace f of e is a sc subspace if and only if f belongs to e a finite dimensional sc subspace always has a sc complement proof if f e then fm f em f and f is equipped with the constant sc structure so that f is a sc subspace of e conversely if f is a sc subspace then by definition f m 0 fm f e is dense in f consequently f f e since f and f are finite dimensional next let e 1 ek be a basis for a finite dimensional sc subspace f in view of the above discussion ei e by the hahn banach theorem the dual basis can be extended to linear functionals 1 k which are continuous on e and hence on em for every m the map p e e defined by p x 1 i k i x ei has its image in f e it induces a continuous map from em to em and since p p p it is a sc projection introduce the closed subspace g 1 p e and let gm g em then e f g and gm 1 gm the set g m 0 gm g e is also dense in gm indeed if g gm we find a sequence fn e such that fn g in em setting gn 1 p fn g we have gn 1 p g g as claimed consequently gm m 0 defines a sc structure on g and the proof of the proposition is complete next we describe the quotient construction in the sc framework proposition 1 2 assume that e is a sc banach space and a e a sc subspace then e a equipped with the filtration em am is a sc banach space note that em am x a em x e proof by definition of a sc subspace the filtration on a is given by am a em and am em is a closed subspace hence em am em a em x a em x em we identify an element x am in em am with the element x a of e a so that algebraically we can view em am e a the inclusion em 1 em is compact implying that the quotient map em 1 em am is compact we claim that the in clusion map em 1 am 1 em am is compact in order to show this we take a sequence xk am 1 em 1 am 1 satisfying 6 1 sc calculus xk am 1 m 1 inf x a m 1 a am 1 1 and choose a sequence ak in am 1 such that xk ak m 1 2 we may assume after taking a subsequence that xk ak x em the image of the sequence xk am 1 under the inclusion em 1 am 1 em am is the sequence xk ak am then xk ak am x am m xk ak x am m inf xk ak x a m a am xk ak x m 0 showing that the inclusion em 1 am 1 em am is compact finally let us show that j 0 e j a j is dense in every em am let us first note that e a j 0 e j a j consists of all elements of the form x a with x e since e is dense in em the image under the continuous quotient map em em am is dense this completes the proof of proposition 1 2 a distinguished class of sc operators is the class of sc fredholm operators definition 1 5 a sc operator t e f between sc banach spaces is called sc fredholm provided there exist sc splittings e k x and f c y having the following properties 1 k is the kernel of t and is finite dimensional 2 c is finite dimensional and y is the image of t 3 t x y is a sc isomorphism in view of proposition 1 1 the definition implies that the kernel k consists of smooth points and t xm ym for all m 0 in particular we have the topological direct sums em k xm and f c t em the index of a sc fredholm operator t denoted by ind t is as usual defined by ind t dim k dim c sc fredholm operators have the following regularizing property proposition 1 3 a sc fredholm operator t e f is regularizing i e if e e satisfies t e fm then e em proof by assumption t e fm c t xm so that t e t x c for some x xm and c c then t e x c and e x e 0 since t e 0 c f 0 it follows that c 0 and e x k e implying that x and e are on the same level m 1 1 sc structures and differentiability 7 the following stability result will be crucial later on the proof reproduced in ap pendix 1 4 1 is taken from 36 proposition 2 1 proposition 1 4 compact perturbation let e and f be sc banach spaces if t e f is a sc fredholm operator and s e f a sc operator then t s is also a sc fredholm operator the next concept will be crucial later on for the definition of boundaries definition 1 6 a partial quadrant in a sc banach space e is a closed convex sub set c of e such that there exists a sc isomorphism t e rn w satisfying t c 0 n w we now consider tuples u c e in which u is a relatively open subset of the partial quadrant c in the sc banach space e definition 1 7 if u c e and u c e are two such tuples then a map f u u is called sc 0 or of class sc 0 or sc continuous provided f um vm and the induced maps f um vm are continuous for all m 0 definition 1 8 the tangent t u c e of the tuple u c e is defined as the tuple t u c e tu tc t e where tu u 1 e tc c 1 e and t e e 1 e note that t u c e is a tuple consisting again of a relatively open subset tu in the partial quadrant tc in the sc banach space t e sc differentiability is a new notion of differentiability in sc banach spaces which is considerably weaker than the familiar notion of fre chet differentiability the new notion of differentiability is the following definition 1 9 we consider two tuples u c e and u c e and a map f u u the map f is called sc 1 sc 1 sc 1 or of class sc 1 sc 1 sc 1 provided the following conditions are satisfied 1 the map f is sc 0 2 for every x u 1 there exists a bounded linear operator d f x e 0 f 0 such that for h e 1 satisfying x h u 1 lim h 1 0 f x h f x d f x h 0 h 1 0 8 1 sc calculus 3 the map t f tu tu defined by t f x h f x d f x h x u 1 and h e is a sc 0 map the map t f tu tu is called the tangent map of f remark 1 1 in general the map u 1 l e 0 f 0 defined by x d f x will not be continuous if the space of bounded linear operators is equipped with the operator norm however if we equip it with the compact open topology it will be continuous the sc 1 maps between finite dimensional banach spaces are the familiar c 1 maps proceeding inductively we define what it means for the map f to be sck or sc namely a sc 0 map f is said to be a sc 2 map if it is sc 1 and if its tangent map t f tu tv is sc 1 by definition 1 9 and definition 1 8 the tangent map of t f t 2 f t t f t 2 u t tu t 2 v t tv is of class sc 0 if the tangent map t 2 f is sc 1 then f is said to be sc 3 and so on the map f is sc or sc smooth if it is sck for all k 0 remark 1 2 the above consideration can be generalized instead of taking a par tial quadrant c one might take a closed convex partial cone p with nonempty inte rior this means p e is a closed subset so that for a real number 0 it holds p p moreover p is convex and has a nonempty interior if then u is an open subset of p we can define the notion of being sc 1 as in the previous definition the tangent map t f is then defined on t p p 1 e we note that t p is a closed cone with nonempty interior in this context one should be able to deal with sc fedholm problems on m polyfolds with polytopal boundaries and even more general situ ations many of the results in this book can be carried over to this generality as well but one should check carefully which arguments carry over remark 1 3 let us mention that there is of course also a stronger notion of differ entiability which resembles the classical notion namely consider f u u where u c e and u c d are as in definition 1 9 we say that f is ssc 1 provided id is sc 0 and for every m the map f um u m is c 1 i e once continuously differen tiable similarly we can define being of class ssck and ssc the theory associated to this notion of differentiability runs completely parallel to the study of classically smooth maps between banach spaces and there are no surprises this theory is of course useful in applications as well to work out the sc results presented later on in the ssc framework is left to the reader note that ssc stands for strong sc 1 2 properties of sc differentiability 9 1 2 properties of sc differentiability in this section we shall discuss the relationship between the classical smoothness in the fre chet sense and the sc smoothness the proofs of the following results can be found in 42 proposition 1 5 proposition 2 1 42 let u be a relatively open subset of a partial quadrant in a sc banach space e and let f be another sc banach space then a sc 0 map f u f is of class sc 1 if and only if the following conditions hold true 1 for every m 1 the induced map f um fm 1 is of class c 1 in particular the derivative d f um l em fm 1 x 7 d f x is a continuous map 2 for every m 1 and every x um the bounded linear operator d f x em fm 1 has an extension to a bounded linear operator d f x em 1 fm 1 in addition the map um em 1 fm 1 x h 7 d f x h is continuous in particular if x u is a smooth point in u and f u f is a sc 1 map then the linearization d f x e f is a sc operator a consequence of proposition 1 5 is the following result about lifting the indices proposition 1 6 proposition 2 2 42 let u and v be relatively open subsets of partial quadrants in sc banach spaces and let f u v be sck then f u 1 v 1 is also sck proposition 1 7 proposition 2 3 42 let u and v be relatively open subsets of partial quadrants in sc banach spaces if f u v is sck then for every m 0 the map f um k vm is of class ck moreover f um l vm is of class cl for every 0 l k the next result is very useful in proving that a given map between sc banach spaces is sc smooth 10 1 sc calculus proposition 1 8 proposition 2 4 42 let u be a relatively open subset of a par tial quadrant in a sc banach space e and let f be another sc banach space assume that for every m 0 and 0 l k the map f u v induces a map f um l fm which is of class cl 1 then f is sck 1 in the case that the target space f rn proposition 1 8 takes the following form corollary 1 1 corollary 2 5 42 let u be a relatively open subset of a partial quadrant in a sc banach space and f u rn if for some k and all 0 l k the map f ul rn belongs to cl 1 then f is sck 1 1 3 the chain rule and boundary recognition the cornerstone of the sc calculus the chain rule holds true theorem 1 1 chain rule let u c e and v d f and w q g be relatively open subsets of partial quadrants in sc banach spaces and let f u v and g v w be sc 1 maps then the composition g f u w is also sc 1 and t g f t g t f the result is proved in 36 as theorem 2 16 for open sets u v and w we give the adaptation to the somewhat more general setting here the proof which is given in appendix 1 4 2 is very close to the one in 36 and does not require any new ideas remark 1 4 the result is somewhat surprising since differentiability is only guar anteed under the loss of one level u 1 f 0 so that one might expect for a compo sition a loss of two levels however one is saved by the compactness of the embed dings em 1 em the next basic result concerns the boundary recognition let c be a partial quadrant in the sc banach space e we choose a linear sc isomorphism t e rk w satisfying t c 0 k w if x c then t x a 1 ak w 0 k w and we define the integer dc x by 1 4 appendix 11 dc x i 1 k ai 0 definition 1 10 the map dc c n is called the degeneracy index points x c satisfying dc x 0 are interior points of c the points satisfying dc x 1 are honest boundary points and the points with dc x 2 are corner points the size of the index gives the complexity of the corner it is not difficult to see that this definition is independent of the choice of a sc linear isomorphism t lemma 1 1 the map dc does not depend on the choice of a linear sc isomorphism t the proof is given in appendix 1 4 3 theorem 1 2 given the tuples u c e and u c e and a germ f u x u x of a local sc diffeomorphism satisfying x f x then dc x dc f x the proof of a more general result is given in 36 theorem 1 19 we note that sc smooth diffeomorphisms recognize boundary points and corners whereas home omorphisms recognize only boundaries but no corners 1 4 appendix 1 4 1 proof of the sc fredholm stability result proof proposition 1 4 since s em fm is compact for every level the operator t s em fm is fredholm for every m denoting by km the kernel of this op erator we claim that km km 1 for every m 0 clearly km 1 km if x km then t x sx fm 1 and hence by proposition 1 3 x em 1 thus x km 1 implying km km 1 so that km km 1 set k k 0 by proposition 1 1 k splits the sc space e since it is a finite dimensional subset of e therefore we have the sc splitting e k x for a suitable sc subspace x of e next define y t s e t s x and ym y fm for m 0 since t s e f is fredholm its image y is closed we claim that the set y defined 12 1 sc calculus by y m 0 ym y f is dense in ym for every m 0 indeed if y ym then y t s e for some e e since by proposition 1 3 t is regularizing we conclude that e em since e is dense in em there exists a sequence en e such that en e in em then setting yn t s en y we conclude that yn t s e y which shows that y is dense in ym finally we consider the projection map p f f y since p is a continuous surjection onto a finite dimensional space and f is dense in f it follows that p f f y hence we can choose a basis in f y whose representatives belong to f denoting by c the span of these representatives we obtain fm ym c consequently we have a sc splitting f y c and the proof of proposition 1 4 is complete 1 4 2 proof of the chain rule proof theorem 1 1 the maps f u 1 f and g v 1 g are of class c 1 in view of proposition 1 7 moreover dg f x d f x l e g if x u 1 fix x u 1 and h e 1 sufficiently small satisfying x h u 1 and f x h v 1 then using the postulated properties of f and g g f x h g f x dg f x d f x h 1 0 dg t f x h 1 t f x f x h f x d f x h dt 1 0 dg t f x h 1 t f x dg f x d f x h dt the first integral after dividing by h 1 takes the form 1 0 dg t f x h 1 t f x f x h f x d f x h h 1 dt 1 1 for h e 1 such that x h u 1 and h 1 is small we have that t f x h 1 t f x v 1 moreover the maps 0 1 f 1 defined by t 7 t f x h 1 t f x are continuous and converge in c 0 0 1 f 1 to the constant map t 7 f x as h 1 0 since f is of class sc 1 the quotient a h f x h f x d f x h h 1 converges to 0 in f 0 as h 1 0 therefore by the continuity assumption 3 in definition 1 9 the map t h 7 dg t f x h 1 t f x a h 1 4 appendix 13 as a map from 0 1 e 1 into g 0 converges to 0 as h 1 0 uniformly in t conse quently the expression in 1 1 converges to 0 in g 0 as h 1 0 if x h u 1 next we consider the integral 1 0 dg t f x h 1 t f x dg f x d f x h h 1 dt 1 2 by definition 1 1 the inclusion operator e 1 e 0 is compact so that the set of all h h 1 e 1 has a compact closure in e 0 therefore since d f x l e 0 f 0 is a continuous map by definition 1 9 the closure of the set of all d f x h h 1 is compact in f 0 consequently again by definition 1 9 every sequence hn e 1 satisfying x hn u 1 and hn 1 0 possesses a subsequence having the property that the integrand of the integral in 1 2 converges to 0 in g 0 uniformly in t hence the integral 1 2 also converges to 0 in g 0 as h 1 0 and x h u 1 we have proved that g f x h g f x dg f x d f x h 0 h 1 0 as h 1 0 and x h u 1 consequently condition 2 of definition 1 9 is satisfied for the composition g f with the linear operator d g f x dg f x d f x l e 0 g 0 where x u 1 we conclude that the tangent map t g f tu t g x h 7 g f x d g f x h is sc continuous and moreover t g f t g t f the proof of theorem 1 1 is complete 1 4 3 proof lemma 1 1 proof lemma 1 1 we take a second sc isomorphism t e rk w satisfying t c 0 k w and first show that k k we consider the composition s t t 1 rk w rk w where s is a sc isomorphism mapping 0 k w 0 k w we claim that s 0 k w 0 k w indeed suppose s 0 w a w for some a w 0 k w then we conclude 14 1 sc calculus s 0 tw ts 0 w t a w ta tw 0 k w for all t r consequently a 0 hence s 0 k w 0 k w and since s is an isomorphim we obtain equality of these sets the set 0 k w w has codimension k in rk w and since s is an isomorphism we have s rk w s rk 0 s 0 k w s rk 0 0 k w so that the codimension of 0 k w in rk w is equal to k on the other hand this codimension is equal to k hence k k as claimed to prove our result it now suffices to show that if x a w 0 k w and y s x a w then i x i y 1 3 where i x is the set of indices 1 i k for which xi 0 the set i y is defined similarly with i x we associate the subspace ex of rk w ex b v rk w bi 0 for all i i x the set e y is defined analogously observe that i x is equal to the codimension of ex in rk w in order to prove 1 3 it is enough to show that s ex e y if this is the case then since s is an isomorphism we obtain s ex e y which shows that the codimensions of ex and e y in r k w and rk w respectively are the same now to see that s ex e y we take u b v ex and note that x tu 0 w for t small then s x tu s x ts u y ts u if i i y then s x tu i yi t s u i t s u i 0 k w which is only possible if s u i 0 hence s ex e y and the proof is complete chapter 2 retracts the crucial concept of this book is that of a sc smooth retraction which we are going to introduce next 2 1 retractions and retracts in this subsection we introduce several basic concepts definition 2 1 we consider a tuple u c e in which u is a relatively open subset of the partial quadrant c in the sc banach space e a sc smooth map r u u is called a sc smooth retraction on u if r r r as a side remark we observe that if u is an open subset of a banach space e and r u u is a c map in the classical sense satisfying r r r then the image of r is a smooth submanifold of the banach space e as the following proposition shows proposition 2 1 let r u u be a c retraction defined on an open subset u of a banach space e then o r u is a c submanifold of e more precisely for every point x o there exist an open neighborhood v of x and an open neighbor hood w of 0 in e a splitting e r n and a smooth diffeomorphism v w satisfying 0 x and o v r w 15 16 2 retracts an elegant proof is due to henri cartan in 6 in sharp contrast to the conclusion of this proposition from classical differential geometry there are sc retractions which have for example locally varying finite dimensions as we shall see later on definition 2 2 a tuple o c e is called a sc smooth retract if there exists a rela tively open subset u of the partial quadrant c and a sc smooth retraction r u u satisfying r u o in case x u 1 we deduce from r r r by the chain rule dr r x dr x dr x hence if x o 1 then r x x so that dr x dr x dr x and dr x e e is a projection proposition 2 2 let o c e be a sc smooth retract and assume that r u u and r u u are two sc smooth retractions defined on relatively open subsets u and u of c and satisfying r u r u o then tr tu tr tu proof if y u then there exists y u so that r y r y consequently r r y r r y r y r y and hence r r r similarly one sees that r r r if x h tr tu then x h tr y k for a pair y k tu moreover x o 1 u 1 so that x h tu from r r r it follows using the chain rule that tr x h tr tr y k t r r y k tr y k x h implying tr tu tr tu similarly one shows that tr tu tr tu and the proof of the proposition is complete proposition 2 2 allows us to define the tangent of a sc smooth retract o c e as follows definition 2 3 the tangent of the sc smooth retract o c e is defined as the triple t o c e to tc t e in which tc c 1 e is the tangent of the partial quadrant c t e e 1 e and to tr tu where r u u is any sc smooth retraction onto o we recall that explicitly the first author would like to thank e ghys for pointing out this reference during his visit at ias in 2012 it seems that this is h cartan s last mathematical paper 2 1 retractions and retracts 17 to tr tu tr u 1 e r x dr x h x u 1 h e starting with a relatively open subset u of a partial quadrant c in e the tangent tc of c is a partial quadrant in t e and tu is a relatively open subset of tc in the following we shall quite often just write o instead of o c e and to instead of to tc t e however we would like to point out that the reference c e is important since it is possible that o is a sc smooth retract with respect to some nontrivial c but would not be a sc smooth retract for c e proposition 2 3 let o c e and o c e be sc smooth retracts and let f o o be a map if r u u and s v v are sc smooth retractions onto o for the triple o c e then the following holds 1 if f r u e is sc smooth then f s v e is sc smooth and vice versa 2 if f r is sc smooth then t f r to t f s to 3 the tangent map t f r to maps to into to proof we assume that f r u e is sc since s v u v is sc the chain rule implies that the composition f r s v f is sc using the identity f r s f s we conclude that f s is sc interchanging the role of r and s the first part of the lemma is proved if x h to then x h t s x h and using the identity f r s f s and the chain rule we conclude t f r x h t f r t s x h t f r s x h t f s x h now we take any sc smooth retraction u u defined on a relatively open subset u of the partial quadrant c in e satisfying u o then f f so that f r f r application of the chain rule yields the identity t f r x h t f r x h t t f r x h for all x h tr tu consequently t f r tr tu to to and this map is independent of the choice of a sc smooth retraction onto o in view of proposition 2 3 we can define the sc smoothness of a map between sc smooth retracts as well as its tangent as follows definition 2 4 let f o o be a map between sc smooth retracts o c e and o c e and let r u u be a sc smooth retraction for o c e then the map f is sc smooth if the composition u e x 7 f r x is sc smooth in this case the tangent map t f to to is defined by t f t f r to 18 2 retracts proposition 2 3 shows that the definition does not depend on the choice of the sc smooth retraction r as long as it retracts onto o with definition 2 4 the chain rule for sc smooth maps between sc smooth retracts follows from theorem 1 1 theorem 2 1 let o c e o c e and o c e be two sc smooth retracts and let f o o and g o o be sc smooth then g f o o is sc smooth and t g f t g t f if f o o is a sc smooth map between sc smooth retracts as in definition 2 4 we abbreviate the linearization of f at the point o o 1 r u 1 on level 1 by t f o t f r o too so that t f o too tf o o is a continuous linear map between the tangent spaces too dr o e and tf o o dr f o e at this point we have defined a new category r whose objects are sc smooth retracts o c e and whose morphisms are sc smooth maps f o c e o c e between sc smooth retracts the map f is only defined between o and o but the other data o c e are needed to define the differential geometric properties of o we also have a well defined functor namely the tangent functor t r r it maps the object o c e into its tangent to tc t e and the morphism f o c e o c e into its tangent map t f t f to tc t e to tc t e t f x h f x d f x h for all x h to the chain rule guarantees the functorial property t g f t g t f clearly this is enough to build a differential geometry whose local models are sc smooth retracts the details will be carried out in the next subsection let us note that t o c e has evidently more structure than o c e for example to o 1 seems to have some kind of bundle structure we shall discuss this briefly and intro duce another category of retracts 2 1 retractions and retracts 19 consider a tuple u c e where u is a relatively open subset of the partial quadrant c in the sc banach space e and let f be another sc banach space definition 2 5 let p u f u be a trivial sc bundle defined by the projection p u f u onto u and let r u f u f be a sc smooth map of the form r u v r u u v satisfying r r r and where u v is linear in v we call r a sc smooth bundle retraction covering the sc smooth retraction r and b r u f the associated sc smooth bundle retract and denote by p b o the induced projection onto o r u we shall refer to p b o as a sc smooth bundle model or sc smooth bundle retract and sometimes write b c f e f given two sc smooth bundle retracts p b o and p b o a sc smooth map b b of the form u v a u u v where u v is linear in v and p p is called a sc smooth local bundle map by br we denote the category whose objects are sc smooth bundle retracts and whose morphisms are the sc smooth bundle maps there is a natural forgetful func tor br r which on objects associates with the bundle b p o the total space b and which views a bundle map just as a sc smooth map if r u u is a sc smooth retraction then its tangent map tr tu tu is a sc smooth bundle retraction moreover the tangent map is a sc smooth bundle map consequently the tangent functor can be viewed as the functor t r br the functor t associates with the object o c e the triple to tc t e in which we view t e as the bundle t e e 1 tc as the bundle tc c 1 and to as the bundle to o 1 with a sc smooth map f o c e o c e the functor t associates the sc smooth bundle map t f there is another class of retractions called strong bundle retractions which will be introduced in the later parts of section 2 2 remark 2 1 many of the aspects of the theory developed later on can be generalized as follows we take as local models o c e where c is a closed convex set in the sc banach space e with nonempty interior and o c so that there exists a relatively open subset u c with o u c and an sc smooth map r u u with r r r and o r u the fact that the interior of c is open allows the necessary generalization of the notion of sc differentiability a particular case which is of interest is concerned with a situation described up to sc isomorphism as follows we assume that e rn w and c d w where d is the closed convex hull of a finite number of points in rn so that int d 6 0 we leave such generalizations to the reader 20 2 retracts 2 2 m polyfolds and sub m polyfolds we start with the following observation about sc retractions and sc retracts proposition 2 4 let o c e be a sc smooth retract 1 if o is an open subset of o then o c e is a sc smooth retract 2 let v be an open subset of o and s v v a sc smooth map satisfying s s s if o s v then o c e is a sc smooth retract proof 1 by assumption there exists a sc smooth retraction r u u defined on a relatively open subset u of the partial quadrant c e whose image is o r u since the map r u u is continuous the set u r 1 o is an open subset of u and therefore a relatively open subset of c clearly o u and the restriction r r u defines a sc smooth retraction r u u onto r u o consequently the triple o c e is a sc smooth retract as claimed 2 the triple v c e is in view of 1 a sc smooth retract hence there exists a sc smooth retraction r u u onto r u v where u c e we define the map u u by s r then is sc smooth and s r s r if x u then r x v hence s r x v and consequently r s r x s r x so that r from s s s we conclude that hence is a sc smooth retraction onto the subset u s r u s v o we see that o c e is a sc smooth retract as claimed in the following every sc smooth map r o o defined on a sc smooth retract o and satisfying r r r will also be called a sc smooth retraction definition 2 6 let x be a topological space and x x a chart around x is a tuple v o c e in which v x is an open neighborhood of x in x and v o is a homeomorphism moreover o c e is a sc smooth retract two charts v o c e and v o c e are called sc smoothly compatible if the transition maps 1 v v v v and 1 v v v v are sc smooth maps in the sense of definition 2 4 2 2 m polyfolds and sub m polyfolds 21 let us observe that v v is an open subset of o and so in view of part 1 of proposition 2 4 the tuple v v c e is a sc smooth retract so the above transition maps are defined on sc smooth retracts definition 2 7 a sc smooth atlas on the topological space x consists of a set of charts v o c e such that any two of them are sc smoothly compatible and the open sets v cover x two sc smooth atlases on x are said to be equivalent if their union is again a sc smooth atlas definition 2 8 a m polyfold x is a hausdorff paracompact topological space equipped with an equivalence class of sc smooth atlases analogous to the smoothness of maps between manifolds we shall define sc smoothness of maps between m polyfolds definition 2 9 a map f x y between two m polyfolds is called sc smooth if its local coordinate representations are sc smooth in detail this requires the follow ing if f x y and v o c e is a chart around x belonging to the atlas of x and v o c e is a chart around y belonging to the atlas of y so that f v v then the map f 1 o o is a sc smooth map between the sc smooth retracts in the sense of definition 2 4 the definition does not depend on the choice of sc smoothly compatible charts we recall that a hausdorff topological space is paracompact provided every open cover of x has an open locally finite refinement it is a well known fact that given an open cover u ui i i one can find a refinement v vi i i satisfying vi ui for all i i some of the sets vi might be empty given a m polyfold x we say that a point x x is on the level m if there exists a chart v o c e around x such that x om of course this definition is independent of the choice of a chart around x we denote the collection of all points on the level m by xm the topology on xm is defined as follows we abbreviate by b the collection of all sets 1 w where w is an open subset of om o em in the chart v o c e on x then b is a basis for a topology on xm with this topology the set vm v xm is an open subset of xm and vm om is a homeomorphism so that the tuple vm om cm em is a chart on xm any two such charts are sc smoothly compatible and the collection of such charts is an atlas on xm we shall see below that the topology on xm is hausdorff and paracompact hence the above sc smoothly compatible charts define a m polyfold structure on xm we shall denote xm with this m polyfold structure by xm and say that it is 22 2 retracts obtained from x by raising the index by m also note that the m polyfold x inherits from the charts the filtration x x 0 x 1 x i 0 xi lemma 2 1 the inclusion map i xm 1 xm is continuous for all m 0 proof in view of the definition of topologies on xm and xm 1 it suffices to show that if v o c e is a chart on x and w is an open subset of om then 1 w xm 1 is open in xm 1 if x 1 w xm 1 then x w om 1 w em 1 since w is open in om there exists an open set w in em so that w w o hence x w em 1 o w o where w w em 1 is an open subset of em 1 hence w o is an open subset of om 1 and 1 w xm 1 1 w o proving our claim theorem 2 2 let x be a m polyfold for every m 0 the space xm is metrizable and in particular paracompact in addition the space x is metrizable the proof is postponed to appendix 2 6 2 in order to define the tangent t x of the m polyfold x we start with its local de scription in a chart definition 2 10 tangent space txo let o c e be a retract and t o c e to tc t e its tangent so that p to o 1 is the tangent bundle over o the tangent space txo at a point x o 1 is the pre image p 1 x which is a banach space note that only in the case that x is a smooth point the tangent space txo has a natural sc structure in the case that x o 1 the tangent space txo is the image of the projection dr x e e where r u u is any sc smooth retraction associated with o c e satisfying r u o next we consider tuples x v o c e h in which x x 1 is a point in the m polyfold x on level 1 and v o c e is a chart around the point x moreover h t x o two such tuples x v o c e h and x v o c e h are called equivalent if x x and t 1 x h h definition 2 11 the tangent space t x of x as a set is the collection of all equiv alence classes x v o c e h 2 2 m polyfolds and sub m polyfolds 23 if x x 1 is fixed the tangent space txx of the m polyfold x at the point x x is the subset of equivalence classes txx x v o c e h h t x o it has the structure of a vector space defined by x v o c e h 1 x v o c e h 2 x v o c e h 1 h 2 where r and h 1 h 2 t x o clearly t x x x 1 x txx 2 1 to define a topology on the tangent space t x we first fix a chart v o c e on x and associate with it a subset tv of t x defined as tv x v o c e h x v h t x o we introduce the tangent map t tv to by t x v o c e h x h where h t x o if x x 1 is fixed then the map t txv t x o is a linear isomorphism therefore txx the tangent space at x x 1 inherits the banach space structure from t x o e e 0 if x x the tangent space txx is a sc banach space because the tangent space at the smooth point x o is a sc banach space if w is an an open subset of to we define the subset w tv by w t 1 w we denote by b the collection of all such sets w obtained by taking all the charts v o c e of the atlas and all open subsets w of the corresponding tangents to proposition 2 5 the following holds 1 the collection b defines a basis for a hausdorff topology on t x 2 the projection p t x x 1 is a continuous and an open map 3 with the topology defined by b the tangent space t x of the m polyfold x is metrizable and hence in particular paracompact 24 2 retracts the proof is postponed to appendix 2 6 3 in view of our definition of the topology on t x the map t tv to associated with the chart v o c e is a homeomorphism moreover given two such maps t tv to and t tv to the composition t t 1 t tv tv t tv tv is explicitly of the form t t 1 a h 1 a d 1 a h t 1 a h 2 2 since the transition map 1 between sc retracts is sc smooth the composi tion in 2 2 is also sc smooth in addition to tc t e is a sc smooth retract consequently the tuples tv t to tc t e define a sc smooth atlas on t x since as we have proved above t x is paracompact the tangent space t x of the m polyfold x is also a m polyfold the projection map p t x x 1 is locally built on the bundle retractions to o 1 and the transition maps of the charts are sc smooth bundle maps therefore p t x x 1 is a sc smooth m polyfold bundle the m polyfold is the notion of a smooth manifold in our extended universe if x is a m polyfold which consists entirely of smooth points then it has a tangent space at every point there are finite dimensional examples for example the chap depicted in figure 2 1 has a m polyfold structure for which x x it illustrates in particular that m polyfolds allow to describe in a smooth way geometric objects having locally varying dimensions for details in the construction of the chap and further illustrations we refer to 42 section 1 in particular example 1 22 fig 2 1 this chap has a m polyfold structure for which every point is smooth 2 2 m polyfolds and sub m polyfolds 25 next we introduce the notion of a sub m polyfold definition 2 12 let x be a m polyfold and let a be a subset of x the subset a is called a sub m polyfold of x if every a a possesses an open neighborhood v and a sc smooth retraction r v v such that r v a v proposition 2 6 a sub m polyfold a of a m polyfold x has in a natural way the structure of a m polyfold for which the following holds 1 the inclusion map i a x is sc smooth and a homeomorphism onto its image 2 for every a a and every sc smooth retraction r v v satisfying r v a v and a v the map i 1 r v a is sc smooth 3 the tangent space taa for a smooth a a has a sc complement in tax 4 if a is a smooth point and s w w is a sc smooth retraction satisfying s w w a and a w then the induced map w a is sc smooth and t s a tax taa proof we first define a sc smooth atlas for a we choose a point a a and let v o c e be a chart of the m polyfold x around the point a by definition of a sub m polyfold there exists an open neighborhood u of a in x and a sc smooth retraction r u u satisfying r u u a the set w x defined by w r 1 u v u v is open in x and satisfies r w w and r w w a hence w is an open subset of o so that in view of of part 1 proposition 2 4 the tuple w c e is a sc retract we may therefore assume without loss of generality that u v w we define the sc smooth map o o by r 1 from r r r we deduce so that is a sc smooth retraction onto o o by the statement 2 in proposition 2 4 the triple o c e is a sc retract therefore there exists a relatively open subset u of the partial quadrant c in e and a sc smooth retraction r u u onto r u o restricting the map to w a we set w a and compute w a w a r w r 1 o o o consequently w a o is a homeomorphism and the triple w a o c e is a chart on a 26 2 retracts in order to consider the chart transformation we take a second compatible chart v o c e of the m polyfold x around the point a a and use it two con struct the second chart w a o c e of a we shall show that the second chart is compatible with the already constructed chart w a o c e the domain w a w a of the transition map 1 w a w a w a w a 2 3 is an open subset of o so that in view of 2 of proposition 2 4 there exists a relatively open subset u c and a sc smooth retraction s u u onto s u w a w a by construction 1 s 1 s the chart transformation 1 o o is sc smooth so that by the chain rule the right hand side is sc smooth therefore also the left hand is a sc smooth map so in view of definition 2 4 of a sc smooth map between retracts the transition map 1 is sc smooth we have shown that the collection of charts w a w a c e defines a sc smooth atlas for a the sc smooth structure on a is defined by its equivalence class in order to prove the statement 2 in proposition 2 6 we use the above local coor dinates assuming as above that u v w the inclusion map i a x is in the local coordinates the inclusion j o r u o which is a sc smooth map since r u u is a sc retraction conversely the relations r 1 o o and u 1 o show that the map i 1 r u a is sc smooth because the re traction r u u is by assumption sc smooth this proves statement 2 of the proposition in order to prove the statement 3 we work in local coordinates and assume that x is given by the triple o c e in which o r u and r u u is a retraction of the relatively open subset u of c in e then a is a subset of o having the property that every point a a possesses an open neighborhood v in o and a sc smooth retraction s v v onto s v a v we now assume that a a is a smooth point and introduce the map t s r u u then t t t and t is a sc smooth retraction onto the set v a hence the tangent space taa is defined by taa dt a e ds a dr a e ds a tao from r t r s r s r t we conclude dr a dt a e dt a e and hence dt a e tao therefore tao dr a e ds a dr a i ds a dr a e taa i ds a tao 2 3 degeneracy index and boundary geometry 27 this proves the statement 3 using the same arguments the statement 4 follows and the proof of proposition 2 6 is complete 2 3 degeneracy index and boundary geometry abbreviating n 0 1 2 3 we shall introduce on the m polyfold x the map dx x n called degeneracy index as follows we first take a smooth chart v o c e around the point x and define the integer d x v o c e dc x where dc is the index defined in section 1 3 in other words we record how many vanishing coordinates the image point x has in the partial quadrant c definition 2 13 the degeneracy dx x at the point x x is the minimum of all numbers d x v o c e where v o c e varies over all smooth charts around the point x the degeneracy index of the m polyfold x is the map dx x n the next lemma is evident lemma 2 2 every point x x possesses an open neighborhood u x such that dx y dx x for all y u x from the definitions one deduces immediately the following result proposition 2 7 if x and y are m polyfolds and if f u x v f x is a germ of sc diffeomorphisms around the points x x and f x y then dx x dy f x the index dx quantifies to which extend a point x has to be seen as a boundary point a more degenerate point has a higher index definition 2 14 the subset x x x dx x 1 of x is called the boundary of x a m polyfold x for which dx 0 is called a m polyfold without boundary the relationship between da and dx where a is a sub m polyfold of x is described in the following lemma 28 2 retracts lemma 2 3 if x is a m polyfold and a x a sub m polyfold of x then da a dx a for all a a proof we take a point a a and choose a chart v o c e around the point a belonging to the atlas for x and satisfying dx a d a v o c e the integer on the right hand side remains unchanged if we take a smaller domain still containing a and replace o by its image then arguing as in proposition 2 6 we may assume that the corresponding chart of the atlas for a is v o c e where we have abbreviated v v a v and o v then d a v o c e d a v o c e dx a and hence taking the minimum on the left hand side da a dx a as claimed in the lemma if e rk w is the sc banach space and c 0 k w the partial quadrant in e we define the linear subspace ei of e by ei a 1 ak w rk w ai 0 with a subset i 1 k we associate the subspace ei i i ei in particular e 0 e e i ei and e 1 k 0 k w w if x c we denote by i x the set of indices i 1 k for which x ei we abbreviate ex ei x associated with ei we have the closed half space hi consisting of all elements a w in rk w satisfying ai 0 hi a 1 ak w e ai 0 if x c we define the partial cone cx in e as cx ci x i i x hi we observe that ex cx 2 3 degeneracy index and boundary geometry 29 as an illustration we take the standard quadrant c r 2 consisting of all x y with x y 0 then c 0 0 c c 1 0 x y y 0 c 0 1 x y x 0 and c 1 1 r 2 moreover e 0 0 0 e 1 0 r 0 e 0 1 0 r and e 1 1 r 2 one should view c x y as a partial quadrant in the tangent space t x y c r 2 and e x y c x y as the maximal linear subspace in the following we shall put some additional structure on a sc smooth retract o c e which turns out to be useful we call a subset c of a banach space or sc banach space a cone provided it is closed convex and satisfies r c c and c c 0 if all properties except the last one hold we call c a partial cone in the following considerations e rk w and c 0 k w the aim of the following is to extract some information from the geometry of a retract o c e definition 2 15 let o c e be a sc smooth retract and let x o be a smooth point in o the partial cone cxo at x is defined as the following subset of the tangent space at x cxo txo cx where cx i i x hi the reduced tangent space t r x o is defined as the following subset of the tangent space at x t rx o txo ex remark 2 2 we have the inclusions t rx o cxo txo and naively one might expect that cxo is a partial quadrant in txo however this is in general not the case the reduced tangent space and the partial cone are characterized in the next lemma lemma 2 4 let o c e be as described before and let x o be a smooth point in o then the following holds where the occurring in the definitions may depend on 1 t rx o cl 0 o is sc smooth and 0 x 2 cxo cl 0 0 o is sc smooth and 0 x 3 txo cxo cxo here 0 ddt t t 0 stands for the derivative of the sc smooth path in the parameter t varying in resp in 0 30 2 retracts proof we assume that u c is relatively open and r u u is a sc smooth retraction with o r u let us denote for x rk w by x 1 xk its coordinates in rk 1 we first introduce the set 0 o is sc smooth and 0 x 2 4 and observe that is contained in o and 0 e since the closure of t rx o is equal to t r x o it is enough to prove that t r x o and t rx o as for the first inclusion we take v t rx o hence x tv u for t small this follows from the fact that for i i x we have ai vi 0 and for i 6 i x we have xi 0 since x and v are smooth points x tv u then t r x tv is defined for t small takes values in o and 0 x by the chain rule 0 dr x v v since v txo image of dr x hence v and t rx o as claimed conversely if o is a sc smooth path satisfying 0 x then r t t so that applying the chain rule we find dr x 0 0 this shows that 0 is a smooth point belonging to txo if i i x then i 0 xi 0 and since i t 0 for all t we conclude that i 0 0 so that 0 ex hence 0 txo ex t rx o and since 0 is a smooth point 0 t rx o therefore t rx o and the proof of 1 is complete 2 the proof is along the same line except that considering a sc smooth path 0 o we conclude that dr x 0 cx and since dr x 0 0 we find that cxo is a subset of the right hand side of 2 conversely we take a smooth point v cxo and consider the path t r x tv defined for t 0 small then 0 dr x v belongs to the right hand side of 2 and since cxo is closed the result follows 3 clearly cxo cxo txo conversely let h txo then h dr x k where k a w e if i i x we set a i ai ai 2 then a i 0 and ai a i a i now we define elements k e as follows first k b w where bi ai if i 6 i x and bi a i if i i x the element k is defined as k c 0 where ci 0 if i 6 i x and ci a i if i i x then k k k and if h dr x k then by 2 we have h cxo and h h h cxo cxo the proof of 3 and hence the proof of lemma 2 4 is complete 2 3 degeneracy index and boundary geometry 31 from the characterization of txo and cxo in lemma 2 4 we deduce immediately the next proposition where o c e is as described before and similarly o c e with e rk w and c 0 k w proposition 2 8 let o c e and o c e be sc smooth retracts as just de scribed and let x o if f o x o f x is a germ of a sc diffeomorphism mapping x o onto f x y o then t f x t rx o t r y o and t f x cxo cyo we note that in view of the previous proposition the definition of the spaces t rx o and cxo is natural and they are respected by the tangent of a local sc diffeomorphism hence we can define for an arbitrary sc retract o c e and a point x o the reduced tangent t rx o and the partial cone cxo in case there exists a linear sc isomorphism s txo rn w satisfying s cx 0 n w we shall call cx a partial quadrant remark 2 3 later on we shall introduce the notion of a tame m polyfold in view of the following theorem 2 3 and the later proposition 2 10 the tameness implies that for this particular case the partial cones are always partial quadrants a sc smooth retract o associated with a triple o c e is a m polyfold and recall ing definition 2 13 its degeneracy index do x at the point x is the integer do x mindc x where the minimum is taken over all germs of sc diffeomorphisms o x o x into sc smooth retracts o associated with o c e the integer dc x is in troduced in section 1 3 theorem 2 3 let o c e be a smooth retract and let do be the degeneracy index of o if x o is a smooth point we have the inequality dim txo t r x o do x moreover if dim txo t rx o do x then cxo is a partial quadrant in txo proof let x be a smooth point of the retract o by proposition 2 8 the dimension of txo t rx o is preserved under germs of sc diffeomorphisms hence in view of the definition of do x we may assume without loss of generality that do x dc x d 32 2 retracts moreover without loss of generality we may assume that e rk w c 0 k w and x 0 0 xd 1 xk w where xi 0 for d 1 i k and w w we recall that if v a b w t rx o rd rk d w then a 0 and if v a b w cxo then ai 0 for 1 i d in order to prove the first statement we choose smooth vectors v 1 vl in txo such that v j t rx o 1 j l are linearly independent in the vector space txo t r x o representing v j a j b j w j rd rk d w we claim that the vectors a j 1 j l are linearly independent in rd indeed assuming that lj 1 ja j 0 we have l j 1 jv j 0 l j 1 jb j l j 1 jw j t rx o hence l j 1 j v j t rx o l j 1 jv j t rx o t rx o since v j t rx o 1 j l are linearly independent in txo t r x o we conclude that 1 l 0 proving our claim this implies that the vectors a 1 al are lin early independent in rd therefore l d and hence dim txo t rx o d do x proving the first statement of the theorem in order to prove the second statement we assume that dim txo t rx o do x if now v j t rx o 1 j d is a basis of txo t r x o then representing v j a j b j w j txo rd rk d w and arguing as above the vectors a j for 1 j d form a basis of rd consequently the map txo t rx o rd defined by v t rx o a b w t r x o a is a linear isomorphism moreover if v a b w cxo so that a j 0 for 1 j d then v t rx o a b w t r x o 0 d denoting by e j for 1 j d the standard basis of rd we introduce 1 e j v j t rx o by definition the vectors v j are of the form v j e j b j w j and are linearly independent in rd rk d w if now v a b w txo we have the decomposition v a b w d j 1 a j v j v d j 1 a j v j where a a 1 ad rd since the second term on the right hand side belongs to t rx o we have the following decompositions of the tangent space txo and of cxo txo rv 1 rv d t rx o and cxo r v 1 r v d t rx o 2 3 degeneracy index and boundary geometry 33 therefore the map t txo rd txo defined by t 1 v 1 d v d w 1 d w is a sc linear isomorphism satisfying t cxo 0 d t rx o hence cxo is a par tial quadrant in txo and the second statement of theorem 2 3 is proved the partial quadrant c in e is the image of the sc smooth retraction r 1 c c c in particular c is a m polyfold which we denote by xc in section 1 3 we have defined the map dc c n above we have defined the degeneracy index dxc xc n of the m polyfold xc by definition dxc dc and we shall prove that dxc dc we may assume without loss of generality that c 0 k w and e rk w for a smooth point x c we have txc e and t rx c ex implying dim txc t rx c dc x this of course also holds for any partial quadrant c e hence dc x dim txxc t r x xc for a smooth point x c from this we deduce the following corollary of theorem 2 3 corollary 2 1 let c be a partial quadrant in a sc banach space considering c as a m polyfold denoted by xc we have the equality dc dxc proof let us first take a smooth point x c in view of theorem 2 3 dim txxc t r x xc dxc x since dc x dim txxc t rx xc as we have just seen it follows that dc x dxc x by definition of dxc x we always have the inequality dxc x dc x conse quently dxc x dc x if x c if x c is arbitrary we take a sequence of smooth points xk c converging to x and satisfying dc xk dc x hence dc x dc xk dxc xk in view of the definition of dxc we find a sc diffeomorphism f u x o where u x c is relatively open and o c e is a sc smooth retract so that dxc x dc f x then f xk f x and trivially dc f xk dc f x for large k hence for large k 34 2 retracts dc x dc xk dxc xk dxc f xk dc f xk dc f x dxc x since dxc x dc x we conclude dxc x dc x and the proof of corollary 2 1 is complete from now on we do not have to distinguish between the index dc defined for partial quadrants and the degeneracy index dxc where we view c as a m polyfold 2 4 tame m polyfolds in order to define spaces whose boundaries have more structure we introduce the notion of a tame m polyfold and of tame retractions and tame retracts we start with some basic geometry let c e be a partial quadrant in a sc banach space e we begin with the partic ular case e rk w and c 0 k w we recall the linear sc subspace ei of codimension 1 defined as ei a 1 ak w rk w ai 0 2 5 associated with ei there is the closed half space hi consisting of all elements a w in rk w satisfying ai 0 hi a 1 ak w e ai 0 2 6 in the general case of a partial quadrant c in e we can describe the above defini tions in a more intrinsic way as follows we consider the set e c dc e 1 of boundary points this set has exactly k connected components which we denote by a 1 ak each component ai lies in the smallest subspace fi of e containing ai we call fi an extended face and denote by f the set of all extended faces the set f contains exactly k extended faces given an extended face f f we denote by h f the closed half subspace of e which contains c in the special case c 0 k w rk w the extended faces fi are the subspaces ei and the half spaces h fi are the half subspaces hi if e c we introduce the set of all extended faces containing e by f e f f e f clearly dc e f e 2 4 tame m polyfolds 35 definition 2 16 the partial quadrant ce associated with e c is defined as ce f f e h f the minimal linear subspace associated with e c is defined by ee f f e f clearly the following inclusions hold ee ce e for an interior point x c i e a point satisfying dc x 0 we set ee ce e the codimension of ee in e is precisely dc e the maximal value dce attains is dc e next we introduce a special class of sc smooth retracts definition 2 17 tame sc retraction let r u u be a sc smooth retraction defined on a relatively open subset u of a partial quadrant c in the sc banach space e the sc smooth retraction r is called a tame sc retraction if the following two conditions are satisfied 1 dc r x dc x for all x in u 2 at every smooth point x in o r u there exists a sc subspace a e such that e txo a and a ex a sc smooth retract o c e is called a tame sc smooth retract if o is the image of a sc smooth tame retraction let x be a smooth point in the tame sc retract o and let a ex be a sc complement of the tangent space txo as guaranteed by condition 2 in definition 2 17 so that e txo a 2 7 we recall that txo dr x e and hence e dr x e 1 dr x e txo 1 dr x e 2 8 applying the projection 1 dr x to the equation 2 7 and using that 1 dr x txo 0 we obtain 1 dr x e 1 dr x a 2 9 36 2 retracts we claim that 1 dr x e ex in order to prove this claim we recall that a ex so that in view of 2 9 it is sufficient to prove that dr x ex ex we may assume that e rk w and x 0 0 xd 1 xk w with xd 1 xk 0 we choose a smooth point y ex so that y 0 0 yd 1 yk v if is small then x x y belongs to the partial quadrant c and has the first d coordinates vanishing by condition 1 in definition 2 17 of a tame sc retraction r we have dc r x y dc x y hence the first d coordinates of r x y vanish and from d d r x y 0 dr x y we conclude that the first d coordinates of dr x y vanish the same is true if y is on level 0 in ex so dr x ex ex and hence in view of 2 9 we have verified that 1 dr x e ex as claimed in view of 2 8 we can therefore always assume without loss of generality that in condition 2 of definition 2 17 the complement a of txo is equal to a 1 dr x e summarizing the discussion we have estab lished the following proposition proposition 2 9 let u c e be a relatively open subset of a partial quadrant in a sc banach space and let r u u be a sc smooth tame retraction then for every smooth point x o r u the sc subspace 1 dr x e is a subspace of ex so that in condition 2 of definition 2 17 we can take a 1 dr x e a particular example of sc smooth retractions occurring in applications are splic ings definition 2 18 a sc smooth splicing consists of the following data a relatively open neighborhood v of 0 in 0 k rn k and a map which associates to a v a sc projection operator a e e where e is an sc banach space so that the map v e e a e a e is sc smooth lemma 2 5 let v 3 a a be an sc smooth splicing then defining u v e and r u u by r a e a a e we obtain a sc smooth tame retraction proof it is clear that with d 0 k rn k e the set u is relatively open in d and it holds that dd a e dd r a e suppose a e is a smooth point in o r u implying that a e e then t a e o consists of all b k with k a k n i 1 a e ai bi this in particular implies that n i 1 a e ai bi r id a ker a 2 10 2 4 tame m polyfolds 37 denote by f the collection of all 0 with a 0 and observe that f 0 n e t r a e d if b f f t a e o it follows that b 0 and a f f and a f 0 implying b f 0 0 on the other hand if b f t a e u t a e d we can write abbreviating ni 1 a e ai bi b f b a f 0 i a f it holds a i a f a 0 in view of 2 10 so that 0 i a f f further id a a f showing that b a f t a e o hence we have the sc direct sum t a e u t a e o f with f t r a e u implying that r is a tame sc smooth retraction next discuss the tame sc smooth retracts in more detail proposition 2 10 let o c e be a tame sc smooth retract and let x o be a smooth point of o then t rx o is a sc banach space of codimension do x in txo so that dim txo t r x o do x 2 11 in particular cxo is a partial quadrant in the tangent space txo in addition for every point x o we have the equality do x dc x 2 12 proof we assume that o r u is the retract in u c e associated to the tame sc retraction r u u moreover we may assume that c 0 k w e rk w then the condition 2 of definition 2 17 says that for every x o there exists a sc subspace a of e satisfying e im dr x a txo a and a ex where ex ei x therefore ex txo a ex txo ex a ex t rx o a 2 13 since a ex the space ex has codimension dc x in e so that dc x dim e ex dim txo a t rx o a dim txo t r x o 2 14 employing theorem 2 3 we conclude from 2 14 that dc x do x for all x o by definition do x dc x for all x o and hence dc x do x if x o 2 15 consequently dimtxo t rx o do x employing theorem 2 3 once more cxo is a partial quadrant in the tangent space txo 38 2 retracts it remains to prove that do x dc x for all not necessarily smooth points x o if x a w o we take a sequence w j w converging to w in w then the sequence x j o defined by x j r a w j consists of smooth points and converges to x in e since by assumption the retraction r is tame dc x j dc r a w j dc a w j dc a w dc x and using 2 15 we conclude that do x j dc x j dc x by definition of do we find an open neighborhood v o around x such that do y do x for all y v consequently for large j do x lim j do x j dc x in view of do x dc x we conclude do x dc x and the proof of proposition 2 10 is complete among all m polyfolds there is a distinguished class of m polyfolds which are modeled on tame retracts these turn out to have an interesting and useful boundary geometry definition 2 19 a tame m polyfold x is a m polyfold which possesses an equiv alent sc smooth atlas whose charts are all modeled on tame sc smooth retracts by proposition 2 8 the following concepts for any m polyfold are well defined and independent of the choice of the charts definition 2 20 let x be a m polyfold for a smooth point x x the reduced tan gent space t rx x is by definition the sc subspace of the tangent space txx which by definition is the preimage of t ro o under any chart v x o o so that t x t rx x t r o o too eo for a smooth point x x the partial cone cxx is the closed convex subset of txx which under a sc smooth chart as above is mapped onto coo i e t x cxx too co remark 2 4 from proposition 2 10 we conclude if the m polyfold x is tame and if x x is a smooth point that cxx is a partial quadrant in the tangent space txo and we have the identity dx x dim txx t r x x dcxx 0 x where 0 x is the zero vector in txx 2 4 tame m polyfolds 39 we are going to show that the boundary of a tame m polyfold has an additional structure definition 2 21 let x be a tame m polyfold a face f of x is the closure of a connected component in the subset x x d x 1 the m polyfold x is called face structured if every point x x lies in exactly dx x many faces before we study faces in more detail we have a look at the local situation proposition 2 11 assume that e rk w c 0 k w u c is a relatively open subset and r u u is a tame sc smooth retraction suppose u contains a point of the form 0 w then the following holds 1 the set o r u contains a smooth point of the form 0 v 2 for a point 0 v o denote for i 1 k by ui the connected component in u ei containing 0 v then r ui ui 3 for every i 1 k the set o ei contains points y with dc y 1 and these points form an open and dense subset of o ei proof 1 since dc 0 w k we deduce that dc r 0 w k this means r 0 w has the form 0 v replacing w by a nearby smooth point we deduce that o contains a smooth point of the form 0 v 2 since r 0 v 0 v taking a nearby smooth v to v the point r 0 v is smooth and close to 0 v since dc r 0 v dc 0 v k it follows that r 0 v has the form 0 w we also note that 0 v and 0 w belong both to ui hence we may assume without loss of generality that the given 0 v was already smooth by as sumption t 0 v o has an sc complement contained in 0 w this implies that we find smooth vectors of the form e 1 1 0 0 w 1 ek 0 1 wk in t 0 v o it holds dr 0 v ei ei define e i j 6 i ei which takes the form 1 1 1 0 1 1 1 q for a smooth q and 0 occurs at the i th coordinate we note that for small t 0 the point 0 v te i belongs to u ei and we can consider the path t t r 0 v te i we claim that for t 0 and small only the i coordinate of t vanishes we know that for t 0 small dc t dc 0 v te i 1 consequently precisely one of the first k coordinates vanishes we compute 40 2 retracts t 0 v t 0 t 0 dr 0 v e i e i d t e i t 0 dr 0 v e i dr 0 v e i d te i t t where t 0 0 this implies that the vanishing coordinate must be the i th one this discussion shows that given 0 v in o we can connect 0 v to a smooth 0 v via a path of the form 0 vt moreover we have shown that there exists a smooth point a q o with ai 0 and dc a q 1 which moreover belongs to ui given any other point a q ui we can connect it with a q by a continuous path t ui with dc t 1 since dc r t 1 and the i coordinate of 0 vanishes it has to vanish for all t 0 1 this implies by a continuity argument that r ui ui 3 let y o ei we can write y a w where ai 0 moving a w slightly to some b v with v smooth and bi 0 b j 0 for j 6 i we find arbitrarily close to a w an element r b v of the form described note that dc r b v 1 this shows that the desired elements are dense the openness statement is trivial lemma 2 6 let o c e be a sc smooth tame retract and let f be the collection of extended faces associated with the partial quadrant c then the faces f in o are the connected components of the sets f o where f f are extended faces the connected components of f o and f o containing a point x o are equal if and only if f f proof by definition of o the retract o itself is a tame m polyfold we denote by u c e the relatively open subset in the partial quadrant c on which a tame sc smooth retraction satisfies r u o let f be a connected component of the subset x o do x 1 by proposition 2 10 do dc so that this set is the same as a connected component of x o dc x 1 if we look at the isomorphic case e rk w we see immediately that there exists an index i such that f must lie in the subset of c consisting of points a w for which ai 0 we conclude that there exists an extended face f f such that f f therefore f is contained in a connected subset of o f and the closure of f in o lies in o f this shows that a face of o is contained in a connected component of some o f next we consider a connected component q of o f where f is an extended face of c let e q by assumption e f and we can take a suitable vector h f so small that e th u f for t 0 1 and such that for t 0 1 the points e th do not belong to any extended face other than f this follows from proposition 2 11 and can be constructed explicitly using the model e rk w for e since the retraction r is tame we have dc r e th 1 for t 0 1 and for t 0 1 the points r e th belong to the same connected component of x o do x 1 using this argument repeatedly we can connect any two points in q by a continuous path 2 4 tame m polyfolds 41 0 1 q such that the points y 0 1 satisfy dc y 1 this implies that q is contained in the closure of a connected component f in x x do x 1 the discussion so far characterizes the faces of o as the connected components of the sets o f where f is some extended face the assertion that connected components of f o and f o containing a point x o are equal if and only if f f is trivial corollary 2 2 if o c e is a tame sc smooth retract then every point x o lies in precisely do x many faces proof in view of proposition 2 10 do x dc x so that x belongs to precisely d dc x extended faces f f x let us say it belongs to the faces f 1 fd in the sc banach space e rk w defined as the subspaces fi a 1 ak w ai 0 1 i d the point x is represented by x 0 0 ad 1 ak w where a j 6 0 for d 1 j k let r u u be the tame retraction onto o r u then the paths i t in o for 1 i d starting at i 0 x are defined by i t r t t ai 0 t t ad 1 ak w because the retraction r is tame we have dc i t 1 if t 0 and the points i t belong to fi o but not to any other face f j o with j 6 i hence the connected components of the sets o f j containing x for 1 j d are all different of course there cannot be additional components containing x corollary 2 2 implies immediately the following result proposition 2 12 if x is a tame m polyfold then every point x x has an open neighborhood v so that y v lies in precisely dx y many faces of v and dv y dx y for all y v in particular globally a point x x lies in at most dx x many faces the following technical result turns out to be useful later on proposition 2 13 properties of faces let o c e be a tame sc smooth retract associated with the tame sc smooth retraction r u u onto o r u and let f be a face of o then there exists an open neighborhood v of f in u and a sc smooth retraction s v v onto s v f moreover defining v o by v o v the restriction s v v is a sc smooth retraction onto s v f so that f is a sc smooth sub m polyfold of o further f is tame i e it admits a compatible sc smooth atlas consisting of tame local models in addition df x do x 1 for all x f proof we may assume that e rk w and c 0 k w let u c be a relatively open subset of the partial quadrant c and let r u u be a tame sc smooth retraction onto r u o in view of lemma 2 6 we may assume that our 42 2 retracts face f is a connected component of o f 1 where f 1 is the extended face consisting of those points whose first coordinate vanishes consequently for every a w f we find an open neighborhood u a w u in c such that if b v u a w then r 0 b 2 bk v has the first coordinate vanishing taking the union of these neigh borhoods we find an open neighborhood u of f which is contained in u such that for every b v u the point 0 b 2 bk v belongs to u and r 0 b 2 bk v has the first coordinate vanishing and belongs to f hence we can define the sc smooth map s u u by s b v r 0 b 2 bk v which has its image in f so that in view of f u we may assume that s u u it follows that the face f is a sc smooth sub m polyfold of o we know that f is a connected component of f 1 o we find an open neighborhood v of o in f 1 c f 1 so that r v f clearly s r v v v preserves dc f 1 since it preserves dc and dc dc f 1 1 on c f 1 if x f is a smooth point then txf txo is of codimension 1 and hence has a complement p of dimension 1 so that txo txf p we know from definition 2 17 of a tame retract that txo has a sc complement a ex in e hence e txo a txf p a in view of p f 1 0 and txf f 1 txf we deduce f 1 e f 1 txf p a f 1 txf f 1 a noting that f 1 a f 1 ex f 1 the sc smooth retraction s v v onto s v f is tame since the last statement of proposition 2 13 is obvious the proof of proposition 2 13 is complete in order to formulate another result along the same lines we first recall that given any point x in a tame m polyfold x we find an open neighborhood u u x such that u x has precisely dx x many faces containing x the local discussion can be summarized as follows proposition 2 14 given a tame m polyfold x every point x has dx x many local faces containing x the local faces are tame m polyfolds with df x dx x 1 the intersection of local faces f associated to a subset of fx is a tame m polyfold of codimension and df x dx x finally we sum up the discussion about faces in the following theorem 2 4 tame m polyfolds 43 theorem 2 4 the interior of a face f in a tame m polyfold x is a sc smooth sub m polyfold of x if x is face structured then every face f is a sub m polyfold and the induced m polyfold structure is tame the inclusion map i f x satisfies dx i x df x 1 every point x x has an open neighborhood u such that every point y u lies in precisely dx y many faces of u if x is face structured then every point x x lies in precisely dx x many global faces of x later on we shall frequently use the following proposition about degeneracy index in fibered products proposition 2 15 let f x z be a local sc diffeomorphism and g y z a sc smooth map then the fibered product x f gy defined by x f gy x y x y f x g y is a sub m polyfold of x y if y is tame then also x f gy is tame and dx f gy x y dy y if both x and y are tame and both f and g are local sc diffeomorphism then dx f gy x y 1 2 dx y x y 1 2 dx x dy y dx x dy y proof clearly the product x y is an m polyfold and if both x and y are tame then also x y is tame to see that x f gy is a sub m polyfold of x y we take a point x y x f gy and fix open neighborhoods u of x in x and w of f x in z so that f u u w is a sc diffeomorphism next we choose an open neighborhood v of y in z such that g v w we define the map r u v u v by r x y f u 1 g y y it is sc smooth and satisfies r r r and r u v u v x f gy conse quently x f gy is a sub m polyfold of x y next we assume in addition that y is tame with the point x y x f gy and open sets u and v as above we assume that v o c e is a chart around x such that o c e is a tame sc smooth retract then we define a map u v x f gy o by setting x y y the map is injective since given a pair x y x f gy we have x f u 1 g y and hence is homeomorphism onto o so the tuple u v x f gy o c e is a chart on x f gy and any two such charts are sc smooth compatible conse quently x f gy is tame to prove the formula for the degeneracy index we consider 44 2 retracts the projection 2 x f gy x x y y onto the second component in view of the above discussion 2 is a local sc diffeomorphism and consequently preserves the degeneracy index hence dx f gy x y dy y if both f and g are sc diffeomorphisms and x and y are both tame then it follows from the previous case that dx f gy x y dx x so that dx f gy x y dx x dy y finally since x y is tame then dx y x y dx x dy y so that dx y x y dx x dy y 2 dx x 2 dy y 2 dx f gy x y for every x y x f gy the proof of proposition 2 15 is complete 2 5 strong bundles as a preparation for the study of sc fredholm sections in the next chapter we shall introduce in this section the notion of a strong bundle over a m polyfold as usual we shall first describe the new notion in local charts of a strong bundle and consider u c e where u is a relatively open subset of the partial quadrant c in the sc banach space e if f is another sc banach space we define the non symmetric product u f as follows as a set u f is the product u f but it possesses a double filtration m k for 0 k m 1 defined by u f m k um fk we view u f u as a trivial bundle we define for i 0 1 the sc manifolds u f i by their filtrations u f i m um fm i m 0 definition 2 22 a strong bundle map u f u f is a map which pre serves the double filtration and is of the form u h u u h where the map is linear in h in addition for i 0 1 the maps u f i u f i are sc smooth 2 5 strong bundles 45 a strong bundle isomorphism is an invertible strong bundle map whose inverse is also a strong bundle map a strong bundle retraction is a strong bundle map r u f u f satisfying in addition r r r the map r has the form r u h r u u h where r u u is a sc smooth retraction a tame strong bundle retraction is one for which the retraction r is tame the condition r r r of the retraction r requires that r r u r u u h r u u h hence if r u u then u u h u h and the bounded linear operator h 7 u h f f is a projection if r u u is in addition a smooth point then the projection is a sc operator we continue to denote by u c e a relatively open subset of the partial quadrant c in the sc banach space e and let f be another sc banach space definition 2 23 a local strong bundle retract denoted by k c f e f consists of a subset k c f which is the image k r u f of a strong bundle retraction r u f u f of the form r u h r u u h here r u u is a sc smooth retraction onto r u o the local strong bundle retract k c f e f will sometimes be abbreviated by p k o where p is the map induced by the projection onto the first factor if the strong bundle retraction r is tame the local strong bundle retract is called a tame local strong bundle retract the retract k inherits the double filtration km k for m 0 and 0 k m 1 defined by km k k um fk u h um fk r u h u h u h om fk u h h the associated spaces k i defined by k i k 0 i i 0 1 46 2 retracts are equipped with the filtrations k i m km m i for all m 0 the projection maps p k i o are sc smooth for i 0 1 in fact p k i o for i 0 1 is a sc smooth bundle definition 2 24 a section of the local strong bundle retract p k o is a map f o k satisfying p f 1 o the section f is called sc smooth if f is a section of the bundle p k 0 o the section f is called sc smooth if f is a sc smooth section of the bundle p k 1 o a section f o k is of the form f x x f x o f and the map f o f is called principal part of the section we shall usually denote the principal part with the same letter as the section at this point we can introduce the category s br its objects are the local strong bundle retractions k c f e f the morphisms of the category are maps k k between local strong bundle retracts which are linear in the fibers and preserve the double filtrations moreover the induced maps i k i k i are sc smooth for i 0 1 we recall that by definition the map i k i k i between retracts is sc smooth if the composition with the retraction r u f i e f i is sc smooth there are two forgetful functors forget i s br br into the category of br of sc smooth bundle retractions introduced in section 2 1 they are defined by forget i k k i on the objects k of the category and forget i i on the morphisms between the objects we are in a position to introduce the notion of a strong bundle over a m polyfold x we consider a continuous surjective map p y x 2 5 strong bundles 47 from the paracompact hausdorff space y onto the m polyfold x we assume for every x x that the fiber p 1 x yx has the structure of a banachable space definition 2 25 a strong bundle chart for the bundle p y x is a tuple p 1 v k c f e f in which k c f e f is a strong bundle retract say p k o in addition v x is an open subset of x homeomorphic to the retract o by a homeomorphism v o in addition p 1 v k is a homeomorphism from p 1 v y onto the retract k covering the homeomor phism v o so that the diagram p 1 v k p y yp v o commutes the map has the property that in the fibers over x v the map p 1 x p 1 x is a bounded linear isomorphism between banach spaces two strong bundle charts p 1 v k and p 1 v k satisfying v v 6 0 are compatible if the transition maps 1 i p 1 v v i p 1 v v i are sc smooth diffeomorphisms for i 0 1 as usual one now proceeds to define a strong bundle atlas consisting of compatible strong bundle charts covering y and the equivalence between two such atlases definition 2 26 the continuous surjection p y x from the paracompact hausdorff space y onto the m polyfold x equipped with an equivalence class of strong bundle atlases is called a strong bundle over the m polyfold x induced by the strong bundle charts the m polyfold y is equipped with a natural double filtration into subsets ym k m 0 and 0 k m 1 therefore we can distinguish the underlying m polyfolds y i for i 0 1 with the filtrations y i m ym m i m 0 the projections 48 2 retracts p i y i x are sc smooth maps between m polyfolds correspondingly we distinguish two types of sections of the strong bundle p y x definition 2 27 a section of the strong bundle p y x is a map f x y sat isfying p f 1 x the section f is called a sc smooth section if f is an sc smooth section of the bundle p 0 y 0 x the section f is called a sc section of p y x if f is an sc smooth section of the bundle p 1 y 1 x if we say f is an sc section of p y x we mean that it is an sc smooth section of y 0 x an sc section or sc smooth section of p y x is an sc smooth section of y 1 x definition 2 28 pull back bundle let p y x be a strong bundle over the m polyfold x and let f z x be an sc smooth map from the m polyfold z into x the pull back bundle of f pf f y z is defined by the set f y z y z y p y f z and the projection pf z y z so that with the projection p f y y defined by p z y y the diagram f y p y pf y yp z f x commutes as already shown in 36 proposition 4 11 the strong bundle structure of p y x induces a natural strong bundle structure of the pull back bundle pf proposition 2 16 the pull back bundle pf f y z carries a natural structure of a strong m polyfold bundle over the m polyfold z the easy proof is left to the reader 2 6 appendix 49 2 6 appendix 2 6 1 proof of proposition 2 1 let us recall the statement proposition let r u u be a c retraction defined on an open subset u of a ba nach space e then o r u is a c submanifold of e more precisely for every point x o there exist an open neighborhood v of x and an open neighborhood w of 0 in e a splitting e r n and a smooth diffeomorphism v w satisfying 0 x and o v r w proof the c retraction r satisfies r r r and hence by the chain rule dr r x dr x dr x for every x u therefore if r x x dr x dr x dr x 2 16 and hence the bounded linear operator dr x l e e is a projection at every point x o now we take a point x o r u and for simplicity assume that x 0 in view of 2 16 the banach space e splits into e r n where r range dr 0 ker 1 dr 0 n ker dr 0 range 1 dr 0 according to the splitting e r n we use the equivalent norm a b max a b by b we denote an open ball of radius with respect to the norm centered at the origin now we introduce the map f r n u e defined by f a b r a 1 dr a b at a b 0 0 we have f 0 0 r 0 0 and d f 0 0 h k h k for all h k r n consequently in view of the inverse function theorem f is a local c diffeomorphism and we assume without loss of generality that f is a diffeomorphism on u 50 2 retracts we claim that there exists a positive number such that if f a b o r u for a b b then b 0 the proposition then follows by setting w b v f w and defining the map w v by f w 1 it remains to prove the claim that b 0 since r is smooth we find a constant 0 such that b 2 u and dr x dr 0 1 3 for all x 2 17 moreover since r 0 0 there exists a constant 0 34 such that r x for all x 2 18 if x b then for h r r x h r r x dr r x h o h r x dr r x h o h 2 19 where o h is an e valued map satisfying o h h 0 as h 0 taking a smaller we may assume that o h h 2 for all h 2 20 let x a b b and f a b o this means that r r a 1 dr a b r a 1 dr a b 2 21 by 2 17 and the fact that dr 0 b 0 for b n the norm of 1 dr a b for a can be estimated as b dr a b b dr a dr 0 b 4 3 b 2 22 inserting x a and h 1 dr a b into 2 19 and using the identity 2 21 we obtain dr r a h h o h 2 23 the left hand side is equal to dr r a h dr r a b dr r a dr a b dr r a b dr a b and the right hand side is equal to h o h b dr a b o h so that 2 23 takes the form dr r a b b o h 2 24 arguing by contradiction we assume that b 6 0 since r a the norm of the left hand side is in view of 2 17 bounded from above by dr r a b dr r a b dr 0 b 1 3 b 2 25 2 6 appendix 51 on the other hand using 2 20 and 2 22 we estimate the norm of the right hand side of 2 24 from below as b o h b 1 2 h b 2 3 b 1 3 b 2 26 consequently 13 b 1 3 b which is absurd therefore b 0 and the proof is com plete 2 6 2 proof of theorem 2 2 we recall the statement of the result which we would like to prove theorem let x be a m polyfold for every m 0 the space xm is metrizable and in particular paracompact in addition the space x is metrizable we make use of the following theorem of metrizability due to yu m smirnov 65 theorem 2 5 yu m smirnov let x be a space that is paracompact hausdorff and assume that every point has an open neighborhood in x that is metrizable then x is metrizable recall that a regular topological space is one where a closed subset a and a point p 6 a can be separated by suitable open neighborhoods u and v of a and p respectively i e u v 0 moreover a regular hausdorff space is what is called sometimes a t 3 space we also note that in 55 the definition of paracompactness includes the property of being hausdorff for us paracompactness just means that for every open covering there exists a locally finite subcovering with these conventions the following quoted result is an obvious reformulation lemma 2 7 55 lemma 1 a regular hausdorff space x is paracompact if and only if every open cover of x has a locally finite refinement consisting of closed sets we shall use the above lemma in the proof of the following result proposition 2 17 let y be a regular hausdorff space and let yi i i be a locally finite family of closed subspaces of y so that y i i yi if every subspace yi is paracompact then y is paracompact proof given an open cover u u j j j of y it is in view of lemma 2 7 enough to show that there exists a closed locally finite refinement c c j j j of u in 52 2 retracts order to prove this we consider for every i the cover yi yi u j j j of yi consist ing of open sets in yi since yi is paracompact lemma 2 7 implies that there exists a closed locally finite refinement cij j j of yi the sets c i j are closed in y and by definition of refinement satisfy cij yi u j and j j cij yi 2 27 now for every j j we define the set c j i i cij and claim that the family c c j j j is a closed locally finite refinement of u we start with showing that c j is closed let x x c j i i x cij since yi i i is locally finite we find an open neighborhood v x of x in y which intersects yi for at most finitely many indices i say for i belonging to the finite subset i i if i 6 i then by 2 27 v x y yi y cij so that v x i 6 i y yi then the set u x v x l i y cij is an open neighborhood of x in y contained in y c j this shows that c j is closed as claimed that c is a cover of x and a refinement of u follows from 2 27 j j c j j j i i cij i i j j cij i i yi x and vj i i cij i i yi u j u j it remains to show that c is locally finite local finiteness of yi i i implies that a given point x y belongs to finitely many yi s say x yi if and only if i belongs to the finite subset i i moreover there exists an open neighborhood v x of x in y intersecting at most finitely many yi s since y is regular we can replace v x by a smaller open set intersecting only those yi s whose indices i belong to i also cij j j is a locally finite family in yi so that there exists an open neighborhood vi x of x in yi intersecting cij for at most finitely many indices j which belong to the finite subset ji j each vi x is of the form vi x ui x yi for some open neighborhood ui x of x in y then u x v x i i ui x is an open neigh borhood of x in y intersecting yi only for i i and the set u x yi intersects cij only for j ji this implies that u x can have a nonempty intersection with c j only for j i i ji hence the family c c j j j is locally finite and the proof is complete now we are ready to prove the theorem 2 6 appendix 53 proof theorem 2 2 we start with m 0 and take an atlas u j j o j c j e j j j since j u j o j is a homeomorphism and o j is a metric space u j is metrizable hence x is locally metrizable since by assumption x is hausdorff and paracom pact the smirnov metrizability theorem implies that x is metrizable in order to prove that xm is metrizable for m 1 we fix m 1 and consider the topological space xm since by assumption x is hausdorff given two distinct points x and x in xm there exist two disjoint open neighborhoods u and u of x and x in x hence the sets um and u m are disjoint open neighborhoods of x and x in xm so that also xm is a hausdorff space moreover the maps um o j m are homeomorphisms and since o jm is a metric space u j m are metrizable so xm is locally metrizable to prove that xm is metrizable it suffices to show that in view of the smirnov metrizability theorem xm is paracompact using the paracompactness of x and lemma 2 7 we find a closed locally finite refinement c c j j j in particular c j u j so that c j m u j m since u j m is metrizable it is also paracompact so that c jm is paracompact as a closed subspace of u j m hence cm c j m j j is a locally finite family of closed subsets of xm and each c j m is paracompact thus by proposition 2 17 the space xm is paracompact and since it is hausdorff and locally metrizable it is metrizable finally choosing a metric dm defining the topology on xm we set d x y m 0 1 2 m dm x y 1 dm x y the metric d defines the topology on x 2 6 3 proof of proposition 2 5 we recall the statement of the proposition proposition the following holds 1 the collection b defines a basis for a hausdorff topology on t x 2 the projection p t x x 1 is a continuous and an open map 3 with the topology defined by b the tangent space t x of the m polyfold x is metrizable and hence in particular paracompact proof 1 in order to prove that b defines a basis for a topology on t x we take two sets w 1 and w 2 in b and assume that x v o c e h w 1 w 2 we claim that there exists a set w b satisfying w w 1 w 2 by definition 54 2 retracts w i t i 1 wi where i vi oi ci ei is a chart and wi is an open subset of toi containing xi i vi oi ci ei hi for i 1 2 this means that xi x and hi t i 1 x h for i 1 2 2 28 and moreover i xi hi i x hi wi we define w i t i 1 x 1 wi and observe that the wi s are open subsets of toi by 2 28 x h w 1 w 2 and if w w 1 w 2 and w t 1 w then x v o c e h w w 1 w 2 consequently b defines a topology on t x to prove that this topology is haus dorff we take two distinct elements x v o c e h and x v o c e h in the tangent space t x since 6 either x 6 x or if x x then h 6 t 1 x h in the first case x 6 x we may replace v and v by smaller open neighborhoods of x and x so that v v 0 and then replace o c e resp o c e by the retracts v c e resp v c e if w resp w is an open neighborhood of x h resp x h in to resp to then w t 1 w resp w t 1 w is an open neighborhood of resp in t x and w w 0 in the second case x x and h 6 t 1 x h we choose an open neighborhood w of x h in to and an open neighborhood w of x h in to so that w t 1 w 0 then w t 1 w and w t 1 w moreover both sets are open and their intersection is empty consequently the topology defined by b is hausdorff 2 we start by proving that p t x x 1 is an open map it suffices to show that p w is open in x 1 for every element w b let v o c e be a chart on x and let t tv to be the associated map defined above and introduce w t 1 w for the open subset w of to we denote by to o 1 the projection onto the first factor this map is continuous and open moreover p w 1 t w since by construction the map t tv to is open and v o is a home omorphism the composition on the right hand side is an open subset of x 1 hence p w is open in x 1 as claimed 2 6 appendix 55 to show that the projection map p t x x 1 is continuous it suffices to show that given a chart v o c e on x and an open subset u of x 1 satisfying u v 1 the preimage p 1 u is open for such a chart and open set u we have p 1 u t 1 u e to since u e to is open in to the set on the left hand side belongs to b hence the set p 1 u is open and the projection p is continuous as claimed 3 we start with an atlas v v j j o j c j e j j j such that the family v v j j j of domains is an open locally finite cover of x the associated maps t j tv j to j are homeomorphisms and since to j is metrizable the same holds for the open sets tv j hence t x is locally metrizable to show that t x is metrizable it remains to show that t x is paracompact by theorem 2 7 there exists a closed locally finite refinement c c j j j of v so that c 1 c j 1 j j is a closed locally finite refinement of v 1 v j 1 j j the sets k j to c j 1 x c j 1 txo are closed in to so that the sets k j t j 1 k j are closed subsets of tv in particular each k j is paracompact as a closed subset of metrizable space also the family k j j j is locally finite indeed let x v o c e h t x then there exists an open neighborhood u x of x in x 1 intersecting at most finitely many c j 1 s say with indices j belonging to a finite subset j j moreover since x 1 is regular u x can be taken so small that also x c j 1 for j j then setting w x to u x y u x tyo the set w x is an open subset of to and w x t 1 w x intersects only those k j whose indices j belong to j now applying proposition 2 17 we conclude that the tangent space t x is paracompact and hence metrizable in view of the smirnov metrizability theorem this finishes the proof of the proposition chapter 3 basic sc fredholm theory in this chapter we start with the fredholm theory in the sc framework since sc maps are more flabby than c maps we do not have an implicit function theorem for all sc smooth maps however for a restricted class which occurs in the applications of the theory such a theorem is available 3 1 sc fredholm sections and some of the main results the section is devoted to the basic notions and the description of the results leading to implicit function theorems our overall goal is the notion of a sc fredholm section of a strong bundle p y x as defined in definition 2 26 sometimes we need to require that the underlying m polyfold x is a tame m polyfold as defined in definition 2 19 in order to have good versions of the implicit function theorem near the boundary the section will end with some useful implicit function theorems the more sophisticated perturbation and transversality results are described in a later section we start by introducing various types of germs in the sc context as usual we denote by e be a sc banach space and by c e a partial quadrant of e the sc banach space e is equipped with the filtration e 0 e e 1 e m 0 em definition 3 1 a sc germ of neighborhoods around 0 c denoted by o c 0 is a decreasing sequence u 0 u 1 u 2 where um is a relatively open neighborhoods of 0 in c em 57 58 3 basic sc fredholm theory the tangent of o c 0 denoted by to c 0 is the decreasing sequence u 1 e 0 u 2 e 1 a special example of a sc germ of neighborhoods around 0 c e is a relatively open neighborhood u of c containing 0 which is equipped with the induced sc structure defined by the filtration um u em m 0 if e is infinite dimensional the sets um is this example are not bounded in em since the inclusions em e 0 are compact operators another example is the decreasing sequence um u bem 1 m 0 where bem 1 m 0 is the open ball in em centered at 0 and radius 1 m presents a sc germ of neighborhoods here the sets um are bounded in em for m 0 we point out that the size of the sets um in definition 3 1 does not matter in the applications the size of um quite often decreases rapidly definition 3 2 a sc 000 germ f o c 0 f into the sc banach space f is a con tinuous map f u 0 f such that f um fm and f um fm is continuous a sc 111 germ f o c 0 f is a sc 0 germ which is of class sc 1 in the sense that there exists for every x u 1 a bounded linear operator d f x l e 0 f 0 such that for h u 1 with x h u 1 lim h 1 0 f x h f x d f x h 0 h 1 0 moreover t f u 1 e 0 t f defined by t f x h f x d f x h satisfies t f um 1 em fm 1 fm and t f to c 0 t f is a sc 0 germ we say f is a sc 2 germ provided t f is sc 1 etc if the germ f is a sck germ for every k we call it a sc smooth germ if we write f o o 0 f 0 we indicate that f 0 0 we shall be mostly interested in sc germs f o c 0 f from definition 2 25 we recall the strong bundle chart p 1 v k u f of a strong bundle p y x over the m polyfold x illustrated by the commutative diagram p 1 v k p y yp v o in the diagram v x is an open set and the maps and are homeomorphisms moreover k r u f is the image of the strong bundle retraction r and o r u 3 1 sc fredholm sections 59 is the image of the sc smooth retraction r u u of the relatively open set u of the the partial quadrant c in the sc banach space e definition 3 3 a sc smooth section germ f x 0 of the strong bundle p y x is a continuous section f v p 1 v defined on a sufficiently small open neigh borhood v of the smooth point x 0 for which the following holds there exists a strong bundle chart p 1 v k c f e f satisfying x 0 0 o in which the principal part f ff of the local continuous section f f 1 o k has the property that the composition f ff r o c 0 f is a sc smooth germ as defined in definition 3 2 to recall the section f o k u f as continuous section is of the form f p p f ff p for p o and f ff o f is called its principal part the smoothness properties are concerned with the point x 0 and encapsulated in the behavior of f ff r defined on a sc germ of neighborhoods by abuse of the notation we shall often use the same letter for the principal part as for the section in the next step we introduce the useful notion of a filling of a sc smooth section germ f 0 of a strong local bundle k o near the given smooth point 0 the notion of a filling is a new concept specific to the world of retracts in all known applications it deals successfully with bubbling off phenomena and similar singular phenomena definition 3 4 filling we consider a strong local bundle k o we recall that k r u f where u c e is a relatively open neighborhood of 0 in the partial quadrant c of the sc banach space e and f is a sc banach space moreover r is a strong bundle retraction of the form r u h r u u h covering the tame retraction r u u onto o r u and u f f is a bounded linear operator we assume that r 0 0 a sc smooth section germ f 0 of the bundle k o possesses a filling if there exists a sc smooth section germ g 0 of the bundle u f u extending f and having the following properties 1 f x g x for x o close to 0 2 if g y r y g y for a point y u near 0 then y o 3 the linearization of the map y 7 1 r y g y at the point 0 restricted to ker dr 0 defines a topological linear isomorphism ker dr 0 ker 0 60 3 basic sc fredholm theory the crucial property of a filler is the fact that the solution sets y o f y 0 and y u g y 0 coincide near y 0 indeed if y u is a solution of the filled section g so that g y 0 then it follows from 2 that y o and from 1 that f y 0 the section g is however much easier to analyze than the section f whose domain of definition has a rather complicated structure it turns out that in the applications these extensions g are surprisingly easy to detect in the gromov witten theory and the sft they seem almost canonical the condition 3 plays a role in the comparison of the linearizations d f 0 and dg 0 assuming that f 0 0 g 0 as we are going to explain next it follows from the definition of a retract that r y r y r y hence since y 0 o we have r 0 0 and 0 0 0 so that 0 is a linear sc projection in f and we obtain the sc splitting f 0 f 1 0 f similarly it follows from r r y r y for y u that dr 0 dr 0 dr 0 so that dr 0 is a linear sc projection in e which gives rise to the sc splitting e dr 0 e 1 dr 0 e we recall that the linearization t f 0 of the section f o k at y 0 r 0 is defined as the restriction of the derivative d f r 0 of the map f r u f to t 0 o from r y f r y f r y for y u close to 0 we obtain using f 0 0 by linearization at y 0 the relation 0 t f 0 t f 0 from g r y f r y for y u near 0 we deduce t g 0 t f 0 on t 0 o from the identity 1 r y g r y 0 for y u near 0 we deduce using g 0 0 the relation 1 0 dg 0 dr 0 0 hence the matrix representation of dg 0 e f with respect to the above splittings of e and f looks as follows dg 0 t f 0 0 dg 0 1 dr 0 0 1 0 dg 0 1 dr 0 in view of property 3 the linear map 7 1 0 dg 0 1 dr 0 from 1 dr 0 e to 1 d 0 f is an isomorphism of banach spaces therefore kernel dg 0 kernel t f 0 0 moreover the filler has the following additional properties proposition 3 1 filler assume f has the filling g and f 0 0 1 the operator t f 0 dr 0 e 0 f is surjective if and only if the operator dg 0 e f is surjective 3 1 sc fredholm sections 61 2 t f 0 is a fredholm operator in the classical sense if and only if dg 0 is a fredholm operator and indt f 0 inddg 0 proof 2 to simplify the notation we abbreviate the above matrix representing dg 0 by dg 0 a b 0 c and abbreviate the above splittings by e e 0 e 1 and f f 0 f 1 the operators in the matrix are bounded between corresponding banach spaces and c e 1 f 1 is an isomorphism of banach spaces therefore if b 0 the operator a d f 0 e 0 f 0 is fredholm if and only if the operator a 0 0 c e f is fredholm in which case their indices agree the statement 2 now follows from the composition formula 1 bc 1 0 1 a 0 0 c a b 0 c since the first factor is an isomorphism from f to f and hence has index equal to 0 and the fredholm indices of a composition are additive 1 the statement 1 is an immediate consequence of our assumption that c is an isomorphism to sum up the role of a filler instead of studying the solution set of the section f o k we can as well study the solution set of the filled section g u u f which is defined on the relatively open set u of the partial quadrant c in the sc space e and which therefore is easier to analyze definition 3 5 filled version if f is a sc smooth section of the strong bundle p y x and x 0 x a smooth point we say that the section germ f x 0 has a filling if there exists a strong bundle chart as defined in definition 2 25 1 v k covering v x 0 7 o 0 where k o is a strong local bundle with 0 o u such that the section germ f 1 o k u f has a filling g u u f near 0 we shall refer to the section germ g 0 as a filled version of f x 0 the next concept is that of a basic germ definition 3 6 basic germ let w be a sc banach space and c 0 k rn k w a partial quadrant then a basic germ is a sc smooth germ 62 3 basic sc fredholm theory f o c 0 rn w satisfying f 0 0 and having the following property if p rn w w denotes the projection the germ p f o c 0 w 0 has the form p f a w w b a w for a w 0 k rn k w where b 0 0 0 moreover for every 0 and every integer m 0 the estimate b a w b a w m w w m holds if a w and a w are close enough to 0 0 on level m remark 3 1 the notion of basic class was introduced in 37 where however we did not require f 0 0 instead we required that p f f 0 has a form as described in definition 3 7 the later developments convinced us that it is more convenient to require that f 0 0 lemma 3 1 let b 0 k rn k w w be a sc smooth germ around 0 satis fying the properties described in definition 3 6 then for every 0 and m 0 d 2 b a w m m 3 1 for all wm if a w em 1 is close enough to 0 0 in em in particular d 2 b 0 0 0 proof since wm 1 wm is dense it is sufficient to verify the estimate for wm 1 satisfying m 1 1 for such a we know from the definition of the linearization recalling proposition 1 6 that b a w b a w t d 2 b a w t o t where w t c o t t m 0 as t 0 therefore d 2 b a w m 1 t d 2 b a w t m 1 t b a w b a w t m 1 t o t m the first term on the right hand side is estimated by m if a w and a w t are sufficiently small in em therefore the estimate 3 1 follows as t 0 we will see that basic germs have special properties as already the following appli cation of lemma 3 1 demonstrates proposition 3 2 let f 0 k rn k w e rn w be a sc smooth germ around 0 of the form f h s where h is a basic germ and s a sc germ then 3 1 sc fredholm sections 63 d f 0 rn w rn w is a sc fredholm operator and its index is equal to indd f 0 n n moreover for every m 0 d f a w rn wm rn wm is a fredholm operator having index n n if a w em 1 is sufficiently small in em proof with the sc projection p rn w w the linearization of f at the smooth point 0 d f 0 p d f 0 1 p d f 0 is explicitly given by the formula d f 0 a w w d 2 b 0 w d 1 b 0 a 1 p d f 0 a w ds 0 a w by lemma 3 1 d 2 b 0 0 therefore the operator d f 0 is a sc perturbation of the operator rn w rn w a w 7 0 w 3 2 the operator 3 2 is a sc fredholm operator whose kernel is equal to rn and whose cokernel is rn so that its fredholm index is equal to n n since d f 0 is a sc perturbation of a sc fredholm operator it is also a sc fredholm operator by propo sition 1 4 because sc operators are compact if considered on the same level the fredholm index is unchanged and so indd f 0 n n the second statement follows from the fact that the linear operator d f a w rn wm rn wm is a compact perturbation of the operator a w 7 0 1 d 2 b a w w 3 3 choosing 0 1 in lemma 3 1 the operator 1 d 2 b a w wm wm is an isomorphism of banach spaces if a w em 1 is sufficiently small in em hence the operator 3 3 is a fredholm operator of index n n and the proposition follows finally we are in a position to introduce the sc fredholm germs definition 3 7 sc fredholm germ let f be a sc smooth section of the strong bundle p y x over the m polyfold x and let x 0 x be a smooth point then f x 0 is a sc fredholm germ provided it possesses a filled version 64 3 basic sc fredholm theory g 0 o u 0 u f according to definition 3 5 and having the following property there exists a lo cal sc section s u u f satisfying s 0 g 0 such that the germ g s 0 o u 0 u f 0 is conjugated to a basic germ the last condition re quires the existence of a strong bundle isomorphism defined near 0 u covering the sc diffeomorphism such that the push forward section g s 1 o u 0 u f 0 0 is a basic germ near 0 from proposition 3 2 we deduce that the linearization d g s 0 at the point 0 is a sc fredholm operator consequently dg 0 is a sc fredholm operator by propo sition 1 4 and so the tangent map t f x 0 tx 0 x yf x 0 y is a linear sc fredholm operator having the same index as dg 0 namely indt f x 0 n n in view of the properties of a filler in proposition 3 1 remark 3 2 the above definition of a sc fredholm germ looks complicated one first has to find a filled version which then after some correction by a sc section is conjugated to a basic germ it turns out that the definition of a sc fredholm germ is extremely practicable in the applications we have in mind by experience one may say that the fillings which are usually only needed near data describing bubbling off situations seem almost natural i e if one sees one example one has seen them all examples of fillings in the gromov witten sft and floer theory can be found in 43 14 the subtraction of a suitable sc section is in applications essentially the removing of lower order terms of a nonlinear differential operator and therefore al lows simplifications of the expressions before one tries to conjugate them to a basic germ one also has to keep in mind that the sc fredholm theory is designed to cope with spaces whose tangent spaces have locally varying dimensions on which on the analytical side one studies systems of partial differential equations on varying domains into varying codomains later on we shall give criteria which in practice are easy to check to verify that a section is conjugated to a basic germ in 14 a pre fredholm theory has been developed which allows to build complicated sc fredholm sections from simpler pieces sc fredholm germs possess a useful local compactness property theorem 3 1 local compactness for sc fredholm germs let f be a sc smooth section of the strong bundle p y x and x 0 x a smooth point we assume that f x 0 is a sc fredholm germ satisfying f x 0 0 then there exist a nested sequence of open neighborhood o i of x 0 in x 0 for i 0 o 0 o 1 o i o i 1 such that for every i the x 0 closure clx 0 x o i f x 0 is a compact subset of xi 3 1 sc fredholm sections 65 remark 3 3 we emphasize that the o i are open neighborhoods in x i e on level 0 theorem 3 1 is an immediate consequence of theorem 3 11 which will be intro duced later and has the following corollary corollary 3 1 let f be a sc smooth section of the strong bundle p y x and x 0 x a smooth point we assume that f x 0 is a sc fredholm germ satisfying f x 0 0 if xk x is a sequence satisfying f xk 0 and xk x in x 0 then it follows for every given any m 0 that xk xm for k large and xk x in xm next we give the basic definition of an sc fredholm section definition 3 8 sc fredholm section a section f of the strong bundle p y x over the m polyfod x is called sc fredholm section if it has the following three properties 1 f is sc smooth 2 f is regularizing i e if x xm and f x ym m 1 then x xm 1 3 the germ f x is a sc fredholm germ at every smooth point x x remark 3 4 the implicit function theorem introduced later on is applicable to sc fredholm sections and will lead to the following local result near a smooth in terior point x 0 x i e dx x 0 0 assuming that f x 0 0 the linearization f x 0 tx 0 x yx 0 is a sc fredholm operator moreover if f x 0 is surjective then the solution set x x f x 0 near x 0 has the structure of a finite dimensional smooth manifold in the classical sense whose dimension agrees with the fredholm index its smooth structure is in a canonical way induced from the m polyfold struc ture of x in case that x is a boundary point so that dx x 1 we can only expect the solution set to be reasonable provided the kernel of f x lies in good position to the boundary of x and the boundary x is sufficiently well behaved in order that x is regular enough we shall require that x is a tame m polyfold so that we can ask ker f x to be in good position to the partial quadrant cxx in txx a notion which we shall introduce later on if p y x is a strong bundle we denote by p the vector space of sc smooth sections by fred p we denote the subset of p consisting of sc fredholm sec tions finally by p we denote the vector space of sc sections as introduced in definition 2 27 the following stability property of a sc fredholm section will be crucial for the transversality theory theorem 3 2 stability under sc perturbations let p y x be a strong bun dle over the m polyfold x if f fred p and s p then f s fred p 66 3 basic sc fredholm theory in order to prove the theorem we need two lemmata for local strong bundles we recall the local strong bundle retract k c f e f from definition 2 23 consisting of the retract k r u f where r u f u f is a strong bundle retraction of the form r u h r u u h in which r u u is a smooth retraction onto o r u u we shall denote the principal parts of the sections of the bundles u f u and k o by bold letters lemma 3 2 a sc section s o k as defined in definition 2 24 possesses an extension to a sc section s u u f s u u s ss u having the following properties 1 s u s u if u o 2 r r u s ss u s r u if u u proof if s o k is given by s u u sss u u o we define the section s u u f by s u u s ss u u sss r u u u clearly s is a sc section of the bundle u f u and we claim that its restric tion to o agrees with the section s indeed if u o then r u u implying s u s r u r u sss r r u r u sss r u u sss u s u as claimed moreover using that s u r s u if u o r r u s ss u r r u sss r u r s r u s r u for u u lemma 3 3 let f o k be a sc smooth section of the previous local strong bundle retract and let s o k be a sc section if f possesses the filler g u u f then f s has the filler g s u u f where s is the extension of s constructed in the previous lemma proof we have to verify that the section g s meets the three conditions in defini tion 3 4 the properties 1 and 2 for g s follow immediately from the properties 1 and 2 for the filler g and the properties 1 and 2 for the section s in lemma 3 2 in order to verify property 3 of a filler we have to linearize the map u 7 1 r u g u s u at the point u 0 since 1 r u s u 1 r u s r u 0 by property 2 of lemma 3 2 the linearization agrees with the linearization of the map 1 r u g u which satisfies the required property 3 since g is a filler the proof of lemma 3 3 is finished proof theorem 3 2 let f be a sc fredholm section of the strong bundle p y x and let s x y be a sc section of p then f s is a sc smooth section which is 3 1 sc fredholm sections 67 also regularizing it remains to verify that f s x is a sc fredholm germ for every smooth point x x by definition of being sc fredholm f x is a sc fredholm germ at the smooth point x therefore there exists an open neighborhood v of x and a strong bundle chart v p 1 v k c f e f as defined in definition 2 25 and satisfying x 0 o such that the local representation f f f 1 o k of the section f possesses a filled version g u u f around 0 which after subtraction of a suitable sc section is conjugated to a basic germ around 0 define t s then t o k is a sc section by lemma 3 2 there is a particular sc section t u u f extending t by lemma 3 3 the section g t u u f is a filling of f t in view of the sc fredholm germ property there exists a sc section t satisfying t 0 g 0 and such that g t is conjugated to a basic germ now taking the sc section t t u u f we have g t 0 t t 0 moreover g t t t g t which as we already know is conjugated to a basic germ to sum up we have verified that f s x is a sc fredholm germ this holds true for every smooth point x x consequently the section f s is a fredholm section and the proof of theorem 3 2 is complete in order to formulate a parametrized version of proposition 3 2 we assume that p y x is a strong bundle and f a sc fredholm section the sc smooth projection rn x x r x 7 x pulls back the bundle p to the strong bundle p y rn x the section f of p defined by f r x r x f x is a sc fredholm section as is readily verified if s 1 sn are sc sections of p then s r x r x ni 1 ri si x is a sc section of the pull back bundle p and by the stability theorem 3 2 the section r x 7 f r x s r x is a sc fredholm section of p hence we have proved the following stability result theorem 3 3 parameterized perturbations let p y x be a strong bundle and f a sc fredholm section if s 1 sn p then the map rn x y r x 7 f x n i 1 ri si x defines a sc fredholm section of the bundle p y rn x this theorem and refined versions of the theorem play a role in the perturbation and transversality theory as already pointed out the distinguished class of sc fredholm sections allows to apply an implicit function theorem in the usual sense we first formulate the implicit function theorem at an interior point 68 3 basic sc fredholm theory theorem 3 4 implicit function theorem assume that p y x is a strong bundle over the m polyfold x satisfying dx 0 and f a sc fredholm section sup pose that x 0 x is a smooth point in x such that f x 0 0 then the linearization f x 0 tx 0 x yx 0 is a sc fredholm operator if f x 0 surjective then there ex ists an open neighborhood u of x 0 x such that the solution set s f u x u f x 0 in u has in a natural way the structure of a smooth finite dimensional manifold whose dimension agrees with the fredholm index in addition u can be chosen in such a way that the linearization f y tyx yy for y s f u is sur jective and ker f y tys f u is the tangent space theorem 3 4 is an immediate consequence of theorem 3 13 in section 3 6 as we shall see the smooth manifold structure on s f u is induced from the m polyfold structure of x remark 3 5 we should point out that in the original proof of theorem 3 13 in 37 theorem 4 6 and proposition 4 7 the sc fredholm section is defined slightly differ ently namely as follows in 37 a sc smooth section f of the strong bundle y x is called sc fredholm if it possesses around all smooth points of x a filled version g 0 such that g g 0 near 0 is conjugated to a basic germ it is in this case not true that f s is sc fredholm for sc section s however by a nontrivial theorem in 37 theorem 3 9 increasing the level the section f s 1 of the the strong bundle y 1 x 1 is sc fredholm although not harmful in practice this looks unsatisfactory this is why we have introduced the new definition definition 3 7 of sc fredholm where we require for the filled version g 0 that there exists a local sc section s u u f such that s 0 g 0 and g s is locally conjugated to a basic germ if now t is a sc section then the section f t of the bundle y x is automatically sc fredholm in view of theorem 3 2 the difficulty of the nontrivial theorem is now hidden in the proof of the implicit function theorem which has to incorporate the arguments of the nontrivial theorem with the new definition even if we want to study f only we have only normal forms for the perturbed expression which might be unrelated to our problem however writing f f s s we know how f s looks like and we know that s is a compact perturbation of f s we combine these facts to gain sufficient information about f 1 to determine in view the regularizing property of sc fredholm sections the solution set of f next we discuss some consequences of theorem 3 4 considering a sc fredholm section f of the strong bundle y x over the m polyfold x having no boundary i e dx 0 we assume in addition that the m polyfold x admits a sc smooth partition of unity then there exists for two given smooth points x x and e yx a sc section s supported near x and satisfying s x e for the easy proof we refer to 37 as we shall see later it suffices to assume the existence of sc smooth bump functions instead of sc smooth partitions of unity if f x 0 0 and f x 0 is not surjective we find finitely many smooth elements e 1 ek yx 0 satisfying 3 1 sc fredholm sections 69 r f x 0 re 1 rek yx 0 taking sc sections si satisfying si x 0 ei we define the map f rk x y by f r x f x k i 1 risi x the linearization of f at the distinguished point 0 x 0 rk x is the continuous linear map f 0 x 0 h u f x 0 u k i 1 hiei which is surjective by theorem 3 3 and theorem 3 13 we find an open neigh borhood u of 0 x 0 rk x such that the solution set of s f u r x u f x ki 1 ri si x 0 is a smooth finite dimensional manifold the trivial bundle s f u rk s f u has the canonical section r y 7 r the zero set of this section is precisely the unperturbed solution set of f y 0 for y u if the solution set of f y 0 y x is compact we can carry out the previous construc tion globally which gives rise to global finite dimensional reduction this will be discussed later on in order to formulate the boundary version of the implicit function theorem we start with some preparation definition 3 9 in good position let c e be a partial quadrant in the sc banach space e and n e be a finite dimensional sc subspace of e the subspace n is in good position to the partial quadrant c if the interior of n c in n is non empty and if n possesses a sc complement p so that e n p having the following property there exists 0 such that for pairs n p n p satisfying p 0 n 0 the statements n c and n p c are equivalent we call such a sc complement p a good complement the choice of the right complement p is important one cannot take a random sc complement of n in general as lemma 3 17 demonstrates in view of proposition 1 1 the finite dimensional subspace n in definition 3 9 pos sessing the sc complement p is necessarily a smooth subspace a finite dimensional subspace n which is not necessarily smooth is called in good position to the partial quadrant c in the sc banach space e if there exists a merely topological comple ment p in e satisfying the requirements of definition 3 9 for some 0 the following result is taken from 37 proposition 6 1 its proof is reproduced in appendix 3 8 1 proposition 3 3 if n is a finite dimensional sc subspace in good position to the partial quadrant c in e then n c is a partial quadrant in n 70 3 basic sc fredholm theory c np c n p n c 0 a b fig 3 1 in figure a n is in good position to c while in figure b n is not in good position to c the boundary version of the implicit function theorem is formulated in the next theorem the proof is again given later theorem 3 5 implicit function theorem boundary case we assume that p y x is a strong bundle over the tame m polyfold x and f is a sc fredholm section suppose that x x satisfies f x 0 and the following two properties a the linearisation f x txx yx is surjective b the kernel n of f x is in good position to the boundary of x i e n is in good position to the partial quadrant cxx in the tangent space txx then there exists an open neighborhood u of x such that the following holds 1 the local solution set s f u y u f y 0 which consists of smooth points is a tame sub m polyfold of x 2 the tame sub m polyfold s f u admits a uniquely determined sc smooth equiv alent structure as a smooth manifold with boundary with corners 3 for every z s f u the linearization f z tzx yz is surjective and ker f z tzs f u theorem 3 5 is a consequence of theorem 3 13 in section 3 6 in the proof of theo rem 3 5 we shall describe the manifold structure on the solution space in detail here we just indicate how it looks like since s f u x and x is a tame m polyfold we can take for a point y s f u a sc diffeomorphism u y o o 0 where o c e is a tame retract then if t v v satisfies o t v we have the splitting e t 0 o 1 dt 0 e with y 1 dt 0 e contained in t r 0 c also the proof will show that t 0 o is finite dimensional let p dt 0 be the projection onto t 0 o then it will be shown that near 0 the projection p u 0 v 0 is a sc diffeomorphism where u is an open neighborhood of 0 in o and v is an open neighborhood of 0 in c 0 o then for u 1 u the map 3 2 subsets with tangent structure 71 u v y 7 p y is a sc diffeomorphism and its mage lies in an relatively open neighborhood of 0 in the partial quadrant c 0 o in t 0 o the associated transition maps for any two such sc diffeomorphisms are trivially sc diffeomorphisms between relatively open subsets in partial quadrants of finite dimensional vector spaces hence they are classically smooth this shows that the system of such sc diffeomorphisms defines a smooth atlas for the structure of a manifold with boundary with corners and by construction this structure is compatible with the existing m polyfold structure on s f u as a corollary of theorem 3 5 we shall obtain the following result corollary 3 2 let p y x be a strong bundle over the tame m polyfold x and f be a sc fredholm section suppose that for every x x satisfying f x 0 the linearisation f x txx yx is surjective and the kernel of f x is in good position to the boundary of x the latter being an empty condition if dx x 0 then the solution set m x x f x 0 x is a sub m polyfold of x for which the induced structure is tame and which moreover admits a sc smoothly equivalent structure as a smooth manifold with boundary with corners the remaining subsections are devoted to the proofs of the above results since the fredholm theory is one of the main parts of the polyfold theory and draws heavily on the possibilities offered in the sc smooth theory we shall carry out the constructions in great detail 3 2 subsets with tangent structure the solution sets of sc fredholm sections will come with a certain structure which in the generic case will induce a natural smooth manifold on the solution set this subsection studies this structure recall the definition of a smooth finite dimensional subspace n in good position to the partial quadrant c definition 3 9 for such a subspace n c is a partial quadrant in n proposition 3 3 definition 3 10 n dimensional tangent germ property we consider a tame m polyfold x and a subset m x of x the subset m has the nnn dimensional tangent germ property provided the following holds a m x b every point x m lies in an open neighborhood u x of x such that there exists a sc smooth chart u x o 0 onto a tame retract o c e moreover there exists a n dimensional smooth subspace n e in good position to the partial quadrant c which possesses a good complement y so that e n y in 72 3 basic sc fredholm theory addition there exists a relatively open neighborhood v of 0 in the partial quadrant n c and a continuous map v y having the following properties 1 m u v v v v n y 2 o n c 0 y 0 is a sc germ satisfying 0 0 and d 0 0 c n p u m fig 3 2 recalling the definition of a sc germ definition 3 2 we note that here v is a relatively open neighborhood of 0 in the partial quadrant n c where n is a smooth finite dimensional space there exists a nested sequence vm of relatively open neighborhoods of 0 in n c say v v 0 v 1 v 2 such that vm ym and vm ym is continuous denoting this sequence of neighborhoods by o n c 0 its tangent is the nested sequence tv 1 tv 2 tv 2 denoted by to n c 0 if x v 1 then the map d x is defined and since is a sc germ the tangent map t to n c 0 ty is again of class sc 1 iteratively it follows that t is a sc germ proposition 3 4 for a pair x m in which x is a tame m polyfold and m a subset of x the property that m has the n dimensional tangent germ property is a sc diffeomorphism invariant more precisely if x m is a second pair in which x is a tame m polyfold and m a subset of x and if x x is a sc diffeomorphism satisfying m m then m has the n dimensional tangent germ property if and only if m has the n dimensional tangent germ property proof we show that if m x has the n dimensional tangent germ property then m x has this property too since m x and is sc smooth we see that m 3 2 subsets with tangent structure 73 m x let m m and choose a point m m satisfying m m by assumption there exists a sc smooth chart u m o 0 where o c e is a tame retract by assumption there exists a smooth n dimensional linear subspace n in good position to c with sc complement y and a continuous map v y where v is a relatively open neighborhood of 0 in cn c n which satisfies m u v v v v n y o cn 0 y 0 is a sc germ satisfying 0 0 and d 0 0 to deduce the corresponding construction for x m we define the open neigh borhood u x of m m by u u and the sc smooth chart by 1 u m o 0 then u m u m v v v v and the lemma follows the important aspect of the n dimensional tangent germ property of a subset is the following result theorem 3 6 if x is a tame m polyfold and m x a subset possessing the n dimensional tangent germ property then the following holds 1 m is a sub m polyfold of x whose induced m polyfold structure is tame more over the induced m polyfold structure on m is sc smoothly equivalent to a smooth structure of a manifold with boundary with corners on m 2 if x m is given we denote by u n v n and v y the data described in condition 2 of definition 3 10 denoting by n y n the sc projection the map u m v given by y 7 y defines a smooth chart on m around the point x proof we choose a point x m and find an open neighborhood u x of x and a m polyfold chart u x o 0 onto the retract o c e so that the set m u is represented as m u v v v v n y the map v y possesses all the properties listed in condition 2 of definition 3 10 the map m u v is of the form y v y v y with the sc projection n y n onto n the map m u v y v y 3 4 is continuous and bijective onto v it is the restriction of the sc smooth map u n which maps the point x m onto 0 n then the inverse of 3 4 v m u v 1 v v 74 3 basic sc fredholm theory has its image in x and as a map into any xm has arbitrarily high regularity if only v is close enough to 0 depending on m next we shall show that the map is sc on all of v and not only at the point 0 v to this aim we choose a v 0 v and put x 0 1 v 0 v 0 by construction x 0 m and by our assumption there is a sc smooth chart u x 0 o 0 satisfying m u w w w v where v is a relatively open neighborhood of 0 in the smooth n dimensional sub space n e possessing the tangent germ property the map v y possesses the properties listed in condition 2 of definition 3 10 in particular is a sc germ at the point w 0 for v v near v 0 and w v near 0 we consider the equation v 1 w w 3 5 if v v 0 we have the solution w 0 near 0 the map possesses arbitrary high clas sical differentiability into any level linearizing the right hand side of the equation at the point 0 and recalling that d 0 0 we obtain the linear isomorphism h 7 t 1 0 h from n onto n by the classically implicit function theorem we obtain a germ v 7 w v for v close to v 0 satisfying w v 0 0 and solving the equation 3 5 the germ has arbitrary high classical differentiability once we are close enough to v 0 now consider the map v 7 1 w v w v 3 6 for v near v 0 since v 7 w v has arbitrarily high differentiability at v 0 and is sc germ near w 0 we see that the map 3 6 has into any given level arbitrarily high differentiability for v near v 0 consequently the map is a sc germ near w 0 the image of the map lies in the infinity level applying the sc projection 1 n y y we obtain the identity v 1 1 w v w v which implies that is a sc germ near v 0 since v 0 is arbitrary in v we see that v 7 v is a sc germ around every v 0 v as we wanted to show moreover we conclude that the map v x v 1 v v is an injective sc smooth map whose image is equal to m u 3 2 subsets with tangent structure 75 next we shall verify that the set m is a sub m polyfold of x according to defini tion 2 6 by construction we have so far at every point x m an open neighbor hood u u x x and a sc smooth chart u o satisfying x 0 where o c e is a tame sc smooth retract moreover recalling the sc splitting e n y there is a relatively open neighborhood v of 0 in the partial quadrant n c of n and a sc smooth map v y satisfying 0 0 and d 0 0 such that m u v v v v the map v u v 7 1 v v is sc smooth and injective the subset c defined by v y c v v y y is relatively open in c and contains 0 since o is a tame retract there exist a relatively open subset w of c and a tame sc smooth retraction r w w onto o r w consequently in view of r r 1 o r 1 o the subset o is also a sc smooth retract by construction v v o and also v v and we define the map t o o by t v w v v the map t is sc smooth and satisfies t t t so that t is a sc smooth retraction defined on a relatively open neighborhood of 0 in c and t o m u therefore the composition s 1 t defines a sc smooth retraction s u u 3 7 onto m u s u proving that the subset m is a sc smooth sub m polyfold of x the map u 7 c n u 7 s u is sc smooth therefore the map m u v m 7 m is a sc smooth m polyfold chart on m for the induced m polyfold structure the image of the chart is the local model v n c n so that the transition maps are classically smooth maps and define on m the structure of a manifold with boundary with corners the proof of theorem 3 6 is complete as an aside we mention that in general we can not find a local retraction s in 3 7 which is tame as the example x 0 2 and m x x x 0 shows 76 3 basic sc fredholm theory the strength of the theorem stems from the fact that in our sc fredholm theory the machinery produces subsets m x which have the n dimensional tangent germ property 3 3 contraction germs the notion of a contraction germ is a slight modification of a basic germ these germs are convenient for the proof of the implicit function theorem theorem 3 9 which is the main result of this section it turns out that the local geometry of sc fredholm germs are intimately related to contraction germs in the generic case they are used to prove that the zero set of a sc fredholm section must have the n dimensional tangent germ property it follows that the zero set is in a natural way a smooth manifold with boundary with corners in the following we abbreviate by c the partial quadrant c 0 k rn k in rn so that c c w is a partial quadrant in the sc banach space e rn w definition 3 11 sc 0 contraction germ a sc 0 germ f o c 0 w 0 is called a sc 0 contraction germ if the following holds the germ f has the form f a w w b a w for a w close to 0 0 c moreover for every 0 and m 0 the estimate b a w b a w m w w m holds for all a w a w on level m sufficiently close to 0 0 depending on and m more precisely the sc 0 contraction germ requires for given 0 that we can choose a perhaps smaller germ o c 0 of neighborhoods u 0 u 1 u 2 u 3 of the point 0 0 in 0 k rn k w such that b a u b a v m u v m holds if a u a v um starting on level 0 the parametrized version of banach fixed point theorem together with b 0 0 0 guarantee the existence of relatively open and connected neigh borhood v v 0 of 0 in 0 k rn k and a uniquely determined continuous map v w 0 satisfying 0 0 and solving the equation a b a a for all a v 3 3 contraction germs 77 going to level 1 we find again using the fixed point theorem an open neighborhood v 1 v 0 of 0 and a continuous map 1 v 1 w 1 satisfying 0 0 and solving the equation on level 1 from the uniqueness of the solutions of the banach fixed point problem we conclude that 1 v 1 continuing this way we obtain a decreasing sequence of relatively open neighborhoods of 0 in 0 k rn k v v 0 v 1 v 2 such that the continuous solution v w satisfies 0 0 and vm wm and vm wm is continuous in other words we obtain a sc 0 solution germ o 0 k rn k 0 w 0 summarizing the discussion we have proved the following theorem from 37 the orem 2 2 theorem 3 7 existence a sc 0 contraction germ f o c w 0 w 0 admits a uniquely determined sc 0 solution germ o c 0 w 0 solving f graph 0 here graph is the associated graph germ a 7 a a our next aim is the regularity of the unique continuous solution germ of the equa tion f v v 0 guaranteed by theorem 3 7 and we are going to prove that the solution germ is of class sck if the given germ f is of class sck by a somewhat tricky induction it turns out that we actually only have to know that if f is sc 1 then the solution germ is sc 1 as well here we shall make use of the following regularity result from 37 theorem 2 3 which is the hard part of the regularity theory theorem 3 8 if the sc 0 contraction germ f o c w 0 w 0 is of class sc 1 then the solution germ o c 0 w 0 in theorem 3 7 is also of class sc 1 theorem 3 8 shows that a sc 0 contraction germ f of class sc 1 has a solution germ satisfying f v v 0 which is also of class sc 1 we shall use this to verify by induction that is of class sck if f is of class sck we start with the following lemma lemma 3 4 let f o c w 0 w 0 be a sc 0 contraction germ of class sck where k 1 moreover we assume that the solution germ is of class sc j by theorem 3 8 is at least of class sc 1 we define the germ f 1 by f 1 o tc tw 0 tw f 1 v b u w u b v u w db v v b w u w b 1 v b u w 3 8 78 3 basic sc fredholm theory where the last line defines the map b 1 then f 1 is an sc 0 contraction germ and of class scmin k 1 j proof for v small the map b 1 has the contraction property with respect to u w indeed on the m level of tw m wm 1 wm i e for u w wm 1 wm we estimate for given 0 and v sufficiently small b 1 v b u w b 1 v b u w m b v u b v u m 1 db v v b w db v v b w m u u m 1 d 2 b v v w w m which using the estimate d 2 b v v m for the operator norm from lemma 3 1 is estimated by u u m 1 w w m u w u w m consequently the germ f 1 is an sc 0 contraction germ if now f is of class sck and of class sc j then the germ f 1 is of class scmin k 1 j as one verifies by comparing the tangent map t f with the map f 1 and using the fact that the solution is of class sc j by theorem 3 7 the solution germ 1 of f 1 is at least of class sc 0 it solves the equation f 1 v b 1 v b 0 3 9 but also the tangent germ t defined by t v b v d v b is a solution of 3 9 from the uniqueness we conclude that 1 t to prove higher regularity we will also make use of the next lemma lemma 3 5 assume we are given a sc 0 contraction germ f of class sck and a solu tion germ of class sc j with j k then there exists a sc 0 contraction germ f j of class scmin k j 1 having j t j as the solution germ proof we prove the lemma by induction with respect to j if j 0 and f is a sc 0 contraction germ of class sck k 0 then we set f 0 f and 0 hence the result holds true if j 0 assuming the result has been proved for j we show it is true for j 1 since j 1 1 and k j 1 the map f 1 defined by 3 8 is of class scmin k 1 j 1 in view of lemma 3 4 moreover the solution germ 1 t satisfies f 1 graph 1 0 and is of class sc j since min k 1 j 1 j by the induction hypothesis there exists a map f 1 j f j 1 of regularity class min min k 1 j 1 j 1 min k j 1 1 so that 3 3 contraction germs 79 f j 1 graph 1 j 0 setting j 1 1 j t j t t j 1 lemma 3 5 follows the main result of this section is the following germ implicit functions theorem theorem 3 9 germ implicit function theorem if f o c w 0 w 0 is an sc 0 contraction germ which is in addition of class sck then the solution germ o c 0 w 0 satisfying f v v 0 is also of class sck from theorem 3 9 using proposition 1 6 and 1 7 and proposition 3 11 we deduce the following properties of the section germ under the additional assumptions that f is a sc smooth germ corollary 3 3 if the sc 0 contraction germ f is a sc smooth germ there exists for every m 0 and k 0 a relatively open neighborhoods vm k of 0 in c such that 1 vm k wm 2 vm k wm is of class ck in particular the solution germ is sc smooth at the smooth point 0 theorem 3 9 will be one of the building blocks for all future versions of implicit function theorems as well as for the transversality theory proof theorem 3 9 arguing by contradiction we assume that the solution germ is of class sc j for some j k but not of class sc j 1 in view of lemma 3 5 there exists an sc 0 contraction germ f j of class scmin k j 1 such that j t j satisfies f j graph j 0 since also k j 1 it follows that f j is at least of class sc 1 consequently the solution germ j is at least of class sc 1 since j t j we conclude that is at least of class sc j 1 contradicting our assumption the proof of theorem 3 9 is complete remark 3 6 for later use we reformulate corollary 3 3 in quantitative terms if f is a sc 0 contraction germ which in addition is a sc smooth germ satisfying f 0 0 80 3 basic sc fredholm theory then the solution germ possesses the following properties of existence unique ness and regularity there exist monotone decreasing sequences i for i 0 and i for i 0 such that 1 a 0 k rn k a 0 0 w w w 0 0 is a continuous solu tion of f a a 0 satisfying 0 0 2 if the solution f a w 0 satisfies a 0 0 and w 0 0 then w a 3 if a 0 i then a wi and a i i for every i 0 4 the germ a 0 k rn k a 0 i wi is of class ci for every i 0 3 4 stability of basic germs all the maps considered in the section are sc smooth maps let us recall from definition 3 6 the notion of a basic germ definition 3 12 the basic class cbasic let w be a sc banach space a basic germ f o 0 k rn k w 0 rn w 0 is a sc smooth germ having the property that the germ p f is a sc 0 contraction germ where p rn w w is the sc projection we denote the class of all basic germs by cbasic in view of definition 3 7 the basic germs are the local models for the germs of sc fredholm sections theorem 3 10 weak stability of basic germs we consider a basic germ f o 0 k rn k w 0 rn w 0 which we can view as the principal part of a sc smooth section of the obvious strong bundle we assume that s is the principal part of a sc section of the same bundle satisfying s 0 0 then there exists a strong bundle isomorphism u rn w u rn w where u is an open neighborhood of 0 in 0 k rn k w and u is an open neighborhood of 0 in 0 k rn k w covering the sc diffeomorphism u 0 v 0 so that f s 1 is a basic germ here f s 1 is the germ f s o v 1 0 o rn w 1 0 where the levels are raised by 1 recalling the fredholm index of a basic germ in proposition 3 2 we conclude that n n n n because the fredholm index is invariant under strong bundle iso morphisms the integer k is the degeneracy index k dc 0 of the point 0 which is 3 4 stability of basic germs 81 in view of proposition 2 7 and corollary 2 1 preserved under the sc diffeomorphism satisfying 0 0 although theorem 3 10 was not explicitly formulated in 37 it follows from the proof of theorem 3 9 in 37 proof denoting by p rn w w the sc projection the composition p f is by definition of the form p f a w w b a w and has the property that for every 0 the estimate b a w b a w m w w m holds if a w and w are sufficiently small on level m linearizing the sc section s with respect to the variable w w at the point 0 we introduce the sc operator a p d 2 s 0 w w since s is a sc section and 0 is smooth point the operator a w w is a sc operator therefore the operator 1 a w w is a sc perturbation of the iden tity and hence a sc fredholm operator by proposition 1 4 because a is level wise compact the index ind 1 a is equal to 0 the associated sc decompositions of the sc banach space w are the following 1 a w c x w r z where c ker 1 a and r range 1 a and dim c dim z since s is a sc section we conclude from proposition 1 7 that the restriction s um rn wm is of class c 1 for every m 1 from the identity p s a w p d 2 s 0 w p s a w p d 2 s 0 w one deduces the following representation for p s on every level m 1 p s a w aw s a w and d 2 s 0 0 0 therefore s is with respect to the second variable w a arbitrary small contraction on every level m 1 if a and w are sufficiently small depending on the level m and the contraction constant we can make the arguments which follow only on the levels m 1 this explains the reason for the index raise by 1 in the theorem we can write p f s a w w b a w aw s a w 1 a w b a w s a w 1 a w b a w where we have abbreviated b a w b a w s a w 82 3 basic sc fredholm theory by assumption the map b belongs to the sc 0 contraction germ and hence the map b is a contraction in the second variable on every level m 1 with arbitrary small contraction constant 0 if a and w are sufficiently small depending on the level m and the contraction constant introducing the canonical projections by p 1 w c x x p 2 w r z r we abbreviate a w p 2 p f s a w p 2 1 a w b a w p 2 1 a p 1 w b a w we have used the relation 1 a 1 p 1 0 the operator l 1 a x x r is a sc isomorphism in view of l 1 p 2 1 a p 1 w p 1 w we obtain the formula l 1 a w p 1 w l 1 p 2 b a w writing w 1 p 1 w p 1 w we shall consider a 1 p 1 w as our new finite parameter and correspondingly define the map b by b a 1 p 1 w p 1 w l 1 p 2 b a 1 p 1 w p 1 w since b a w is a contraction in the second variable on every level m 1 with arbitrary small contraction constant if a and w are sufficiently small depending on the level m and the contraction constant the right hand side of l 1 a 1 p 1 w p 1 w p 1 w b a 1 p 1 w p 1 w possesses the required contraction normal form with respect to the variable p 1 w on all levels m 1 again if a and w are small enough depending on m and the contraction constant it remains to prove that the above normal form is the result of an admissible coordi nate transformation of the perturbed section f s choosing a linear isomorphism z c we define the fiber transformation rn w rn x c by a w a l 1 p 2 w 1 p 2 w we shall view as a strong bundle map covering the sc diffeomorphism v w v c x defined by a w a 1 p 1 w p 1 w where v 0 k rn k with the canonical projection 3 4 stability of basic germs 83 p rn c x x p a 1 p 1 w p 1 w p 1 w and the relation p 1 p 0 we obtain the desired formula p f s 1 a 1 p 1 w p 1 w p 1 w b a 1 p 1 w p 1 w the proof of theorem 3 10 is complete the theorem has the following corollary where we use the standard notations de noting as usual by c a partial quadrant in a sc banach space e we also use a second sc banach space f corollary 3 4 we assume that the sc germ g o c 0 f 0 is equivalent by a strong bundle isomorphism to the basic germ g and assume that s o c 0 f 0 is a sc germ then there exists a strong bundle isomorphism such that g s 1 is a basic germ proof by assumption there exist open neighborhoods u of 0 in c and v of 0 in 0 k rn k w and a sc diffeomorphism u 0 v 0 which is covered by a strong bundle isomorphism u f v rn w such that g is a basic germ h then t s defines a sc section satisfying t 0 0 clearly g s h t and applying theorem 3 10 we find a second strong bundle isomorphism such that h t 1 is a basic germ taking the composition we conclude that g s 1 is a basic germ this completes the proof of corollary 3 4 in order to illustrate the corollary we now consider the sc smooth germ h o c 0 f for which we know that there exists a sc germ s satisfying s 0 h 0 and assume that the germ h s around 0 is equivalent to the basic germ g h s we observe that h h 0 h s s h 0 where s h 0 is a sc section then t s h 0 is a sc section and g t is a perturbation by a sc section of a basic germ by the previous corollary we find a strong bundle coordinate change such that g s 1 is a basic germ or in other words h h 0 1 is a basic germ note that for the implicit function theorem it does not matter whether we work with f or f 1 ore even f 501 it matters that our coordinate change is compatible with the original sc structure 84 3 basic sc fredholm theory we also point out that a strong bundle coordinate change for h 1 is not the same as a strong bundle coordinate change for h followed by a subsequent raise of the index 3 5 geometry of basic germs in this section we shall study in detail sc smooth germs f o 0 k rn k w 0 rn w 0 3 10 around 0 of the form f h s 3 11 where h is a basic germ and s is a sc germ satisfying s 0 0 we already know from corollary 3 2 that d f 0 rn w rn w is a sc fredholm operator of index indd f 0 n n in the following we abbreviate e rn w c 0 k rn k w and f rn w and by p rn w w the sc projection theorem 3 11 local regularity and compactness let u be a relatively open neighborhood of 0 in c we assume that f u f is a sc smooth map satisfying f 0 0 and of the form f h s where h is a basic germ and s is a sc germ satisfying s 0 0 we denote by s a w u f a w 0 the solution set of f in u then there exists a nested sequence u o 0 o 1 o 2 of relatively open neighborhoods of 0 in c on level 0 such that for every m 0 the closure of s o m in c e 0 c 0 is contained in c em cm i e clc 0 s o m cm remark 3 7 theorem 3 11 says in particular that o m s cm for all m 0 therefore the regularity of solutions a w of the equation f a w 0 is the higher the closer to 0 they are on the level 0 moreover the solution set on level m suffi ciently close to 0 on level 0 has a closure on level 0 which still belongs to level m moreover the solution set on level m sufficiently close to 0 on level 0 has a closure on level 0 which belongs to level m proof proof of theorem 3 11 we construct the sets o m inductively by showing that there exists a decreasing sequence m m 0 of positive numbers such that the sets 3 5 geometry of basic germs 85 o m a w c a 0 m and w 0 m have the desired properties we begin with the construction of o 0 by definition of a basic germ the composition p h is of the form p h a w w b a w where b 0 0 0 and b is a contraction in w locally near 0 0 moreover s is a sc germ satisfying s 0 0 we choose 0 0 such that the closed set a w c a 0 0 w 0 0 in e 0 is contained in u and such that in addition 01 b a w b a w 0 1 4 w w 0 for all a w and w w 0 satisfying a 0 0 w 0 0 and w 0 0 using b 0 0 and s 0 0 we can choose 0 0 0 such that 02 b a 0 0 1 4 0 for all a 0 0 03 p s a w 0 1 4 0 for all a 0 0 and w 0 0 for these choices of the constants 0 and 0 we introduce the closed set 0 a z c a 0 0 z 0 0 4 and denote by b 0 0 w 0 the closed ball in w 0 centered at 0 and having radius 0 we define the map f 0 0 b 0 0 w 0 by f 0 a z w b a w z if a z 0 and w w b 0 0 we estimate using 01 and 02 f 0 a z w 0 b a w z 0 b a w b a 0 0 b a 0 0 z 0 1 4 0 1 4 0 1 4 0 3 4 0 0 and f 0 a z w f 0 a z w 0 1 4 w w 0 hence f 0 a z b 0 0 b 0 0 is a contraction uniform in a z 0 there fore by the parametrized version of banach s fixed point theorem there exists a unique continuous function 0 0 b 0 0 solving the equation 0 a z b a 0 a z z for all a z 0 now we define the open neighborhood o 0 by 86 3 basic sc fredholm theory o 0 a w c a 0 0 and w 0 0 clearly the set o 0 satisfies clc 0 s o 0 c 0 we observe that if a w o 0 then p s a w 0 0 4 by 03 so that 0 a p s a w is defined if in addition f a w 0 then p f a w 0 so that w b a w p s a w and we claim that w 0 a p s a w for all a w o 0 3 12 indeed since 0 a p s a w b a 0 a p s a w p s a w we estimate using 01 w 0 a p s a w 0 b a w b a 0 a p s a w 0 1 4 w 0 a p s a w 0 implying w 0 a p s a w as claimed we next construct the set o 1 o 0 since the embedding w 1 w 0 is contin uous there is a constant c 1 0 such that 0 c 1 1 with the constant 0 defined above we choose 0 1 min 0 0 c 1 such that the following holds the set a w c a 0 1 and w 1 1 is contained in u and 11 b a w b a w 1 1 4 w w 1 for all a w w w 1 satisfying a 0 1 w 1 1 and w 1 1 we choose 0 1 1 such that 12 b a 0 1 1 4 1 for all a 0 1 13 p s a w 1 1 4 1 for all a 0 1 and w 0 1 proceeding as in the construction of o 0 we introduce the closed set 1 in e 1 by 1 a z c 1 a 0 1 z 1 1 4 and abbreviate by b 1 1 the closed ball in w 1 having its center at 0 and radius 1 we define the map f 1 1 b 1 1 w 1 by f 1 a z w b a w z by 11 and 13 the map f 1 1 b 1 1 b 1 1 is a contraction uniform in a z 1 again using the banach fixed point theorem we find a unique continuous map 1 1 b 1 1 solving the equation 1 a z b a 1 a z z for all a z 1 now we define the open neighborhood o 1 as o 1 a w c 0 a 0 1 w 0 1 by our definition of 1 we have 1 1 0 so that o 1 o 0 we next claim that 3 5 geometry of basic germs 87 0 a p s a w 1 a p s a w for all a w o 1 3 13 to verify the claim we note that if a w o 1 then by 13 p s a w 1 1 4 hence 1 a p s a w is defined and its norm satisfies 1 a p s a w 1 1 because 1 takes its values in the ball b 1 1 this implies recalling that 0 c 1 1 and 1 0 c 1 the estimate 1 a p s a w 0 c 1 1 a p s a w 1 c 1 1 0 0 therefore by construction the map a w 7 1 a p s a w solves the equation 1 a p s a w b a 1 a p s a w p s a w for all a w o 1 on the other hand it follows from o 1 o 0 and 03 that p s a w 0 0 4 and hence the map a w 7 0 a p s a w solves by construction the same equation 0 a p s a w b a 0 a p s a w p s a w for all a w o 1 the claim 3 13 now follows from the uniqueness of the banach fixed point theorem on the level 0 if a w o 1 satisfies in addition f a w 0 we deduce from 3 12 and 3 13 that w 1 a p s a w w 1 for all a w o 1 3 14 in order to verify the desired property of o 1 we fix a w cl 0 s o 1 then there exists a sequence an wn s o 1 such that an wn a w on level 0 from 3 14 it follows that wn 1 an p s an wn w 1 for all n since s is sc we know that p s an wn p s a w on level 1 from the continuity of 1 we conclude the convergence wn 1 an p s an wn 1 a p s a w w on level 1 consequently a w c 1 as desired the induction step is now clear and the further details are left to the reader the previous result has a useful corollary corollary 3 5 we assume that u is a relatively open neighborhood of 0 in a partial quadrant c 0 n w in a sc banach space e rn w and let f rn w let f u f be a sc smooth map satisfying f 0 0 and admitting the decompo sition f h s where h cbasic and s is a sc map satisfying s 0 0 we assume in addition that d f 0 0 is surjective then there exists a relatively open neighbor hood u u on level 0 such that the following holds 1 if a w u satisfies f a w 0 then a w is on level 1 2 if a w u and f a w 0 then d f a w e f is a surjective fredholm operator of index n n proof in view of theorem 3 11 we know that if f a w 0 and a w is suffi ciently close to 0 0 on level 0 then a w e 1 hence the linearization d f a w 88 3 basic sc fredholm theory is a well defined as a bounded linear operator from e 0 to f 0 by proposition 3 2 the linearization d f 0 0 e f is a fredholm operator whose index is equal to indd f 0 n n by assumption the fredholm operator d f 0 0 e f is surjective denoting by k its kernel we have the splitting e k n and conclude that the restriction d f 0 n n f is an isomorphism of banach spaces and hence a fredholm oper ator of index 0 to see this we observe that d f a w n d f 0 0 n d f a w n d f 0 0 n and the second term is a admissible perturbation which does not affect the fredholm character nor the index indeed d f a w d f 0 0 d 2 b a w c a w where c a w e f is a compact operator and d 2 b a w for every 0 if a w sufficiently small in e 0 depending on in view of lemma 3 1 it follows that d f a w n n f is a fredholm operator of index 0 if a w e 1 is sufficiently small in e 0 we finally show that d f a w n n f is a surjective operator if a w e 1 solves in addition f a w 0 since the index is equal to 0 the kernel of d f a w n has the same dimension as the cokernel of d f a w n in f hence we have to prove that the kernel of d f a w n is equal to 0 if a w e is close to 0 0 in e 0 and solves f a w 0 arguing by contradiction we assume that there exist a sequence ak wk c e 1 satisfying f ak wk 0 and ak wk 0 0 as k moreover there exists a se quence k k rn w n satisfying k k 0 1 and d f ak wk k k 0 consequently k d 2 b ak wk k d 1 b ak wk k pds ak wk k k 3 15 without loss of generality we may assume that k in view of the proof of the previous theorem for large values of k the sequence ak wk is bounded on level 2 consequently since the embedding w 2 w 1 is compact we may as sume that ak wk 0 0 on level 1 therefore d 1 b ak wk k d 1 b 0 0 in e 0 in addition since s is a sc operator the map e 1 e 0 f 1 defined by x h 7 pds x h is continuous hence there exists 0 such that pds x h 1 1 if x 1 and h 0 this implies that there is a constant c 0 such that pds x h 1 c for all x 1 and h 0 1 from this estimate we conclude that the sequence pds ak wk k k is bounded in w 1 since the embedding w 1 w 0 is compact we may assume that the sequence pds ak wk k k converges to some point w 0 in w 0 denoting by zk the right hand side of 3 15 we have proved that zk z 0 d 1 b 0 0 w 0 in w 0 choosing 0 1 in lemma 3 1 the operators 1 d 2 b ak wk have a bounded inverse for large k and we obtain from 3 15 that 3 5 geometry of basic germs 89 k 1 d 2 b ak wk 1 zk l 0 d 2 b ak wk l zk for large k we claim that the sequence k converges to z 0 in w 0 indeed take 0 from d 2 b ak wk for k large and the fact that the sequence zk is bounded in w 0 it follows that there exists l 0 such that l l 0 d 2 b ak wk l zk 0 2 hence k z 0 0 zk z 0 0 l 0 l 1 d 2 b ak wk l zk 0 l l 0 d 2 b ak wk l zk 0 zk z 0 0 l 0 l 1 d 2 b ak wk l zk 0 2 from zk z 0 0 0 and d 2 b ak wk zk d 2 b 0 0 z 0 0 it follows that limsup k k z 0 0 2 and since was arbitrary that k z 0 in w 0 we have proved that k k z 0 in e 0 hence z 0 n and z 0 0 1 on the other hand 0 lim k d f ak wk k k d f 0 z 0 since d f 0 0 n is an isomorphism z 0 0 0 in contradiction to z 0 0 1 the proof of corollary 3 5 is complete in the following theorem we denote as usual by c the partial quadrant 0 k rn k w in the sc banach space e rn w and by u a relatively open neighbor hood of 0 in c moreover f is another sc banach space of the form f rn w we consider a sc smooth germ f u f satisfying f 0 0 of the form f h s where h is a basic germ and s is a sc germ satisfying s 0 0 by theorem 3 10 there exists a strong bundle isomorphism u rn w u rn w where u is a relatively open neighborhood of 0 in the partial quadrant c 0 k rn k w covering the sc diffeomorphism u 0 u 0 such that the sec tion g f 1 has the property that g 1 h s 1 u 1 rn w 1 is a basic germ clearly x u f x 0 x u g x 0 we abbreviate f rn w and denote by p the sc projection p rn w w by definition of a basic germ the composition p g 1 is a sc 0 contraction germ 90 3 basic sc fredholm theory which is sc smooth therefore in view of remark 3 6 applied to the levels m 1 there are monotone decreasing sequences i for i 1 and i for i i such that abbreviating by bi i the closed ball w i of center 0 and radius i and by u i the neighborhood u i a 0 k rn k a 0 i the following statements 1 4 hold 1 there exists a unique continuous map u 1 b 1 1 satisfying p g a a 0 and 0 0 2 if a w u 1 b 1 1 solves the equation p g a w 0 then w a 3 if a u i then a w i and a i i for every i 1 4 u i w i is of class c i 1 for all i 1 lemma 3 6 there exists 0 and 0 having the following properties if a w solves the equation g a w 0 and satisfies a 0 0 and w 0 0 then w a moreover if a 0 0 then a 0 0 proof the solutions of f a 0 and g x 0 are related by the sc diffeomorphism via x x applying the proof of theorem 3 11 to the sc germ f h s we find for every 0 a constant 0 such that if x c is a solution of f x 0 satisfying x 1 then x 1 using the continuity of on the level 1 we choose now 0 such that if x 1 then x x a w satisfies a 0 1 and w 1 1 then we conclude from x 0 that x 1 using the continuity of 1 on level 0 we next choose the desired constants 0 and 0 such that the estimates a 0 0 and w 0 0 imply that x 1 a w satisfies x 0 assuming now that x a w is a solution of g a w 0 satisfying a 0 0 and w 0 0 we conclude that 1 x 0 it follows that 1 x 1 which implies a 0 1 and w 1 1 from property 2 we conclude that w a proving the first statement of the lemma using that the embedding w 1 w 0 is continuous we find a constant c 0 such that a 0 c a 1 taking 0 and 0 smaller we can achieve that a 0 0 if a 0 0 and the proof of the lemma is complete theorem 3 12 local germ solvability i assume that f u f is a sc smooth germ satisfying f 0 0 and of the form f h s where h is a basic germ and s is a sc section satisfying s 0 0 we assume that the linearization d f 0 e f is surjective and the kernel k kerd f 0 is in good position to the partial quadrant c let u rn w u rn w 3 5 geometry of basic germs 91 be the strong bundle isomorphism covering the sc diffeomorphism u 0 u 0 guaranteed by theorem 3 10 here u is a relatively open neighborhood of 0 in the partial quadrant c 0 k rn k w sitting in the sc banach space e rn w then denoting by g f the push forward section the following holds the kernel k kerdg 0 t 0 k is in good position to the partial quadrant c and there is a good complement y of k in e k y and a c 1 map v y 1 defined on the relatively open neighborhood v of 0 in k c such that 1 o k c 0 y 0 is a sc smooth germ 2 0 0 and d 0 0 3 after perhaps suitably shrinking u it holds x u f x 0 x u g x 0 y y y v proof the linearization dg 0 rn w rn w is a surjective map because by assumption d f 0 rn w rn w is surjective moreover kerdg 0 t 0 kerd f 0 in view of proposition 2 7 and corollary 2 1 we have t 0 c c we also recall that above lemma 3 6 we have introduced the sc projection p rn w w the neighborhood u i a 0 k rn k a 0 i of 0 in rn and the map u i w i satisfying p g a a 0 and a 0 we introduce the map h u 1 r n by h a 1 p g a a it satisfies h 0 0 since g 0 0 in the following we need the map h to be of class c 1 in view of property 4 the map h restricted to u i is of class c i 1 since by proposition 1 7 the sc smooth map g induces a c 1 map g em 1 em for every m 0 we shall restrict the domain of h to the set u 3 in order to prove the theorem we shall first relate the solution set h 0 to the solution set g 0 and start with the following lemma lemma 3 7 the linear map 7 d 0 from rn into e induces a linear isomorphism k kerdh 0 kerdg 0 k proof proof of the lemma we first claim that kerdg 0 d 0 kerdh 0 indeed if kerdg 0 then p dg 0 0 and 1 p dg 0 0 by assumption p g a w w b a w hence differentiating at the point 0 in the direction of and recalling from lemma 3 1 that d 2 b 0 0 we obtain 92 3 basic sc fredholm theory 0 p dg 0 d 1 b 0 d 2 b 0 d 1 b 0 on the other hand differentiating the identity p g a a 0 at a 0 and eval uating the derivative at we find in view of previous equation 0 p g 0 d 0 d 0 d 1 b 0 consequently d 0 as claimed from dh 0 1 p dg 0 d 0 it follows if kerdh 0 in view of p dg 0 d 0 0 for all that d 0 kerdg 0 conversely if kerdg 0 then 0 p dg 0 d 1 b 0 and 1 p dg 0 0 since p dg 0 d 0 0 we conclude that d 0 and hence 1 p dg 0 d 0 dh 0 0 so that kerdh 0 the proof of lemma 3 7 is complete by assumption the kernel k kerd f 0 is in good position to the partial quadrant c we recall that this requires that k c has a nonempty interior in k and there exists a complement of k denoted by k so that k k e having the following property there exists 0 such that if k k k k satisfies k 0 k 0 then k k c if and only if k c 3 16 the kernel k kerdg 0 t 0 k has a complement in e denoted by k t 0 k so that k k e lemma 3 8 the complement k is a good complement of k in e proof since t 0 rn w rn w is a topological isomorphism t 0 c c and k t 0 k it follows that k c has a nonempty interior in k next we choose 0 satisfying t 0 t 0 1 and take x k and y k satisfying y 0 x 0 if x t 0 1 x and y t 0 1 y then y 0 t 0 1 y 0 t 0 1 y 0 t 0 1 x 0 t 0 1 t 0 0 t 0 1 t 0 x 0 x 0 by 3 16 x y c if and only if x c and since t 0 c c we conclude that x y c if and only if x c the next lemma is proved in appendix 3 8 2 3 5 geometry of basic germs 93 lemma 3 9 the kernel k kerdh 0 rn of the linearization dh 0 is in good position to the partial quadrant c 0 k rn k in rn moreover there exists a good complement z of k in rn hence k z rn having the property that z w is a good complement of k kerdg 0 in e e k z w in view of lemma 3 9 theorem 3 18 in appendix 3 8 5 is applicable to the c 1 map h u 2 r n where u 2 a 0 k rn k a 0 2 r n is introduced before the statement of theorem 3 12 according to theorem 3 18 there exists a relatively open neighborhood v of 0 in k c and a c 1 map v z satisfying 0 0 and d 0 0 and solving the equation h a a 0 for all a v the situation is illustrated in the following figure 3 3 since h is the more regular z c rn k h 0 v fig 3 3 the closer we are to 0 the map has the same property recalling the solution germ u 1 r n b 1 w 1 of g a a 0 we define the map v z w 1 by 94 3 basic sc fredholm theory a a a a v v by the properties of and there exists a nested sequence v 1 v 2 of relatively open neighborhoods of 0 in k c such that the restriction v i v i z w i is of class ci for every i 1 recalling from lemma 3 7 that k kerdg 0 v d 0 v v k we denote by k k the projection v d 0 v 7 v the map is a sc isomorphism we next introduce the map from a relatively open neighborhood of 0 in k c into z w by y d 0 y y y k c it satisfies 0 0 differentiating at y 0 and using d 0 0 we obtain d 0 d 0 d 0 0 for all k and hence d 0 0 recalling that y v d 0 v where v kerdh 0 and y v we compute y y v d 0 v d 0 v v v v v v v v where v v rn hence by definition of the solution germ we conclude from lemma 3 6 that g y y 0 for all y k c near 0 on level 0 by construction the map is a sc smooth germ satisfying 0 0 and d 0 0 and there exists a nested sequence of relatively open subsets o i 1 vi of 0 in k where oi a 0 k rn k a 0 i such that the restrictions satisfy o i ci o i z w i for i 1 moreover if g y w 0 for y k c and w z w sufficiently small on level 0 then w y to sum up there exists a relatively open subset u of 0 in c diffeomorphic to the relatively open subset u u of 0 in c and a relatively open subset v of 0 in k c such that x u f x 0 x u g x 0 y y y v 3 5 geometry of basic germs 95 the proof of theorem 3 12 is finished corollary 3 6 let f u f be a sc smooth germ satisfying f 0 0 and of the form f h s where h is a basic germ and s is a sc section satisfying s 0 0 we assume that the linearization d f 0 e f is surjective and the kernel k kerd f 0 is in good position to the partial quadrant c e then there exists a good complement y of k in e so that k y e and there exists a c 1 map v y 1 defined on relatively open neighborhood v of 0 in k c having the following properties 1 o k c 0 y 0 is a sc smooth germ 2 0 0 and d 0 0 3 x u f x 0 v v v v after perhaps replacing u by a smaller open neighborhood proof in view of theorem 3 12 the sc diffeomorphism u 0 u 0 be tween relatively open subsets u and u of the partial quadrants c 0 k rn k w and c 0 k rn k w satisfies t 0 k k kerdg 0 and k is in good position to c if y is the good sc complement in theorem 3 12 of k in e we define y t 0 1 y then y is the desired good complemement of k in e with respect to the partial quadrant c so that e k y let k y k be the sc projection recalling the map v k c y 1 from theorem 3 12 we define the map v k c k by v 1 v v the map satisfies 0 0 and its derivative d 0 k k is equal to d 0 t 0 1 k hence it is an isomorphism we claim that the map preserves the degeneracy index that is dk c v dk c v 3 17 for v v close to 0 to see this we first assume that v v k c belongs to k rn k w where rn k w is identified with 0 k rn k w hence v is of the form v 0 w 0 k rn k w if k is one dimensional then in view of lemma 3 20 v t a w rk rn k w where a a 1 ak satisfies a j 0 consequently t 0 so that v 0 since 0 0 we have dc k 0 dc k 0 if dimk 2 then denoting by k the algebraic complement of k rn k w in k we may assume after linear change of coordinates that the following holds 96 3 basic sc fredholm theory a the finite dimensional subspace k is spanned by the vectors e j a j b j w j for 1 j m dim k in which a j are the vectors of the standard basis of r l b j b j m 1 b j k with b j i 0 and w j r n k w b the good complement y of k in e rn w is contained in 0 l rk l rn k w by adding a basis e j 0 w j 0 k rn k w m 1 j dimk of k rn k w we obtain a basis of k we have a similar statement for the subspace k with the algebraic complement k of k rn k w in k e j replaced by e j and the good complement y of k contained in 0 m rk m rn k w now if v 0 w 1 0 k rn k w then in view of a dk c v m dim k recalling k is in good position to the partial quadrant c and y is a good comple ment of k in e there exists a constant such that if n k and y y then y 0 n 0 implies that n y c if and only if n c it follows from 0 0 and d 0 0 that v 0 v 0 and since v c we conclude that v v c since for v as above v j 0 for all 1 j k we find that also j v 0 for all 1 j k hence v v 0 w 2 0 k rn k w because the map is a sc diffeomorphism 1 v v 1 0 w 2 0 w 0 k rn k w we shall show that 0 w k c and that dk c 0 w m we decompose 0 w according to the direct sum e k y as 0 w k y where k k and y y and write k 1 k w 1 rk rn k w y y 1 yk w 2 y then using y 0 m rk m rn k w we find that y 1 ym 0 this implies that also 1 m 0 consequently 0 w k 0 w 1 k c and dk c 0 w m we have proved the identity 3 17 in the case v k rn k w in the case v a w k c k rn k w we use lemma 3 21 and compute dc k v dc 1 v v dc v v dc k v hence v c is a c 1 map satisfying 0 0 d 0 k c k c and preserving the degeneracy index consequently applying the inverse function the orem for partial quadrants in rn theorem 3 17 to the map d 0 1 we find relatively open neighborhoods v 0 v and v 1 c of 0 such that v 0 v 1 is a c 1 diffeomorphism which has higher and higher differentiability closer and closer to 0 considering the map w 7 1 1 w 1 w w v 1 3 6 implicit function theorems 97 we obtain 1 1 w 1 w w and define the map v 1 y by w 1 1 w 1 w w 1 1 1 w 1 w finally we can now choose open neighborhoods v k c of 0 and u of 0 in c appropriately and see that the map has the desired properties 1 3 of corollary 3 6 3 6 implicit function theorems let us recall from definition 3 4 the concept of a filled version definition 3 13 filling we consider a strong local bundle k o where k r u f and let the set u c e be a relatively open neighborhood of 0 in the partial quadrant c of the sc banach space e here f is a sc banach space and r is a strong bundle retraction of the form r u h r u u h covering the tame retraction r u u onto o r u we assume that r 0 0 a sc smooth section germ f 0 of the strong bundle k o possesses a filling if there exists a sc smooth section germ g 0 of the bundle u f u satisfying the following properties 1 f x g x for x o close to 0 2 if g y r y g y for a point y u near 0 then y o 3 the linearisation of the map y 7 1 r y g y at the point 0 restricted to ker dr 0 defines a topological linear isomorphism ker dr 0 ker 0 remark 3 8 by replacing o by a smaller set we may assume in 1 that f x g x for all x o and in 2 that g y r y g y for y u implies that y o we also recall the notions sc fredholm germ and sc fredholm section 98 3 basic sc fredholm theory definition 3 14 sc fredholm germ let f be a sc smooth section of the strong bundle p y x and let x x be a smooth point then f x is a sc fredholm germ if there exists a strong bundle chart around x as defined in definition 2 25 1 v k covering v x o 0 where k o is a strong local bundle containing 0 o u such that the local section germ f 1 o k has a filling g u u f near 0 which possesses the following additional property there exists a local sc section s u u f satisfying s 0 g 0 such that g s is conjugated near 0 to a basic germ definition 3 15 sc fredholm section a sc smooth section f of the strong bundle p y x is a sc fredholm section if 1 f is regularizing i e if x xm and f x ym m 1 then x xm 1 2 the germ f x is a sc fredholm germ at every smooth point x x from theorem 3 2 we know that sc fredholm sections are stable under sc perturbations if f is a sc fredholm section then f s is also a sc fredholm section for every sc section s proposition 3 5 let x x be a solution of f x 0 where f is a sc fredholm section of the strong bundle p y x then t f x txx yx is a sc fredholm operator proof since f x is a sc fredholm germ there exists a strong bundle chart 1 v k around x such that the section f f 1 o k has a filling g u u f for which there exists a sc section s u u f satisfying s 0 g 0 such that g s is conjugated near 0 to a basic germ hence by propo sition 3 2 the linearization d g s 0 e f is a sc fredholm operator since ds 0 is a sc operator the linearization dg 0 is sc fredholm operator in view of proposition 1 4 from proposition 3 1 2 about fillers it follows that t f 0 t 0 o k 0 is a sc fredholm operator of index ind t f 0 ind dg 0 ind d g s 0 and the proposition follows we now focus on the solution set f 0 of a sc fredholm section near a point x x of f x 0 in the case of a boundary i e dx x 1 we require that p y x is a strong bundle over a tame m polyfold and that ker f x is in good position to the partial quadrant cxx in the tangent space txx see definition 2 15 theorem 2 3 and remark 2 4 from this it follows that in the case that x is tame the partial cones cx are in fact partial quadrants definition 3 16 good position of a sc fredholm germ a sc fredholm germ f x of a tame strong bundle y x satisfying f x 0 is in good position if 3 6 implicit function theorems 99 1 f x txx yx is surjective 2 if dx x 1 then ker f x txx is in good position to the partial quadrant cxx in the tangent space txx remark 3 9 good position at points x x x satisfying f x 0 just means that f x txx yx is surjective and does not require the tameness of x which is an assumption about the boundary geometry of x in case x x we require in addition that ker f x is in good position to the partial quadrant cx it would be sufficient to assume that x is only tame on a neighborhood of the points x x satisfying f x 0 we also should remark that it seems possible to have implicit function theorems when x is not tame but that would require a detailed analysis of the boundary structure of x and the local geometry of f x the fundamental implicit function theorem is as follows theorem 3 13 let f be a sc fredholm section of a tame strong bundle y x if f x 0 and if the sc fredholm germ f x is in good position then there exists an open neighborhood v of x x such that the solution set s y v f y 0 in v has the following properties 1 at every point y s the sc fredholm germ f y is in good position 2 s is a sub m polyfold of x and the induced m polyfold structure is equivalent to a smooth manifold structure with boundary with corners the requirement that f x is in good position where f x 0 means in particular that f x is surjective we note that theorem 3 4 and theorem 3 5 are immediate consequences of theorem 3 13 proof proof of theorem 3 13 the sc smooth sc fredhom section f of the tame strong bundle p y x over the m polyfold x is regularizing so that the solutions y x of f y 0 are smooth points moreover at every smooth point y x the sc germ f y is a sc fredholm germ we now focus on a neighborhood of the solution x of f x 0 by assumption the sc fredholm germ f x is in good position according to definition 3 16 so that the kernel n ker f x is in good position to the partial quadrant cxx txx and the linearization f x txx yx is surjective in view of proposition 3 5 the linear operator f x is a fredholm operator its index is equal to ind f x dimn by definition of a sc fredholm germ there exists a strong bundle chart of the tame strong bundle p y x p 1 v k p y yp v o 100 3 basic sc fredholm theory covering the sc diffeomorphism v o which is defined on the open neigh borhood v x of the given point x x and satisfies x 0 the retract k r u f is the image of the strong bundle retraction r u f u f of the form r u h r u u h and which covers the tame sc smooth retraction r u u onto o r u as usual the set u c is a relatively open subset of the partial quadrant c 0 k rn k w in the sc banach space e rn w still by definition of a sc fredholm germ the push forward section f f o k possesses a filled version g u u f it has in particular the property that g u f u if u o 3 18 in addition there exists a strong bundle isomorphism u f u f y y u u where f rn w it covers the sc diffeomorphism u u satisfying 0 0 the set u is a relatively open subset of the partial quadrant c t 0 c in the sc space e rn w in addition by definition of a sc fredholm germ there exists a sc section s u u f satisfying s 0 g 0 such that the push forward section g s h u f is a basic germ according to definition 3 6 therefore g h t 3 19 where t s is a sc section u f in view of proposition 3 2 the linearization d h t 0 e f is a sc fredholm operator so that by proposition 1 4 the operator dg 0 e f is also a sc fredholm operator from the postulated surjectivity of the linearization f x txx yx we deduce that t f 0 t 0 o k 0 is surjective hence by proposition 3 1 the operator dg 0 is surjective since ker f x is in good position to the partial quadrant cxx txx and since t x cxx c 0 o t 0 o c the kernel kert f 0 is in good position to the partial quadrant c 0 o the retract o r u is by assumption tame hence the tangent space t 0 o has in view proposition 2 9 the sc complement kerdr 0 in e so that e t 0 o kerdr 0 3 6 implicit function theorems 101 and kerdr 0 ex at the point x 0 ex is defined in definition 2 16 if z t 0 o is a good complement of kert f 0 in t 0 o kert f 0 z the space z kerdr 0 is a good complement of kert f 0 in e so that e kert f 0 z kerdr 0 since by the properties of the filler kert f 0 0 kerdg 0 we conclude that kerdg 0 is in good position to c in e therefore n kerd h t 0 is in good position to c t 0 c in e let now y e be the good com plement of n in e n y from theorem 3 6 then we can apply theorem 3 6 about the local germ solvability and find an open neighborhood v n c of 0 and a map v y 1 possessing the following properties 1 v y 1 is of class c 1 and satisfies 0 0 and d 0 0 2 o n c 0 y 0 is a sc smooth germ 3 y v f y 0 u o f u 0 u o g u 0 by 3 18 u u h t u 0 by 3 19 v v v v by corollary 3 6 moreover 4 for every y v satisfying f y 0 so that y v v the kernel ker f y is in good position to the partial quadrant cyx tyx and f y tyx yy is surjective property 4 follows from corollary 3 5 and from the following lemma whose proof is postponed to appendix 3 8 3 lemma 3 10 let c e be a partial quadrant in the sc banach space e and n e a finite dimensional smooth subspace in good position to c and let y be a good complement of n in e so that e n y we assume that v n c is a relatively open neighborhood of 0 and v y 1 a map of class c 1 satisfying 0 0 and d 0 0 102 3 basic sc fredholm theory then there exists a relatively open neighborhood v v of 0 such that the following holds 1 v v c 1 for v v 2 for every v v the linear subspace nv n d v n n n has the banach space y y 0 as a topological complement 3 for every v v there exists a constant v 0 such that if n nv and y y satisfy y 0 v n 0 the statements n cz and n y cz are equivalent where z v v so far we are confronted with the following situation the open neighborhood v x of the smooth point x is a m polyfold and we denote the solution set of the sc fredholm section f of the tame strong bundle p 1 v v by s y v f y 0 it consists of smooth points for every y s the germ f y is a sc fredholm germ and the linearization f y tyv yy is a surjective fredholm operator whose kernel ker f y is in good position to the partial cone cyv tyv so that pro ceeding as above we can construct a map satisfying the above properties 1 3 consequently abbreviating d dim ker f x the solution set s v possesses the d dimensional tangent germ property according to definition 3 10 therefore we can apply theorem 3 6 to conclude that the solution set s y v f y 0 is a sub m polyfold whose induced m polyfold structure is equivalent to the structure of a smooth manifold with boundary with corners this completes the proof of theorem 3 13 finally we note two immediate consequences of theorem 3 13 theorem 3 14 global implicit function theorem i if p y x is a strong bundle over an m polyfold x satisfying x 0 and if f a sc fredholm section having the property that at every point x in the solution set s y x f y 0 the linearization f x txx yx is surjective then s is a sub m polyfold of x and the induced m polyfold structure on s is equivalent to the structure of a smooth manifold without boundary in a later section we shall study the question how to perturb a sc fredholm section to guarantee the properties required in the hypotheses of theorem 3 14 and the following boundary version theorem 3 15 global implicit function theorem ii let p y x be a strong bundle over the tame m polyfold x and f a sc fredholm section having the prop erty that at every point x in the solution set s y x f y 0 the linearization f x txx yx is surjective and the kernel ker f x is in good position to the par tial cone cxx txx then s is a sub m polyfold of x and the induced m polyfold structure on s is equivalent to the structure of a smooth manifold with boundary with corners 3 7 conjugation to a basic germ 103 3 7 conjugation to a basic germ a useful criterion to decide in practice whether a filled version is conjugated to a basic germ is given in theorem 3 16 below we would like to point out a similar result due to k wehrheim in 70 the following criterion was introduced in 43 and employed to show that the nonlinear cauchy riemann operator occurring in the gromov witten theory defines a sc fredholm section theorem 3 16 basic germ criterion let u be a relatively open neighborhood of 0 in the partial quadrant c of the sc banach space e and let fff u f be a sc smooth map into the sc banach space f which satisfies the following conditions 1 at every smooth point x u the linerarization d fff x e f is a sc fredholm operator and the index does not depend on x 2 there is a sc splitting e b x in which b is a finite dimensional subspace of e containing the kernel of d fff 0 and x c such that the following holds for b b u small enough if b j b u is a sequence converging to b and if j x is a sequence which is bounded on level m and satisfying d fff b j j y j z j where y j 0 in fm and where the sequence z j is bounded in fm 1 then the sequence j possesses a convergent subsequence in xm 3 for every m 0 and 0 the estimate d 2 fff b 0 d 2 fff b x h m h m holds for all h em and for b b sufficiently small and for x xm 1 sufficiently small on level m i e we require x to be on level m 1 but x m small only for level m then the section f s is conjugated near 0 to a basic germ where sss is the constant sc section sss x fff 0 proof abbreviating y d fff 0 x f the restriction d fff 0 x x y is an injective and surjective sc operator since d fff 0 e f is a sc fredholm operator we find a finite dimensional sc complement a of y in f such that f y a denoting by p y a y the sc projection we consider the family b 7 l b of bounded linear operators defined by 104 3 basic sc fredholm theory l b p d fff b x x y it is not assumed that the operators l b depend continuously on b since b is a finite dimensional sc smooth space the map b u x y b x 7 p d fff b x is sc smooth if we raise the index by one then the map b u x 1 y 1 b x 7 p d fff b x is also sc smooth by proposition 1 6 lemma 3 11 there exists a relatively open neighborhood o of 0 in b c such that the composition p d fff b x y has a trivial kernel for every b o proof assuming that such an open set o does not exist we find a sequence b j b c satisfying b j 0 and a sequence h j x 0 satisfying h j 0 1 such that p d fff b j h j 0 then d fff b j h j z j is a bounded sequence in a in fact on every level since a is a smooth subspace and we consider the level 1 for the moment from property 2 we deduce that h j has a convergent subsequence in x 0 so without loss of generality we may assume h j h in x 0 and h 0 1 hence p d fff 0 h 0 in contradiction to the injectivity of the map p d fff 0 x the lemma is proved from the property 1 and the fact that p is a sc fredholm operator we conclude that p d fff x for smooth x are all sc fredholm operators having the same index in particular if b o then p d fff b x y is an injective sc fredholm operators of index 0 in view of lemma 3 11 and hence a sc isomorphism next we sharpen this result lemma 3 12 we take a relatively open neighborhood o of 0 in c b whose com pact closure is contained in o then for every level m there exists a number cm 0 such that for every b o we have the estimate p d fff b h m cm h m for all h xm proof arguing indirectly we find a level m for which there is no such constant cm hence there are sequences b j o and h j xm satisfying h j m 1 and p d fff b j h j m 0 after perhaps taking a subsequence we may assume that b j b in o from 3 7 conjugation to a basic germ 105 d fff b j h j p d fff b j h j y j 0 in fm we conclude in view of the property 2 for a subsequence that h j h in xm by continuity p d fff b h 0 and h m 1 in contradiction to the fact that p d fff b x y is a sc isomorphism for b o so far we have verified that the family b 7 l b meets the assumptions of the fol lowing lemma taken from 42 proposition 4 8 lemma 3 13 we assume that v is a relatively open subset in the partial quadrant of a finite dimensional vector space g we suppose further that e and f are sc banach spaces and consider a family of linear operators v l v having the following properties a for every v v the linear operator l v e f is a sc isomorphism b the map v e f v h 7 l v h is sc smooth c for every level m there exists a constant cm 0 such that for v v and all h em l v h m cm h m then the well defined map v f e v k 7 l v 1 k is sc smooth let us emphasize that it is not assumed that the operators v l v em fm depend continuously as operators on v in view of lemma 3 13 the map b y y b y 7 p d f b x 1 y is sc smooth we may assume that the finite dimensional space b is equal to rn and that e rn x and c 0 k rn k x is the partial quadrant in e hence b c 0 k rn k moreover we may identify the finite dimensional subspace a of f with rn a replacing if necessary the relatively open neighborhood u c of 0 by a smaller one we may assume in addition that b x u implies that b o we now define a strong bundle map 106 3 basic sc fredholm theory u rn y u rn y covering the identity u u by b x c y b x c p d fff b x 1 y we define the sc smooth germ hhh 0 by hhh b x fff b x fff 0 0 where b x fff 0 0 is a constant sc section we shall show that the push forward germ kkk hhh is a basic germ using dhhh d fff we compute kkk b x 1 p hhh b x p dhhh b x 1 phhh b x rn x the germ kkk is a sc smooth germ o 0 k rn k x 0 rn x 0 denoting by q rn x x the sc projection we shall verify that qkkk is a sc 0 contraction germ we define the sc smooth germ h rn x x by h b x x qkkk b x x p dhhh b x 1 phhh b x by construction h 0 0 0 the family l b x y of bounded linear operators defined by l b p d fff b x b b satisfies the assumptions of lemma 3 13 recalling now the condition 3 of the orem 3 16 we choose m 0 and 0 and accordingly take b b small and x x xm 1 small on level m then using the estimates in condition 3 and in lemma 3 13 we estimate recalling that p d 2 h b x p d 2 f b x h b x h b x m l b 1 l b x x phhh b x phhh b x m c 1 m p d 2 fff b 0 x x hhh b x hhh b x m c 1 m 1 0 p d 2 fff b 0 d 2 fff b tx 1 t x x x dt m c 1 m dm x x m the map b x 7 h b x is sc smooth therefore using the density of xm 1 in xm we conclude for every m 0 and 0 that the estimate h b x h b x m x x m holds if b b is small enough and x x xm are sufficiently small having verified that the push forward germ kkk hhh is a basic germ the proof of theorem 3 16 is complete 3 8 appendix 107 3 8 appendix 3 8 1 proof of proposition 3 3 we need to show the following proposition if n is a finite dimensional sc subspace in good position to the partial quadrant c in e then n c is a partial quadrant in n as a preparation for the proof we recall some tools and results from the appendix in 37 and begin with the geometry of closed convex cones and quadrants in finite dimensions a closed convex cone p in a finite dimensional vector space n is a closed convex subset satisfying p p 0 and r p p an extreme ray in a closed convex cone p is a subset r of the form r r x where x p 0 having the property that if y p and x y p then y r if the cone p has a nonempty interior then it generates the vector space n that is n p p a quadrant c in a vector space n of dimension n is a closed convex cone such that there exists a linear isomorphism t n rn mapping c onto 0 n we observe that a quadrant in n has precisely dim n many extreme rays the following version of the krein milman theorem is well known see exercise 30 on page 72 in 63 a proof can be found in the appendix of 37 lemma 6 3 lemma 3 14 a closed convex cone p in a finite dimensional vector space n is the closed convex hull of its extreme rays a closed convex cone p is called finitely generated provided p has finitely many extreme rays if this is the case then p is the convex hull of its finitely many extreme rays for example if c is a partial quadrant in the sc banach space e and n e is a finite dimensional subspace of e such that c n is a closed convex cone then c n is finitely generated lemma 3 15 let n be a finite dimensional vector space and p n a closed convex cone having a nonempty interior then p is a quadrant if and only if it has dim n many extreme rays the proof is given in 37 lemma 6 4 we consider the sc banach space e rn w containing the partial quadrant c 0 n w a point a c 0 n w rn w has the representation 108 3 basic sc fredholm theory a a 1 an a where a 1 an 0 n and a w by a we shall de note the collection of all indices i 1 n for which ai 0 and denote by ca the complementary set of indices in 1 n correspondingly we introduce the following subspaces in rn r a x rn x j 0 for all j 6 a r c a x rn x j 0 for all j 6 ca the next lemma and its proof is taken from the appendix in 37 the hypothesis that c n is a closed convex cone is crucial lemma 3 16 let n e be a finite dimensional smooth subspace of e rn w such that n c is a closed convex cone if a n c is a generator of an extreme ray r r x in n c then dim n 1 a if in addition n is in good position to c then dim n 1 a proof we assume r r a is an extreme ray in c n and abbreviate a and its complememnt in 1 n by c then r n c r c w let y c n r c w be a nonzero element since ai 0 for all i c there exists 0 so that a y n c r c w n c we conclude y r because r is an extreme ray given any element z n r c w we find 0 so that a z n c r c w and infer by the previous argument that a z r this implies that z r a hence dim n r c w 1 3 20 the projection p rn w r r c w r induces a linear map p n r 3 21 which by 3 20 has an one dimensional kernel therefore dim r dimr p dimn dimkerp dim n 1 next assume n is in good position to c hence there exist a constant c 0 and a sc complement n such that n n rn w and if n m n n satisfies m 0 c n 0 then n m c if and only if n c we claim that n r c w indeed let m be any element of n multiplying m by a real number we may assume m 0 c a 0 then a m c since a c this implies that mi 0 for all indices i a replacing m by m we conclude mi 0 for all i a so n r c w as claimed take k r a and write k 0 n m n n from n r c w 3 8 appendix 109 we conclude p n k hence the map p in 3 21 is surjective and the desired result follows having studied the geometry of closed convex cones and partial quadrants in finite dimensions we shall next study finite dimensional subspaces n in good position to a partial quadrant c in a sc banach space in this case n c can be a partial quadrant rather than a quadrant which requires some additional arguments we assume that n is a smooth finite dimensional subspace of e rn w which is in good position to the partial quadrant c 0 n w thus by definition there is a sc complement denoted by n of n in e and a constant c 0 such that if n m n n satisfies m 0 c n 0 then the statements n c and n m c are equivalent we introduce the subset if 1 n by a c n a 6 0 a 1 n and denote by c the complement 1 n the associated subspaces of rn are defined by r x rn x j 0 for j 6 and r c x rn x j 0 for j 6 c lemma 3 17 n r c w proof take m n we have to show that mi 0 for all i so fix an index i and let a be a nonzero element of c n such that i a multiplying a by a suitable positive number we may assume m 0 c a 0 since a c we infer that a m c this implies that ai mi 0 by definition of a we have ai 0 implying mi 0 replacing m by m we find mi 0 hence n r c w as claimed identifying w with 0 w we take an algebraic complement n of n w in n so that n n n w and e n n w n 3 22 let us note that the projection rn w rn restricted to n is injective so that dim n dim n 3 23 lemma 3 18 if the subspace n of e is in good position to the partial quadrant c then n is also in good position to c and the subspace n n w n is a good complement of n in e proof we define x x 0 since n is in good position to the quadrant c in e there exist a constant c 0 and a sc complement n of n in e such that if n m n n satisfies m c n then the statements n c and n m c are equivalent since e is a banach space and n is a finite dimensional subspace of e there is a constant c 1 0 such that n m c 1 n m for all n m n n to prove 110 3 basic sc fredholm theory that n is in good position to c we shall show that n n w n is a good complement of n in e let n m n n e and assume that m c 1 c n write m n 1 n 2 n w n since c 1 n 1 n 2 n 1 n 2 m c 1 c n we get n 2 c n note that n m n n 1 n 2 c if and only if n n 2 c since n 1 0 w since n 2 c n this is equivalent to n c it remains to show that n c has a nonempty interior by assumption n c has nonempty interior hence there is a point n n c and r 0 such that the ball bnr n in n is contained in n c write n n w where n n and w n w since n c and w w we conclude that n c hence n n c take bn r n the open ball in n centered at n and of radius r 0 we want to prove that c since c 0 n w rn w we have to prove for rn w that 0 n we estimate w n w n w n r so that w bnr n and hence w n c having identified w with 0 w we have w 0 w rn w consequently w w n c implies 0 n since also n one concludes that n c and that n belongs to the interior of n c in n the proof of lemma 3 18 is complete since by lemma 3 17 n r c w the good complement n n w n satisfies n r c w we claim that c n is a closed convex cone it suffices to verify that if a c n and a c n then a 0 we write a a a where a rn and a w then a a 0 n implies that a 0 so that a 0 a 0 w since a n and n is an algebraic complement of n w in n we conclude that a 0 moreover by lemma 3 18 n is in good position to c hence recalling lemma 3 16 we have proved the following result lemma 3 19 the intersection c n is a closed convex cone in n if a is a generator of an extreme ray in c n then dim n 1 a dc a 3 24 the position of n with respect to r c w is described in the next lemma lemma 3 20 either n r c w 0 or n r c w in the second case dim n 1 and 0 proof assume that n r c w 6 0 take a nonzero point x n r c w we know that n c has a nonempty interior in n and is therefore generated as the convex hull of its extreme rays by lemma 3 14 let a c n be a generator of an extreme ray r then ai 0 for all i c and hence a x c n for large 0 taking another large number 0 we get a a x c n since r r a is an extreme ray we conclude a x r a so that x r a consequently there is only one extreme ray in n c namely r r a with a r c w since n c 3 8 appendix 111 has a nonempty interior in n we conclude that dim n 1 hence n r a and n r c w from equation 3 24 we also conclude that ai 0 for all 1 i n this in turn implies that 0 since a r c w the proof of lemma 3 20 is complete we finally come to the proof of proposition 3 3 proof proposition 3 3 we consider according to lemma 3 20 two cases starting with the first case we assume that n r c w 0 the projection p n n r r c w r induces the linear map p n r 3 25 take k r and write k 0 n m n n since n r c w we conclude that p n m p n k so that p is surjective if n n and p n 0 then n n r c w 0 by assumption hence the map in 3 25 is a bijection by lemma 3 15 c n is a quadrant in n we shall show that p maps the quadrant c n onto the standard quadrant q 0 in r let a be a nonzero element in c n generating an extreme ray r r a then by lemma 3 16 dim n 1 a and since dim n there is exactly one index i for which ai 0 further ai 0 for all i c by definition of this implies that there can be at most dim n many extreme rays indeed if a and a generate extreme rays and ai a i 0 for some i then ak a k 0 for all k i hence from a j 0 for all j c we conclude a a c for large 0 therefore a r a implying that a and a generate the same extreme ray as a consequence n c has precisely dim n many extreme rays because n c has a nonempty interior in view of lemma 3 18 hence the map p in 3 25 induces an isomorphism n n c r q this implies that n c n is isomorphic to rdim n 0 rdim n in the second case we assume that n r c w from lemma 3 20 0 and n r a for an element a c n satisfying ai 0 for all 1 i n hence n n c is isomorphic to r r and therefore n n c is isomorphic to r r since in this case n n the proof of proposition 3 3 is complete we would like to add two results which makes use of the previous discussion 112 3 basic sc fredholm theory proposition 3 6 let n be a sc smooth finite dimensional subspace of e rn w in good position to the partial quadrant c 0 n w if x n c then 1 dn c x dc x if x 6 n w 2 dn c x dim n dim n w if x n w here we identify w with 0 n w proof we make use of the previous notations and distinguish the two case dimn 1 and dimn 1 if dimn 1 then n is spanned by a vector e a 1 an w rn w in which a j 0 for all 1 j n this implies that n n c is isomorphic to r 0 if x n c then x te for some t 0 if in addition x 6 n w then t 0 and hence dn c x 0 dc x if however x n w then t 0 implying that dn c x 1 dimn now we assume that dimn 1 and that n is the algebraic complement of n w in n so that n n n w we may assume after a linear change of coordinates that n is represented as follows the linear subspace n is spanned by the vectors e j rn w for 1 j m dim n of the form e j a j b j w j rm rn m w where a j is the standard basis vector in rm b j b j 1 b j n m rn m satisfies b j i 0 for all 1 i n m and w j w if e j 0 w j 0 n w for m 1 j k k dimn is a basis of the finite dimensional subspace n w then the vectors e 1 ek form a basis of n n n w it follows that n n c is isomorphic to rk 0 m rk m now we assume that x n c if x n c then x m j 1 je j k j m 1 je j n n w 3 26 with j 0 for all 1 j m and dn c x 1 j m j 0 if in addition x n w then j 0 for all 1 j m and we conclude that dn c x m dimn dim n w if x n c n w then there is at least one index j 0 in 1 j 0 m for which j 0 0 this implies in view of and 3 26 that x m j 1 e j x 1 xn w rn w satisfies xs 0 for all m 1 s n since b j i 0 for all 1 i n m and m 1 j n using that a j in are vectors of the standard basis in rm it follows for 3 8 appendix 113 1 s m that xs 0 if and only if s 0 this shows that dn c x dc x if x 6 n w and completes the proof of proposition 3 6 lemma 3 21 let n be a sc smooth finite dimensional subspace of e rn w in good position to the partial quadrant c 0 n w whose good complement in e is y we assume that n c y 1 is a c 1 map satisfying 0 0 and d 0 0 then dn c v dc v v for all v n c n w close to 0 proof since n is in good position to c and y is a good complement of n is e there exists a constant exists a constant 0 such that if n n and y y satisfy y 0 n 0 then n c if and only if n y c it follows in view of 0 0 and d 0 0 that v 0 v 0 for v n c close to 0 now proceeding as in the proof of proposition 3 6 we distinguish the two cases dimn 1 and dimn 2 in the first case n is spanned by a vector e a w rn w in which a a 1 an satisfies a j 0 for all 1 j n take v n c n w then v t a w for t 0 so that dn c v 0 we already know that v j j v 0 for all 1 j n so to prove the lemma it suffices to show that v j j v 0 for 1 j n and v n c n w close to 0 arguing by contradiction we assume that there exists a sequence tk 0 such that if vk tka then vki i v k 0 for some index 1 i n then 0 6 a a 0 vki vk 0 i vk vk 0 which leads to a contradiction since the right hand side converges to 0 in view of 0 0 and d 0 0 consequently dc v v 0 for all v n c n w which are close to 0 in the case dimn 2 we use the notation introduced in the proof of proposition 3 6 if v v 1 vk w n c n w then in view of 1 in the proof of proposition 3 6 dn c v 1 i k vi 0 and there exists at least one index 1 i k for which vi 0 this implies in particular that v j 0 for all k 1 j n moreover in view of lemma 3 17 the good complement y of n is contained in 0 m rn m w from this we conclude that v j j v v j for all 1 j m hence in order to finish the proof it suffices to show that v j j v 0 for all m 1 j n in order to verify this we introduce the sc linear map t n rk defined by t el el for 1 l k dimn where e 1 ek of rk then t n c c 0 m rk m and dn c v dc t v we consider the map g c rn w defined by g v t 1 v t 1 v 114 3 basic sc fredholm theory for v v 1 v k c close to 0 since v v c g v c for v c close to 0 we prove our claim by showing that g j v 0 for m 1 j n and nonzero v c close to 0 arguing by contradiction we assume that there exists a point v c different from 0 at which g j v 0 for some m 1 j n we have v i 0 for some 1 i m so that v tei c for t small then we compute d dt g j v tei t 0 bij d j v t 1 ei bij d j v e i since the map is of class c 1 and d 0 0 and bij 0 we conclude that the deriva tive is positive and hence the function t 7 g j v tei is strictly increasing for t small by assumption g j v 0 hence g j v tei 0 for t 0 small contradicting g j v tei 0 for t small consequently v j j v 0 for all m 1 j n and all v n c n w sufficiently close to 0 and since v j j v v j for 1 j m we conclude dn c v dc v v for v n c n w close to 0 the proof of lemma 3 21 is complete 3 8 2 proof of lemma 3 9 we recall the statement for the convenience of the reader lemma 3 22 the kernel k kerdh 0 rn of the linearization dh 0 is in good position to the partial quadrant c 0 k rn k in rn moreover there exists a good complement z of k in rn so that k z rn having the property that z w is a good complement of k kerdg 0 in e e k z w proof the space e rn w is equipped with the norm 0 we use the equiv alent norm defined by a w max a 0 w 0 for a w rn w the ker nel k kerdg 0 rn w is in good position to the partial quadrant c 0 k rn k w and y is a good complement of k in e so that k y e we recall that by the definition of good position there exists 0 such that if k k and y y satisfy y k 3 27 then k y c if and only if k c 3 28 3 8 appendix 115 let y 0 be an algebraic complement of y w in y where we have identified w with 0 n w so that y y 0 y w we claim that the projection p rn w rn restricted to y 0 is injection in deed assume that x a w y 0 rn w satisfies that p x 0 then a 0 and x 0 w since x 0 w y w and y 0 y w 0 we conclude that x 0 so that indeed p y 0 is an injection introducing the subspace z p y 0 we claim that rn k z to verify the claim we take a rn and let x a 0 since rn w k y there are unique elements k k and y y such that x k y in view of lemma 3 44 the element k k is of the form k d 0 for a unique k the element y y is of the form y b w rn w hence x a 0 k y d 0 b w b d 0 w showing a b on the other hand since y y 0 y w we have b w b w 1 0 w 2 for w 1 w 2 w such that b w 1 y and 0 w 2 y w hence b p b w 1 z and therefore a b k z as claimed from this it follows that dimz n dim k and we choose a subspace z of z of dimension dimz n dim k so that rn k z recalling that the projection p y 0 z is an isomorphism we have p 1 z y we shall prove k is in good position to the partial quadrant c 0 k rn k in rn and z is a good complement of k so that k z rn in view of the fact that the map p 1 z y 0 is an isomorphism and z z there exists a constant a such that p 1 z a z for all z z 3 29 moreover by lemma 3 7 the map l k k defined by l d 0 is an isomorphism and hence there exists a constant b such that l d 0 b d 0 for all k 3 30 we choose 0 such that a b where 0 is the constant from the condition 3 27 we claim that if z z and k satisfy z 3 31 then z c if and only if c 3 32 since z z z there exists a unique w w such that p 1 z z w y 0 then we estimate using 3 29 3 31 and then 3 30 z w p 1 z a z a b d 0 d 0 thus z w y 0 y and d 0 k satisfy the estimate 3 27 and it fol lows that 116 3 basic sc fredholm theory z w d 0 c if and only if d 0 c 3 33 since z w d 0 z w d 0 rn w 3 33 implies that z c if and only if c proving our claim 3 32 and we see that z is a good complement of k in rn next we set y z w and claim that k y rn w and that y is a good complement of k in e rn w we first verify that rn w k y take a w rn w then since rn w k y there are unique elements d 0 k where k and b w 1 y such that a w d 0 b w 1 k y 3 34 hence a b since rn k z we may decompose b as b 1 b 1 with 1 k and b 1 z and then 3 34 can be written as a w d 0 b w 1 d 0 1 b 1 w 1 d 0 1 d 0 1 b 1 w 1 d 0 1 1 d 0 1 b 1 w 1 d 0 1 where 1 d 0 1 k since 1 k and b 1 w d 0 1 z w y since b 1 z hence rn w k y as claimed if d 0 k y k z w then k z so that 0 and k y 0 and we have proved that z y rn w finally we shall show that y z w is a good complement of k in rn w recalling the isomorphism l k k l d 0 there exists a constant m such that l 1 m i e d 0 m for all k we choose 0 such that m where is defined in 3 31 we shall show that if d 0 k and a w z satisfy the estimate a w d 0 3 35 then a w d 0 c if and only if d 0 c 3 36 since a w max a 0 w 0 a we conclude from 3 36 and 3 35 the esti mate a a w d 0 m 3 8 appendix 117 in view of 3 31 and 3 32 a c if and only if c this is equivalent to a w d 0 c if and only if d 0 c hence 3 36 holds and the proof that y z w is a good complement of k is complete the proof of lemma 3 9 is finished 3 8 3 proof of lemma 3 10 we recall the statement for the convenience of the reader lemma 3 23 let c e be a partial quadrant in the sc banach space e and n e a finite dimensional smooth subspace in good position to c and let y be a good complement of n in e so that e n y we assume that v n c is a relatively open neighborhood of 0 and v y 1 a map of class c 1 satisfying 0 0 and d 0 0 then there exists a relatively open neighborhood v v of 0 such that the following holds 1 v v c 1 for v v 2 for every v v the banach space y y 0 is a topological complement of the linear subspace nv n d v n n n 3 for every v v there exists a constant v 0 such that if n nv and y y satisfy y 0 v n 0 then n cx if and only if n y cx are equivalent where x v v proof proof of lemma 3 10 we shall use the notations of proposition 3 6 since the smooth finite dimensional subspace n of e is in good position to c and y is its good complement so that e n y there exists a constant 0 such that if n n and y y satisfy y 0 n 0 3 37 a then y n c if and only if n c 3 37 b 1 the c 1 map v y 1 satisfies 0 0 and d 0 0 so that 118 3 basic sc fredholm theory lim v 0 v 0 v 0 0 consequently there exists a relatively open neighborhood v v of 0 in n such that v 0 v 0 for all v v since v v c we conclude from 3 37 b that v v c for all v v in addition since v consists of smooth points and v y 1 we have v v c 1 for all v v 2 by assumption e n y and d v n y for all n n if x n y n y e then y n d v n y d v n showing that e nv y if n d v n y n d v n y for some n n n and y y y then n n y y d v n n n y hence n n and y y showing that nv y 0 and hence e nv y that the subspace y is a topological complement of nv follows from the fact that nv is a finite dimensional subspace of e 3 without loss of generality we may assume e rn w and c 0 n w we recall that for x c the set cx is defined by cx a w rn w ai 0 for all 1 i n for which xi 0 and if xi 0 for all i n we set cx e clearly if x 0 w rn w then cx c if v 0 then x v v 0 so that cx c and the statement of the corollary follows from the fact that nv n and n is in good position to c having the good complement y in order to prove the statement for v 6 0 we distinguish thew two cases dimn 1 and dimn 1 in the first case the proof of lemma 3 21 shows that v j j v 0 for all 1 j n this implies that cx e and that in view of 2 y is a good complement of nv with respect to cx in the second case dimn 1 and we denote by n the algebraic complement of n w in n where w is identified with w 0 n w so that n n n w we may assume after a linear change of coordinates that the following holds a the linear subspace n is spanned by the vectors e j for 1 j m dim n of the form e j a j b j w j where a j are the vectors of the standard basis in rm b j b j 1 b j n m satisfy b j i 0 for all 1 i n m and w j w b the good complement y of n in e is contained in 0 m rn m w denoting by e j 0 w j 0 n w m 1 j k dimn a basis of n w the vectors e 1 ek form a basis of n we choose 0 2 where is the constant from 3 37 a and define the open neighborhood v of 0 in n c consisting of points v v satisfying d v n 0 n 0 for all n n we consider points v v belonging to n w where we identify w with 0 n w hence v is of the form v 0 w 0 n w then v 0 v 0 and since v c we conclude that v v and v v belong to the partial quadrant c this implies 3 8 appendix 119 that i v 0 for all 1 i n and cx c where x v v 0 w we choose a positive constant v such that v 1 abbreviating h n d v n nv for some n n and taking y y we assume that y 0 0 h 0 v n d v n 0 3 38 we claim that y h cx if and only if h cx suppose that y h y n d v n cx c then we estimate using 3 38 y d v n 0 y 0 d v n 0 v h d v n d v n 0 v v n 0 n 0 3 39 since y d v n y and by assumption y h y d v n n cx c we deduce from 3 39 and 3 37 b that n c then the estimate d v n 0 n 0 n 0 and again 3 37 b imply that h n d v n c as claimed conversely the assumption that h n d v n c implies in view of d v h 0 h 0 and 3 37 b that n c then using 3 39 we find hat y d v n h y h c we have proved that if h nv and y y satisfy y 0 v h 0 then y h cx if and only if h cx finally we consider points v v 1 vn w n c n w then vi 0 for some 1 i m and v j 0 for all m 1 j k moreover in view of the proof of the statement 1 u 0 v 0 which implies that v v c if v is close to 0 it follows from the proof of lemma 3 21 that v j j v 0 for all m 1 j n abbreviating x v v and denoting by x the set of indices 1 j n for which x j 0 we conclude cx a w rn w a j 0 for all 1 j m satisfying j 6 x recall that nv n d v n n n and e nv y in view of the statement 2 now the inclusion y 0 m rn m w and the definition of cx above show that if h n d v n nv and y y then y h cx if and only if h cx this completes the proof of lemma 3 10 3 8 4 diffeomorphisms between partial quadrants in the sections 3 8 4 and 3 8 5 we shall prove an inverse function theorem and an implicit function theorem for smooth maps defined on partial quadrants in rn we recall that the closed subset c rn is a partial quadrant if there exists an isomor phism l of rn mapping c onto l c 0 k rn k for some k we begin with a definition 120 3 basic sc fredholm theory definition 3 17 class c 1 let c be a partial quadrant in rn and f u rm a map defined on a relatively open subset u c the map f is said to be of class c 1 if for every x u there exists a bounded linear map d f x rn rm such that lim x h u h 0 f x h f x d f x h h 0 and in addition the map d f u l rn rm x 7 d f x is continuous we note that the tangent tu u rn is a relatively open subset of the partial quadrant c rn and the map t f tu trm defined by t f x h f x d f x h is continuous if the maps f and t f are of class c 1 then we say that f is of class c 2 inductively the map f is ck if the maps f and t f are of class ck 1 finally f is called smooth or c if f is of class ck for all k 1 we consider the following situation assume c is a partial quadrant in rn and u c a relatively open neighborhood of 0 in c let f u c be a smooth map such that f 0 0 and d f 0 rn rn an isomorphism even if d f 0 c c one cannot guarantee that the image f o of an open neighborhood o of 0 in c is an open neighborhood of 0 in c as figure 3 4 illustrates f o f o fig 3 4 the boundary tangents at 0 0 are the x and y axis but the domain in the right picture is not an open neighborhood of 0 0 our aim in this section is to derive an inverse and implicit function theorem in this context 3 8 appendix 121 theorem 3 17 quadrant inverse function theorem we assume that c is a par tial quadrant in rn and u c a relatively open neighborhood of 0 and consider a smooth map f u rn satisfying f u c and having the following properties 1 f 0 0 and d f 0 c c 2 dc x dc f x for every x u then there exist two relatively open neighborhoods u and v of 0 in c such that u u and the map f u v is a diffeomorphism from rn c c and d f 0 c c it follows that d f 0 rn rn is an isomor phism therefore it suffices to study the map g u c defined by g x d f 0 1 f x the map g has the same properties 1 and 2 but has the simplifying feature that dg 0 1 theorem 3 17 is a consequence of the following proposition proposition 3 7 we assume that c is a partial quadrant in rn and u c a rela tively open convex neighborhood of 0 and let f u c be a smooth map having the following properties 1 f 0 0 2 d f x 1 1 2 for all x u 3 dc x dc f x for every x u then v f u is a relatively open neighborhood of 0 in c and the map f u v is a diffeomorphism that is f and f 1 are smooth in the sense defined above the proof of proposition 3 7 follows from three lemmata proved below lemma 3 24 with the assumptions of proposition 3 7 the image v f u is a relatively open subset of c and f u v is an open map moreover 1 2 x x f x f x 3 2 x x x x u 3 40 proof abbreviating g x x f x and g x 1 d f x and using the convexity of the set u we obtain the identity g x g x 1 0 g x 1 x d x x for x x u from which the desired estimate 3 40 follows in view of property 2 we conclude in particular that the map f u v is injective 122 3 basic sc fredholm theory in order to show that the image v f u is a relatively open subset of c we take a point y v then f x y for a unique x u and since u is a relatively open subset of c there exists r 0 such that b x 3 r c u here we denoted by b x 3 r the open ball in rn centered at x and having radius 3 r we claim that b y r c v in order to prove our claim we first show that y b x r c dc y 0 v to see this we take a point x 0 b x 3 r c such that dc x 0 0 and let y 0 f x 0 by property 3 dc y 0 0 next we take an arbitrary point y 1 b y r c also satisfying dc y 1 0 and consider the points y 1 y 0 y 1 for 0 1 abbreviating 0 1 y v and sup we assume that 1 we note that is non empty since 0 and dc y 0 then we choose a sequence n such that n and the corresponding sequence of points y n belonging to b y r c satisfying y n y since y n v we find points xn u such that f xn y n and dc xn dc y n 0 by 3 40 xn x 2 f xn f x 2 y n y 2 r and xn xm 2 y n y m which show that xn is a cauchy sequence belonging to b x 2 r hence xn con verges to some point x belonging to b x 2 r by continuity of f f x y and the point x belongs to the interior of c since by property 3 dc x dc y 0 now the classical inverse function theorem implies that there are open neighbor hoods w and w of x and y f x both contained in the interior of c such that the map f w w has a continuous inverse f 1 w w in particular if 0 is small then y v contradicting 1 summing up we have proved our claim that y b y r c dc y 0 v next we take any point y b y r c satisfying dc y 1 we find sequences yn b y r c and xn f 1 yn satisfying dc yn dc xn 0 and yn y 0 from 3 40 we have xn x 2 yn y 2 r and xn xm 2 yn ym from which we deduce the convergence of the sequence xn to some point x b x 3 r c hence f x y implying that y v this shows that b y r c v and that v is a relatively open subset of c finally to see that f u v maps relatively open subsets onto relatively open subsets we take an open subset u of u since u can be written as a union of relatively open convex subsets of c employing the previous arguments we conclude that v f u is an open subset of v the proof of lemma 3 24 is complete from the above lemma we obtain immediately the following corollary corollary 3 7 with the assumptions of proposition 3 7 the map f u v is a smooth homeomorphism between the relatively open subsets u and v of c 3 8 appendix 123 we would like to point out that we cannot employ the usual implicit function the orem it only applies at interior points therefore we must provide an argument for the smoothness of the inverse map f 1 one could try to avoid work by first showing that f can be extended to a smooth map defined on an open neighborhood of 0 in rn however our notion of smoothness does not stipulate that f is near every point the restriction of a smooth map defined on an open subset of rn this would complicate the construction of a smooth extension lemma 3 25 with the assumptions of proposition 3 7 the iterated tangent map t k f t ku t kv is a smooth homeomorphism proof the set t kc is a partial quadrant in t krn and the sets t ku and t kv are relatively open subsets of t kc then the iterated tangent map t k f t ku t kv is smooth since the map f u v is smooth hence we only have to show that t k f has an inverse t k f 1 t kv t ku which is continuous in order to prove this we proceed by induction starting with k 1 we introduce the map 1 tv tu defined by 1 y l f 1 y d f f 1 y 1 l the map 1 is continuous since by corollary 3 7 the map f u v is a homeo morphism moreover 1 t f x h f 1 f x d f f 1 f x 1 d f x h x h and similarly t f 1 1 hence 1 is an inverse of the tangent map t f this together with the continuity of t f and 1 show that t f is a homeomorphism as claimed now we assume that result holds for k 1 and we show that t k 1 f t k 1 u t k 1 v is a homeomorphism recalling that t k 1 u t ku t krn we define the map k 1 t kv t krn t ku t krn k 1 y l t k f 1 y d t k f t k f 1 y 1 l by the inductive assumption the map t k f t kv t ku is a homeomorphism and hence k 1 is well defined and continuous moreover k 1 t k 1 f x h k 1 t k f x d t k f x h t k f 1 t k f x d t k f t k f 1 t k f x 1 d t k f x h x d t k f x 1 d t k f x h x h 124 3 basic sc fredholm theory and similarly t k 1 f k 1 1 hence the map k 1 is a continuous inverse of the iterated tangent map t k 1 f this completes the inductive step and the proof of the lemma lemma 3 26 let u be a relatively open subset of a partial quadrant c rn and f u c a smooth map satisfying the assumptions of theorem 3 7 we assume that the image v f u is a relatively open subset of c and f u v a homeo morphism such that d f x is invertible at every point x u then the inverse map g f 1 is of class c 1 and its derivative at the point y v is given by dg y d f g y 1 proof by assumption the map f u v is a homeomorphism this implies that g v u is also a homeomorphism and the map v l rn defined by y 7 d f g y 1 is continuous next we take y 0 v and h rn satisfying y 0 h v then there are unique points x 0 and x 0 u such that f x 0 y 0 and f x 0 y 0 h recalling the abbreviation g f 1 we note that g y 0 x 0 g y 0 h g y 0 and f x 0 f x 0 h and compute 1 h g y 0 h g y 0 d f x 0 1 h 1 h d f x 0 1 f x 0 f x 0 h 1 d f x 0 1 f x 0 f x 0 d f x 0 from 3 40 in lemma 3 24 we obtain 12 h 3 2 so that h 0 if and only if 0 the limits vanish since f is differentiable at x 0 the proof of the lemma is finished now we are in the position to prove proposition 3 7 proof proof of proposition 3 7 under the hypotheses of the proposition the pre vious discussion shows for every k that t k f t ku t kv satisfies the hypotheses of lemma 3 26 for a suitable choice of data i e taking t kc as partial quadrant in t krn hence we conclude that t k f 1 is c 1 which precisely means that t kg is c 1 in other words g is of class c 1 k since k is arbitrary we conclude that g is c 3 8 appendix 125 3 8 5 an implicit function theorem in partial quadrants we shall prove a version for the classical implicit function theorem for maps defined on partial quadrants theorem 3 18 we assume that u is relatively open neighborhood of 0 in the partial quadrant c 0 k rn k in rn and consider a map f u rn of class c j j 1 satisfying f 0 0 moreover we assume that d f 0 rn rn is surjective and the kernel k kerd f 0 is in good position to c and let y be a good complement of k in rn so that rn k y then there exist an open neighborhood v of 0 in the partial quadrant k c and a map v y of class c j and positive constants having the following proper ties 1 0 0 d 0 0 and k k u if k v 2 if k v satisfies k then k 3 if f k y 0 for k v satisfying k and y y satisfying y then y k the proof will follow from several lemmata where we shall us the notations x k y k y k y for k k and y y interchangeably the restriction d f 0 y y rn is an isomorphism and we abbreviate its inverse by l d f 0 y 1 y rn instead of studying the solutions f y 0 we can as well study the solutions of f x 0 where f is the composition f l f it satisfies d f 0 k 0 if k k and d f 0 y y if y y in abuse of notation we shall in the following denote the composition f l f by the old letter f again we may therefore assume that f u k y y has the form f k y y b k y 3 41 where b 0 0 0 and db 0 0 0 3 42 by bk a we denote the open ball in k of radius a centered at 0 similarly by b is the open ball in y of radius b centered at 0 lemma 3 27 there exist constants a 0 and b 0 such that 1 bk a by b c u 126 3 basic sc fredholm theory 2 b k y b k y 1 2 y y for all k bk a c and y y by b c moreover if f k y f k y for k y and k y bk a by b c then y y proof it is clear that there exists constants a b 0 such that 1 holds to verify 2 we estimate for k y and k y bk a by b c b k y b k y 1 0 d 2 b k sy 1 s y ds y y 3 43 in view of db 0 0 0 we find smaller a b such that d 2 b k y 1 2 for all k y bk a by b c so b k y b k y 1 2 y y as claimed in 2 if f k y f k y for two point k y k y bk a by b c then y b k y y b k y and using 2 y y b k y b k y 1 2 y y which implies y y this completes the proof of lemma 3 27 to continue with the proof of the theorem we recall that k is in good position to c and y is a good complement of k in rn therefore there exists 0 such that for k k and y y satisfying y k the statements k y c and k c are equivalent lemma 3 28 replacing a by a smaller number while keeping b we have b k y k for all k bk a c and y k proof first we replace a by a perhaps smaller number such that a b if k bk a c and y k then k y c and k y 1 k 1 a intro ducing c a 1 max x b 1 a db x we observe that c a 0 as a 0 in view of db 0 0 0 then we estimate for k bk a c and y y satisfying y k using that b 0 0 0 3 8 appendix 127 b k y 1 0 db sk sy ds k y max x b 1 a db x 1 k c a k 3 44 the assertion follows if we choose a so small that c a now we take a 0 so small that c a 2 and keep the original b 0 for every k bk a c we set xk by k and x k bk a c xk clearly x u by lemma 3 28 b k xk xk and by lemma 3 27 the map b k is a contraction therefore it has a unique fixed point k xk satisfying k b k k we claim that if y by b c and b k y y for some k bk a c then y k indeed since b k k k it follows that f k y f k k and lemma 3 27 shows that y k as claimed lemma 3 29 the map bk a c by b is continuous and satisfies k k 2 proof in view of 3 44 the estimate k k 2 follows from k b k k c a k and from the choice c a 2 in order to prove continuity of we fix a point k 0 bk a c and use lemma 3 27 to estimate k k 0 b k k b k 0 k 0 b k k b k k 0 b k k 0 b k 0 k 0 1 2 k k 0 b k k 0 b k 0 k 0 this implies k k 0 2 b k k 0 b k 0 k 0 2 1 0 d 1 b sk 1 s k 0 k 0 ds k k 0 k k 0 3 45 where we have used our choice of a that c a 1 maxx b 1 a db x 2 this finishes the proof of the continuity of the map 128 3 basic sc fredholm theory lemma 3 30 if f u rn is of class c j j 1 then the map bk a c by b is also of class c j proof we fix the point k bk a c and assume that k k bk a c then we abbreviate a k 1 0 d 2 b k k s k k 1 s k d 2 b k k ds r k b k k k b k k d 1 b k k k using the fixed point property k b k k and k k b k k k k we compute k k k d 1 b k k k b k k k k b k k d 1 b k k k b k k k b k k d 1 b k 0 k 0 b k k k k b k k k r k a k k k k d 2 b k k k k k therefore 1 d 2 b k k k k k d 1 b k k k r k a k k k k now r k k 0 and a k 0 as k 0 moreover in view of 3 45 k k k k k k consequently lim k 0 1 k k k k 1 d 2 b k k 1 d 1 b k k k 0 this shows that the map is differentiable at the point k and its derivative d k l k y is given by the familiar formula d k k 1 d 2 b k k 0 1 d 1 b k k k the formula shows that 7 d k is continuous since and db are continuous maps consequently the map is of class c 1 we also note that differentiating k b k k we obtain d k k d 2 b k k d k k d 1 b k k k db k k k d k k if now f is of class c 2 we define the c 1 map f 1 v k y y y y 3 8 appendix 129 by f 1 k h y y b k y db k y h y b k y db k y h and find by the same reasoning as before using that d 2 b k y for small k y is contractive that the associated family of fixed points k h 7 k d k h is of class c 1 near 0 0 in particular the map is of class c 2 near k 0 proceeding by induction we conclude that is of class c j on a possibly smaller neighborhood v of 0 in k the proof of theorem 3 18 is finished chapter 4 manifolds and strong retracts the previous chapter showed that a solution set of a sc fredholm is a sub m polyfold whose induced polyfold structure is equivalent to the structure of a finite dimensional smooth manifold with boundary with corners in this chapter we shall study these objects in more details 4 1 characterization a smooth manifold with boundary with corners is a paracompact hausdorff space m which admits an atlas of smooth compatible quadrant charts v u c rn where v u is a homeomorphism from an open subset v m onto a rela tively open set u of the partial quadrant c of rn a m polyfold x is a paracompact hausdorff space which in addition is equipped with a sc structure this prompts the following definition definition 4 1 a m polyfold x has a compatible smooth manifold structure with boundary with corners if it admits an atlas a consisting of sc smoothly compati ble charts v u c rn where v u is a sc diffeomorphism from the open set v x onto the relatively open set u c of the partial quadrant c in rn or in a finite dimensional vector space e the transition maps between the charts are sc diffeomorphisms between relatively open subsets of partial quadrants in finite dimensional vector spaces and therefore are classically smooth maps i e of class c consequently the atlas a defines the structure of a smooth manifold with boundary with corners we also note that from the definition it follows immediately that a compatible smooth manifold structure with boundary with corners if it exists is unique the aim of section 4 1 is the proof of the following characterization 131 132 4 manifolds and strong retracts theorem 4 1 characterization for a tame m polyfold x the following state ments are equivalent 1 x has a compatible smooth manifold structure with boundary with corners 2 x 0 x and the identity map 110 x x 1 x 7 x is sc smooth moreover every point x x is contained in a tame sc smooth polyfold chart v o c e satisfying x 0 o and the tangent space t 0 o is finite dimensional and in good position to the partial quadrant c in the sc banach space e remark 4 1 if x 0 x the identity map 110 x x 1 has as its inverse the identity map 101 x 1 x the map 101 is always sc smooth hence if the map 1 1 0 x x 1 is sc smooth it is a sc diffeomorphism there is a subtle point in 2 if x 0 x then xm x 0 as sets for all m 0 however it is possible that x 1 6 x as sc smooth spaces despite the fact that x 1 m xm 1 xi as sets in other words it is possible that as m polyfolds x 1 6 x even if the underlying sets are the same indeed recalling the definition of sc differentiability one realizes that the sc smoothness of 1 x x is completely different from the sc smoothness of 1 x x 1 this is the reason we use the notation 110 for the identity map x x 1 in contrast if x is a finite dimensional vector space equipped with the constant sc structure then x x 1 as sc spaces the proof of theorem 4 1 requires some preparations and we start with a definition where we denote as usual with u c e a relatively open set u in the partial quadrant c of the sc banach space e definition 4 2 sc retraction a sc smooth retraction r u u is called a sc retraction if r um um 1 for all m 0 and if r u u 1 is sc smooth similarly if v x is an open subset of a m polyfold x we call the sc smooth retraction r v v a sc retraction if r v v 1 is sc smooth lemma 4 1 let o c e be a sc smooth retract and suppose that there exists a relatively open subset u c and a sc retraction t u u onto t u o then every sc smooth retraction s v v of a relatively open subset v c satisfying s v o is a sc retraction proof by assumption the sc smooth map t u u satisfies t t t and t u o in addition t u u 1 is sc smooth if now s v v is a sc smooth retraction onto s v 0 then t s v s v and hence s t s in view of the properties of t the composition t s v v 1 is sc smooth and hence s v v 1 is sc smooth as claimed 4 1 characterization 133 definition 4 3 sc retract the sc smooth retract o c e is a sc retract if there exists a relatively open subset u c and a sc retraction t u u onto t u o in view of the lemma 4 1 the choice of t is irrelevant being a sc retract is an intrinsic property of the sc smooth retract o c e lemma 4 2 if r u u is a sc retraction onto the sc smooth retract o c e then 1 r u o o i e consists of smooth points 2 at every point o o the tangent space too dr o e is finite dimensional proof 1 if x u then by definition r x u 1 and using r r r r x r r x u 2 continuing this way we conclude that r x m 0 um u hence r u o u o 2 at the point o o the linearization dr o e e is in view of 1 well defined and it is a sc operator since r is a sc map consequently dr o e e is a compact operator between every level therefore the image of the projection dr o namely dr o e too must be finite dimensional this proves the lemma the sc retracts are characterized by the following proposition proposition 4 1 a sc smooth retract o c e is a sc retract if and only if o 0 o and 110 o o 1 is sc smooth proof if o c e is a sc retract there exists a sc retraction r u u onto r u o the retract has the induced m polyfold structure defined by the scaling om r um and o 1 inherits this structure so that o 1 m om 1 for all m 0 in view of lemma 4 2 o o hence the identity map 110 o o 1 is well defined according to definition 2 4 the map 110 is sc smooth provided the composition 1 1 0 r u e 1 is sc smooth which is the case because r is a sc map in order to prove the opposite direction we assume that o o and 110 o o 1 is sc smooth let r u u be a sc smooth retraction onto o r u then the composition u r o 1 1 0 o 1 inclusion u 1 is sc smooth the composition agrees with the map r u u 1 and the lemma is proved the proof of theorem 4 1 will make use of the following technical result 134 4 manifolds and strong retracts proposition 4 2 let o c e be a sc retract and t u u a sc retraction of the relatively open subset u c onto o t u we assume that 0 o and the the tangent space t 0 o which by lemma 4 2 is finite dimensional is in good position to the partial quadrant c we denote by y a good complement of t 0 o so that e t 0 o y and denote by p e t 0 o y t 0 o the associated sc projection then there exist open neighborhoods u of 0 in o and v of 0 in t 0 o c such that p u v is a sc diffeomorphism remark 4 2 we note that v t 0 o c t 0 o is a local m polyfold model because t 0 o c is a partial quadrant in t 0 o in view of proposition 3 3 the proof of propo sition 4 2 is based on the implicit function theorem for sc fredholm sections proved in the previous chapter proof proof of proposition 4 2 we recall that u is a relatively open neighborhood of 0 in the partial quadrant c of the sc banach space e moreover t u u is a sc retraction onto o t u which contains 0 in view of lemma 4 2 the tangent space t 0 o dt 0 e is a smooth subspace of finite dimensions by assumption t 0 o lies in good position to c accordingly there exists a good sc complement y of t 0 o in e so that e t 0 o y it has the property that there exists 0 0 such that for a y t 0 o y satisfying y 0 a 0 the statements a c and a y c are equivalent we shall use in the following the notation u a y t 0 o y and denote by p the sc smooth projection p e t 0 o y t 0 o now we consider the local strong bundle u y u and the sc smooth section f u u y f u u fff u whose principal part fff u y is defined by fff u 1 p u t u we observe that if u o then u t u and hence fff u 0 we shall show later on that there are no other solutions u u of fff u 0 locally near u 0 lemma 4 3 the section f is sc fredholm 4 1 characterization 135 proof in order to verify that the sc smooth section f is regularizing we take u a y um and assume that fff u y 1 p t a y ym 1 since t is sc smooth we conclude that y ym 1 and since a is smooth that a y um 1 showing that f is indeed regularizing we continue by studying the principal part fff of f the derivative of fff at the smooth point u u has the form d fff u h 1 p h dt u h h p h 1 p dt u h for h e since dt u and p are sc operators the operator d fff u is a perturbation of the identity operator by a sc operator and therefore a sc fredholm operator in view of proposition 1 4 next we have to verify that at a given smooth point u u a filled version of fff after modification by a sc section sss is conjugated to a basic germ however in the case at hand we already work on relatively open subsets of a partial quadrant so that a filling is not needed we merely have to find a suitable sc section to obtain a section which is conjugated to a basic germ in general the good complement y in the decomposition e t 0 o y is not a subset of c however we claim that there exists a finite dimensional sc banach space b and a sc banach space w contained in c such that y b w which leads to the sc decomposition e t 0 o b w indeed if e rn f and the partial quadrant c e is of the form c 0 n f where f is a sc banach space then identifying the sc banach space f with 0 n f we let b to be an algebraic complement of y f in y and w y f so that y b w clearly w c and b is finite dimensional in the general case there exists a sc isomorphism l e rn f mapping c onto the partial quadrant c 0 n f then the subspace l t 0 o is in good position to the partial quadrant c and l y is a good complement of l t 0 o in rn f by the above argument we find a finite dimensional subspace b and a sc banach space w contained in c so that l t 0 o b w with b l 1 b and w l 1 w we conclude that b is finite dimensional w is contained in c and y b w as claimed since w c c c t 0 o b w the finite dimensional space t 0 o b is in good position to c therefore the set c t 0 o b is a partial quadrant in t 0 o b in view of proposition 3 3 we shall represent an element u u as u a b w t 0 o b w where b w y y b w furthermore we denote by p the projection 136 4 manifolds and strong retracts p y b w w in accordance with the notation in the definition of a basic germ we view y as rn w where n dim b and p as the sc projection p rn w w if u c is a smooth point near 0 we denote by cu the associated partial quadrant introduced in definition 2 16 the partial quadrant cu contains c so that cu cu t 0 o b w fixing the smooth point u c the map v 7 u v for v near 0 in cu maps an open neighborhood of 0 in cu to an open neighborhood of u in c we now study the principal part fff u y near the fixed smooth point u make the change of coordinate v 7 u v and define the section ggg v by ggg v fff u v in addition we define a sc section sss near near 0 in cu by sss v fff u 1 p t u t u v it has the property that at v 0 ggg 0 sss 0 0 in the decomposition v a b w we interpret a b cu t 0 o b as a finite dimensional parameter and consider the germ a b w 7 ggg sss a b w y then p ggg sss a b w p 1 p a b w p b w w identifying an open neighborhood of 0 in cu t 0 o b with an open neighborhood of 0 in some partial quadrant 0 k rn k we conclude that ggg sss is a basic germ whose contraction part happens to be identically zero we have used the local strong bundle isomorphism u v b w 7 v b w consequently f u is a sc fredholm germ and the proof of lemma 4 3 is complete the sc fredholm section f vanishes at the point u 0 so that fff 0 0 the lin earization of its principal part is is given by d fff 0 h 1 p h h e 4 1 characterization 137 therefore d fff 0 has the kernel ker d fff 0 t 0 o dt 0 e which by assump tion is in good position to the partial quadrant c moreover its image is 1 p e y so that d fff 0 is surjective we are in position to apply the implicit function theorem corollary 3 6 and con clude that the local solution set of fff near u 0 is represented by u u 0 fff u 0 u a a t 0 o y a v u here u 0 u is an open neighborhood of 0 in u and v is an open neighborhood of 0 in the partial quadrant t 0 o c of t 0 o the map v y is a sc smooth map satisfying 0 0 and d 0 0 that all sufficiently small solutions of fff u 0 are of the form a a is in our special case easily verified directly lemma 4 4 let f a y 0 and a 0 y 0 if is sufficiently small then y a proof from f a y 0 and f a a 0 we obtain y 1 p t a y and a 1 p t a a consequently y a 1 p t a y t a a as f is regularizing the solutions are smooth points since t is a sc map the map u 7 1 p t u is of class c 1 between the 1 levels and the derivative vanishes at u 0 1 p dt 0 0 therefore there exists 1 0 such that 1 p dt u l e 1 e 1 1 2 4 1 if u 1 1 consequently on level 1 y a 1 0 1 p dt u d y a 4 2 where u a y 1 a since t is a sc map satisfying t 0 0 we conclude from y 1 p t a y that y 1 is small if a and y are small on level 0 moreover the map is sc smooth and satisfies 0 0 and hence a 1 is small if a is small on level 0 summing up u 1 1 if is sufficiently small and we conclude from 4 1 and 4 2 the estimate y a 1 1 2 y a 1 so that indeed y a is is sufficiently small as claimed in lemma 4 4 we finally verify that the solutions f a a 0 belong to o if a is small on level 0 138 4 manifolds and strong retracts lemma 4 5 let f a a 0 and a 0 if 0 is sufficiently small then a a o proof we have to confirm that a a t a a from f a a 0 we conclude that a t a a p t a a so that our aim is to prove that a p t a a applying the retraction t to the identity p t a a a t a a 4 3 and using t t t we obtain t p t a a a t a a hence abbreviating a 1 p t a a we arrive at the identity t a 1 a t a a 0 going to level 1 abbreviating a a 1 1 a a and observing that dt 0 a 1 a a 1 a we estimate 0 t a 1 a t a a 1 1 0 dt a d a 1 a 1 a 1 a 1 0 dt a dt 0 l e 1 e 1 dt a 1 a 1 since dt u l e 1 e 1 is continuous in u on level 1 there exists 1 0 such that dt v dt 0 l e 1 e 1 1 2 if v 1 1 arguing as in the previous lemma a 1 1 if a 0 and is sufficiently small consequently 0 a 1 a 1 1 2 a 1 a 1 1 2 a 1 a 1 therefore a 1 a and hence p t a a a if 0 is sufficiently small and lemma 4 5 is proved in order to complete the proof of proposition 4 2 we set v a too c a 0 the map p satisfying p a a a 4 2 smooth finite dimensional submanifolds 139 is a sc diffeomorphism from the open set u a a a v in o to the open set v having the sc smooth map a 7 a a as its inverse this completes the proof of proposition 4 2 proof theorem 4 1 we assume that 1 holds true the m polyfold x has a com patible smooth manifold structure with boundary with corners correspondingly there is an atlas of sc smoothly compatible partial quadrants charts v u c rn where v u is a sc diffeomorphism from the open subset v x onto the rela tively open subset u c of the partial quadrant c in rn we take in rn the unique constant sc structure then the identity map 1 u u is a tame sc smooth retraction of u c rn clearly u u and 110 u u 1 is sc smooth consequently these charts define a tame m polyfold structure on x for which x 0 x and 110 x x 1 is sc smooth and the statement 2 follows conversely if 2 holds for the tame m polyfold x then x 0 x and 110 x x 1 is sc smooth if x x then we find a tame sc smooth polyfold chart v o c e such that the sc diffeomorphism v o satisfies x 0 it follows that o 0 o and 110 o o 1 is sc smooth by proposition 4 1 the sc retract o c e is a sc retract and hence there is a sc retraction t u u of a relatively open sbset u in the partial quadrant c satisfying o t u the tangent space t 0 o is a finite dimensional smooth subspace of the sc banach space e and by assumption in good position to c using proposition 4 2 we find an open neighborhood o of 0 in o and an open neighborhood v of 0 in t 0 o c and a sc diffeomorphsim p o v onto the finite dimensional polyfold model v t 0 o c t 0 o taking the open set v 0 1 o v the composition v 0 o p v is a sc diffeomorphism onto the finite dimensional model v t 0 o c t 0 o carry ing out this construction around every point x x we obtain a smoothly compatible atlas of tame charts and the statement 1 follows this completes the proof of the orem 4 1 4 2 smooth finite dimensional submanifolds we start with the definition definition 4 4 a smooth finite dimensional submanifold of the m polyfold x is a subset a x having the property that every point a a possesses an open neigh borhood v x and a sc retraction s v v onto 140 4 manifolds and strong retracts s v a v in contrast to the sc smooth sub m polyfold of an m polyfold in definition 2 12 the retracts in the above definition are sc retracts we also point out that a smooth finite dimensional submanifold is not defined as a sub m polyfold whose induced structure admits an equivalent structure of a smooth manifold with boundary with corners remark 4 3 the subset a x in definition 4 4 is called a smooth finite dimensional manifold for the following reasons the retraction s v v satisfying s s s is a sc map therefore the image s v x consists of smooth points so that every point a s v possesses a tangent space taa defined by taa t s a tax from the sc smoothness of the map s it follows that the projection t s a tax tax is a sc operator and therefore level wise compact hence its image taa is finite dimensional since a as we shall see is in particular a sub m polyfold it has an inherited m polyfold structure so that its degeneracy index is defined in general for a a it holds that da a dx a one can show that a near points a a with da a 0 has a natural smooth manifold structure near points with da a 1 it has a natural structure as a smooth manifold with boundary if da a 2 the boundary structure can be quite complex however under the additional assumption that the tangent space taa is in good position to the partial quadrant cax in tax the subset a has near a in a natural way the structure of a smooth manifold with boundary with corners we shall see that a inherits the structure of a m polyfold these differ from usual classical finite dimensional manifolds by allowing more general bound ary behavior but if da 1 they are the same as smooth manifolds with or without boundary since an sc retraction is an sc smooth retraction it follows that a smooth finite dimensional submanifold a inherits from its ambient space x a natural m polyfold structure as such the degeneracy index da a is well defined and the boundary a is defined as the subset a a da a 1 however being locally an sc retraction implies additional properties recall that a subset a of a topological space x is called locally closed if every point a a possesses an open neighborhood v a x having the property that a point b v a belongs to a if u a 6 0 for all open neighborhoods u of b proposition 4 3 a smooth finite dimensional submanifold a x of the m polyfold x has the following properties 1 a x and a inherits the m polyfold structure induced from x in particular a possesses a tangent space at every point in a and the degeneracy index da is defined on a 2 a is locally closed in x 4 2 smooth finite dimensional submanifolds 141 3 a a a da x 1 x 4 110 a a 1 is sc smooth proof 1 a sc retraction is in particular a sc retraction and hence a inherits the m polyfold structure from x in view of proposition 2 6 since a sc retraction s has its image in x we conclude that a x implying that every point in a a has the tangent space taa t s s tax since a is a m polyfold the degeneracy index da is defined on a 2 in order to prove 2 we choose a point a a and an open neighborhood v x of a such that a suitable sc retraction s v v retracts onto s v a v if b v lies in the closure of a then there exists a sequence ak a satisfying ak b since v is open b v we conclude that ak a v for large k hence ak s ak and using that b v we conclude that s b limk s ak b implying that b a v 3 by definition a a a da x 1 we assume that a a satisfies da a 1 and show that dx a 1 if dx a 0 we find an open neighborhood v x of a which is sc diffeomorphic to a retract o e e this implies that there exists an open neighborhood u a of a which is sc diffeomorphic to a retract o e e so that da a 0 4 the postulated sc retraction is the identity on the retract a and a a so that 1 1 0 a a 1 is sc smooth the proof of proposition 4 3 is complete question 4 1 it is an open question whether there is a difference between a smooth finite dimensional submanifold a and a sub m polyfold satisfying a a and dimtaa being finite and locally constant in fact the question is if under the lat ter conditions 110 a a 1 is sc smooth we conjecture that this is not always the case rather we would expect for example if the dimension of the tangent space is equal to 1 the set a might be something like a branched one dimensional man ifold as defined in 50 it would be interesting to see if such type of examples can be constructed for example consider the subset t x 0 r 2 1 x 1 0 y r 2 y 0 1 with the induced topology is it possible to find a sc smooth retract o e e where e is a sc banach space so that t is homeomorphic to o and o o from our previous discussion this is impossible if we require o to be a sc retract so far not much can be said about the structure of the smooth finite dimensional submanifold a at the boundary without additional assumptions in order to formulate such an assumption we consider a m polyfold x which is required to be tame thus at every smooth point a x the cone cax is a partial quadrant in the tangent space tax in view of proposition 2 10 and we can introduce the following definition definition 4 5 good position at a a a smooth finite dimensional submanifold a of the tame m polyfold x is in good position at the point a a if the finite 142 4 manifolds and strong retracts dimensional linear subspace taa tax is in good position to the partial quadrant cax in tax we also need the next definition definition 4 6 tame submanifold a smooth finite dimensional submanifold a x of the m polyfold x is called tame if equipped with its induced m polyfold structure the m polyfold a is tame the main result of the section is as follows theorem 4 2 let x be a tame m polyfold and a x a smooth finite dimensional submanifold of x if a is at every point a a in good position then the induced m polyfold structure on a is equivalent to the structure of a smooth manifold with boundary with corners in particular the m polyfold a is tame proof the result will be based on proposition 4 1 we focus on a point a a then a is a smooth point and we find a sc smooth tame chart v a 7 o 0 where is a sc diffeomorphism from the open neighborhood v x of a onto the retract o satisfying a 0 the retract o c e is a tame local model by assumption taa is in good position to the partial quadrant cax in tax and there is a good complement y tax so that tax taa y therefore the tangent space t 0 o t a tax has the sc splitting t 0 o n y in which n t a taa and y t a y since o c e is tame the tangent space t 0 o has a sc complement z contained in c in view of proposition 2 9 hence e t 0 o z n y z lemma 4 6 the finite dimensional subspace n t a taa is in good position to c and y z is a good complement in e proof proof of lemma 4 6 by assumption n is in good position to c 0 t 0 o c t a cax t 0 o with the good complement y hence there exists 0 such that for n y n y satisfying y 0 n 0 we have n c 0 if and only if n y c 0 take the norm y z 0 y 0 z 0 on y z and consider n y z satisfying y z 0 n 0 and note that n c if and only if n c 0 if n c 0 we conclude from y z 0 n 0 that n y c 0 which implies n y c since z c we conclude that n y z c conversely we assume that n y z c satisfies y z 0 n 0 then it follows from z z c that n y c and hence n y c 0 t 0 o c from y 0 n 0 we deduce that n c 0 and hence n c having verified that n is in good position to c and y z is a good complement the proof of lemma is complete 4 2 smooth finite dimensional submanifolds 143 continuing with the proof of theorem 4 2 we recall that o c e is a tame retract hence there exists a relatively open subset u c and a sc smooth tame retraction r u u onto o r u since a x is a finite dimensional smooth submanifold of x we find an open neighborhood v x of a and a sc retraction s v v onto s v a v taking v and u small we may assume that v 1 o then defining t u u by t u s 1 r u we compute using r and s s s t t s 1 r s 1 r s 1 s 1 r s s 1 r s 1 r t we see that t is a retraction moreover it is a sc retraction since s is a sc retraction it retracts onto t u a v and dt 0 e t a t s a tax t a taa n therefore q t u o is a sc retract and t 0 q n is in good position to c by lemma 4 6 now we can apply proposition 4 2 and conclude that that there are open neighbor hoods v 1 of 0 in q and v 0 of 0 in c n such that p dt 0 is a sc diffeomorphism p v 1 v 0 in view of proposition 3 3 c n is a partial quadrant in n so that v 0 c n n is a local model which is tame since v 0 c n is open defining the open neighborhood v a 1 v 0 a of a in a the map p v a v 0 is a sc diffeomorphism defining a sc smooth tame chart on the m polyfold a the collection of all these charts defines a sc smoothly compatible structure of a smooth manifold with boundary with corners moreover the m polyfold a is tame the proof of theorem 4 2 is complete remark 4 4 if a is in good position at a then there exists and open neighborhood v a x so that a is in good position for all b v a a in order to see this we observe that theorem 4 2 defines a chart from the sole knowledge that we are in good position at 0 since the tangent spaces of a move only slowly lemma 3 10 implies that we are in good position at the nearby points as well definition 4 7 general position let a x be a smooth finite dimensional sub manifold of the m polyfold x then a is in general position at the point a a 144 4 manifolds and strong retracts if taa has in tax a sc complement contained in the reduced tangent space t ra x as defined in definition 2 20 the following local result describes an a x in general position theorem 4 3 local structure of smooth submanifolds let a be a smooth sub manifold of the tame m polyfold x we assume that a is in general position at the point x a assuming that txa has in txx a sc complement contained in t rx x then there exists an open neighborhood u x on which the following holds 1 there are precisely d dx x many local faces f 1 fd contained in u 2 dx a da a for a a u 3 if a a u then the tangent space taa has in tax a sc complement contained in t ra x 4 if 1 d then the intersection f i fi of local faces is a tame m polyfold and a f is a tame smooth submanifold of f at every point a a u f the tangent space ta a f has in taf a sc complement contained in t ra f proof the result is local and going into a tame m polyfold chart of x around the point x we may assume that x o and x 0 o where o belongs to the tame retract o c e in which c 0 n w n do 0 is a partial quadrant in the sc banach space e rn w moreover a o is a smooth submanifold of o we recall that the faces of c are the subsets of e defined by fi a 1 an w e ai 0 and a j 0 for j 6 i and w w for a subset 1 n we introduce f i fi then the m polyfold o has the faces fi o fi and we abbreviate the intersection by f o f by definition 2 15 t r 0 o t 0 o 0 w in our local coordinates by assump tion of the theorem the tangent space t 0 a t 0 o has in t 0 o a sc complement a t r 0 o so that t 0 o t 0 a a in view of the definition of tame the tangent space t 0 o has in e a sc complement z 0 w hence e t 0 o z toa a z and it follows that t 0 a has in e a sc complement y contained in w 0 w e t 0 a y y w we denote by n taa a sc complement of t 0 a w in t 0 a t 0 a n t 0 a w from e w w t 0 a w y w t 0 a w y we obtain e t 0 a y n t 0 a w y n w 4 2 smooth finite dimensional submanifolds 145 using y w c we deduce c c n w and c t 0 a c y therefore the projection rn w rn induces an isomorphism from n to rn and from c n onto 0 n moreover the tangent space t 0 a is in good position to c and y is a good complement hence t 0 a c is a partial quadrant of t 0 a by proposition 3 3 as proved in proposition 4 2 the smooth submanifold a o is represented local as the graph a v v v v of a sc smooth map v y defined on an open neighborhood v of 0 in the partial quadrant t 0 a c of t 0 a satisfying 0 0 and d 0 0 the projection p a t 0 a c v defined by p v v v is a sc diffeomorphism from the m polyfold a and we conclude by proposition 2 7 that da a dt 0 a c p a for all a a u the points in t 0 a c are represented by n m n c t 0 a w so that the points a a are represented by a n m n m introducing t 0 a t 0 a t 0 f n m t 0 a ni 0 for i the diffeomorphism p a v t 0 a c maps the intersection of faces a f to t 0 a c in particular if p a t 0 a c then a a f this implies that dt 0 a c p a dc a in view of proposition 2 10 dc a do a and we have verified for a a u that da a do a as claimed in the statement 2 of the theorem in order to prove the statement 3 we choose a a u then a v v with v t 0 a c the tangent space taa is the image of the linear map h 7 h d v h h t 0 a if a 0 then t 0 a w e and we conclude by means of the particular form of the map that also taa w e for all a a u intersecting with tao and using taa tao leads to 146 4 manifolds and strong retracts tao taa w tao taa t r a o implying that taa has in tao a sc complement which is contained in t ra o this proves the statement 3 of the theorem as for the last statement we observe that in view of the arguments in the proof of proposition 2 14 the sets f are tame m polyfolds moreover a f are smooth submanifolds of f the previous arguments but now applied to a f conclude the proof of theorem 4 3 we conclude this section by defining m polyfolds if a x is a finite dimen sional submanifold then it will naturally inherit such a structure we leave the details to the reader if x is a m polyfold and a x a finite dimensional submanifold it inherits the structure of a m polyfold however note that the natural local models are o c e where o is an sc retract this prompts the following definition definition 4 8 let z be a metrizable topological space 1 a m polyfold structure for z is given by an equivalence class of sc atlases a sc atlas consists of sc smoothly compatible charts where the local models are sc retracts 2 a m polyfold structure is called tame provided there exists an sc atlas so that the underlying local models are tame as a consequence of theorem 4 1 and the previous discussions we have the follow ing result proposition 4 4 let z be a m polyfold then the following holds 1 if dz 0 the topological space z has a unique compatible smooth manifold structure without boundary which is sc smoothly compatible with the m polyfold structure 2 if dz 1 the topological space has a unique smooth structure as manifold with boundary which sc smoothly compatible with the m polyfold structure 3 if the m polyfold structure is tame there is a unique smooth structure as man ifold with boundary with corners on z which is sc smoothly compatible with the tame m polyfold structure proof this is just a reformulation of earlier results and details are left to the reader 4 3 families and an application of sard s theorem 147 4 3 families and an application of sard s theorem if x is a tame m polyfold we introduce the family z rm x x rm x x the family rm x has a natural tame m polyfold structure defined by the product of the corresponding charts and we denote by p rm x rm p x the sc smooth projection using theorem 4 3 and sard s theorem we are going to establish the following result theorem 4 4 let a z be a smooth submanifold of the tame m polyfold z we as sume that the induced m polyfold structure is tame and the closure of a is compact denoting by p p a a rm the restriction of p to a we assume in addition that there exists 0 such that the following holds 1 for every rm satisfying the set p 1 a is compact and non empty 2 for z a there exists a sc complement tza in tzz which is contained in t rz z then there exists a set of full measure rm of regular values of p having full measure in bm such that for the set a x x x a is a smooth compact manifold with boundary with corners having the additional property that the tangent space txa at x a has in txx a sc complement con tained in t rx x remark 4 5 by proposition 2 10 the codimension of t rx x is equal to dx x there fore if then the point x a can only belong to a corner if dx x dim a for example zero dimensional manifolds a have to lie in x x one dimensional a can only hit the dx 1 part of the boundary etc proof fixing a point z a there exists in view of theorem 4 3 an open neigh borhood u z z of z in z such that there are precisely d dx z local faces f 1 fd in z u moreover for all subsets 1 2 d the intersec tion of a with f i fi is a tame smooth submanifold in f of dimension dima moreover the tangent space tz a f has a sc complement in tzf which is contained in t rz f we cover the set z a p z with the finitely many such neighborhoods u z 1 u zk and first study the geometry of the problem in one of these neigh borhoods u zi which for simplicity of notation we denote by u z 148 4 manifolds and strong retracts if 1 d and f the associated intersection of local faces we denote by f the interior of f i e the set f with its boundary removed the union of all f is equal to u z here we use the convention that for the empty subset of 1 d the empty intersection is equal to u z from which the boundary is removed we note that f 1 d is a m polyfold without boundary by theorem 4 3 the intersection a f is a smooth manifold without boundary having dimension dim a with a subset we associate the smooth projection p a f r m p x using sard s theorem we find a subset bm of regular values of p having full measure the intersection 1 d has full measure in bm and consists of regular values for all the maps in 1 now we fix then the preimage p 1 a has the form a and by construction p 1 a f which is a smooth submanifold of a f moreover the tangent space tz a f at the point z x a f is equal to tz a f tz a f z where the linearized projection t p z tz a f tp z r m maps z isomorphically onto rm from our discussion we conclude in view of the assumption 2 of the theorem for z x u z that the tangent space tz a has a sc complement in t rz x consequently a u z is a smooth submanifold of x in general position the argument above applies to every z 1 zk hence for every zi there exists a subset zi b m of full measure consisting of regular values the subset k i 1 zi b m has full measure and it follows for every that a x is a smooth compact submanifold of the m polyfold x which moreover is in general position 4 4 sc differential forms 149 4 4 sc differential forms assume x is a m polyfold then t x x 1 has the structure of an sc smooth bundle and it is an easy exercise that the associated whitney sum of k copies t x t x x 1 is an sc smooth bundle following 39 we start with the definition definition 4 9 let x be a m polyfold and t x x 1 its tangent bundle a sc differential k form is a sc smooth map k t x r which is linear in each argument and skew symmetric the vector space of sc differential k forms on x is denoted by k x by means of the inclusion maps x i x the sc differential k form on x pulls back to a sc differential k form on x i defining this way the directed system k x k x i k x i 1 we denote the direct limit of the system by x and introduce the set x of sc differential form on x by x k k x next we define the exterior differential for this we use the lie bracket of vector fields which has to be generalized to our context as shown in 39 proposition 4 4 the following holds proposition 4 5 let x be a m polyfold and given two sc smooth vector fields a and b on x one can define the lie bracket by the usual formula which defines a sc smooth vector field a b on x 1 that is a b is a section of the tangent bundle t x 1 x 2 in order to define the exterior derivative d k x i 1 k 1 x i we take a sc differential k form and k 1 sc smooth vector fields a 0 a 1 ak on x and define k 1 form d on x by the following familiar formula d a 0 a 1 ak k i 0 1 id a 0 a i ak ai i j 1 i j ai a j a 0 a i a j ak 150 4 manifolds and strong retracts the exterior derivative d commutes with the inclusion map x i 1 x i occurring in the directed system and consequently induces a map d x x having the property d 2 0 the pair x d is a graded differential algebra which we call the de rham complex of the m polyfold x definition 4 10 the sc de rham cohomology of the m polyfold x is defined as h sc x ker d im d there is also a relative version if x is a tame m polyfold the inclusion map x x restricted to local faces is sc smooth local faces are naturally tame m polyfolds and the same is true for the intersection of local faces therefore it makes sense to talk about differential forms on x and x i we define the differential algebra x x by x x x 1 x with differential d d j d where j x x is the inclusion one easily verifies that d d 0 and we denote the associated cohomology by h dr x x clearly a sc differential k form x induces a classical smooth differen tial form on a smooth finite dimensional submanifold n of the m polyfold x the following version of stokes theorem holds true theorem 4 5 let x be a m polyfold and let n be an oriented smooth n dimensional compact tame submanifold of x whose boundary n a union of smooth faces f is equipped with the induced orientation if is a sc differential n 1 form on x then m d f f here the submanifold n is not assumed to be face structured the sc smooth map f x y between two m polyfolds induces the map f y x in the usual way there is also a version of the poincare lemma formulated and proved in 39 the general the theory of sc differential forms on m polyfolds can be worked out as for the classical smooth manifolds we leave it to the reader to carry out the details chapter 5 fredholm package for m polyfolds chapter 5 is devoted to compactness properties of sc fredholm sections to their perturbation theory and to the transversality theory 5 1 auxiliary norms recalling section 2 5 we consider the strong bundle p y x over the m polyfold x the subset y 0 1 of biregularity 0 1 is a topological space and the map p y 0 1 x is continuous the fibers yx p 1 x have the structure of banach spaces we first introduce the notion of an auxiliary norm this concept allows us to quantify the size of admissible perturbations in the transversality and perturbation theory we point out that our definition is more general than the earlier one given in 37 definition 5 1 an auxiliary norm is a continuous map n y 0 1 r which has the following properties 1 the restriction of n to a fiber is a complete norm 2 if wk is a sequence in y 0 1 such that p wk x in x and n wk 0 then wk 0 x in y 0 1 any two auxiliary norms are locally compatible according to the later proposition 5 1 which is an immediate corollary of the following local comparison result 151 152 5 fredholm package for m polyfolds lemma 5 1 let p y x be a strong bundle over the m polyfold x and let n y 0 1 r be a continuous map which fiber wise is a complete norm then the following statements are equivalent 1 n is an auxiliary norm 2 for every x x there exists for a suitable open neighborhood v of x a strong bundle isomorphism y v k whose underlying sc diffeomorphism v o maps x to a point o o and constants 0 c c such that for all w p 1 v c n w h 1 c n w where w p h here k o is a local strong bundle model proof assume that 1 holds we fix x x and choose for a suitable open neighbor hood v v x x a strong bundle isomorphism y v k where k o is a local strong bundle and k u f c f e f is the retract k r v f define q o by q 0 0 x an open neighborhood of 0 x y 0 1 consists of all w y 0 1 for which the set of all p h w belongs to some open neighborhood of q 0 in k 0 1 in view of the continuity of the function n y 0 1 r there exists 0 such that n y 1 for all y 1 p h satisfying p q 0 h 1 in particu lar p q 0 2 and h 1 2 imply n w 1 using that n w n w and similarly for the norm 1 we infer for y close enough to x p w y and w p h that n w 2 h 1 on the other hand assume there is no constant c 0 such that c h 1 n w for p h w and p close to q then we find sequences yk x and wk satisfying p wk yk and hk 1 1 such that n wk 0 since n is an aux iliary norm we conclude that wk 0 x in y 0 1 which implies the convergence wk qk hk q 0 contradicting hk 1 1 at this point we have proved that given an auxiliary norm n there exist for every x x constants 0 c c depending on x such that c n w h 1 c n w for all w y 0 1 for which p w is close to x and p h w for a suitable strong bundle isomorphism to a local strong bundle model hence 1 implies 2 the other direction of the proof is obvious since n is continuous and fiber wise a complete norm we see that the property 1 in the definition of an auxiliary norm holds the estimate in the statement of the lemma implies that also property 2 holds 5 1 auxiliary norms 153 as a corollary of the lemma we immediately obtain the following proposition proposition 5 1 let p y x be a strong bundle then there exists an auxiliary norm n given two auxiliary norms n 0 and n 1 then there exists a continuous func tion f x 0 such that for all h p 1 x y 0 1 f x n 0 h n 1 h 1 f x n 0 h proof the existence follows from a continuous partition of unity argument using the paracompactness of x pulling back by strong bundle maps the standard norm 1 to the fibers of the strong bundles the local compatibility implies the existence of f for later considerations we also introduce the notion of a reflexive auxiliary norm which leads to particularly useful compactness considerations for sc fredholm sec tions consider p y x which is a strong bundle over the m polyfold x definition 5 2 we say that p y x has reflexive 0 1 fibers or more sloppily reflexive 1 fibers provided there exists a strong bundle atlas so that for every strong bundle chart the local model k o has the property that k c f where f 1 is a reflexive banach space in a strong bundle p y x with reflexive 0 1 fibers we can introduce a particular kind of convergence called mixed convergence for a sequence yk y 0 1 it is a mixture of strong convergence in the base on level 0 and a weak convergence in the fiber on level 1 lemma 5 2 let p y x be a strong bundle over a m polyfold with reflexive 0 1 fibers let yk y 0 1 be a sequence for which xk p yk converges to some x x on level 0 given two a strong bundle charts around x say y u x k and y u x k where k c f with f 1 being a reflexive banach space and similarly k c f write ak hk yk and a k h k yk then hk f 1 converges weakly if and only if h k f 1 converges weakly proof if k k is a strong bundle isomorphism arising as a transition map and a h a a a h we consider a sequence ak hk k satisfying ak a in e 0 and hk h in f 1 the latter implies that hk h in f 0 then ak hk a k h k satisfies a k b in e 0 and h k h in f 0 for large k the operator norms of continuous linear operators a ak f 1 f 1 are uniformly bounded therefore the sequence h k a ak hk is bounded in f 1 from hk h in e 0 we conclude the convergence a k h k ak hk a h a h in e 0 f 0 the boundedness of h k in f 1 and the convergence of a k h k on level 0 implies the weak convergence h k h in f 1 154 5 fredholm package for m polyfolds in view of this lemma we can define mixed convergence for sequences in y 0 1 where p y x has reflexive 0 1 fibers as follows definition 5 3 mixed convergence let p y x be a strong bundle over the m polyfold x having reflexive 0 1 fibers a sequence yk y of bi regularity 0 1 i e yk y 0 1 is said to be mixed convergent to an element y y 0 1 provided p yk p y x in x 0 and there exists a strong bundle chart y u x k e f f 1 being reflexive such that for yk ak hk and y a h the sequence hk converges weakly to h in f 1 denoted by hk h in f 1 we shall write yk m y if yk is mixed convergent to y the next definition introduces the important concept of a reflexive auxiliary norm definition 5 4 let p y x be a a strong bundle over a m polyfold with reflexive 1 fibers a reflexive auxiliary norm n y 0 1 0 is a continuous map possess ing the following properties 1 for every x x the function n restricted to the fiber of y 0 1 over x is a complete norm 2 if yk is a sequence in y 0 1 satisfying p yk x in x and n yk 0 then yk 0 x in y 0 1 3 if yk y 0 1 is mixed convergent to y w 0 1 then n y liminfk 0 n yk a version of proposition 5 1 holds for reflexive auxiliary norms and we leave the proof to the reader in the context of strong bundles over ep groupoids a similar result is given in theorem 12 4 proposition 5 2 let p y x be a strong bundle over a m polyfold with reflexive 0 1 fibers then there exists a reflexive auxiliary norm n given an auxiliary norm n 0 and a reflexive auxiliary norm n 1 there exists a continuous map f x 0 satisfying for all y y 0 1 with x p y f x n 0 y n 1 y 1 f x n 0 y 5 2 compactness results 155 5 2 compactness results there are several different kinds of compactness requirements on a sc smooth sec tion which are useful in practice it will turn out that they are all equivalent for sc fredholm sections we note that compactness is a notion on the 0 level of x definition 5 5 let f be a sc smooth section of a strong bundle p y x 1 we say that f has a compact solution set if f 1 0 x x f x 0 is compact in x on level 0 2 the section f is called weakly proper if it has a compact solution set and if for every auxiliary norm n there exists an open neighborhood u of f 1 0 such that for every sc section s having support in u and satisfying n s y 1 for all y the solution set x x f x s x is compact in x 3 the section f is called proper if f has a compact solution set and if for every auxiliary norm n there exists an open neighborhood u of f 1 0 such that the closure in x 0 of the set x u n f x 1 is compact in point 3 we adopt the convention that if f x does not have bi regularity 0 1 then n f x obviously proper implies weakly proper which in turn implies compactness proper weakly proper compact solution set in general for a sc smooth section f these notions are not equivalent the basic result that all previous compactness notions coincide for a sc fredholm section is given by the following theorem theorem 5 1 assume that p y x is a strong m polyfold bundle over the m polyfold x and f a sc fredholm section if f has a compact solution set then f is proper in particular for a sc fredholm section the properties of being proper or being weakly proper or having a compact solution set are equivalent proof we denote by n the auxiliary norm on a strong m polyfold bundle p fixing a solution x x of f x 0 we have to find an open neighborhood u x of x such that the closure clx y u n f y 1 is compact since f is regularizing the point x is smooth there is no loss of generality in assuming that we work with a filled version g of f for which we have a sc section s such that g s is conjugated to a basic germ hence without loss of generality we may assume that we work in local coordinates and f h t where h o c 0 rn w is a basic germ and 156 5 fredholm package for m polyfolds t o c 0 rn w a sc germ satisfying t 0 0 here c is the partial quadrant c 0 k rn k w in the sc banach space e rn w then it suffices to find in local coordinates an open neighborhood u of 0 in the partial quadrant c such that the closure on level 0 of the set a w u h t a w 1 c 5 1 is compact the section t is a sc section satisfying t 0 0 therefore we find a constant 0 such that t a w 1 c for a w c satisfying a 0 w 0 5 2 we denote by p rn w w the sc projection by assumption h is a basic germ and hence p h is of the form p h a w w b a w for a w c near 0 here b is a sc contraction germ moreover 1 p h takes values in rn so that its range consists of smooth point in view of the sc contraction property of b and since any two norms on rn are equivalent replacing 0 by a smaller number we may assume that the estimates b a w b a w 0 1 4 w w 0 5 3 and 1 p h a w 1 c 5 4 are satisfied for all a w a w c such that a 0 w 0 and w 0 since b 0 0 0 we find 0 such that b a 0 0 8 for all a rn such that a 0 5 5 we introduce the closed set a z rn w a 0 z 0 2 and denote by b the closed ball in y 0 centered at 0 and having radius then we define the map f b y 0 by f a z w b a w z if a z w b then 5 2 compactness results 157 f a z w 0 b a w b a 0 0 b a 0 0 z 0 1 4 w 0 b a 0 0 z 0 4 8 2 3 4 and if a z and w w b then f a z w f a z w 0 b a w b a w 0 1 4 w w 0 we see that f is a parametrized contraction of b uniform in a z in view of the parametrized banach fixed point theorem there exists a unique continuous map b satisfying f a z a z a z for every a z thus a z b a a z z for all a z in particular if a z w b and z w b a w then w a z now we define the open neighborhood u of 0 in c by u a w a 0 w 0 4 5 6 assume that a w u and that z h a w belongs to rn y 1 and satisfies z 1 c then z h a w t a w p h a w 1 p h t a w w b a w 1 p h t a w and w b a w z where z z 1 p h t a w 5 7 in view of the estimates 5 2 and 5 4 z 1 3 c 5 8 the norm of z on level 0 can be estimated as z 0 w b a w 0 w 0 b a w 0 w 0 b a w b a 0 0 b a 0 0 w 0 1 4 w 0 b a 0 0 4 16 8 7 16 2 5 9 we conclude that a z w b and w a z at this point we can verify the claim that the closure on level 0 of the set defined in 5 1 is compact with a sequence an wn a w u h t a w 1 c we consider the corresponding sequence zn wn b an wn defined by 5 7 then the estimates 5 8 and 5 9 give 158 5 fredholm package for m polyfolds zn 1 3 c and zn 0 2 which implies that wn an zn since the embedding e 1 e 0 is compact and an rn we conclude after taking a subsequence that an zn a z in e 0 rn w 0 from the continuity of the map we deduce the convergence wn an zn w a z in w 0 therefore the sequence an wn converges to a w in e 0 since by assumption the solution set of f is compact the proof of the properness of the fredholm section is complete there are several other useful considerations the first is the following consequence of the local theorem 3 11 theorem 5 2 local compactness assume that p y x is strong bundle over the m polyfold x and f a sc fredholm section then for a given solution x x of f x 0 there exists a nested sequence of open neighborhoods u i of x on level zero say x u i 1 u i x 0 i 0 such that for all i 0 clx 0 y u i f y 0 is a compact subset of xi the next result shows that compactness a notion on the 0 level also implies com pactness on higher levels theorem 5 3 assume that p y x is a strong bundle over the m polyfold x and f is a sc fredholm section with compact solution set s x x f x 0 in x 0 then s is a compact subset of x proof by assumption s is compact in x 0 since f is regularizing s x as was previously shown x is a metric space hence we can argue with sequences take a sequence xk s we have to show that it has a convergent subsequence in x after perhaps taking a subsequence we may assume that xk x s in x 0 from theorem 5 2 we conclude that xk x on every level i this implies the convergence xk x in x we recall that a sc smooth section f of the strong bundle y x defines by rais ing the index a sc smooth section f i of y i x i in view of the previous theorem we conclude that a sc fredholm section with compact solution set produces a sc fredholm section f i with compact solution set note that it is a priori clear that f i is sc fredholm hence we obtain the following corollary corollary 5 1 let f be a sc fredholm section of the strong bundle p y x over the m polyfold x and suppose that the solution set f 1 0 is compact then f i is a sc fredholm section of pi y i x i with compact solution set 5 2 compactness results 159 next we consider another compactness property which is very useful in applications and involves reflexive auxiliary norms given an auxiliary norm n y 0 1 0 we define n y 0 by setting n y if y y y 0 1 definition 5 6 assume that p y x is a strong bundle over a m polyfold with reflexive 0 1 fiber and let f be an sc smooth section of p which in addition is regularizing we say that f has the reflexive local compactness property provided for every reflexive auxiliary norm n and every point x x there exists an open neighborhood u x in x i e on level 0 so that clx q u x n f x 1 is a compact subset of x proposition 5 3 assume that p y x is a strong bundle over a m polyfold with reflexive 0 1 fiber and let f be an sc smooth section of p which in addition is regularizing and has the reflexive local compactness property 1 if x x 0 x 1 there exists for every reflexive auxiliary norm n an open neighbor hood v x in x 0 such that n f q 1 for all q v x 2 given a reflexive auxiliary norm n and a point x x with n f x 1 there exists an open neighborhood v x such that for every q v x it holds that n f q 1 proof 1 is a special case of 2 since n f x 2 assume that n f x 1 arguing indirectly we find xk with n f xk 1 and xk x define hk f xk and note that hk y 0 1 since n hk 1 and p hk x we may assume after perhaps taking a subsequence that hk m h for some h y 0 1 with p h x since n is a reflexive auxiliary norm we must have n h liminfk n hk 1 moreover hk h in y 0 0 implying that f x h hence n f x 1 contradicting n f x 1 under the assumptions of the proposition assume that u is an open subset of x so that the closure of x u n f x 1 is compact if xk u with n f xk 1 and xk x on level 0 it follows that hk f xk is mixed convergent to h f x hence x clx u and n f x 1 hence clx x x n f x 1 x clx u n f x 1 a very useful result in applications is given by the following theorem where we refer to 14 for an application to sft theorem 5 4 assume that p y x is a strong bundle over a tame m polyfold with reflexive 0 1 fiber suppose that f is an sc fredholm section with compact solution set having the reflexive local compactness property denote by n a reflex ive auxiliary norm and with s x x f x 0 let u x be an open 160 5 fredholm package for m polyfolds neighborhood of s in x so that the closure of the set x u n f x 1 is compact then there exists an open neighborhood u of s x x f x 0 having the following properties 1 u x u 2 the closure of x u n f x 1 is compact remark 5 1 the result says that under suitable assumptions if u n controls the compactness on the boundary one can construct u n controlling compactness with u x u proof pick a point x 0 u assume first that n f x 0 1 then we find an open neighborhood u x 0 in x such that n f x 1 for all x u x 0 by per haps taking a smaller such neighborhood we may assume that x u x 0 u next assume that n f x 0 1 we find an open neighborhood u x 0 such that x u x 0 n f x 0 1 has compact closure at this point we have constructed for every x 0 u an open neighborhood u x 0 with one of the two specified prop erties n f x 1 for x u x 0 and u x 0 x u clx x u x 0 n f x 1 is compact and u x 0 x u the closure of x u n f x 1 is compact and consists of points q with n f q 1 for each such point we have a constructed an open neighborhood u q in x such that the closure of p u q n f p 1 is compact we find finitely many x 1 x x satisfying clx x u n f x 1 u x 1 u x hence clx x u n f x 1 x u x 1 u x n f x 1 we also have that u x 1 u x x u if x u u x 1 u x we must have n f x 1 consider the union u u x 1 u x x u u x 1 u x u x this is an open subset of x satisfying u x u moreover the closure of the set x u n f x 1 is compact indeed take a sequence xk u satisfying n f xk 1 then we must have xk u x 1 u x and since the closure of each of the finitely many sets x u x i n f x 1 is compact we see that xk has a convergent subsequence the set x x u f x 0 is compact and we find finitely many u x i x x say i 1 e covering this compact set so that in addition the closure of each set x u x i n f x 1 is compact finally define 5 3 perturbation theory and transversality 161 u u u x 1 u x e then u x u and clx x u n f x 1 is compact the proof is com plete remark 5 2 the theorem is crucial in many of the inductive perturbation arguments occurring in floer type problems for example sft 5 3 perturbation theory and transversality for the perturbation theory we need to assume that x is tame this is needed to control the boundary behavior hence let p y x be a strong bundle over a tame m polyfold we shall study for a given sc fredholm section f the perturbed section f s where s p we need a supply of sc sections which in a complete abstract situation we can only guarantee if we have enough sc smooth bump functions this is a weaker re quirement than having sc smooth partitions of unity see appendix 5 5 for a more detailed discussion this is for example the case if x is built on sc hilbert spaces definition 5 7 the m polyfold x admits sc smooth bump functions if for every x x and every open neighborhood u x there exists a sc smooth map f x r satisfying f 6 0 and supp f u x in section 5 5 proposition 5 5 the following useful statement is proved proposition 5 4 if the m polyfold x admits sc smooth bump functions then for ev ery x x and every open neighborhood u x there exists a sc smooth function f x 0 1 satisfying f x 1 and supp f u x one can even achieve that f y 1 for all y close to x we start with an existence result lemma 5 3 existence of sc sections we assume that p y x is a strong bundle over the tame m polyfold x which admits sc smooth bump functions let n be an auxiliary norm for p then for every smooth point x x every smooth point e in the fiber yx p 1 x and every 0 there exists for a given open neighborhood u of x a sc section s p satisfying s x e supp s u and n s x n e the proof is an adaption of the proof in 37 162 5 fredholm package for m polyfolds proof since x is metrizable it is a normal space we choose an open neighborhood q of x so that w q is strong bundle isomorphic to the tame local bundle p k o mapping x into 0 o we find an open neighborhood q of x whose closure in x is contained in q if we construct s w q with support in q we can extend it by 0 to x it suffices to construct a section s suitably in local coordinates hence we work in k o and choose a smooth point e p 1 0 the open set q corresponds to an open neighborhood o of 0 contained in o we write e 0 e let n k r be the auxiliary norm using the local strong bundle retraction r we define the sc section t o k by t y r y e so that t 0 0 e e if 0 there exists 0 such that n t y n t 0 n e for y o and y 0 using proposition 5 5 we find a sc smooth function o 0 1 satisfying 0 1 and having support in o y o y 0 the sc sections s y y t y of k o has the required properties next we discuss a perturbation and transversality result in the case that the m polyfold does not have a boundary our usual notation will be p y x for the strong bundle in case we have an auxiliary norm n and an open subset u of x we denote by 1 u p the space of all s p satisfying supp s u and n s x 1 for all x x in our applications u is the open neighborhood of the compact solution set of a sc fredholm section f we shall refer to 1 u p as the space of allowable sc sections the space 1 u p becomes a metric space with respect to the uniform distance defined by s s sup x x n s x s x x x the metric space 1 u p is not complete remark 5 3 we note however that if a section s belongs to the completion of 1 u p then the solution set of f x s x 0 is still compact provided f has a compact solution set and u is an open neighborhood adapted to the auxiliary norm n in the sense that n f x 1 for x u has the properties stipulated in the properness result theorem 5 5 perturbation interior case let p y x be a strong bundle over the m polyfold x satisfying x 0 and assume that x admits sc smooth bump functions let f be a sc fredholm section with a compact solution set and n an auxiliary norm then there exists an open neighborhood u of the solution set s x x f x 0 such that for sections s p having the property that supp s u and n f x 1 for all x x the solution set s f s x x f x s x 0 is compact moreover there exists a dense subset o of the metric space 1 u p such that for every s o the solution set s f s has the property that f s x txx yx is surjective for all x s f s i e for all x s f s the germ f x is in good position in particular s f s is a sub m polyfold whose in duced structure is equivalent to the structure of a compact smooth manifold without boundary 5 3 perturbation theory and transversality 163 one can follow the proof of theorem 5 21 in 37 in 37 we still worked with splicing cores for the convenience of the reader we therefore sketch the proof the details can be filled in using the arguments from 37 remark 5 4 in 37 we assume that the fibers of the strong bundle are separable sc hilbert spaces this is in fact not needed due to an improved treatment of the com pactness in the present text also originally an auxiliary norm had to satisfy more properties involving weak convergence which again due to the improved compact ness results is not needed the strategies of the proofs in this more general context are the same definition 5 8 the sc fredholm section g of the tame strong m polyfold bundle p y x is called transversal to the zero section if at every point x satisfying g x 0 the linearization g x txx yx is surjective proof theorem 5 5 we choose s 0 in 1 u p and for given 0 we find 0 1 such that s 0 x s 0 x 1 2 for all x x define s 0 s 0 consider the solution set s f s 0 which we know is compact for ev ery x s f s 0 x we find finitely many allowable sc sections sx 1 s kx x 1 u p such that the range of f s 0 x together with the sections sxj span yx then ab breviating 1 kx the map rkx x w y f y s 0 y kx j 1 j s jx y is a sc fredholm section of the obvious pull back bundle in view of the theorem about parameterized perturbations theorem 3 3 we also note that the linearization at the point 0 x is surjective in view of the interior case of the implicit function theorem theorem 3 4 there exists an open neighborhood u x x of x such that for every 0 y with y u x s f s 0 the linearization of the above section is surjec tive we can carry out the above construction for every x s f s 0 and obtain an open covering u x x s f s 0 of s f s 0 hence we find a finite open cover u xi i 1 p for every i we have sections s jxi 1 j kxi for simplicity of notation we list all of them as t 1 tm then by construction the section rm x w y 7 f y s 0 y m j 1 j t j y is sc fredholm and its linearization at every point 0 x with x s f s 0 is surjective there is a number 0 0 such that 0 implies n mj 1 j t j y 2 by the implicit function theorem we find an open neighborhood u rm 0 x of 0 s f s 0 such that the section 164 5 fredholm package for m polyfolds f u y f y f y s y f y s 0 y m j 1 j t j y has a surjective linearization at every solution y u of the equation f y 0 moreover s f 1 0 is a smooth manifold containing 0 s f s 0 taking a regular value 0 for the projection s rm y 7 it is easily verified that f s 0 s 0 is transversal to the zero section see the orem 5 21 in 37 by construction n s 0 y 2 and n s 0 y s 0 y 1 2 for all y this completes the proof of theorem 5 5 remark 5 5 in practice we need to homotope from one sc fredholm operator to the other for example assume that f 0 and f 1 are sc fredholm sections for p y x both transversal to the zero section and having compact solution sets suppose further that ft t 0 1 is an interpolating arc satisfying the following first of all the section 0 1 x y t x ft x is sc fredholm and has a compact solution set now we can use the above con struction for a given auxiliary norm to find an open neighborhood u of the so lution set and a small perturbation s supported in u satisfying s t 0 for t close to t 0 1 we already have transversality at the boundaries and such that t x 7 ft x s t x is transversal to the zero section then the solution set is a compact smooth cobordism between the originally given solution sets s fi for i 0 1 here we have to deal with the boundary situation which in this special case is triv ial the reader will be able to carry out this construction in more detail once we have finished our general discussion of the boundary case the next result shows that under a generic perturbation we are able to bring the solution set into a general position to the boundary and achieve the transversality to the zero section the solution space is then a smooth manifold with boundary with corners definition 5 9 general position let p y x be a strong bundle over the tame m polyfold x and let f be a sc fredholm section we say that f x where f x 0 is in general position if f x txx yx is surjective and the kernel ker f x has a sc complement contained in the reduced tangent space t rx x the associated result is the following theorem 5 6 perturbation general position assume that we are given a strong bundle p y x over the tame m polyfold x which admits sc smooth bump functions let f be a sc fredholm section with compact solution set and n an auxiliary norm then there exists an open neighborhood u of the solution set 5 3 perturbation theory and transversality 165 s x x f x 0 such that for a section s p satisfying supp s u and n s x 1 for all x x the solution set s f s x x f x s x 0 is compact moreover there exists a dense subset o of the metric space 1 u p such that for every s o the solution set s f s has the property that for every x s f s the pair f s x is in general position in particular s f s is a sub m polyfold whose induced structure is equivalent to the structure of a compact smooth manifold with boundary with corners and ds f s x dx x for all x s f s we follow the ideas of the proof of theorem 5 22 in 37 proof by assumption f has a compact solution set s f given an auxiliary norm we can find an open neighborhood u of s f such that the solution set s f s is compact for every section s 1 u p in order to prove the result we will choose s 0 1 u p and perturb nearby by in troducing suitable sc sections we note that a good approximation of s 0 1 u p is s 0 where 1 is close to 1 so that we have to find a small perturbation of the latter if we take s 0 satisfying n s 0 y 1 for all y x there is no loss of gen erality assuming that s 0 0 by replacing f s 0 by f and n by cn for some large c the general strategy already appears in the proof of theorem 5 5 here the only complication is that we would like to achieve additional properties of the perturbed problem this requires a more sophisticated set up however for the reader familiar with finite dimensional transversality questions there are no surprises in the proof in the next step we choose enough sections in 1 u p say s 1 sm such that near every 0 x with x s f the section f y f y m i 1 i si y has suitable properties namely we require the following properties i f 0 x rm txx yx is surjective ii ker f 0 x is transversal to rm t rx x rm txx the strategy of the proof is the same as the strategy in the proof of theorem 5 5 we fix a point 0 x with x s f and observe that if we have sc sections so that the properties i ii hold at this specific 0 x then adding more sections the proper ties i ii will still hold furthermore if for a section the properties i ii hold at the specific 0 x then they will also hold at 0 y for y s f close to x say for y u x s f as a consequence we only have to find the desired sections for a spe cific x and then noting that the collection of neighborhoods u x is an open cover of s f we can choose finitely many points x 1 xp such that the neighborhoods u x 1 u xp cover s f the collection of sections associated to these finitely many points then possesses the desired properties therefore it is enough to give the argument at a general point 0 x for x s f the way to achieve property i 166 5 fredholm package for m polyfolds at 0 x is as in the proof of theorem 5 5 we take enough sc sections to obtain the surjectivity we take a linear subspace l complementing t rx x in txx and add sections which at x span the image f x l at this point the combined system of sections already satisfies i and ii and taking the finite union of all these sections the desired properties at 0 x hold by the previous discussion this completes the construction since s f is compact and since by construction the section f x 0 is in general position at every point 0 x we can apply the implicit function theorem to the section f y f y m i 1 i si y we deduce the existence of 0 such that the set s y rm x 2 and y x is a smooth manifold with boundary with corners containing 0 s f in addition the properties i ii hold for all y s and not only for the points 0 x 0 s f to be precise s rm x is a smooth submanifold with boundary with corners so that for every z x s the tangent space tzs has a sc complement in t rz rm x if p s rm is the projection the set p 1 is compact hence we can apply theorem 4 4 and find for a subset of bm of full measure that the subset s x x x s of x is a smooth submanifold with boundary with corners having the property that every point is in general position so that for every point x s and every parameter the tangent space tzs has a sc complement contained in t rx x the third result is concerned with a relative perturbation which vanishes at the boundary in case we already know that at the boundary we are in a good position if we have a sc fredholm germ f x then a good position requires f x to be surjective and the kernel to be in good position to the partial quadrant cxx such a germ would be in general position if we require in addition to the surjectiv ity of f x that the kernel has a sc complement in t rx x clearly general position implies good position remark 5 6 in sft we have a lot of algebraic structure combining a possibly in finite family of fredholm problems in this case perturbations should respect the algebraic structure and genericity in these cases might mean genericity within the algebraic constraints in some of these cases general position is not achievable but one can still achieve a good position the perturbations occurring in such a context are very often constructed inductively so that at each step the problem is already in good position at the boundary but has to be extended to a generic problem the following theorem is a sample result along these lines 5 3 perturbation theory and transversality 167 theorem 5 7 perturbation and transversality good position assume that p y x is a strong bundle over the the tame m polyfold x which admits sc smooth bump functions let f be a sc fredholm section with compact solution set and n an auxiliary norm further assume that for every x x solving f x 0 the pair f x is in good position then there exists an open neighborhood u of the solution set s x x f x 0 so that for every section s 1 u p the solution set s f s x x f x s x 0 is compact moreover there exists an arbitrarily small section s 1 u p satisfying s x 0 near x such that f s is transversal to the zero section and for every x s f s the pair f x is in good po sition in particular s f s is a m subpolyfold whose induced structure is equivalent to the structure of a compact smooth manifold with boundary with corners proof by our previous compactness considerations there exists for a given auxil iary norm n an open neighborhood u of s f so that for s 1 u p the solution set s f s is compact by the usual recipe already used in the previous proofs we can find finitely many sections s 1 sm in 1 u p which are vanishing near x so that for every x s f the image r f x and the si x span yx of course in the present construction we are allowed to have sections which vanish near x since by as sumption for x s f x we are already in good position which in fact implies that s f is already a manifold with boundary with corners near x then we consider as before the section x 7 f x m i 1 i si x and for a generic value of which we can take as small as we wish we conclude that the associated section s m i 1 i si has the desired properties the next result deals with a homotopy t 7 ft of sc fredholm sections during which also the bundle changes definition 5 10 generalized compact homotopy consider two sc fredholm sec tions fi of tame strong bundles pi yi xi having compact solution sets we shall refer to fi pi as two compact sc fredholm problem then a generalized com pact homotopy between the two compact sc fredholm problems consists of a tame strong bundle p y x and a sc fredholm section f where x comes with a sc smooth surjective map t x 0 1 so that the preimages xt are tame m polyfolds and ft f xt is a sc fredholm section of the bundle y xt moreover f has a compact solution set and f xi p yi fi pi for i 0 1 remark 5 7 instead of requiring f xi p yi fi pi for i 0 1 one should better require that the problems are isomorphic and make this part of the data but in applications the isomorphisms are mostly clear so that we allow ourselves to be somewhat sloppy theorem 5 8 morse type structure we assume that all occurring m polyfolds admit sc smooth bump functions let f be a sc fredholm section of the tame strong 168 5 fredholm package for m polyfolds bundle p y x which is a generalized compact homotopy between the com pact fredholm problems fi pi for i 0 1 as in definition 5 10 we assume that pi yi xi are strong bundles over m polyfolds xi having no boundaries and that the fredholm sections fi are already generic in the sense that for all x s fi the germ fi x is in general position we assume further that x x 0 tx 1 let n be an auxiliary norm on p then there exists an open neighborhood u of the solution set s f in x such that for all sections s 1 u p the solution set s f s is compact moreover there exists an arbitrarily small section s 0 1 u p which vanishes near x possessing the following properties 1 for every x s f s 0 the germ f s 0 x is in general position 2 the smooth function t s f s 0 0 1 has only morse type critical points proof applying the previous discussions we can achieve property 1 for a suit able section s 0 the idea then is to perturb f s 0 further to achieve also property 2 note that 1 is still true after a small perturbation hence it suffices to as sume that f already has the property that f x is in good position for all x solv ing f x 0 the solution set s x x f x 0 is a compact manifold with smooth boundary components moreover d t s has no critical points near s in view of the assumption that fi xi are already in general position if we take a finite number of sc sections s 1 sm of p y x which vanish near x and are supported near s depending on the auxiliary norm n then the solution set s x f x mi 1 i si x 0 is a smooth manifold for is small enough using the classical standard implicit function theorem we find a family of smooth embeddings s s having the property that 0 x 0 x and s s where s y x f x mi 1 i si y 0 our aim is to construct the above sections si in such a way that in addition the map y 7 d t y t y s is transversal at 0 s to the zero section in cotangent bundle t s then after having achieved this the parameterized version of sard s theorem will guarantee values of the parameter arbitrarily close to 0 for which the smooth section s 3 y 7 d t y t s is transversal to the zero section and hence the function y 7 t y will be a morse function on s since s s is a diffeomorphism we conclude that t s is a morse function having constructed this way the desired section s 0 the proof of the theorem will then be complete it remains to construct the desired family of sc sections s 1 sm we fix a critical point x s of the function t s 0 1 hence d t s x 0 then txs ker dt x since x is a smooth point we find a one dimensional smooth linear sc subspace z txx such that txx z ker dt x 5 3 perturbation theory and transversality 169 the proof of the following trivial observation is left to the reader lemma 5 4 for every element t x s there exists a uniquely determined sc operator b txs z satisfying dt x b if a txs ker dt x is a sc operator then dt x b a slightly more difficult is the next lemma lemma 5 5 assume that t x s is given then there exists a sc section s with sufficiently small support around x having the following properties 1 s x 0 2 f x b s x txs 0 we note that if a txs txs then also property 2 holds with b replaced by b a in view of txs ker f x proof since f is a sc fredholm section and f x 0 the linearization f x txx yx is surjective and the kernel is equal to txs then f x b txs yx is a sc operator i e the image of any vector in txs belongs to y if this operator is the zero operator we can take s 0 otherwise the operator has a one dimensional image spanned by some smooth point e yx we are done if we can construct a sc section s satisfying s x 0 and having support close to x and s x txs txs yx has a one dimensional image spanned by e and ker s 0 txs ker f x b then a suitable multiple of s does the job denote by k txs the kernel of f x b and by l a complement of k in txs then l is one dimensional we work now in local coordinates in order to construct s we may assume that x 0 and represent s near 0 as a graph over the tangent space txs say q 7 q q with 0 0 and d 0 0 here o txs 0 v where v is a sc complement of txs in the sc banach space e the points in e in a neighborhood of 0 are of the form q q v where v v we note that q q o where o is the local model for x near 0 we split txs k l and correspondingly write q k l then we can represent 170 5 fredholm package for m polyfolds the points in a neighborhood of 0 e in the form k l k l v choosing a linear isomorphism j l r we define the section s for k l v small by k l k l v 7 r k l k l v k l k l v j l e where has support around 0 small and takes the value 1 near 0 the section s is then the restriction of s to o if we restrict s near 0 to s we obtain s k l k l r k l k l j l e hence s 0 0 and the linearization of s at 0 restricted to txs is given by s 0 k l j l e this implies that s 0 txs and f 0 b have the same kernel and their image is spanned by e therefore s multiplied by a suitable scalar has the desired properties and the proof of lemma 5 5 is complete continuing with the proof of theorem 5 8 we focus as before on the critical point x s of t s which satisfies d t s x 0 associated with a basis 1 m of t x s the previous lemma produces the sections s 1 sm consider the solution set s of solutions y of f y mi 1 i si y 0 since f y is onto for all y s the solution set s y f y mi 1 i si y 0 is a compact manifold with boundary diffeomorphic to s if small moreover s fibers over a neighborhood of zero via the map y 7 the smooth map y 7 d t s y tys 5 10 is a smooth section of the bundle over s whose fiber at y is equal to t y m we show that the linearization of 5 10 at 0 x which is a map rd txs t x s is surjective near 0 x s we can parameterize s using the implicit function theorem in the form y 7 y where 0 y y and i 0 x 0 using 5 10 and the map we obtain after a coordinate change on the base for small and z s near x the map z 7 d t z dt z t z 5 3 perturbation theory and transversality 171 where d acts only on the s part by construction the section vanishes at 0 x recall that by construction x x hence for fixed the map z 7 m i 1 i i 0 z is a vector field defined near x s which vanishes at x therefore it has a well defined linearization at x the linearization rd txs t x s at 0 x is computed to be the mapping z 7 dt s x z dt x m i 1 i i 0 x dt s x z m i 1 i dt x i 0 x 5 11 the derivative dt s x determines the hessian of the map t s at the point x s the argument is complete if we can show that i 0 x b i ai 5 12 where the image of ai belongs to txs by the previous discussion dt x b i i so that the map 5 11 can be rewritten using dt x ai 0 as z 7 dt s x z m i 1 i i which then proves our assertion so let us show that the identity 5 12 holds we first linearize the equation f z d i 1 isi z 0 with respect to at 0 which gives t f z m i 1 i i 0 z d i 1 i si z 0 next we linearize with respect to z at z x leading to m i 1 i f x i 0 x s i x txs 0 for all i 1 m hence f x i 0 x s i x txs 0 this implies that i 0 x b i ai where the image of ai lies in the kernel of f x i e in txs 172 5 fredholm package for m polyfolds at this point we have proved that the linearization of 5 10 at 0 x is surjective since the section is smooth there exists an open neighborhood u x of x in s so that if at 0 y we have d t s y 0 then the linearization of z d t s z at 0 y is surjective we can now apply the previous discussion to all points x solving d t s x 0 and using the compactness we find finitely many such points x 1 xk so that the union of all the u xi covers the critical points of t s for every i we have sc sections si 1 s i mi possessing the desired properties in order to simplify the notation we denote the union of these sections by s 1 sd then we consider the solutions of f y d i 1 i si y 0 again we denote the solution set by s it fibers over an open neighborhood of 0 in rd by construction the smooth map z 7 d t s z tzs has at every point 0 y satisfying d t s y 0 a linearization rd tys t y s which is surjective now we take a regular value small for the projection m rd and find by the parameterized version of sard s theorem that d t s is indeed a morse function the proof of theorem 5 8 is complete 5 4 remark on extensions of sc sections in this section we state a general result concerning the extension of sc sections defined over the boundary of a tame m polyfold to the whole m polyfold the the orem given without proof is a special case of a result given in the context of ep groupoids i e in the case of local symmetries more general results are stated and proved in section 12 3 and section 14 1 start with a tame m polyfold x and recall from proposition 2 14 that every point x x belongs to precisely dx x many local faces these local faces at a point x x as well as their intersections are sub m polyfolds of x which contain x assume that p w x is a strong bundle 5 5 notes on partitions of unity and bump functions 173 definition 5 11 a section s of w x x is called a sc section over x pro vided for every x x the restrictions of s to the local faces are sc sections the basic extension result in our situation which is a special case of theorem 14 2 is given by the following theorem theorem 5 9 extension theorem assume p w x is a strong bundle over a tame m polyfold x admitting sc smooth partitions of unity let s be a sc section of w x x and let n w 0 be an auxiliary norm if u is an open neigh borhood in x of supp s and f x 0 a continuous map supported in u satisfying n s x f x for all x supp s then there exists a sc section s of p having the following properties 1 n s x f x for all x x 2 supp s u 3 s x s proof here is a sketch of the proof using the tameness of x we can employ in suitable local coordinates the local extension result proposition 12 2 then these local extensions can be glued together using a sc smooth partition of unity 5 5 notes on partitions of unity and bump functions an efficient tool for globalizing local construction in m polyfolds are sc smooth partitions of unity definition 5 12 a m polyfold x admits sc smooth partitions of unity if for every open covering of x there exists a subordinate sc smooth partition of unity so far we did not need sc smooth partitions of unity for our constructions on m polyfolds we would need them for example for the construction of sc connections m polyfolds we point out that a classically smooth partition of unity on a banach space which is equipped with a sc structure induces a sc smooth partition of unity in view of corollary 1 1 however many banach spaces do not admit smooth par tition of unity subordinate to a given open cover our discussion in this section is based on the survey article 17 by fry and mcmanusi on smooth bump functions on banach spaces the article contains many interesting open questions for many constructions one does not need sc smooth partitions of unity but only sc smooth bump functions 174 5 fredholm package for m polyfolds definition 5 13 a m polyfold x admits admits sc smooth bump functions if for every point x x and every open neighborhood u x there exists a sc smooth func tion f x r which is not identically zero and has support in u x for example if e is a hilbert space with a scalar product and associated norm the map x 7 x 2 x e is smooth choosing a smooth function r r of compact support and satisfying 0 1 the function f x x 2 x e is a smooth non vanishing function of bounded support therefore if e is equipped with a sc structure the map is a sc smooth function on the hilbert space in view of corollary 1 1 using the hilbert structure to rescale and translate we see that the hilbert space e admits sc smooth bump functions currently it is an open problem whether the existence of sc smooth partition of unity on m polyfolds x is equivalent to the existence of sc smooth bump functions the problem is related to an unsolved classical question in banach spaces is in every banach space the existence of a single smooth bump function we can use the banach space structure to rescale and translate equivalent to the existence of smooth partitions of unity subordinate to given open covers for the discussion on this problem we refer to 17 sc smooth bump functions can be used for the construction of functions having special properties as the following example shows proposition 5 5 we assume that the m polyfold x admits sc smooth bump func tions then for every point x x and every open neighborhood u x there exists a sc smooth function f x 0 1 with f x 1 and support in u x in addition we can choose f in such a way that f y 1 for all y near x proof by assumption there exists a sc smooth bump function g having support in u x and satisfying g 0 1 in order to achieve that the image is contained in 0 1 we choose a smooth map r 0 1 satisfying s 0 for s 1 and s 1 for s 1 and define the sc smooth function f by f g if in addition we wish f to be constant near x we take f y g y for 1 the survey paper 17 discusses in particular bump functions on banach spaces which are classically differentiable definition 5 14 ck bump function a banach space e admits a ck bump func tion if there exists a ck function f e r not identically zero and having bounded support here k 0 1 2 the existence of ck bump functions on lp spaces is a consequence of the following result due to bonic and frampton see theorem 1 in 17 theorem 5 10 bonic and frampton for the lp spaces the following holds for the usual lp norm let p 1 and let be the usual norm on lp 5 5 notes on partitions of unity and bump functions 175 1 if p is an even integer then p is of class c 2 if ip s an odd integer then p is of class cp 1 3 if p 1 is not an integer then p is of class c p where p is the integer part of p we deduce immediately for the sobolev spaces w k p that the usual norms u p w k p k d u plp have the same differentiability as lp taking a non vanishing smooth function r r of compact support the map f x x p is a bump function of lp whose smoothness depends on p as indicated in theorem 5 10 if is a bounded domain in rn and e w 1 4 is equipped with the sc structure em w 1 m 4 m 0 we deduce from 1 in theorem 5 10 that e admits sc smooth bump functions in contrast if e w 1 3 2 is equipped with the sc structure em w 1 m 3 2 then the straightforward bump function constructed by using 3 of theorem 5 10 would only be of class sc 1 does there exist a sc smooth bump function on e i e sc smooth and of bounded support in e the existence of sc smooth bump functions is a local property definition 5 15 a local m polyfold model o c e has the sc smooth bump function property if for every x o and every open neighborhood u x o satis fying cle u x o there exists a sc smooth function f o r satisfying f 6 0 and supp f u x clearly the following holds theorem 5 11 a m polyfold x admits sc smooth bump functions if and only if it admits a sc smooth atlas whose the local models have the sc smooth bump function property the following class of spaces have the sc bump function property proposition 5 6 assume that o c e is a local m polyfold model in which the 0 level e 0 of the sc bananch space e is a hilbert space then o c e has the sc bump function property proof let be the inner product and the associated norm of e 0 we choose a smooth function r r of compact support and satisfying 0 1 then the 176 5 fredholm package for m polyfolds function f x x 2 x e defines in view of corollary 1 1 a sc smooth func tion on e using scaling translating and composition with the sc smooth retraction onto o the proposition follows next we study the question of the existence of sc smooth partitions of unity by def inition a m polyfold x is paracompact and therefore there exist continuous parti tions of unity hence it is not surprising that the existence of sc smooth partitions of unity is connected to local properties of x namely to the local approximability of continuous functions by sc smooth functions definition 5 16 a local m polyfold model o c e has the sc smooth approxi mation property provided the following holds given f v where v is an open subset of o such that clc v o f o 0 1 is a continuous function with sup port contained v and 0 there exists a sc smooth map g o 0 1 supported in v and satisfying f x g x for all x o theorem 5 12 the following two statements are equivalent 1 a m polyfold x admits sc smooth partitions of unity subordinate to any given open cover 2 the m polyfold x admits an atlas consisting of local models having the sc smooth approximation property proof let us first show that 1 implies 2 for the m polyfold x we take an atlas of m polyfold charts u o we shall show that the local models o c e posses the sc smooth approximation property let f v be as in definition 5 16 the sc smooth function f is defined on 1 o x and we extend it by 0 to all of x and obtain a continuous function g x 0 1 whose support is contained in the open set w 1 v satisfying clx w u define the open subset w of x by w x w g x 4 then clx w w for every x clx w there exists open neighborhood ux of x such that clx ux w and g x g y 2 for all y ux take the open cover of x consisting of u 0 x x g x 2 and ux x clx w by assumption there exists a subordinate sc smooth partition of unity consisting of 0 with the support in u 0 and x supported in ux x clx w then we define the function g x 0 1 by g y x clx w x y g x since the collection of supports of 0 and x is locally finite the sum is locally finite and therefore g is sc smooth we claim that g x g x for all x x in order to show this we first show that supp g w we assume that y supp g and let yk be a sequence satisfying g yk 0 and yk y since g yk 0 every open neighborhood of y intersects 5 5 notes on partitions of unity and bump functions 177 supp x for some x clx w since the collection of supports supp x is locally finite there exists an open neighborhood q q y of y in x and finitely many points x 1 xm such that only the supports of the functions xi intersect q hence 0 g yk m i 1 xi yk g xi showing that yk m i 1 clx uxi w for large k 1 consequently y w and hence supp g w next given z u there exists an open neighborhood q q z of z in x such that q intersects only finitely many supports of functions belonging to the partition of unity if q intersects the support of 0 and none of the supports of the functions x then q u 0 and g y 0 for all y q consequently g y g y g y 2 for all y q if q intersects supports of the functions x there are finitely many points x 1 xl such that only the supports of the functions xi intersect q hence g y l i 1 xi y g xi for all y q since g x g y 2 if y ux and g y 2 if y u 0 we conclude that g y g y 0 x g y l i 1 xi y g y l i 1 xi y g xi 2 l i 1 xi z g y g xi 2 2 l i 1 xi y for all y q consequently g y g y for all y u and f x g 1 x for x o this completes the proof that 1 implies 2 next we show that 2 implies 1 for the m polyfold x we take an atlas of m polyfold charts u o t where the local models o c e t posses the sc smooth approximation property we assume that v is an open cover of x then there exists a refinement w some sets may be empty with the same index set which is locally finite so that w v and for every there exists an index t such that clx w u since x is metrizable we find open sets q such that q clx q w 178 5 fredholm package for m polyfolds and q is a locally finite open cover of x using again the metrizability of x we find continuous functions f x 0 1 satisfying f q 1 and supp f w let 1 2 v w and f f 1 in view of the hypothesis 2 for the triple f v 1 2 there exists a sc smooth function g o 0 1 having support in v and satisfying f x g x 1 2 for all x o going back to x and extending g 1 onto x by 0 outside of w we obtain the sc smooth functions g x 0 1 satisfying g x 0 for x q then we define x 0 1 by x g x g x the family of functions is the desired sc smooth partition of unity subor dinate to the given open cover v of x an immediate consequence of theorem 5 12 is the following result proposition 5 7 assume that the sc banach space admits smooth partitions of unity then a local model o c e has the sc smooth approximation property the result below due to toru nczyk see 17 theorem 30 gives a complete charac terization of banach spaces admitting ck partitions of unity this criterion reduces the question to a problem in the geometry of banach spaces though this criterion is not easy to apply it serves as one of the main tools in the investigation of the question see 17 in order to formulate the theorem we need a definition definition 5 17 if is a set we denote by c 0 the banach space of functions f r having the property that for every 0 the number of with f is finite the vector space operations are obvious and the norm is de fined by f c 0 max f a homeomorphic embedding h e c 0 is coordinate wise ck if for every the map e r e h e is ck if n then c 0 n is the usual space c 0 of sequences converging to 0 theorem 5 13 toru nczyk s theorem a banach space e admits a ck partition of unity if and only if there exists a set and a coordinate wise ck homeomorphic embedding of e into c 0 5 5 notes on partitions of unity and bump functions 179 an important class of banach spaces are those which are are weakly compactly generated they have good smoothness properties and will provide us with examples of sc banach spaces admitting sc smooth partitions of unity definition 5 18 a banach space e is called weakly compactly generated wcg if there exists a weakly compact set k in e such that the closure of the span of k is the whole space e cle span k there are two useful examples of wcg banach spaces proposition 5 8 let e be a banach space 1 if e is reflexive then e is wcg 2 if e is separable then e is wcg proof in case that e is reflexive it is known that the closed unit ball b is compact in the weak topology clearly e span b if e is separable we take a dense sequence xn n in the unit ball and define k 0 1 n xn n 1 then k is compact and in particular weakly compact the usefulness of wcg spaces lies in the following result from 20 see also 17 theorem 31 theorem 5 14 20 if the wcg space e admits a ck bump function then it also admits ck partitions of unity corollary 5 2 let o c e be a local model where e 0 is a hilbert space then o c e has the sc smooth approximation property proof a hilbert space is reflexive and hence a wcg space we have already seen that a hilbert space equipped with a sc structure admits sc smooth bump functions and conclude from theorem 5 14 that it admits sc smooth partition of unity and consequently has the smooth approximation property in view of theorem 5 12 chapter 6 orientations in this chapter we introduce the notion of a linearization of a sc fredholm section and discuss orientations and invariants associated to proper sc fredholm sections we refer the reader to 8 for some of the basic ideas around determinants of linear fredholm operators and to 16 for applications of the more classical ideas to prob lems arising in symplectic geometry i e linear cauchy riemann type operators in polyfold theory the central issue is that the occurring linear fredholm operators which are linearizations of nonlinear sections do in general not depend as oper ators continuously on the points where the linearization was taken on the other hand there is some weak continuity property which allows to introduce orientation bundles however it is necessary to develop some new ideas 6 1 linearizations of sc fredholm sections let p y x be a strong bundle over the m polyfold x and f a sc smooth section of p if x is a smooth point in x and f x 0 there exists a well defined lineariza tion f x txx yx which is a sc operator in order to recall the definition we identify generalizing a classical fact of vector bundles the tangent space t 0 xy at the element 0 x with the sc banach space txx yx where yx p 1 x is the fiber over x denoting by px txx yx yx the sc projection the linearization of f at the point x is the fol lowing operator f x px t f x txx yx as in the case of vector bundles there is in general no intrinsic notion of a lin earization of the section f at the smooth point x if f x 6 0 however dealing with a strong bundle we can profit from the additional structure we simply take a local 181 182 6 orientations sc section s defined near x and satisfying s x f x so that the linearization f s x txx yx is well defined to find such a sc section we take a strong bundle chart around x denoting the sections in the local charts by the same letters we let r be the local strong bundle retraction associated with the local strong bundle it satisfies r x f x f x and we define the desired section s by s y r y f x since f x is a smooth point s is a sc section satisfying s x f x at the distinguished point x as desired if t is another sc section satisfying t x f x s x then f s x f t x t s x and the linearization t s x is a sc operator it follows from proposition 1 4 that f s x is a sc fredholm operator if and only if f t x is a sc fredholm operator in which case their fredholm indices agree because a sc operator is level wise a compact operator let now f be a sc fredholm section of the bundle p and x a smooth point in x then there exists a local sc section s satisfying s x f x and moreover f s x is a sc fredholm operator definition 6 1 if f is a sc fredholm section f of the strong bundle p y x and x a smooth point in x then the space of linearizations of f at x is the set of sc operators from txx to yx defined as lin f x f s x a a txx yx is a sc operator the operators in lin f x all differ by linear sc operators and are all sc fredholm operators having the same fredholm index hence the space lin f x is a convex subset of sc fredholm operators txx yx given an sc fredholm section of p y x taking the linearizations at smooth points defines over x some kind of bundle lin f where the fibers are the lin f x lin f x we shall use this structure later on for defining orientations for the moment it allows us to define the index of the sc fredholm germ f x by ind f x dimker f s x dim yx im f s x we shall show that this index is locally constant the proof has to cope with the difficulty caused by the fact that in general the linearizations do not depend con tinuously as operators on the smooth point x 6 1 linearizations of sc fredholm sections 183 recall that a m polyfold is locally path connected and that moreover any two smooth points in the same connected component can be connected by a sc smooth path 0 1 x proposition 6 1 stability of ind f x let p y x be a strong bundle over the tame m polyfold x and f a sc fredholm section if x 0 and x 1 are smooth points in x connected by a sc smooth path 0 1 x then ind f x 0 ind f x 1 remark 6 1 the tameness assumption is in all likelihood not needed however it allows to apply a trick proof we shall show that the map t 7 ind f t is locally constant the dif ficulty is that the linearizations even if picked sc smoothly will in general not depend as operators continuously on t on top of it we have possibly varying di mensions of the spaces so that we need to change the filled version at every point however one can prove the result with a trick which will also be used in deal ing with orientation questions later on we consider the tame m polyfold 0 1 x and consider the graph of the path we fix t 0 0 1 and choose a locally de fined sc section s t x satisfying s t t f t for t x 0 1 x near t 0 t 0 we do not need a sc smooth partition of unity if we had one available then we could define such a section s which satisfies s t t f t for all t 0 1 we choose finitely many smooth points e 1 em such that the image of f s t 0 t 0 together with the ei span y t 0 next we take a smooth finite dimensional linear subspace l of t t 0 x which has a sc complement in t r t 0 x then the image of l under f s t 0 t 0 is a smooth finite dimensional sub space of y t 0 of dimension r say we choose smooth vectors p 1 pr spanning this space next we take m r many sc sections depending on t x locally de fined so that at t 0 t 0 they take the different values e 1 em and p 1 pr now the section f t x f x s t x m p i 1 i si t x is defined near 0 t 0 t 0 and takes values in y the linearization at 0 t 0 t 0 with respect to the first and second variable is surjective and the kernel of the lin earization has a complement contained in t r 0 t 0 t 0 r m p 0 1 x rm p t rt 0 0 1 t r t 0 x hence ker f 0 t 0 t 0 is in good position to the boundary employing the im plicit function theorem for the boundary case we obtain a solution manifold s of f 0 containing 0 t t for t 0 1 close to t 0 moreover if t x t s then ker f t t t t t s and f t t is surjective hence 184 6 orientations t 7 dim t 0 t t s is locally constant for t 0 1 near t 0 by construction ind f t 0 m p ind f 0 t 0 t 0 ind f 0 t t ind f t m p therefore ind f t 0 ind f t for all t near t 0 6 2 linear algebra and conventions in he following we are concerned with the orientation which is crucial in our appli cations we follow to a large extent the appendix in 43 the ideas of the previous proof are also useful in dealing with orientation questions there we did not use sc smooth partitions of unity in the following however we shall assume the ex istence of sc smooth partitions of unity to simplify the presentation but the proofs could be modified arguing as in the index stability theorem we begin with standard facts about determinants and wedge products basically all the constructions are natural but usually depend on conventions which have to be stated apriori since different authors use different conventions their natural iso morphisms can be different to avoid these difficulties we state our conventions carefully we also would like to point out that a zinger has written a paper dealing with these type of issues 75 he also describes some of the mistakes occurring in the literature as well as deviating conventions by different authors since the al gebraic treatment of sft one of the important applications of the current theory relies on the orientations of the moduli spaces and the underlying conventions we give a comprehensive treatment of orientation questions using the notation intro duced by zinger in 75 we define e maxe and e e where e is the dual of the vector space e a linear map e f be tween finite dimensional vector spaces of the same dimension induces the linear map e f defined by a 1 an a 1 an the map is nontrivial if and only if is an isomorphism the dual map f e of e f induces the map f e moreover we denote by 6 2 linear algebra and conventions 185 f e the dual of the map e f the composition of the two maps e f g between vector spaces of the same dimension satisfies there are different canonical isomorphisms e e depending on different conventions our convention is the following definition 6 2 if e is a finite dimensional real vector space and e its dual the natural isomorphism e e is defined by e 1 e n a 1 an det e i a j where n dim e if n 0 we set e 0 r from this definition we deduce for a basis e 1 en of e and its dual basis e 1 e n the formula e 1 e n e 1 en where the dual vector v of a vector v 6 0 in a one dimensional vector space is determined by v v 1 indeed e 1 en e 1 en 1 det e i e j e 1 e n e 1 en the definition of is compatible with the previous definition of induced maps proposition 6 2 if e f is an isomorphism between two finite dimensional vector spaces and f e is its dual then the following diagram is commu tative f e y y f e proof let f 1 fn be a basis of f and f 1 f n its dual basis of f then we define the basis e 1 en of e by ei fi its dual basis in e is given by e 1 186 6 orientations f 1 e n f n and we compute f 1 f n e 1 en f 1 fn e 1 en f 1 fn e 1 en f 1 fn f 1 fn 1 similarly f 1 f n e 1 en f 1 f n e 1 en e 1 e n e 1 en e 1 en e 1 en 1 hence and the commutativity of the diagram is proved next we consider the exact sequence eee of finite dimensional linear vector spaces eee 0 a b c d 0 we recall that the sequence is exact at b for example if im ker we deal with the exact sequence as follows and take a complement z b of a so that b a z and a complement v c of b so that c b v then the exact sequence eee becomes eee 0 a a z b v d 0 here the first nontrivial map is a 7 a 0 the second is b z 7 z 0 and the third is c v 7 v the maps a a z z and v d are isomorphisms from the exact sequence eee we are going to construct several natural isomorphisms fixing again some conventions the first natural isomorphism is the isomorphism eee a d b c constructed as follows we abbreviate n dim a m dim b k dim c and l dim d eee maps 0 to 0 next we take a nonzero vector h a 1 an d 1 dl a d where a 1 an is a basis of a and d 1 dl is a basis for d then we define the basis b 1 bn of a by bi ai and the basis c 1 cl of v by ci di i 1 l now we choose a basis b 1 b m n of z and define the basis c 1 c m n 6 2 linear algebra and conventions 187 of b c by c i b i finally we define eee h b c by eee a 1 an d 1 dl a 1 an b 1 b m n c 1 cl c 1 c m n 6 1 the two conventions here are that b 1 b m n are listed after the a 1 an and c 1 c m n are listed after c 1 cl apart from these two conventions how to list the vectors the resulting definition does not depend on the choices involved lemma 6 1 with the above two conventions the definition of eee does not depend on the choices hence eee is a natural isomorphism the proof is carried out in appendix 6 7 1 later we need to compare specific exact sequences given two exact sequences eee and eee we assume that we have the commutative diagram 0 a b c d 0 a y b y c y d y 0 a b c d 0 6 2 where the vertical maps are isomorphisms the horizontal arrows define linear iso morphisms a d b c and a d b c respectively the vertical arrows induce isomorphisms which complete the obvious commutative diagram a d b c y y a d b c 6 3 let a 1 an be a a basis of a and d 1 d a basis of d then the top hor izontal arrow is obtained by extending b 1 a 1 bn an via a choice of b 1 b m n to a basis of b we pick c 1 c so that ci di then the ci are linearly independent then we consider the linearly independent vectors c 1 b 1 c m n b m n the horizontal arrow maps a 1 an d 1 d to a 1 an b 1 b m n c 1 cl c 1 c m n using that the vertical arrows are isomorphisms we can map a 1 an a a 1 a an a 1 an b 1 b m n b b 1 b n b b 1 b b m n c 1 c c 1 c m n c c 1 c c c c 1 c c m n d 1 d d d 1 d d 188 6 orientations we map for example h a 1 an d 1 d to a a 1 a an d d 1 d d for the first vertical arrow by the previous lemma the horizon tal arrows do not depend on the choices involved from this it follows also that the above definition does not depend on the choice we leave additional arguments to the reader and summarize our findings as follows lemma 6 2 a commutative diagram 6 2 with vertical maps being isomorphisms induces a natural depending on our conventions commutative diagram 6 3 associated with the exact sequence eee there exists also a second natural isomorphism eee c a d b 6 4 constructed as follows we first map c 1 ck a 1 an d 1 dl into c 1 ck eee a 1 an d 1 dl which belongs to c b c and then we compose this map with the isomorphism c b c b defined by v b v b since eee is well defined so is eee for convenience we present a more explicit formula for eee using the notations of eee proposition 6 3 we fix the basis a 1 an of a and the basis d 1 dl of d and abbreviate their wedge products by a and by d in the complement of b c we have the basis c 1 cl defined by ci di the vectors b 1 bn b defined by bi ai are a basis of of a b and in the complement of a in b we choose the basis a b 1 b m n and define the basis c 1 c m n of b c by c i b i abbreviating c c 1 c l c 1 cm n we obtain the formula eee c a d b 1 bn b 1 b m n b proof we already know from lemma 6 1 that eee is well defined since eee is well defined by construction eee a d b 1 bn b 1 b m n c 1 c l c 1 cm n here ci bi and c i di then abbreviating the wedge product of the vectors b 1 bn b 1 b n m by b we obtain eee c a d c b c b 6 3 the determinant of a fredholm operator 189 6 3 the determinant of a fredholm operator we shall use some of the classical theory of determinants which can be found for example in 75 a key fact is that many constructions in this area are naturally isomorphic which too often is a source of sign errors in orientation questions it is important to note that there are usually many natural isomorphisms specific ones depend on a priori conventions which very often differ from author to author with out being specified definition 6 3 the determinant det t of a bounded linear fredholm operator t e f between real banach spaces is the 1 dimensional real vector space de fined by det t ker t coker t an alternative definition used by some authors is det t ker t coker t the two definitions are naturally isomorphic given a convention how to identify a and a definition 6 4 an orientation of an fredholm operator t e f is an orientation of the real line det t we begin this subsection by deriving exact sequences associated to fredholm oper ators definition 6 5 let t e f be a fredholm operator between two banach spaces a good left projection for t is a bounded projection p f f having the follow ing two properties 1 dim f r p 2 r p t r p by t we denote the collection of all good left projections for t in view of 1 the projection p satisfies dimcoker p dimker p hence p is a fredholm operator of index 0 since t is fredholm the composition p t is fredholm and ind p t ind p ind t ind t the definition of being a good left projection has a certain amount of stability build in as can be seen from the next lemma lemma 6 3 let t 0 e f be a fredholm operator between banach spaces and p 0 t 0 then there exists 0 so that for every t l e f p l f with 190 6 orientations p p p t t 0 and p p 0 it holds that t is fredholm p t and ind t ind t 0 proof define h i p 0 f and denote by p f the spaces of bounded linear projections p f f we define the continuous map p f l e f l e h f p t p t by p t x h p t x i p h we note that p 0 t 0 is a surjectve fredholm operator also the subset of fredholm operators f e h f is open in l e h f we find 0 so that the following holds for p p 0 t t 0 1 p t f e h f 2 p t is surjective 3 i p h i p f is surjective 4 the dimension of f p f equals that of f h from this we immediately conclude that for p p 0 and t t 0 t e f is fredholm p t e p f is surjective and r p has finite co dimension this means that p t remark 6 2 the previous lemma has some important consequence which will be used in later constructions if t 0 is fredholm and p t 0 then a t near t 0 is fred holm and p t 0 it is an easy exercise that ker pt varies continuously as t near t 0 varies and we obtain an honest local line bundle this trivially holds for the cok ernel f r pt f r p as we shall see there is a natural isomorphism between det t and det pt and this fact will be crucial since it allows to define a structure of a linear bundle on the union of all det t as t varies the set t of projections possesses a partial ordering defined by p q if and only if p pq qp it is in general not true that for given p q t there exists l t with l p and l q remark 6 3 in the context of hilbert spaces one usually takes ortht which is the subset of t consisting of orthogonal projections in this case there exists for p q orth t a l orth t with l q and l p this fact simplifies later constructions in the hilbert case space this particular case which is classical and well known was discussed in 43 given two projections p q f f having images with finite co dimensions the space r p r q has finite co dimension as well 6 3 the determinant of a fredholm operator 191 lemma 6 4 let q f f and p f f be two continuous projections which have images of finite co dimension and let l f f be a continuous projection satisfying r l r p r q then the bounded linear operators lp and lq are projections onto r l satisfying lq q and lp p proof for y f we compute since r l r p lplp y llp y lp y and similarly for lq this shows that lp and lq are projections since r l r p r q it follows that r lq r lp r l finally we compute that p lp lp l pp lp p which precisely means that lp p similarly it follows that lq q definition 6 6 assume h f is a closed linear subspace with finite co dimension we denote by ph the subset of the space of continuous linear operators l f consisting of projections onto h continuous projections p f f with image h are in 1 1 correspondence with closed subspaces k of f satisfying dim k dim f h and k h 0 given an ordered pair k k of such linear subspaces there is an associated linear map k k k h uniquely determined by k k k k k k k 6 5 we also note the following trivial result lemma 6 5 let p q ph then q x p x q i p x for all x f proof by assumption r p r q h we obtain two topological direct sum decompositions f h i p f and f h i q f given x f we can write it as x p x i p x q x i q x and applying q we find that q x qp x q i p x p x q i p x 192 6 orientations at the heart of the following constructions are suitable exact sequences associated with the projection p t there is the exact sequence eee t p 0 ker t jpt ker pt p t f r p p t coker t 0 where jpt is the inclusion map p t is defined by p t f r p i p f r t f f and p t x t x r p x ker pt proposition 6 4 the sequence eee t p is exact proof the inclusion jpt is injective and p t j p t 0 if p t x 0 then t x r p implying i p t x 0 since x ker pt we conclude t x 0 this proves exactness at ker pt assuming x ker pt hence pt x 0 we compute p t p t x p t t x r p pt t x r pt i p t x r t t x r t r t i e the composition pt p t vanishes if p t y r p 0 hence i p y r t there exists x e solving t x i p y consequently p t x t x r p i p y r p y r p proving the exactness at f r p finally we show the surjectivity of the map pt given f r t coker t we choose x e satisfying pt x p f and compute p t f t x r p i p f t x r t f r t which finishes the proof of the exactness we discuss the ramifications of the previous discussion starting with the fredholm operator t e f and the projection p t we obtain from the exact sequence eee t p 0 ker t jpt ker pt p t f r p p t coker t 0 recalling r p r pt and employing lemma 6 1 the natural isomorphism eee t p ker t coker t ker pt coker pt 6 3 the determinant of a fredholm operator 193 by definition of the determinant this means that eee t p det t det pt is an isomorphism we rename this isomorphism for the further discussion and setting eee t p p t we have the isomorphism p t det t det pt 6 6 it is important to note that the righthand side det pt has a local continuity property when t varies for further constructions it will be important to study 6 6 if we change p to a q satisfying q p and ultimately to q not order related to p we consider the fredholm operator t e f and the projections p q t satis fying p q so that p pq qp then as we have already seen the composition qt is fredholm moreover p qt therefore the associated exact sequences eee t p eee t q and eee qt p produce the following isomorphisms p t det t det pt q t det t det qt p qt det qt det pt the crucial observation is the following result whose proof is postponed to ap pendix 6 7 2 proposition 6 5 if t e f is a fredholm operator and q p t satisfy p q then qt e f is a fredholm operator and p qt moreover p qt q t p t from proposition 6 5 we conclude for the three projections p r s t satisfying p r and p s the relation pt r r t p t p st s t so that the diagram det t r t det rt y st y prt det st p st det pt is commutative implying the following corollary corollary 6 1 with the assumptions of proposition 6 5 the map det st det rt h 7 prt 1 pst h 194 6 orientations is independent of the choice of p as long as p s and p r moreover this map is equal to the isomorphism det st det rt h 7 rt s t 1 h 6 7 the last statement 6 7 may be viewed as some kind of transition map for the iso morphisms det t det pt and det t det qt provided p q t and there exists s p and s q the important fact is that as already pointed out det pt and det qt change locally continuously in t unfortunately it is not always possi ble to find for given p q t a projection s t with s p and s q therefore we need a result comparing the constructions for p and q both in t respectively recalling remark 6 3 we would like to point out that in the hilbert space setting taking only orthogonal projections the previous constructions are enough to define the general determinant bundle for the banach space case we need to understand the relationship when we use two non compatible projections in view of lemma 6 4 given q p t we can find l t such that lp lq t pr q r p lp p and lq q this gives us the natural maps det t p t det pt and det t q t det qt 6 8 and we need in principle to understand the continuity property of qt p t 1 in order to simplify this task one uses the fact that the natural maps det pt det lpt and det qt det lqt vary near t continuously in view of proposition 6 5 it suffices therefore to es tablish instead of the local continuous dependence on t of the transition map associated to 6 8 the continuous dependence of the transition maps associated to det t p t det lpt and det t q t det lqt the advantage here is that lq lp t pr q r p consider the following dia gram which has exact horizontal rows 0 ker t jlpt ker lpt lp t f h lp t coker t 0 y y 0 ker t jlqt ker lqt lq t f h lq t coker t 0 we would like to show that we can fill in for and so that the diagram is com mutative and so that the fill in maps introduce locally when t varies continuous 6 3 the determinant of a fredholm operator 195 maps between the kernel bundles associated to ker lpt and ker lqt and sim ilarly for the constant bundles associated to f h having the diagram filled in by the maps and will give us in view of lemma 6 2 det t lp t det lpt y det t lq t det lqt of course since lq t lp t 1 the proposed procedure would show that the transition map is continuously depending when t is locally changed the desired result follows from the next proposition where we change somewhat the notation to simplify the representation it is concerned with the question of filling in the previous big diagram proposition 6 6 let t e f be a linear fredholm operator and consider for p q t ph the associated exact sequences eee t p and eee t q then there is a construction for linear maps at and bt which are isomorphisms and make the following diagram commutative 0 ker t jpt ker pt p t f h p t coker t 0 at y bt y 0 ker t jqt ker qt q t f h q t coker t 0 varying t to a t near t so that p q t the constructions of at and bt depend continuously on t proof since ind pt ind qt ind t and r pt r qt h it follows that dim ker pt dim ker qt we can take a closed linear subspace x of e which at the same time is a topological linear complement of ker qt and ker pt hence e x ker qt x ker pt for given e ker pt denote by x e x the unique solution in x of qt x qt e 6 9 then qt e x e 0 and we define at ker pt ker qt at e e x e assume that e ker pt ker qt this intersection contains ker t then qt x e qt e pt e 0 implying that x e 0 and therefore 196 6 orientations at ker pt ker qt id the map at is an isomorphism since at e 0 implies e x which together with e ker pt implies e x ker pt 0 we also note that the equation 6 9 is uniquely solvable for t near t in addition for such closeby t we also have q p t and the solution depends continuously on t in order to define the map bt f h f h we consider the bounded linear map x i q f f x f t x f this map is an isomorphism indeed if t x f 0 we find that qt x 0 im plying x 0 which implies f 0 given f f we find a unique x x solving qt x q f we then pick f i q f i q t x and compute t x f qt x i q t x i q f i q t x q f i q f f now we solve for f with i p f f t x f f the solution is denoted by x f f f and we define bt f h f h bt f h f h next we show that bt pt q t at for e ker pt we compute using that i p t e t e with t x e f e t e and observing that qt x e qt e the defining equation for at bt pt e bt t e h f e h t e x e h t at e h q t at e further we calculate where i p f f and t x f f q t bt f h q t f h f r t f t x r t f r t pt f h 6 3 the determinant of a fredholm operator 197 in order to calculate bt i p t e h for e ker pt we need to solve for x x t x f t e implying qt x qt e and consequently x x e hence f t e x e t at e from which we infer that f h t at e h q t at e we calculate q t b q q t f q h i q f q r t f q r t f t x f r t f r t pt f h pt q let e ker pt and solve t x f i p t e so that btx i p t e h f h btx p t e btx t e h f h moreover q t a e q t e x e t e x e h since the diagram has been shown to be commutative and a is an isomorphism the five lemma implies that b is an isomorphism by construction at is obtained for e ker pt by solving qt x qt e which is the same as solving t x f t e and at maps e to e x the map bt is obtained by solving for f with i p f f the equation t x f f and mapping f h to f h the important fact is that x i q f f x f t x f 198 6 orientations is a linear isomorphism if we keep x and perturb t to t the equation is still uniquely solvable and ker pt x ker qt x e this shows that the maps bt and at for small perturbation are continuously depending on t we already discussed the following informally in view of lemma 6 4 we can take a projection l onto r p r q and the previous discussion applies to lp p and lq q then we only need to study the relationship between the constructions for lp and lq both projections belong to ph where h r l r lp r lq in view of proposition 6 6 we can relate the constructions for lp and lq hence by the previous discussions we have natural isomorphisms det t det pt det lpt and det t det qt det lqt and from proposition 6 6 0 ker t jlpt ker lpt lp t f h lp t coker t 0 at y bt y 0 ker t jlqt ker lqt lq t f h lq t coker t 0 from which we obtain the commutative diagram det t det lpt t y det t det lqt here t is obtained from at and bt and therefore shows continuous dependence on t postponing the construction of determinant bundles there is an important stabiliza tion construction which is the linearized version of a construction occurring in per turbation theory and which has to be understood from the point of view of orien tations of determinants we start with a fredholm operator t e f and assume that rn f is a linear map such that the map t e rn f defined by t e r t e r is surjective writing rn after e is convenient and goes hand in hand with the con ventions in the definition of the isomorphism eee associated with the exact sequence eee we would like to introduce a convention relating the orientations of det t and det t knowing that rn possesses the preferred orientation as direct sum of n many copies of r each of which is oriented by 1 we introduce the exact sequence eee 0 ker t j ker t rn f r t 0 6 3 the determinant of a fredholm operator 199 in which j e e 0 e r r and r r r t lemma 6 6 the sequence eee is exact proof clearly j 0 and j is injective if e r 0 then t e 0 and j e 0 e e r if e r ker t then t e r 0 implying that r r t hence r r t if r 0 we have r t e for some e e and hence e r ker t moreover e r r the last map is surjective since by assumption t is surjective from the exact sequence eee we deduce the previously constructed natural isomor phism eee det t ker t rn in the applications the operator t is oriented and the auxiliary constructions to ob tain transversality yield on the linearized level operators of the type t the above isomorphism can be used to relate the orientations of det t and det t however this requires an additional convention for this it suffices to fix an isomorphism rn r 0 this gives rise to an isomorphism ker t rn ker t r det t which then yields an isomorphism det t det t the isomorphism we choose is defined by rn 0 r e 1 en 7 1 where e 1 en is the standard basis of rn it then follows for every basis c 1 cn of rn that c 1 cn 1 det c 1 cn 1 6 10 where det denotes the determinant of a n n matrix of the column vectors summing up the previous discussion and using the definition of the isomorphism eee associated to the exact sequence eee we can summarize the findings in the following proposition proposition 6 7 with the chosen isomorphism rn 0 r e 1 en 1 we define the isomorphism det t det t by the following formula we choose a basis a 1 ak of ker t and a basis d 1 c 1 r t d m c m r t of f r t let h a 1 ak d 1 d m extend a 1 0 ak 0 to a basis of ker t by adding b 1 b 1 r 1 b l bl rl and notice that r 1 b 1 r 1 rl bl rl together 200 6 orientations with c 1 c m form a basis of rn then the isomorphism is defined by the for mula h 1 det c 1 c m r 1 rl a 1 0 ak 0 b 1 b l 1 this follows immediately from the definition of the isomorphism eee associated with the exact sequence eee our choice of isomorphism rn r is of course dual to a uniquely determined choice of isomorphism r rn defined by the mapping which maps 1 to the wedge of the standard basis its inverse is the map c 1 cn det c 1 cn 6 11 here again det is the determinant of a n n matrix having chosen the isomorphisms 6 10 and 6 11 we deduce the following natural identifications for every finite dimensional vector space v v rn v v e 1 en 7 v 1 v and v rn v v e 1 en v 1 v we need another convention definition 6 7 assume that t e f and s e f are fredholm operators then the direct sum t s e e f f is a fredholm operator and we define the natural isomorphism det t det s det t s as follows we choose h a 1 an d 1 dl det t and h a 1 a n d 1 d l det s then we map h h to the vector g det t s defined by g a 1 an a 1 a n d 1 dl d 1 d l 6 4 classical local determinant bundles we continue with some local constructions in the neighborhood of a fredholm op erator t e f between two banach spaces 6 4 classical local determinant bundles 201 lemma 6 7 given a fredholm operator t e f and a projection p t we take a topological complement y of ker pt in e then there exists 0 such that for every s l e f satisfying s t the following holds 1 p s 2 ps y y r p is a topological isomorphism proof we estimate pt y ps y p s t since pt y y r p is a topological linear isomorphism it follows from the openness of invertible linear op erators y r p that 2 holds for a suitable since ps y r p is a topological linear isomorphism we conclude that r ps r p which implies p s we assume the hypotheses of the previous lemma split e ker pt y and cor respondingly write e k y for s satisfying s t we consider the equation ps k y 0 which can be rewritten as ps y ps k hence y y k s ps y 1 ps k the map k s 7 y k s is continuous we equipe the topological space s t s ker ps l e f e with the induced topology the projection s t s ker ps s t s is the restriction of the continuous projection l e f e l e f and there fore continuous the fibers of are finite dimensional vector spaces of the same dimension lemma 6 8 the topological space s t s ker ps together with the con tinuous projection has the structure of a trivial vector bundle proof the continuous and bijective map s s t ker pt s t s ker ps is defined by s k 7 s k y k s its inverse is the restriction of the continuous map s s t e s s t ker pt s k y 7 s k 202 6 orientations so that our map is indeed a topological bundle trivialization now we have the trivial bundle s t s ker ps s s t and the product bundle 0 s s t f r p s s t the obvious viewpoint about these bundles is the following given the family of fredholm operators s 7 ps defined for s satisfying s t the kernel di mension and cokernel dimension is constant therefore we obtain the topological kernel bundle as well as the cokernel bundle we need the following standard lemma whose proof is left to the reader lemma 6 9 given finite dimensional topological vector bundles e and f over the topological space x the bundles e x f x as well as e f x and e f x have the structure of topological vector bundles in a natural way from lemma 6 9 we deduce immediately the following result proposition 6 8 let t e f be a fredholm operator and p t then the topological space s t s det ps together with the projection onto the set s s t has in a natural way the structure of topological line bundle we introduce for the fredholm operator t and the projection p t the abbrevi ation det t p s t s det ps where 0 is guaranteed by lemma 6 8 we shall call det t p the local de terminant bundle associated with the fredholm operator t the projection p t and for the projection q t satisfying q p we abbreviate det t q s t s det qs which again in a natural way is a topological line bundle lemma 6 10 the algebraic isomorphism 6 4 classical local determinant bundles 203 t p q det t p det t q s h s q ps h is a topological line bundle isomorphism proof this is trivial and follows from an inspection of the maps qps a sketch of the proof goes as follows we start with the exact sequence 0 ker ps ker qs f r q f r p 0 here s t since q p t and q p the kernels of ps and qs define topological bundles if we vary the fredholm operators s this is trivially true for the cokernel bundles associated to ps and qs which are honest product bundles in view of r ps r p and r qs r q we can take linearly independent contin uous sections which span the kernels of the ps similarly for the cokernels we can take constant sections now going through the construction of the maps qps we see that we can extend the kernel sections for the ps to a family of continuous sections which are point wise linearly independent and span the kernels of the qs proceed ing the same way with the cokernels we obtain at the end a continuous family of point wise linearly independent sections spanning ker qs and f r q taking the appropriate wedges and tensor products we see that a continuous section of the first line bundle is mapped to a continuous section of the second the argument can be reversed to verify the continuity of the inverse map now we introduce the bundle det e f s f e f s det s over the space of all fredholm operators at first sight this set seems not to have a lot of structure globally though near certain s it has some due to the previous dis cussion the problem is that in the definition of det s the ingredients ker s and f r s associated to s might have varying local dimensions however in view of the discussion in the previous subsection we shall see that we can equip det e f with the structure of a topological line bundle over the space of fredholm operators f e f this structure will turn out to be natural i e the structure does not de pend on the choices involved in its construction here it is important to follow the conventions already introduced we have the projection map det e f f e f s h 7 s the base f e f has a topology but the total space det e f at this point has not given t f we can invoke proposition 6 8 and find 0 and p t such that t p det e f s s t det t p s h 7 s p s h is a bijection which is fibers wise linear and covers the identity on the base 204 6 orientations definition 6 8 denote by b the collection of all subsets b of det e f having the property that there exists t p for which t p b is open in det t p the fundamental topological observation is the following proposition proposition 6 9 the collection of sets b is a basis for a topology on det e f postponing the proof for the moment we denote the topology associated with b by t and obtain the following result proposition 6 10 the set det e f with its linear structure on the fibers equipped with the topology t is a topological line bundle the maps t p det e f s s t det t p s h s p s h are topological bundle isomorphisms in order to prove the previous two propositions we recall the maps t p and t p we are interested in the transition map t p 1 t p the domain of this map consists of all pairs s h satisfying t s and s t and h det ps the transition map preserves the base point and maps h to an element in det p s this transition map is obviously an algebraic isomorphism between two topological line bundles but as we have discussed in the previous subsection these transition maps are continuous lemma 6 11 the transition map t p 1 t p is a topological isomorphism between topological line bundles the two previous propositions follows from this lemma which summarizes previous assertions i e the discussion around proposition 6 5 and proposition 6 6 let us finally remark that it is known that the line bundle det e f is non orientable however over certain subsets it is orientable and that will be used in the discussion of sc fredholm sections 6 5 local orientation propagation viewed locally a classical fredholm section f is a smooth map f u f from an open subset u of some banach space e into a banach space f the derivatives d f x x u form a family of fredholm operators depending continuously as op erators on x u the determinant line bundle of this family of fredholm operators is a continuous even smooth line bundle over u if u is contractible this line bun dle possesses precisely two possible orientations because a line has precisely two 6 5 local orientation propagation 205 possible orientations indeed in this case the orientation of one single line in the bundle determines a natural orientation of all the other lines we might view this procedure as a local continuous propagation of an orientation this method however is not applicable in the sc fredholm setting because the lin earizations do not in general depend continuously on the base point there are even additional difficulties for example we are confronted with nontrivial bun dles where the dimensions can locally jump nevertheless there is enough structure which allows to define a propagation of the orientation and this is the core of the orientation theory in the following section we consider the sc fredholm section f of the strong m polyfold bundle p y x over the tame m polyfold x choose for a smooth point x x a locally defined sc section s satisfying s x f x and take the linearization f s x txx yx the linearization f s x belongs to the space of linearizations lin f x which is a subset of linear fredholm operators txx yx possessing the induced met ric defined by the norm of the space l txx yx of bounded operators moreover lin f x is a convex subset and therefore contractible introducing det f x l lin f x l det l over the convex set lin f x the previous discussion shows that det f x is natu rally a topological line bundle proposition 6 11 det f x has in a natural way the structure of a topological line bundle over lin f x and consequently has two possible orientations since the base space is contractible definition 6 9 orientation let f be a sc fredholm section of the strong m polyfold bundle p y x over the tame m polyfold x and x x a smooth point then an orientation for the pair f x denoted by o f x is a choice of one of the two possible orientations of det f x let us denote by o f the orientation space associated to f which is the collection of all pairs x o in which x x and o is an orientation of det f x we consider a category whose objects are the sets or fx ox ox of the two possible orien tations of det f x the reader should not be confused by our notation there is no distinguished class ox we only know there are two possible orientations namely ox and ox for any two smooth points x and y in the same path component of x the associated morphism set consists of two isomorphisms the first one maps ox oy and the second one ox oy proposition 6 12 if f is a sc fredholm section of the strong m polyfold bundle p y x then every smooth point x possesses two open neighborhoods u u x and u u x having the following properties 206 6 orientations 1 u u is sc smoothly contractible in u to the point x 2 the solution set x clx u f x 0 is compact 3 given a sc smooth path 0 1 u there exists a sc section s u 0 1 y having the property that s t t f t 4 if t 0 0 1 y 0 u and e 0 is a smooth point in yy 0 then there exists a sc section q u 0 1 y satisfying q y 0 t 0 e 0 proof taking local strong bundle coordinates we may assume that the bundle is p k o and x 0 here k r v f is the strong bundle retract covering the sc retraction r v v satisfying r v o as usual v c is an open neighbor hood of 0 in the partial quadrant c of the sc banach space e take a smaller open neighborhood v of 0 c which is convex and contained in v then we can define r 0 1 v o r t x r tx we abbreviate o r v and note that t r t v retracts o at t 1 to x at t 0 while staying during the deformation in o we can always replace v by a smaller convex open neighborhood of 0 and keep the property just described the sc fredholm section f possesses the local compactness property we can therefore choose an open neighborhood v of 0 c such that u r v satisfies clc u o and the restriction f clc u has a compact solution set at this point we have constructed an open neighborhood u of x which has the first two proper ties shrinking u and u further will keep these properties we have to show that an additional shrinking will guarantee 3 and 4 the section f of k o has the form f y y f y where r f y f y the map f is the principle part of the section f and is sc smooth as a map from o to f if 0 1 u is a sc smooth path t 0 1 and y u then y f t o f v f and we define the map s u 0 1 k by s y t r y f t the map s is a sc section of the pull back of the bundle k o by the map u 0 1 o y t 7 y by construction s t t r t f t r f t f t this proves 3 the statement 4 was already proved in some variation in the sections about fred holm theory formulated in the local coordinates the statement 4 assumes that the smooth point e 0 y 0 e 0 k and t 0 0 1 are given the required section q o 0 1 k can be then defined as the section q y t r y e 0 it satisfies q y 0 t 0 r y 0 e 0 y 0 e 0 e 0 as desired 6 5 local orientation propagation 207 now we are in the position to define a propagation mechanism since it will involve several choices we have to make sure that the end result is independent of the choices involved the set up is as follows we have a strong bundle p y x over the m polyfold x and an sc fredholm section f of p around a smooth point x x we choose the open neighborhoods u u x u x so that the statements 1 4 of proposition 6 12 hold there is no loss of generality assuming that x u if 0 1 x is a sc smooth path we employ proposition 6 12 and choose a sc section s x 0 1 w sat isfying s t t f t adding finitely many sc sections s 1 sk defined on x 0 1 we obtain the sc fredholm section f 0 1 x rk w f t y f y s y t k i 1 i si y t having the property that for 0 the points t t 0 are solutions of f t t 0 0 for fixed t 0 1 we introduce the sc fredholm section ft x rk y y f t y the discussion so far is true for all choices s 1 sk using the results from the transversality theory we can choose s 1 sk such that in addition ft has a good boundary behavior lemma 6 12 there exist finitely many sc sections s 1 sk of the bundle y 0 1 x such that the sc smooth fredholm section f of the bundle y 0 1 rk x defined by f t y f y s y t k i 1 i si y t has the following property p p for every fixed t 0 1 the section ft is at the point t 0 in general position to the boundary of x rk property p automatically implies that f is in general position to the boundary of 0 1 x rk at all points t t 0 for t 0 1 as a consequence of the implicit function theorem for the boundary case we obtain the following result lemma 6 13 the solution set 208 6 orientations s t y f t y 0 for t y 0 near t t 0 is a smooth manifold with boundary with corners and t t 0 t 0 1 s moreover it follows from the property p that the projection s 0 1 t y 7 t is a submersion the set st defined by t st 1 t is a manifold with boundary with corners contained in x rk we do not claim that st is compact but the manifold st lies in such a way in x rk that its intersection with x rk carves out a boundary with corners on the manifold st the tangent space t t 0 st at the point t 0 st agrees with the kernel ker f t t 0 and abbreviating lt t t 0 st ker f t t 0 for t 0 1 we introduce the bundle l of tangent spaces along the path t s for t 0 1 by l t 0 1 t lt the bundle l is a smooth vector bundle over 0 1 by l we denote the line bundle associated with l l t 0 1 t lt an orientation of the line lt determines by continuation an orientation of all the other lines in particular an orientation of l 0 at t 0 determines an orienta tion of l 1 at t 1 and we shall relate these orientations to the orientations of det f 0 and det f 1 to this aim we introduce for every fixed t 0 1 the exact sequence eeet defined by eeet 0 ker f s t t j ker f t t 0 p p rk c y t r f s t t 0 6 12 in which j is the inclusion map p the projection onto the rk factor and the map c is defined by c k i 1 isi t t r f s t t 6 5 local orientation propagation 209 lemma 6 14 the sequence 6 12 is exact proof the inclusion map j is injective and p j 0 from p h 0 it follows that 0 so that h ker f s t t if h ker f t t 0 then isi t t belongs to the image of f s t t which implies c p 0 it is also immediate that an element rk satisfying c 0 implies that isi t t belongs to the image of f s t t this allows us to construct an element h ker f t t 0 satisfying p h finally it follows from the property p in lemma 6 12 that the map c is surjective the proof of lemma 6 14 is complete from the exact sequence eeet we deduce the natural isomorphism eeet introduced in section 6 2 eeet ker f s t t coker f s t t kerf t t 0 rk and obtain in view of the the definition of the determinant the isomorphism eeet det f s t t lt rk now we assume that we have chosen the orientation o 0 of det f 0 at t 0 it induces an orientation of det f s 0 0 the isomorphism eee 0 deter mines an orientation of l 0 rk by continuation we extend this orientation to an orientation of l 1 rk then the isomorphism eee 1 1 at t 1 gives us an orientation of det f s 1 1 and consequently an orientation o 1 of det f 1 at t 1 denoted by o 1 o 0 and called the push forward orientation a priori our procedure might depend on the choices of the sections s y t and s 1 sk and we shall prove next that it actually does not proposition 6 13 we assume that f is the sc fredholm section of the strong m polyfold bundle p y x over the tame x and u u x u u x u are open neighborhood around a smooth point x for which the conclusions of proposition 6 12 hold let 0 1 u be a sc smooth path then the construction of the map o o associating with an orientation of det f 0 an orientation o of det f 1 does not depend on the choices involved as long as the hypotheses of lemma 6 12 hold the proof of the proposition follows from two lemmata lemma 6 15 under the assumption of the proposition we assume that the sc fredholm section 210 6 orientations f t y f y s y t k i 1 i si y t satisfies the property p from lemma 6 12 we view f as section of the bundle y 0 1 x rk adding more sc sections we also introduce the second sc fredholm section f t y f t y l j 1 j s j y t viewed as a section of the bundle y 0 1 x rk l then both sections define the same propagation of the orientation along the sc smooth path proof the key is to view f as the section f t y f y s y t k i 1 i si y t of the strong m polyfold bundle y 0 1 0 1 x rk l there is a sc fredholm section f 0 1 0 1 x rk l y defined by f t y f t y l j 1 j s j y t the induced map x rk l y for fixed t 0 1 0 1 satisfies the property p we obtain a solution manifold s with boundary with corners defined near the points t t 0 which fibers over 0 1 0 1 let s 0 1 0 1 and consider its tangent map then take the vector bundle l 0 1 0 1 whose fiber over t is the preimage of the zero section of t 0 1 0 1 under t for 0 we obtain the bundle l 0 0 0 1 0 1 this is of the form l 0 1 rl 0 1 where l is the bundle associated to f which we used originally to define the prop agation along applying the construction now using l 0 one verifies by a simple computation that it defines the same propagation hence it remains to verify that every bundle l 0 1 defines the same propaga tion first of all we note that as varies the bundle varies continuously moreover we relate the end points to det f s 0 0 and det f s 1 1 the data in the occurring exact sequence relating the latter with the corresponding orientations of l vary continuously this implies that the propagation definition does not depend on 6 5 local orientation propagation 211 next we show that the choice of the sc section s satisfying s t t f t does not affect the definition of the propagation lemma 6 16 we assume that the sc sections si for i 0 1 satisfy si t t f t and consider the homotopy s s 1 1 s 0 we choose additional sections s 1 s k so that the property p holds together with s for every then the prop agation of the orientation along the sc smooth path using each of the collections s s 1 s k is the same proof the proof is similar as the lemma above we obtain a vector bundle l 0 1 0 1 with parameters t in the base then we can define for fixed a vector bundle over t 0 1 say l clearly l varies continuously in at t 0 1 the linearizations f s 0 0 and f s 1 1 vary continuously as operators in det f 0 and det f 1 respectively this implies that the bundle l induces independently of 0 1 the same propagation of the orienta tion along the path now we are in the position to finish the proof of proposition 6 13 we start with two collections si si 1 s i ki to define the propagation and add for i 0 and i 1 additional sc sections such that the following holds 1 for both situations i 0 and i 1 we have the same number of sections 2 for a convex homotopy parametrized by 0 1 the property p holds for each fixed by lemma 6 15 adding section does not change the propagation we can apply this for i 0 1 then we can use lemma 6 16 to show that these two propagations after adding sections are the same next assume we have the same hypotheses and u u x u u x have the initially stated properties if the two sc smooth paths 0 1 0 1 u have the same starting and end points we homotope sc smoothly from one to the other with end points fixed using that u is sc smoothly contractible in u we denote this sc smooth homotopy by 0 1 0 1 u where i i 0 for i 0 1 then we construct the sc section s satisfying s t t f t and define the sc fredholm section t y f y s y t k i 1 i si y t possesing the obvious properties for every we obtain a vector bundle l 0 1 since all the data change continuously in these bundles and the operators for t 212 6 orientations 0 1 in det change continuously in we see that every l defines the same propagation of the orientation along paths hence we have proved the following statement theorem 6 1 we assume that p y x is a strong bundle over the tame m polyfold and x a smooth point in x then there exists an open neighborhood u u x such that for every sc smooth path 0 1 u there exists a well defined propagation o o of an orientation o of det f 0 moreover if 0 and 1 0 1 u are two sc smooth paths from the same starting points to the same end point then the prop agation along 0 and 1 is the same i e 0 o 1 o having this theorem there are precisely two possible ways to orient the family det f y y u so that these orientations are related by propagation along paths namely we fix x and take for y u a sc smooth path 0 1 u starting at x and ending at y fixing an orientation ox of det f x we define oy ox the def inition is independent of the choice of the path at this point we have a map which associates to a smooth point y u i e y u an orientation oy of det f y it follows from theorem 6 1 that if is a sc smooth path connecting y 1 with y 2 then oy 1 oy 2 definition 6 10 given a strong bundle p y x over the tame m polyfold x and a sc fredholm section f we call an open path connected neighborhood u x of a smooth point x on which the local propagation construction can be carried out an orientable neighborhood of f x any two of the possible orientations of det f y for y u which have the propagation property is called a continuous orientation in view of theorem 6 1 given an sc fredholm section f of a strong bundle p y x over a tame x for every f x with x x there exists an orientable open neighborhood u x a suitable orientable neighborhood u x has precisely two continuous orientations now we globalize the local propagation of orientation constructions to a more global procedure let x be an m polyfold and 0 1 x a sc smooth map we denote by its sc smooth homotopy class with end points fixed associated with we have the source s which is the starting point 0 and the target t which is the end point 1 given two sc smooth ho motopy classes and satisfying t s we define the composition as the class of defined as follows take a smooth map 0 1 0 2 satisfying that 0 1 2 0 1 0 0 and s 1 for s near 1 2 more over 1 2 1 1 2 and 1 2 then we define the sc smooth path by 6 5 local orientation propagation 213 t s for s 0 1 2 and t s for s 1 2 1 this way we ob tain a category px whose objects are the smooth points in x and whose morphisms x y are the homotopy classes with source x and target y the main result of this section is described by the following theorem which is a consequence of the local constructions theorem 6 2 let p y x be a strong bundle over the tame m polyfold x and f a sc fredholm section then there exists a uniquely determined functor px f o f which associates with the smooth point x the set or fx and with the sc smooth ho motopy class x y a morphism f or f x or f y which has the following property given any smooth point x in x and an orientable open neighborhood u u x the maps or f 0 or f 1 and f or f 0 or f 1 coincide for a sc smooth path 0 1 u proof we consider the sc smooth path 0 1 x fix t 0 0 1 and choose an orientable neighborhood u t 0 then we find an open interval i t 0 so that an orientation ot for f t where t i t 0 0 1 determines an orientation for all s i t 0 0 1 now using the compactness of 0 1 and a finite covering we can transport a given orientation o 0 of det f 0 to an orientation o 1 of det f 1 the map o 0 o 1 is denoted by by a covering argument one verifies that the map only depends on the homotopy class for fixed end points it is obvious that f is unique finally we can give two equivalent definitions of orientability of a sc fredholm section definition 6 11 a sc fredholm section f of the strong bundle p y x over the tame m polyfold x is called orientable provided for every pair of smooth points x and y in the same path component the morphism f does not depend on the choice of the homotopy class x y an equivalent version is the following definition 6 12 let f be a sc fredholm section of the strong bundle p y x over the tame m polyfold x then f is called orientable if there exists a map which associates with a point y x an orientation oy of det f y having the following property for every smooth point x there exists an orientable neighborhood u x for which u x 3 y 7 oy is one of the two continuous orientations 214 6 orientations finally we define an orientation of the sc fredholm section as follows definition 6 13 orientation of sc fredholm sections let p y x be a strong bundle over the tame m polyfold x and assume that f is a sc fredholm section an orientation o f for f is a map which associates with every smooth point y x an orientation o fy of det f y such that for every smooth point x and orientable neighborhood u u x the restriction o f u is one of the two possible continuous orientations we close this subsection with a general result theorem 6 3 we assume that p y x is a strong bundle over the tame m polyfold x let f be a proper sc fredholm section such that for every x x solving f x 0 the pair f x is in general position to the boundary x suppose o f is an orientation for f then the solution set s f 1 0 is a smooth compact manifold with boundary with corners possessing a natural orientation proof we already know from the transversality discussion that s is a compact man ifold with boundary with corners if x s then ker f x txs and because f x is surjective every tangent space txs is oriented by o f x since o f has the local con tinuation property one verifies that the differential geometric local prolongation of the orientation on s is the same as the fredholm one if f is not generic to start with we have to take a small perturbation s supported near the zero set of f so that the solution set s f s has a natural orientation coming from o f since det f s x has an orientation coming from det f x for x s f s remark 6 4 if f o is an oriented fredholm section of the strong bundle p y x and s is a sc section of y x 0 1 then the sc fredholm section f defined on x 0 1 by f x t f x s x t y has a natural orientation associated with o and the standard orientation of 0 1 we choose a local sc section t near the smooth point x satisfying t x f x and consider the orientation ox of det f t x where l f t x txx yx taking the vector h a 1 an b 1 bl determining the orientation of l we orient l t x t x 0 1 yx a b la by the vector h a 1 an e b 1 bl where the vector e defines the standard orientation of 0 1 the linear map l belongs to the linearization space of f at x t so that the latter obtains an orientation 6 6 invariants 215 6 6 invariants we consider the oriented and proper sc fredholm section f o of the strong bun dle p y x over the tame m polyfold x admitting sc smooth bump functions the solution set s x x f x 0 is compact if n is an auxiliary norm on p we know from the perturbation and transversality result theorem 5 6 that there exists an open neighborhood u x of s such that for every sc section s of p which is supported in u and satisfies n s x 1 for all x x the solution set s f s x x f x s x 0 is compact moreover there exist distinguished such sc sections having the additional property that for all x s f s the pair f s x is in general position to the boundary x its solution set is a compact manifold with boundary with corners and as we have seen above possesses a nat ural orientation induced from the orientation o of the sc fredholm section f in the following theorem we shall call these distinguished sc sections s admissible for the pair n u in section 4 4 we have introduced the differential algebra x x x 1 x its differential d w d j w d in which j x x is the inclusion map satisfies d d 0 and we denote the associated cohomology by h dr x x theorem 6 4 let p y x be a strong bundle over the tame m polyfold x we assume that x admits sc smooth bump functions then there exists a well defined map which associates with a proper and oriented sc fredholm section f o of the bundle p a linear map f o h dr x x r having the following properties 1 if n is an auxiliary norm on p and s a sc section of p which is admissible for the pair n u then the solution set s f s x x f x s x 0 is an oriented and compact manifold with boundary with corners and f o s f s s f s holds for every cohomology class in h dr x x the integrals on the right hand side are defined to be zero if the dimensions of the forms and mani folds do not agree 2 for a proper and oriented homotopy between two oriented sc fredholm sections f 0 o 0 and f 1 o 1 of the bundle p we have the identity f 0 o 0 f 1 o 1 proof 1 the properness of the sc fredholm section f implies the compactness of its solution set s f x x f x 0 if n is an auxiliary norm n then there exist 216 6 orientations by theorem 5 6 an open neighborhood u x of s f and a sc section of s 0 of p which is admissible for the pair n u such that the solution set s 0 s f s 0 x x f x s 0 x 0 is in addition an oriented compact manifold with boundary with corners of dimension n dims f s 0 ind f x for x s f s 0 the orientation f o induces an orientation on s f s and its local faces we define the map f o by f o s f s 0 s f s 0 6 13 for a cohomology class in h dr x x the integrals on the right hand side are defined to be zero if the dimensions of the forms and manifolds do not agree in order to verify that the definition 6 13 does not depend on the choice of admissi ble section s 0 we take a second sc section s 1 admissible for the pair n u so that the solution set s 1 s f s 1 x x f x s 1 x 0 is a compact oriented man ifold with boundary with corners as explained in remark 5 5 there exists a proper sc homotopy st connecting s 0 with s 1 such the sc fredholm section f defined on x 0 1 by f x t f x st x is in general position to the boundary of x 0 1 for every x t in the solution set sf x t x 0 1 f x st x 0 which is an oriented compact manifold with boundary with corners whose orientation is induced from the orientation o of f and the standard orientation of 0 1 we recall that satisfies d 0 and j d on x where j x x is the inclu sion map extending to the whole space x 0 1 we introduce the form on x 0 1 by p 1 p 2 dt where p 1 x 0 1 x and p 2 x 0 1 0 1 are the sc projection maps it follows that d 0 and x 0 1 d where d p 1 d p 2 dt the maps pi for i 1 2 are the restrictions of pi to x 0 1 by stokes theorem sf d sf 0 we decompose the boundary sf of the manifold sf into sf s 0 s 1 s where s 0 x 0 s 1 x 1 and s x 0 1 as illustrated in figure 6 1 hence 0 sf sf d and we compute the two integrals taking the orientations into account 0 sf s 0 s 1 s 6 6 invariants 217 0 1 t x 0 x 1 s s 0 s 1 s 0 s 1 fig 6 1 integration of d over sf using stokes theorem gives 0 sf d s 0 d s 1 d s s 0 s 1 s comparing the integrals we obtain s 0 s 0 s 1 s 1 which shows that the definition 6 13 does indeed not depend on the choice of the distinguished section s 0 the formula in 2 is verified by the same homotopy argument as in 1 in the special situation x 0 of no boundary the map f o h n dr x r is defined by f o s f s for hndr x if n is equal to the index of the sc fredholm section f and zero otherwise 218 6 orientations 6 7 appendix 6 7 1 proof of lemma 6 1 the goal is to prove that given an exact sequence eee 0 a b c d 0 there is a well defined natural isomorphism eee a d b c proof lemma 6 1 recalling the exact sequence eee 0 a b c d 0 we choose linear subspaces v b and w c such that b a v and c b w and denote this choice of subspaces by v w the maps v v b and w w d are isomorphisms and b v by exactness fixing the basis a 1 an of a and d 1 dl of d we choose any basis b 1 bm n of v b and define the basis c 1 cm n of b c by ci v bi and define the basis c 1 c l of w by w c i di in order to show that the vector a 1 an b 1 bm n c 1 c l c 1 cm n does not depend on the choice of the basis b 1 bm n of v we choose a second basis b 1 bm n of v so that there is a linear isomorphism v v mapping one basis into the other by b b hence b 1 bm n det b 1 bm n where det is the usual determinant of the linear map the associated basis c 1 cm n of b is then defined by ci v bi the two basis ci and ci of b are therefore related by the isomorphism v 1 v b b and consequently c 1 cm n det v 1 v c 1 cm n det c 1 cm n 6 7 appendix 219 from this we obtain a 1 an b 1 bm n c 1 c l c 1 cm n det a 1 an b 1 bm n 1 det c 1 c l c 1 cm n so that the basis change has indeed no influence next we replace the basis a 1 an of a by the basis a 1 an by means of the linear isomorphism a a and replace the basis d 1 dl of d by the basis d 1 d l by means of the isomorphism d d then a 1 an d 1 dl det det a 1 an d 1 dl and the vector a 1 an d 1 dl is independent of the choices of the basis if and only if det det so far the definition of eee could only depend on the choice of the complements v w so we assume that v w and v w are two choices we assume that a 1 an and d 1 dl are fixed bases for a and d respectively now fixing any basis b 1 bm n of v we find vectors q 1 qm n of a such that b 1 bm n with bi bi qi is a basis of v we define ci w by w ci di then we choose pi c so that ci ci pi w and w ci di now we use the fact that for v w and v w other choices do not matter using that q j is a linear combina tion of a 1 an and p j a linear combination of c 1 c l it follows that a 1 an b 1 bm n c 1 c l c 1 cm n a 1 an b 1 bm n c 1 c l c 1 cm n which completes the proof that eee is well defined 6 7 2 proof of proposition 6 5 proof proof of proposition 6 5 let p q t p q and recall the exact se quence eee t q 0 ker t jqt ker qt q t f r q q t coker t 0 by definition of the determinant h det t is of the form h a 1 an d 1 r t dl r t 220 6 orientations where a 1 an is a basis of ker t and d 1 r t dl r t is a basis of f r t satisfying di r i q the latter condition can be achieved since by definition of t r qt r q we choose the vectors b 1 bm in ker qt so that a 1 an b 1 bm form a basis of ker qt and take the linearly independent vectors t b 1 r q t bm r q in f r q by definition of the isomor phism qt dett det qt q t h a 1 an b 1 bm d 1 r q dl r q t b 1 r q t bm r q we note that t a 1 t an 0 and qt b 1 qt bm 0 6 14 next we consider the exact sequence 0 ker qt jpqt ker pt p qt f r p p qt coker qt 0 in order to compute pqt q t h we take as basis of ker qt the vectors a 1 an b 1 bm and as basis of f r q the vectors d 1 r q dl r q t b 1 r q t bm r q since ker qt ker pt we choose the vectors b 1 b k in ker pt so that a 1 an b 1 bm b 1 b k form a basis of ker pt we define p a 1 an b 1 bm b 1 b k and note that pqt di r p i p di r q di r q the vectors d 1 r p dl r p t b 1 r p t bm r p qt b 1 r p qt b k r p are a basis of f r p and we abbreviate their wedge product by p so that p qt q t h p p recall that di i q di and i q t bi t bi for i 1 m abbreviating d d r p the projection q f f induces the projection q f r p f r p defined by d 7 qd then i q d i q d and therefore 6 7 appendix 221 f r p ker q ker i q the vectors d 1 dl t b 1 t bm ker q qt b 1 qt b k ker i q form a basis for f r p by the standard properties of the wedge product p d 1 dl t b 1 t bm qt b 1 qt b k d 1 dl t b 1 t bm t b 1 t b k hence we arrive for the composition pqt q t at the formula p qt q t h p d 1 dl t b 1 t bm t b 1 t b k next we compute pt h in order to do so we start with the basis a 1 an of ker t and extend it to a basis of ker pt by choosing b 1 bm b 1 b k the wedge of all these vectors is q for f r t we have the basis d 1 r t dl r t recall that i q di di so that di ker q further p t di r p i p di r t i p i q di r t i q di r t di r t then we take the basis of f r p formed with the previous convention by the vectors d 1 dl t b 1 t bm t b 1 t b k and note that their wedge product is equal to p by definition p t h p p which agrees with pqt q t h the proof of proposition 6 5 complete part ii ep groupoids the basic notion in part ii is that of an ep groupoid it generalizes the classical no tion of an e tale proper lie groupoid to the polyfold setup from the view point of fredholm theory it allows to efficiently describe problems with local symmetries different ep groupoids can be used to describe the same problem and it useful to understand the relationship between various descriptions this is discussed in the context of equivalences of categories and localization and leads to the introduc tion of the notion of a generalized isomorphism an important topic is the study of branched ep subgroupoids which naturally arise as solution spaces of sc fredholm section functors another topic important in applications is concerned with proper covering functors the discussion ends with the study of the various notions and their behavior under generalized isomorphisms and the introduction of a new kind of space called a polyfold in some sense it generalizes the notion of an orbifold with boundary and corners to the world of a generalized differential geometry based on sc smooth retracts this basic ideas in the part are based on the paper 38 chapter 7 ep groupoids an ep groupoid is the generalization of an e tale proper lie groupoid to the sc smooth world philosophically it should be viewed as a generalization of an atlas in the theory of manifolds in two different ways it generalizes smoothness to sc smoothness and introduces geometric structures beyond manifolds the devel opment of the present part of the theory is quite parallel to parts of the theory lie groupoids see 56 many of the ideas about lie groupoids and their importance go back to haefliger 23 24 25 26 7 1 ep groupoids and basic properties we start with the notion of a groupoid following the expositions in 56 57 and recall that a small category is a category whose object class as well as the morphism class are sets definition 7 1 groupoid a groupoid x x xxx is a small category consisting of the set x of objects denoted by x and the set xxx of morphisms arrows which are assumed to be invertible and the following five structure maps s t m u i 1 source and target maps s and t the source and the target maps s t xxx x assign to every morphism x y in xxx its source s x and its target t y 2 multiplication map m the associative multiplication composition map m xxx s txxx xxx m is defined on the fibered product xxx s txxx xxx xxx s t 225 226 7 ep groupoids so that if x z and z y then x y 3 unit map u for every object x x there exists the unit morphism 1 x x x in xxx which is a 2 sided unit for the composition that is 1 x and 1 x for all morphisms xxx satisfying s x t these unit morphisms together define the unit map u x xxx u x 1 x 4 inverse map for every morphism x y in xxx there exists the inverse morphism 1 y x which is a 2 sided inverse isomorphism that is 1 1 y and 1 1 x these inverses together define the inverse map xxx xxx 1 rather than writing x xxx for a groupoid we shall often write simply x with mor x y xxx we shall abbreviate the set of all morphisms xxx satisfying s x and t y the orbit space of the groupoid x xxx denoted by x x is the quotient of the set of objects by the equivalence relation defined by x y if and only if there exists a morphism x y between the two objects the equivalence class will be denoted by x y x y x and we have the quotient map x x x x definition 7 2 isotropy group gx for fixed x x we denote by gx the isotropy group stabilizer group of x defined by gx xxx x x the crucial concept of ep groupoids defined next can be viewed as m polyfold ver sion of e tale and proper lie groupoids discussed f e in 56 and 57 the ideas in the classical case go back to a haefliger 23 24 25 26 definition 7 3 ep groupoid an ep groupoid x x xxx consists of a groupoid equipped with m polyfold structures on the object set and the morphism set xxx hav ing the following properties 7 1 ep groupoids and basic properties 227 1 etale the source and target maps s t xxx x are local sc diffeomorphisms 2 the unit map u and the inverse map are sc smooth 3 properness every point x x possesses an open neighborhood v x of x in x such that the map t s 1 clx v x x is proper since s is a local sc diffeomorphism the fibered product xxx s txxx is in a natural way a m polyfold in view of lemma 2 8 in 38 and we require 4 the multiplication map m xxx s txxx xxx is sc smooth in particular all the structure maps s t m u i are sc smooth maps since s t xxx x are local sc diffeomorphism every morphism x y of an ep groupoid has an extension to a local sc diffeomorphism satisfying x y which is defined as follows there exist open neighborhoods uuu xxx and u x u y x such that s uuu u x and t uuu u y are sc diffeomorphisms and the local sc diffeomorphism is defined by t s uuu 1 u x u y we also note that in the case that is smooth i e xxx there is an associated sc isomorphism t ts x tt defined by t t x more generally we have t tu s tu t we note that t can be defined for on level at least 1 and will give a bounded linear isomorphism on level 0 only in the case that it is smooth t will be an sc operator definition 7 4 associated to a smooth morphism we have the so called associ ated local sc diffeomorphism as well as its tangent t we point out that the above properness assumption in the definition of an ep groupoid is different from the properness notion in the classical lie groupoids which requires that the map s t xxx x x is proper the latter requirement is too weak for some of our constructions the m polyfolds x and xxx are equipped with a filtration x x 0 x 1 x 2 x k 0 xk and a similar filtration on the morphism set x the set x is dense in every space xk if x belongs to the m polyfold x we denote by ml x n the largest non negative integer m or such that x xm here n 0 1 2 3 since in an 228 7 ep groupoids ep groupoid x xxx the source and the target maps are local sc diffeomorphisms and therefore preserve by definition the levels we conclude that ml x ml y ml for every morphism x y in xxx consequently the above filtration on the m polyfold x induces the filtration x x 0 x 1 x k 0 xk on the orbit space x x for the ep groupoid x xxx the degeneracy maps dx x n and dxxx xxx n are both defined by proposition 2 7 these indices are invariant under local sc diffeomorphisms and we deduce that dx s dxxx dx t for every morphism xxx in particular dx x dx x if x x so that we obtain the non degeneracy index on the orbit space x as follows definition 7 5 induced index d x the induced degeneracy index d x x n is defined by d x x dx x definition 7 6 tame ep groupoid the ep groupoid x xxx is called tame if the object space x is a tame m polyfold as introduced in definition 2 19 in a tame ep groupoid x xxx not only x is a tame m polyfold but also xxx is a tame m polyfold this follows from the facts that xxx is locally sc diffeomorphic by s to x and the tameness condition is invariant under local sc diffeomorphisms definition 7 7 category e p by e p we denote the category whose objects are the ep groupoids and whose morphisms f x xxx y yyy are the functors which are sc smooth maps between the object spaces as well as the morphism spaces actually it is sufficient to require that the functor f is sc smooth between the object spaces x y because the sc smoothness of f xxx yyy follows again from the properties of the source map s xxx x as follows given xxx and f yyy there exist open neighborhoods uuu uuu u s and u s satisfying f u s u s and f uuu uuu moreover s uuu u s and 7 1 ep groupoids and basic properties 229 s uuu u s are sc diffeomorphisms therefore the claim follows from the formula f s uuu 1 f s for all uuu we equip the orbit space x with the quotient topology i e the finest topology for which the projection x x x x is continuous a subset v of x is open if and only if the set of all objects x x which belong to a class in v is open i e 1 v is open in x proposition 7 1 openness of let x xxx be an ep groupoid and assume that the orbit space x is equipped with the quotient topology then the projection map x x is open proof let u be an open subset of x then u x is open if and only if 1 u is open in x a point y x belongs to 1 u if and only if there exist x u and xxx satisfying s x and t y from the property 1 of an ep groupoid we conclude that there exist open neighborhoods vvv v x and v y such that s vvv v x and t vvv v y are sc diffeomorphisms we can choose an open neighborhood o y v y such that s t v 1 o y is an open neighborhood of x contained in u this shows that o y 1 u which implies since y was arbitrary in 1 u that the set 1 u is open in x proposition 7 2 countable neighborhood basis let x be an ep groupoid and let x be equipped with the quotient topology t then every point z x has a countable basis of open neighborhoods vk which can be chosen in a monotone way z vk vk 1 v 1 for all k proof for z x we choose x x satisfying x z since x is metrizable in view of theorem 2 2 we can fix a metric and take the monotone sequence uk bx 1 k x of open balls then the monotone sequence vk uk of open neigh borhoods is the desired countable neighborhood basis of z proposition 7 3 local closure relation let x be an ep groupoid then for every z x and every representative x x of z there exists an open neighborhood u of x in x such that for every subset a u the equality clx a cl x a holds proof we take an open neighborhood u of x representing z so that x z which has the property that the map t s 1 clx u x is proper if a is a subset of 230 7 ep groupoids u then clx a clx u and obviously clx a cl x a to verify the re versed inclusion we let z cl x a in this case every open neighborhood of z intersects a and we have to show that z clx a we choose a represen tative y x for z and take a monotone countable neighborhood basis vk for z constructed from such a basis ok for y i e vk ok by assumption we find sequences xk a and yk x yk ok so that there exists a sequence k xxx satisfying s k xk and t k yk clearly t k yk y in x using that a u the properness assumption implies after perhaps taking a sub sequence the convergence k in xxx hence xk s k s a clx a and yk t k t since yk y we conclude that a y proving that z y a clx a this completes the proof we should point out that we refer to the arrows x y usually as to morphisms but note that by the invertibility assumption they are all isomorphisms if we want to stress the latter we call the arrow the isomorphism between x and y lemma 7 1 assume that x x x and that u x is an open neighborhood of x such that the map t s 1 clx u x x is proper then there exist only finitely many morphisms satisfying s x and t u x proof arguing by contradiction there exists an infinite sequence of distinct mor phisms n s n x where s n u x the properness of the map t s 1 clx u x x implies the convergence of a subsequence of n to the morphism s x where s s 1 clx u x the target map t is a local sc diffeomorphism and therefore we find open neighborhoods v x and vvv such that t vvv v y is a sc diffeomorphism consequently for large n and m 6 n n and m vvv and t n t m x imply that n m this contradicts the assumption n 6 m if n 6 m and proves the lemma as a consequence we have the following proposition proposition 7 4 finiteness of isotropy group let x be an ep groupoid and x an object in x then the isotropy group gx is finite if x and y are isomorphic the associated isotropy groups are isomorphic as well in general there is no canonical identification of gx with gy any identification depends on an initial choice of isomorphism x y and is given by gx gy g 7 g 1 7 1 ep groupoids and basic properties 231 a basic result from 38 theorem 2 3 describes the following local structure of an ep groupoid theorem 7 1 natural representation of gx let x be an ep groupoid and x an object with the isotropy group g gx then for every open neighborhood v of x we find an open neighborhood u v of x a group homomorphism g diffsc u g 7 g and a sc smooth map g u xxx such that the following holds 1 g x g 2 s g y y and t g y g y for all y u and g g 3 if h y z is a morphism between points in u then there exists a unique element g g satisfying g y h i e g u xxx s and t u is a bijection we shall refer to as the data for the natural representation of gx the proof is a slight modification of the proof in 38 and will be given for the convenience of the reader in appendix 7 5 1 in the following we shall often abbreviate the group action of the isotropy group g gx on u by g y g y if g g and y u we now discuss informally some of the consequences of theorem 7 1 to fill in the details the reader might consult the proof in appendix 7 5 1 if x x and if u x u x is the open neighborhood of x guaranteed by theorem 7 1 we introduce the set of morphisms uuu x xxx s and t u x the pair u x uuu x is the full subcategory of x xxx associated with u x by the properness property of an ep groupoid we can choose u x so small that uuu x fits into an arbitrarily small open neighborhood of the finite group gx xxx using that s is a local sc diffeomorphism we choose the connected open neighborhood u x x so small that uuu x splits into gx many disjoint connected components enumerated by the group elements g gx so that uuu x tg gxuuu g and moreover the source and target maps s t uuu g u x are sc diffeomorphisms we introduce the category 232 7 ep groupoids gx nu x u x gx u x called the translation groupoid associated with x and u x and defined as follows we abbreviate u u x and g gx the object set of the category gnu u g u consists of the points in u and the morphism set consists of the pairs g y g u the space g u has a natural m polyfold structure as the finite disjoint union of copies of the m polyfold u the source and the target maps s t g u u are defined as s g y y and t g y g y the composition of the morphisms g y and h z g u satisfying y s g y t h z h y is defined by g y h z g h z g u using the proof of theorem 7 1 one verifies that the category g nu is an ep groupoid the natural functor gnu u g u x xxx between the two categories maps on object level y u to y x and on the mor phism level the morphism g y g u into the unique morphism g y xxx by property 3 of theorem 7 1 the functor is full and faithful fully faithful full requires that for two objects y and z in gnu the functor induces a surjection between the morphisms sets of morphisms y z morgnu y z morx y z faithful means that these maps are injective the image of the functor is the full subcategory u x uuu x of x xxx hence identifies the translation groupoid gx nu x with the category u x uuu x fixing x x we choose as before a sufficiently small connected open neighborhood u x in which we have the natural gx action and the associated set uuu x of mor phisms which is the disjoint union of the connected open neighborhoods uuu g xxx for g gx by property 3 of theorem 7 1 for a given morphism uuu x there exists a unique h gx satisfying uuu h and h s and t h s abbreviating the group action of gx by g z g z g gx z u x we define the map 7 1 ep groupoids and basic properties 233 gx diffsc uuu x by g g h g 1 g s uuu g h g 1 if uuu h by property 2 of theorem 7 1 s g g s and t g g h g 1 g s g h s g t if g gx we compute g g g g h g 1 g s g g h g 1 g 1 g g s g g for 1 x gx we obtain 1 x for all uuu x therefore the map gx diffsc uuu x is a group homomorphism satisfying g uuu h uuu g h g 1 for all g h gx moreover s g g s and t g g t to sum up the discussion we can choose a small connected neighborhood u x x such that uuu x is the disjoint union of the connected open subsets uuu g xxx for g gx and for g h gx the sc diffeomorphism g uuu x uuu x induces the commutative diagrams of sc diffeomorphisms uuu h s u x g uuu h y g y uuu g h g 1 s u x uuu h t u x g uuu h y g y uuu g h g 1 t u x the following proposition extends the theorem about natural actions of isotropy groups proposition 7 5 let x xxx be an ep groupoid and y y 1 yk a finite set of distinct objects in x which are mutually isomorphic denote by y y yyy the full subcategory associated with y whose morphism set is yyy then given a neighbor hood v of y in x there exists a functor f which associates with the objects y in y mutually disjoint connected open neighborhoods u y contained in v and with a morphism y y in yyy a sc diffeomorphism f u y u y the set of morphisms uuu xxx s and t y y u y decomposes into union of connected components uuu yyy and the following holds true 234 7 ep groupoids 1 the isotropy group gy for y y acts via the natural action on u y 2 for yyy the maps s uuu u y and t uuu u y are sc diffeomor phisms 3 if y y and z u y then f z t s uuu 1 z proof we prove the result by induction on the number of objects of the set y we begin with the case y y 1 morphisms y 1 y 1 are elements of the isotropy group gy 1 taking a gy 1 invariant open connected neighborhood u y 1 of y 1 contained in v every morphism uuu y 1 y 1 is of the form g s for a unique g gx the sets uuu g g z z u y 1 are mutually disjoint connected open neighborhoods of g and uuu uuu y 1 uuu y 1 y 1 g gy 1 uuu g moreover the source and target maps s t uuu g u y 1 are sc diffeomorphims for every g gy 1 this is an immediate consequence of the orem 7 1 considering the case of y y 1 y 2 we fix a morphism 1 y 1 y 2 we take open neighborhoods u y 1 and u y 2 both contained in v and invariant with respect to the actions of the isotropy groups gy 1 and gy 2 using that the source and target maps s t are local sc diffeomorphisms we find a gy 1 invariant open neighborhood v y 1 u y 1 and open neighborhood v y 2 u y 2 and an open neighborhood vvv 1 such that s vvv 1 v y 1 and t vvv 1 v y 2 are sc diffeomorphisms hence the composition 1 t s vvv 1 1 v y 1 v y 2 is also a sc diffeomorphism choosing a gy 2 invariant open neighborhood w y 2 contained in v y 2 we find a gy 1 invariant connected open neighborhood u y 1 contained in v y 1 such that 1 u y 1 w y 2 denoting u y 2 1 u y 1 we claim that u y 2 is a gy 2 invariant neighborhood of y 2 to see this let z u y 2 and z g z where g gy 2 then z w y 2 and by means of sc diffeomorphism 1 we find points u u y 1 u v y 1 and morphisms u z and u z this implies that there is a morphism u u of the form g u for some g gy 1 since u y 1 is gy 1 invariant and u u y 1 we conclude that u u y 1 so that z 1 u u y 2 this shows that u y 2 is gy 2 invariant it is also which im plies that z u y 2 since 1 maps u y 1 onto u y 2 the source and target maps s uuu 1 u y 1 and t uuu 1 u y 2 are sc diffeomorphisms and hence 1 t s uuu 1 1 u y 1 u y 2 is also a sc diffeomorphism any other morphism from y 1 y 2 is of the form g g 1 for some g gy 2 fixing g gy 1 we consider the map g uuu 1 x defined by 7 1 ep groupoids and basic properties 235 g g t then g maps 1 onto g and is a sc diffeomorphism onto its image uuu g g uuu 1 the images uuu g are connected and pairwise disjoint neighborhoods of g since for any morphism satisfying s u y 1 and t u y 2 there g s for uniquely determined g gy 2 and uuu 1 therefore the set of morphisms uuu y 1 y 2 is the union of connected components uuu g for all g gy 2 also the source and target maps s uuu g u y 1 and t uuu g u y 2 are sc diffeomorhisms if y 2 y 1 then the morphism 1 y 1 y 2 is one of the morphisms g for some g gy 2 then we define uuu i uuu 1 where i x x is the inverse map i 1 the source and target maps s uuu u y 2 and t uuu u y 1 are given by s uuu u t uuu 1 i and t uuu uuu s uuu 1 i and so they are sc diffeomorphisms this finishes the case of y y 1 y 2 let k 3 and assume that the statement holds for any set y of k distinct ob jects which are mutually isomorphic considering the set y y 1 yk 1 of distinct mutually isomorphic points yi let v be an open neighborhood of y let y y 1 yk and yyy be the set of all morphisms between points in y by assump tion every point yi y possesses a gyi invariant connected and open neighborhood u yi contained in v and every morphism yi y j possesses a connected open neighborhood uuu for which the source and target maps s uuu u yi and t uuu u y j are sc diffeomorphisms the composition j u yi u y j is a sc diffeomorphism and the set of morphisms from y y u y and y y u y is the union of connected components uuu for all yyy we fix a gyk 1 invariant neighborhood u yk 1 of yk 1 contained in v and for every 1 j k a morphism j yk 1 y j similarly as in the case k 2 we find a gyk 1 invariant connected open neighborhood u yk 1 u yk 1 gy j invariant connected open neighborhoods u y j u y j and connected open neighborhoods uuu j such that s uuu j u yk 1 y uuu j u y j and j u yk 1 u y j are sc diffeomorphisms now as in the case k 1 one constructs neighborhoods uuu for all other mor phisms satisfying s yk 1 and t y as well as their inverses still we have to adjust neighborhoods uuu for morphisms yi y j for i j k by assumption if yi y j then there are neighborhoods u yi u y j and uuu such that s uuu u yi t uuu u y j and t s uuu 1 u yi u y j are sc diffeomorphisms we define uuu s uuu 1 u yi and denote w y j t uuu the set w y j is gy j invariant and we claim that w y j u y j to verify that u y j w y j we take z u y j by means of the sc diffeomorphisms 1 i u yi u yk 1 and j 236 7 ep groupoids u yk 1 u y j we find a point u u yi and morphisms uuu 1 i uuu j such that u z by means of the sc diffeomorphism u yi u y j we find a morphism u z where z t w y j since u u yi hence there is a morphism z z which because u y j is gy j invariant is of the form g z z z for some g gyi but z w y j and w y j is gy j invariant and we conclude that z w y j as claimed similar arguments show that w y j u y j and we have proved that t uuu u y j for every 1 j k the constructed neighborhoods u y for y y and the neighborhoods uuu of morphisms between points in y and the associated source and target maps have the desired properties this concludes the proof of the inductive step and the proof of the proposition definition 7 8 let x be an ep groupoid and y the full subcategory associated with a finite set of isomorphic objects a functor f as constructed in proposition 7 5 with its stated properties is called the natural representation of y on neighborhoods contained in v or alternatively on a small neighborhood of y proposition 7 6 let x be an ep groupoid and z x we fix x x satisfying z x and denote the isotropy group of x by gx and take an open neighborhood u x of x on which we have the natural gx action which we abbreviate as g y g y for g gx and y u x then the map gx u x u x u x gx y y is a homeomorphism in other words the obvious functor gx nu x x which on the object level is the inclusion map and on the morphism level the map g y g y is a fully faithful functor which on the orbit spaces defines a homeomorphism be tween the orbit spaces u x gxnu x gx u x and u x u x proof fixing a point x x we take an open neighborhood u x of x as guaranteed by theorem 7 1 and equip gx u x with the quotient topology then the map gx u x u x gx y y 7 1 is well defined and surjective by construction it is also injective indeed if y y for y y u x then there exists a morphism y y in xxx by point 3 of theorem 7 1 there exists g gx satisfying g y and s y and moreover y t t g y g y g y hence y gx y and our map is a bijection the target u x is open in x by proposition 7 1 the map 7 1 ep groupoids and basic properties 237 u x u x u x is continuous and the preimage of a point y is precisely the orbit gx y denoting the quotient map u x gx u x by we have the relationship u x we note that is open and continuous continuity is implied by the definition of the quotient topology and the openness follows since gx acts by sc diffeomorphisms if o u x is open we find that u x 1 o 1 1 o is open which by the definition of the quotient topology on gx u x precisely means that 1 o is open hence is continuous if q gx u x is open then by definition 1 q is open from u x 1 q 1 q we conclude by definition of the quotient topology on x that q is open in summary is a homeomorphism this completes the proof of proposition 7 6 definition 7 9 local uniformizer let x be an ep groupoid and x an object in x a local uniformizer around x is a fully faithful embedding x gx nu x x where u x is an open neighborhood of x equipped with the natural gx action such that x induces a homeomorphism between u x gxnu x and the open neighbor hood u x u x of x in x there exists a local uniformizer around every object x as proposition 7 6 shows we also note that a a local uniformizer is injective on objects as well as morphisms next we introduce the notion of an ep subgroupoid definition 7 10 let x be an ep groupoid an ep subgroupoid a of x consists of the full subcategory associated with a subset a of x which has the following prop erties 1 a is a sub m polyfold of the object space x 2 a is saturated i e 1 a a let us show that the full subcategory a has in a natural way the structure of an ep groupoid from the definition it follows as proved in proposition 2 6 that the object set a has an induced m polyfold structure for which the following holds 1 the inclusion map i a x is sc smooth and a homeomorphism onto its image 2 for every a a and every sc smooth retraction r v v of an open neighbor hood v of a in x satisfying r v a v the map i 1 r v a is sc smooth 238 7 ep groupoids 3 at a smooth point a a the tangent space taa has a sc complement in tax 4 if w x is open and equipped with a sc smooth retraction r w w satisfying r w a w then the induced map r w a is sc smooth see 2 moreover at a smooth point a a the tangent space taa is equal to tr a tax in a next step we shall show that the set of morphisms aaa xxx s and t a has in a natural way the structure of a m polyfold choosing aaa we find open neighborhoods uuu xxx and u a x where a s such that s uuu u a is a sc diffeomorphism by taking a possibly smaller neighborhood u a and adjusting uuu we may assume that we have a sc smooth retraction r u a u a satisfying r u a u a a we introduce the sc smooth retraction rrr uuu uuu rrr s uuu 1 r s by construction s rrr r s a and t rrr u a so that rrr uuu a moreover since a is saturated we infer also that rrr aaa implying rrr uuu uuu aaa this shows that aaa is a sub m polyfold of xxx and the properties for a listed above also hold for aaa from the construction of the sub m polyfold structures on a and aaa it follows that the maps s t aaa a are sc smooth moreover if a and a s the sc diffeomorphism s uuu u a between open subsets of xxx and x respectively maps the intersection uuu aaa bijectively onto u a a this shows that the source map s aaa a is a local sc diffeomorphisms the same holds for the target map t the unit map the inversion map and the multiplication map are restrictions of sc smooth maps and therefore sc smooth the properness assumption also holds true indeed if a a we take an open neighborhood u a in x equipped with the natural ga action such that t s 1 clx u a x is proper let us show that the open neighborhood u a a of a in a has the desired properties since a is saturated the set u a a is invariant under ga action in order to verify that the map t s 1 cla u a a a is proper we take a sequence k aaa satisfying t k c in a and s k cla u a a then s k clx u a and hence we may assume without loss of generality the convergence k in xxx it follows that t c and s clx u a since a is saturated we conclude from t a that also s a in particular k in aaa from s k cla u a a it follows that s cla u a a summarizing the argument we have proved the following result proposition 7 7 let x be an ep groupoid and a a saturated subset of the object space x such that a is also a sub m polyfold then the full subcategory associated with a also denoted by a has in a natural way the structure of an ep groupoid in 7 2 effective and reduced ep groupoids 239 particular a and aaa xxx s t a are sub m polyfolds of x and xxx respectively and all the structure maps are the restrictions of the structure maps of x and xxx respectively 7 2 effective and reduced ep groupoids in the previous section we have seen that the local morphism structure of an ep groupoid around an object x is given by a group homomorphism gx diffsc u x we can use these local structures to distinguish a class of ep groupoids which is useful for the applications definition 7 11 effective ep groupoid an ep groupoid x is said to be effective provided for every x x and g gx 1 x given an open neighborhood uuu g xxx there exists a morphism uuu g satisfying s 6 t an object x x is said to be regular provided gx 1 x if xxx and s is a regular object the same has to be true for t we define the regular part xreg of an ep groupoid as the subset xreg x x gx 1 x of the object space x lemma 7 2 openness of regular set for an ep groupoid x the regular part xreg is open proof if x xreg then gx 1 x and we find an open neighborhood u x equipped with the natural gx action every morphism a b between a b u x has the form 1 x a so that s a and b 1 x a a in particular there is exactly one morphism a a and therefore 1 a this proves that the isotropy group ga for every a u x is equal to ga 1 a and therefore u x xreg examples show that the regular set can be empty lemma 7 3 for an ep groupoid x the following statements are equivalent 1 x is effective 2 for every object x x and every open neighborhood v x there exists an open neighborhood u x v x equipped with the natural gx action such that the group homomorphism gx diffsc u x is injective 240 7 ep groupoids proof we assume that 1 holds and choose an open neighborhood u x v x of x equipped with the natural gx action every morphism xxx satisfying s t u x is of the form g s for a uniquely determined g gx and t g s arguing by contradiction we assume that there exists h gx 1 x for which h 1 since x is effective we find a converging sequence k xxx satisfy ing k h and s k 6 t k for k large we must have s k t k u x and hence there exist uniquely determined elements hk gx such that k hk s k and t k hk s k 6 s k clearly hk 6 h since otherwise s k t k since gx is finite after perhaps taking a subsequence we may assume for all k that hk g 6 h from g s k 6 s k we deduce that g 6 1 7 2 now we can pass to the limit and find in view of s h t h x that h g x and g x x however it is one of the properties of that h x h for all h gx which implies h g contradicting h 6 g we have proved that 1 implies 2 next we assume that 2 holds hence for given x x we find an open neighbor hood u x equipped with the natural gx action such that gx diffsc u x is injective assume that g gx 1 x is given then g is not the identity hence we find a u x satisfying g a 6 a and define the morphism g a by construction s a 6 g a t by taking smaller and smaller neighbor hoods u x and adapting the corresponding restrictions of we find a sequence k satisfying s k 6 t k such that s k t k x and k g hence 1 is verified and the proof of lemma 7 3 is complete as the following proposition shows effective ep groupoids have an open and dense subset in the object space x consisting of points whose isotropy groups are trivial proposition 7 8 if x is an effective ep groupoid then the set xreg x x gx 1 x is open and dense in x proof in view of lemma 7 2 the set xreg is open in x if x 0 x we shall show that every open neighborhood of x 0 contains a point with trivial isotropy given an open neighborhood we find a smaller open neighborhood u x 0 equipped with the natural action of gx 0 we shall write g x instead of g x we may assume that 7 2 effective and reduced ep groupoids 241 gx 0 6 1 x 0 since otherwise we are already done take a point x u x 0 whose isotropy group gx satisfies gx min gy y u x 0 7 3 if gx 1 we are done so let us assume this is not the case and derive a contradic tion in view of lemma 7 3 there exists an open neighborhood u x u x 0 equipped with the gx action and such that the homomorphism gx diffsc u x is an injection hence given g gx 1 x there exists a u x for which g a b 6 a the isotropy group ga at the point a is isomorphic to the subgroup h h gx h a a of gx from 7 3 we conclude that gx ga h gx so that gx h and hence gx h this shows that g h so that g a a contradicting g a b 6 a this contradiction shows that gx 1 and that xreg is dense this completes the proof proposition 7 8 we recall from theorem 7 1 that every point x in the object set of an ep groupoid x xxx possesses a suitable open neighborhood u x which can be chosen arbitrar ily small on which the isotropy group gx acts by the homomorphism gx diffsc u x we say that g gx acts trivially if there exists an open neighborhood u x equipped with the gx action gx diffsc u x such that g belongs to the kernel of the homomorphism i e if g 1 clearly 1 x is always acting trivially but there might be other elements g gx acting trivially since we are dealing with a finite group gx we can choose u x so small that the kernel of is equal to the subgroup of gx acting trivially on u x we denote by tx gx the subgroup of gx acting trivially on u x which as the kernel of a group homomorphism is a normal subgroup of gx definition 7 12 the non effective part xxxt xxx is the subset of morphisms defined as xxxt tx gx x x the subset xxxr of reduced morphisms of x is defined as follows two morphisms and xxx are called equivalent if the following two conditions are satisfied 1 s s x 2 g for some g tx the set xxxr is the collection of all equivalence classes of morphisms in xxx 242 7 ep groupoids proposition 7 9 the reduced morphism set xxxr has a natural m polyfold structure proof we equip xxxr with the quotient topology so that the quotient map xxx xxxr is continuous for every morphism 0 xxx we find open neighborhoods uuu 0 xxx and u s 0 x for which s uuu 0 u s 0 is a sc diffeomorphism then the map uuu 0 xr 7 is continuous if for and uuu 0 then s s implies that hence the map is injective and therefore a bijection onto the image next we shall show that the image uuu 0 uuu 0 is open in xr in order to verify this we have to show that the preimage 1 uuu 0 is open in x to see this let 1 uuu 0 then there is uuu 0 such that this means that s s and there exists g ts ts such that g we have to show that there exists an open neighborhood uuu of such that ev ery morphism uuu is equivalent to some morphism belonging to uuu 0 we denote by u s an open neighborhood of s contained in u s 0 and such that ts ts is equal to the kernel of the homomorphism gs diffsc u s choosing an open neighborhood uuu of in x such that the source map s uuu u s is a sc diffeomorphism we define the map uuu x by s uuu 1 s g s if then s uuu 1 s g s g since the map is continuous and there exists an open neighborhood uuu uuu of such that uuu uuu 0 every morphism in uuu is of the form s uuu 1 s so that g s since the element g ts it follows that the morphism g s belongs to ts which implies that every morphism uuu is equivalent to the morphism belonging to uuu 0 this shows that uuu 1 uuu 0 implying that the preimage 1 uuu 0 is open in x hence the set uuu 0 is open in xr as claimed the same argument also shows that the map 0 uuu 0 uuu 0 7 is an open map we have shown that the map 0 is a homeomorphism between open neighborhoods next we consider two such maps 7 2 effective and reduced ep groupoids 243 0 uuu 0 uuu 0 and 0 uuu 0 uuu 0 where u 0 uuu 0 6 0 and we claim that the transition map 1 0 0 1 0 uuu 0 uuu 0 1 0 uuu 0 uuu 0 is sc smooth to verify this claim we take a morphism 1 0 uuu 0 uuu 0 and assume that 1 0 1 0 uuu 0 uuu 0 hence uuu 0 uuu 0 then s s and there exists g ts ts for which g choosing a sufficiently small open neighborhood u s u s 0 such that tx agrees with the kernel of the gs action gs diffsc u s we find an open neighborhood uuu 0 uuu 0 uuu 0 for which the source map s uuu u s is a sc diffeomorphims then every morphism in uuu is of the form s uuu 1 s we define the map s uuu 1 s g s for uuu since and the map is sc smooth in particular continu ous there exists an open neighborhood uuu uuu such that uuu uuu 0 the morphism g s belongs to ts showing that and 1 0 uuu 0 uuu 0 for all uuu we have proved that the transition map 1 0 0 is sc smooth as claimed summing up the maps 0 u 0 uuu 0 are homeomorphisms between open subsets of the m polyfold xxx and open subsets of xxxr and the transition maps are sc smooth this defines the natural m polyfold structure on xxxr now we define the reduced ep groupoid xr associated with the ep groupoid x on the object level we put xr x and as morphism m polyfold we take xxxr the source and target maps s t xxxr x are defined by s sx and t tx they are well defined since two morphisms in an equivalence class have the same source and the target it is clear that s and t are surjective for the local sc diffeomorphisms uuu uuu we have the identities s sx and t tx which show that the source and target maps are smoothness of the natural maps can be reduced by our local charts to the corresponding statements for x the properness 244 7 ep groupoids can be proved similarly we summarize these arguments in the following proposi tion proposition 7 10 every ep groupoid x possesses an associated reduced ep grou poid xr moreover xr is effective proof the first part is already proved the effectiveness of xr is seen as follows fixing the object x x we denote by g x the isotropy group of the object x in the ep groupoid xr and observe that 1 x tx if g x 1 x then g for some g gx tx let vvv be an open neighborhood of in xxxr and let u x u s g be an open neighborhood of x in x which is equipped with the gx action such that tx ker the neighborhood u x can be taken as small as we wish then we choose an open neighborhood uuu g such that the source map s uuu g u x is a sc diffeomorphim it follows from the proof of proposition 7 9 that the g uuu g uuu g uuu is a homeomorphism we take a neighborhood u x so small that uuu g vvv since g gx tx there exists a u x for which g a b 6 a then for the morphism g a connecting a with b we conclude that s sx a 6 b tx t hence the ep groupoid xr is effective as claimed if we start with an ep groupoid x and take the associated reduced ep groupoid xr we recall that the underlying object spaces are the same but the morphism spaces differ if x x and gx is the associated isotropy group then the isotropy group in the reduced ep groupoid is gx tx where tx is defined before definition 7 12 definition 7 13 for and object x in an ep groupoid x we shall call gx tx the effec tive isotropy group of x and denote it by geffx 7 3 topological properties of ep groupoids in this subsection we shall study the topological properties of ep groupoids the following result summarizes the topological properties theorem 7 2 basic topological properties of x let x xxx be an ep groupoid then the orbit space x is a locally metrizable regular hausdorff topological space if in addition x is paracompact then it also is metrizable which is a conse quence of the nagata smirnov metrization theorem the theorem follows from several lemmata lemma 7 4 local metrizability let x xxx be an ep groupoid then every point z x has an open neighborhood v v z on which the topology is metrizable 7 3 topological properties of ep groupoids 245 i e the orbit space x is locally metrizable in fact one can take u x where u x is an open neighborhood equipped with the natural gx action proof we choose a representative x x of z so that z x and take an open neigh borhood u u x of the form guaranteed by theorem 7 1 in particular we have a gx action on u and v z u is open by proposition 7 1 the subset u of the m polyfold x is metrizable and since it is invariant under the gx action which acts by sc diffeomorphisms we can define using a metric d on u a gx invariant metric on u by y y maxg gx d g y g y the metric on u is equivalent to the original one in the sense that it induces the same topology and is in addition invariant under the action of gx h y h y y y for h gx on gx u we obtain the induced metric defined by y y min g y h y g h gx which defines the quotient topology by proposition 7 6 the map gx u v z is a homeomorphism hence the push forward of the metric to u v z shows that v z x is metrizable the next result follows from the previous one lemma 7 5 let x xxx be an ep groupoid then for the quotient topology on x every point z x has a countable neighborhood basis consisting of open sets vz vk z k 1 2 3 satisfying z vk 1 z vk z proof in view of lemma 7 4 every point in x has a metrizable neighborhood that x is always hausdorff is mainly a consequence of the properness property 3 of an ep groupoid as the next lemma shows lemma 7 6 hausdorffness of orbit space the orbit space x of an ep groupoid x xxx is hausdorff proof we fix two different points z z in x and choose representatives x x x satisfying x z and x z we can take countable monotonic neighborhood bases uk x and uk x in x and obtain for z z the sets vk z uk x and vk z uk x in x it suffices to show that vk z vk z 0 for k large arguing indirectly we find zk vk z vk z this implies the existence of sequences xk 246 7 ep groupoids uk x and x k uk x satisfying xk x k zk we conclude that xk x and x k x in x since uk x k 1 and uk x k 1 are monotone neighborhood bases we take a sequence k xxx satisfying s k xk and t k x k using the properness condition 3 we conclude after taking a suitable subsequence that there exists a morphism 0 xxx with s 0 x and t 0 x implying z z and contradicting z 6 z we recall that a topological space is regular if for a nonempty closed subset a and a point z not belonging to a there exist open sets u and v such that z u a v and u v 0 a slight strengthening of the previous result shows that the orbit space x of an ep groupoid is a regular topological space since we already know that x is hausdorff this implies that x is a regular hausdorff space lemma 7 7 regularity let x xxx be an ep groupoid then x is a regular topo logical space proof assuming we are given a closed subset a of x and a point z x a we choose a representative x x satisfying x z since x a is open and contains z we find by continuity of an open neighborhood o of x in x such that o x a since x is metrizable and therefore normal we find an open neighborhood o of x in x such that x o clx o o by the properness assumption we may assume that o was chosen in such a way that t s 1 clx o x is proper we choose a point y 1 a in the preimage of a and show that there exists an open neighborhood v y such that there exists no morphism satisfy ing s o and t v y since x is a metrizable space we find otherwise a sequence k of morphisms satisfying s k o and t k y by the proper ness assumption we may assume after perhaps taking a subsequence that k then s cl o and t y since cl o o this implies the contradiction y o a hence we find for every y 1 a an open neighborhood v y for which v y o 0 the set v y 1 a v y is an open subset of x and therefore v v is an open subset of x containing a by construction v o 0 in view of the above lemmata the proof of theorem 7 2 is complete as a consequence of urysohn s metrizability theorem we can conclude under an additional condition that the orbit space x is globally metrizable 7 3 topological properties of ep groupoids 247 corollary 7 1 metrizability criterion let x be an ep groupoid whose induced topology t on x is second countable i e t has a countable basis then x is metrizable proof urysohn s metrizability result states that a second countable regular haus dorff space is metrizable as we have shown the orbit space x of an ep groupoid is always a regular hausdorff space the additional assumption that x is second countable gives via urysohn s theorem the desired result continuing with a general ep groupoid x we observe that the induced topology on a given subset of x is again locally metrizable regular and hausdorff definition 7 14 if x is an ep groupoid we call a subset k of the orbit space x component compact provided its intersection with every connected component of x is compact theorem 7 2 has a second corollary which employs the nagata smirnov metriz ability theorem corollary 7 2 let x xxx be an ep groupoid and k x a component compact subset then there exists an open neighborhood u of k for which cl x u is para compact since cl x u is a regular hausdorff space which is locally metrizable it follows in particular that cl x u is metrizable and therefore u is metrizable proof in order to prove the corollary we need the nagata smirnov metrizability theorem we work in a connected component of k and may assume without loss of generality that k is compact every point z k has an open neighborhood u z whose closure in x is metrizable in particular cl x u z is paracompact us ing the compactness of k we find finitely many points z 1 zk in k such that u z 1 u zk cover k then the union u k i 1 cl x u zi is paracompact moreover as a subset of x its induced topology is hausdorff regular and locally metrizable by the nagata smirnov theorem u is metrizable and the same holds then for the set u k i 1 u zi there are many new features in the sc theory which do not occur in the classical theory for example we can raise the index of a m polyfold x to obtain the m polyfold x 1 doing this the question arises whether for an ep groupoid x we obtain an ep groupoid x 1 the answer is yes and this is the next proposition proposition 7 11 index lifting if x x xxx is an ep groupoid then the same is true for x 1 x 1 xxx 1 if x is tame so is x 1 248 7 ep groupoids proof we note that x 1 x 1 xxx 1 satisfies trivially properties 1 2 and 4 of definition 7 3 we shall show that the property 3 holds we take a point x x 1 then x x and there exists an open neighborhood v x of x in x such that t s 1 clx v x x 7 4 is proper since the inclusion i x 1 x is continuous the set w x v x x 1 is open in x 1 and we also have clx 1 w x clx v x where clx 1 stands for the closure of a set in x 1 we claim that the map t s 1 clx 1 w x x 1 7 5 is proper it suffices to show that every sequence k s 1 clx 1 w x such that t k belongs to a compact subset of x 1 has a convergent subsequence in xxx 1 us ing the properness on level 0 and the pre compactness of t k on level 1 we may assume after taking a suitable subsequence the following properties of the sequence k a k in xxx 0 b s k s clx v x and t k t in x 0 c t k t in x 1 from the fact that t is a local sc diffeomorphism and using c we deduce that d xxx 1 we find open neighborhoods uuu and u t in xxx 0 and x 0 respectively such that t uuu u t is a sc diffeomorphism for large k the sequences k and t k belong to these neighborhoods so far by construction k t uuu 1 t k for large k in view of d t k t in x 1 and since t uuu 1 is sc 0 the convergence k t uuu 1 t k t uuu 1 t in xxx 1 follows this proves the properness on level 1 that the tameness of x implies the tameness of x 1 is trivial the proof of proposition 7 11 is complete 7 4 paracompact orbit spaces 249 7 4 paracompact orbit spaces we have shown that the orbit space x of an ep groupoid x xxx is a locally metriz able regular hausdorff topological space this means that single points are closed subsets moreover a point z x and a closed subset a of x not containing z can be separated by open subsets containing them in practice many of the interesting ep groupoids have orbit spaces whose topologies are paracompact in view of the nagata smirnov metrizability theorem such an orbit space will be metrizable this has of course pleasant features when one has to carry out constructions definition 7 15 the ep groupoid x xxx is an ep groupoid with paracompact or bit space if in addition to the properties 1 4 of definition 7 3 it also possesses the following property 5 5 the orbit space x is paracompact we recall that a topological space is paracompact if every open covering has a re finement which is a locally finite open covering we do not require a paracompact space to be hausdorff it is presently not known whether the property 5 is a con sequence of the properties 1 4 in case x has a second countable topology we have already seen that 1 4 imply 5 remark 7 1 in our paper 38 we always required the m polyfold to be second countable we later realized that this requirement is unnecessarily restrictive and that a better requirement is 5 proposition 7 12 paracompactness under lifts let x xxx be an ep groupoid with paracompact orbit space then also x 1 xxx 1 is an ep groupoid with para compact orbit space proof in view of proposition 7 11 we only have to show that x 1 is paracompact and we already know that x and x 1 are regular hausdorff spaces we recall from lemma 2 7 that a regular hausdorff space z is a paracompact space if and only if every open covering of z has a locally finite refinement of closed sets for every x x we choose an open neighborhood u x of x in x equipped with the natural gx action since x is hausdorff and paracompact the open cover u x x x of x has a refinement ax x x having the following properties 1 ax is a locally finite collection of closed sets 2 ax u x 3 x x ax x 250 7 ep groupoids we note that some of the sets ax may be empty we abbreviate ax 1 ax x 1 the set ax 1 is the preimage of ax under the continuous map x 1 x and therefore closed the collection ax 1 x x inherits the property that ax is locally finite and by construction x 1 x 1 x x 1 x x ax x x ax 1 we shall show that each set ax 1 is paracompact then the hausdorff orbit space x 1 as the union of a locally finite collection of closed paracompact sets is paracompact since u x has the natural gx action the same is true for u x 1 x 1 as in the proof of lemma 7 4 one can take any metric on u x 1 inducing the topology and then construct a gx invariant metric which then passes to the quotient u x 1 u x 1 by construction ax 1 u x 1 so that ax 1 inherits an induced metric and therefore is paracompact in the following a saturated subset u of an ep groupoid is a subset of the object space which contains with the object x u also all the objects isomorphic to x i e u 1 u where x x is the projection onto the orbit space the importance of paracompactness comes from the existence of partitions of unity which for example is used in the next theorem theorem 7 3 continuous partitions of unity for an ep groupoid x with para compact orbit space there is for every open cover o of x a subordinate partition of unity some of the 0 in particular every covering u of x by saturated open sets possesses a subordinated continuous partition of unity where every function takes the same values on isomorphic objects proof due to paracompactness the first part is an immediate consequence of a partition of unity if u is an open covering of x by saturated open sets then o u is an open cover of x we choose a subordinated partition of unity and define where x x is the quotient map then the sup port of lies in 1 o u taking a point x x we obtain z x x and find an open neighborhood v v z so that only finitely many functions have a support intersecting v this means that only finitely many have a support intersecting the open neighborhood u 1 v of x for many differential geometric constructions we need the sc smooth partitions of unity or at least sc smooth bump functions as already discussed in appendix 5 5 definition 7 16 sc smooth partitions of unity an ep groupoid xxx with sc smooth partitions of unity is an ep groupoid x having the property that for ev ery saturated open covering u of the object m polyfold x there exists an subordinate sc smooth partition of unity such that 7 4 paracompact orbit spaces 251 1 for every point x x there exists a saturated open neighborhood intersecting only finitely many supports supp 2 for every the map has the property that z y if y and z are isomorphic objects remark 7 2 unfortunately this topic apart from the case of sc hilbert spaces seems to be generally a zoo as is the question of classically smooth partitions of unity on banach spaces in the case of sc smoothness it could potentially be easier to show their existence on concrete scales the basic result about sc smooth partitions of unity for ep groupoids is given by the following theorem theorem 7 4 let x be an ep groupoid with paracompact orbit space x we as sume that the object m polyfold x admits sc smooth partitions of unity then for every open cover of x by saturated open subsets u there exists a subordinate sc smooth partition of unity of the ep groupoid x the proof of theorem 7 4 is given in appendix 7 5 2 we end this subsection with a characterization of closed subsets of the orbit space x assuming that x is paracompact definition 7 17 we call a subset q of x proper provided t s 1 q x is proper we shall say that an open subset u of x has the properness property provided clx u is proper proposition 7 13 if q x is proper then it is a closed subset of x proof for a point x cl q we take a sequence xn q converging to x and claim that x q let n be the morphisms 1 xn xn xn the set k xn n 1 x is a compact subset of x by the properness assumption the preimage t s 1 q 1 k of k under the map t s 1 q x is a compact subset of s 1 q since s n xn q and t n xn the sequence n belongs to the compact subset t s 1 q 1 k of s 1 q without loss of generality we may assume that n for some morphism t s 1 q 1 k s 1 q in particular s q since s n xn and xn x we conclude after taking a limit that s x q as claimed proposition 7 14 let x be an ep groupoid 1 if q x is a proper subset then q is closed in x 2 if x is paracompact then a subset a of x is closed if and only if there exists a proper subset q x satisfying q a 252 7 ep groupoids proof we first prove 1 and assume that q is proper subset of x we abbre viate a q we take z cl a and let y x be a representative of z so that y z taking a monotone neighborhood basis uk y k 1 we abbreviate vk z uk y x the open sets vk z form a monotone neighborhood basis of z in x since z cl a for every k 1 there exists zk a vk z in particular zk z moreover there are xk q and yk uk y satisfying xk yk zk hence there is a sequence of morphisms k in xxx such that s k xk and t k yk since yk y the set k yk k 1 y is compact in x by as sumption t s 1 q 1 k is a compact subset of s 1 q then since k t s 1 q 1 k we may assume that k for some morphism s 1 q this implies that x s q from the convergence zk z and zk s k s x we conclude that x z a proving 1 in order to prove 2 we assume that x is paracompact in view of 1 it suffices to prove that a closed subset a x can be written as q a for some proper subset q of x for every z a we choose a representative xz x satisfying xz z and an open neighborhood u xz for which we have the natural gxz action so that qz clx u xz is proper and therefore qz is closed then the open sets u xz are an open covering of a since a is a closed subset of a paracompact space it is paracompact by lemma 2 7 we find a locally finite covering of a by closed subsets say ai a i i so that ai qzi for a suitable map i 7 zi define the closed subset pi clx uxzi by pi clx uxzi 1 ai finally introducing q x by q i i pi then by construction q a and we only need to show that q is proper take a sequence of morphisms k satisfying s k q and t k y since a is closed we see that z y a since the covering ai is locally finite we find an open neighborhood v z x which intersects only finitely many ai say a 1 al for k large t k v z this implies that s k a 1 al for large k hence for large k by construction s k p 1 pl after perhaps taking a subsequence we may assume that s k p 1 at this point we know that s k p 1 and t k y by construction p 1 is proper and hence we find a convergent subsequence this shows that q x is proper and concludes the proof of proposition 7 14 7 5 appendix 253 7 5 appendix 7 5 1 the natural representation we recall the statement for the convenience of the reader theorem 7 5 given an ep groupoid x an object x 0 x and an open neighbor hood v x of x 0 then there exist an open neighborhood u v of x 0 a group homomorphism gx 0 diffsc u g 7 g tg s 1 g and an sc smooth map gx 0 u xxx having the following properties g x 0 g s g y y and t g y g y for all y u and g gx 0 if h y z is a morphism connecting two objects y z u then there exists a unique g gx 0 such that g y h in particular every morphism between points in u belongs to the image of the map we call the group homomorphism gx diffsc u a natural representation of the stabilizer group gx 0 proof for every g gx 0 we choose two contractible open neighborhoods n t g and nsg xxx on which the target and source maps t and s are sc diffeomorphisms onto some open neighborhood u 0 x of x 0 since the isotropy group gx 0 is finite we can assume that the open sets ntg nsg for g gx 0 are disjoint and define the disjoint open neighborhoods ng xxx of g by ng n t g n s g g gx 0 we abbreviate the restrictions of the source and target maps by sg s ng and tg t ng lemma 7 8 with the choices made above there exists an open neighborhood u 1 u 0 of x 0 so that every morphism h xxx satisfying s h and t h u 1 belongs to ng for some g gx 0 proof arguing indirectly we find a sequence hk xxx with hk 6 ng for all g gx 0 and satisfying s hk t hk x 0 as k by the properness assumption of ep 254 7 ep groupoids polyfolds there is a convergent subsequence hkl h xxx necessarily h gx 0 and hence h ng for some g gx 0 this contradiction implies the lemma lemma 7 9 if u 1 is the open neighborhood of x 0 guaranteed by lemma 7 8 then there exists an open neighborhood u 2 u 1 of x 0 so that the open neighborhood u of x 0 which is defined as the union u g gx 0 tg s 1 g u 2 is contained in u 1 and invariant under all the maps tg s 1 g for g gx 0 proof we choose an open neighborhood u 2 u 1 of x 0 so small that the union u and also tg s 1 g u are contained in u 1 for all g gx 0 consider the map tg s 1 g u x and choose x u then we can represent it as x th s 1 h u for some h gx 0 and some u u 2 now v tg s 1 g th s 1 h u belongs to u 1 and the formula implies the existence of a morphism u v in xxx by lemma 7 8 the morphism has necessarily the form v tg s 1 g u for some g gx 0 since u u 2 it follows that v tg s 1 g x u implying the desired invariance of u in view of lemma 7 9 we can associate with every g gx 0 the sc diffeomorphism g tg s 1 g u u of the open neighborhood u of x 0 and obtain the mapping gx 0 diffsc u g 7 g since the neighborhoods ng xxx of g are disjoint and since the structure maps are continuous we conclude that is a homomorphism of groups in the fol lowing called the natural representation of the stabilizer group gx 0 by sc diffeomorphisms of the open neighborhood u x of x 0 then we define the map gx 0 u xxx by g y s 1 g y summing up the consequences of lemma 7 8 and lemma 7 9 we have proved the orem 7 5 7 5 2 sc smooth partitions of unity in this part of the appendix we establish the existence of sc smooth partitions of unity on certain ep groupoids we recall theorem 7 4 for the convenience of the reader 7 5 appendix 255 theorem 7 6 let x be an ep groupoid with paracompact orbit space x we as sume that the object m polyfold x admits sc smooth partitions of unity then for every open cover of x by saturated open subsets u there exists a subordinate sc smooth partition of unity of the ep groupoid x we start the proof with a lemma lemma 7 10 we assume that x is an ep groupoid with a paracompact orbit space x and the object m polyfold x admits sc smooth partitions of unity suppose further that x x and u x and v x are open neighborhoods of x satisfying u x clx u x v x and such that v x admits the natural gx action and u x is invariant if x 0 1 is a continuous function with support in u x and invariant under the gx action on v x then there exists a sc smooth function f x 0 with support in v x which is in addition invariant under the gx action on v x and satisfies y f y for all y x proof for every z u x we take an open neighborhood w z with clx w z u x and a number az 0 so that y az for y w z for every z v x u x we can find an open neighborhood w z so that w z v x and w z 0 in this case define az 0 since v x is a subset of the metrizable object m polyfold x it is paracompact using that w z is an open cover of v x we find a subordinate sc smooth partition of unity z z v x and define the function v x 0 by y z v x z y az by construction on v x hence is a sc smooth function with support in clx u x v x we average with respect to the gx action and obtain the function f defined by f y 1 gx g gx g y by construction g y g y which implies f proof theorem 7 4 we consider the open covering u of x in a first step we take for every x x an open neighborhood v x x satisfying the following properties 256 7 ep groupoids 1 there exists an open neighborhood w x equipped with the natural gx action such that v x clx v x w x and v x is invariant 2 t s 1 clx v x x is proper 3 for every x x there exists a with v x u 4 1 v x v x w x 0 the family v x x x is an open covering of x refining u and we find a locally finite refinement v i i i in particular there is a map i xi such that v i v xi we take for every i i an open subset v i of v i satisfying v i cl x v i v i and in addition x i i v i for every i i v i v i v xi and we introduce u i v xi 1 v i and let ui be its saturation then ui 1 v i the open set u i is invariant under the gxi action on v xi next we take a continuous partition of unity i subordinate to the locally finite covering v i the function i v xi has support in u i v xi using the existence of smooth partitions of unity for the m polyfold x we can approximate i v xi using lemma 7 10 by a sc smooth function fi supported in v xi satisfying fi i v xi we average using the gxi action extend to the saturation of v xi and then extend by 0 outside this gives a function hi compatible with morphisms the sum h of all hi is locally finite and always bigger than 0 consequently hi h is the desired partition of unity for the ep groupoid x corollary 7 3 let x be an ep groupoid with paracompact orbit space x we as sume that the object m polyfold admits an atlas consisting of charts whose local models o c e have the property that the e 0 are hilbert spaces then every open covering of x by saturated open subsets u possesses a subordinate sc smooth partition of unity of the ep groupoid x proof we only have to note that the assumption on the atlas implies that the ob ject m polyfold x admits sc smooth partitions of unity the proof can be found in appendix 5 5 see specifically proposition 5 6 theorem 5 12 and corollary 5 2 hence the corollary follows from theorem 7 4 chapter 8 bundles and covering functors after discussing the tangent of an ep groupoid we shall define strong bundles over ep groupoids finally we discuss the notion of a proper covering functor between ep groupoids and strong bundles respectively 8 1 the tangent of an ep groupoid the tangent t x xxx of an ep groupoid x xxx is defined as the pair of tangent spaces t x xxx t x t xxx 8 1 our aim is to equip the pair with the structure of an ep groupoid whose object set is the tangent space t x and whose morphism set is the tangent space t xxx the main results are theorem 8 1 and theorem 8 3 in order to formulate the theorems we need some preparation the object m polyfold is going to be the tangent space t x that t x is a m polyfold we know from section 2 1 the tangent space t xxx again a m polyfold is viewed as a the set of morphisms defined as follows the tangent vector h t xxx is viewed as a morphism h t s h tt h 8 2 between the two objects in t x if x y is a morphism in xxx then t s h txx and tt h tyx in view of 8 2 we define the source and the target maps st x tt x t xxx t x of t x t xxx by st x h t s h and tt x h tt h 8 3 257 258 8 bundles and covering functors in order to introduce the multiplication k h of two morphisms in t xxx we have to assume that st x k t s k tt h tt x h 8 4 which implies that s t using that the source map s xxx x is a local sc diffeomorphism we define the multiplication of the two morphisms h and k in t xxx by k h t s 1 t s h t xxx 8 5 where k t s 1 tt h the notation h t xxx for the tangent vector contains a redundancy if ppp t xxx xxx 1 is the projection of the tangent bundle then ppp h if h t xxx therefore the definition 8 5 for the composition can be expressed shorter as k h t s ppp k ppp h 1 t s ppp h h 8 6 and tt x h st x k depending on the situation we shall or shall not use the short notation for the composition the unit morphism 1 a t xxx associated with the object a txx is the morphism 1 a 1 x ha t xxx 8 7 where ha t 1 x xxx satisfies t s 1 x ha a tt 1 x ha consequently the unit map ut x t x t xxx is given by ut x a 1 x t s 1 x 1 a 8 8 for a txx if x xxx xxx is the inverse map of the groupoid x xxx we define the inverse map t x t xxx t xxx by t x k 1 t x k 8 9 theorem 8 1 the tangent t x xxx t x t xxx of the ep groupoid x xxx together with the structure maps introduced above is an ep groupoid if the ep groupoid x xxx is tame then also the ep groupoid t x xxx is tame more over the two projections p t x x 1 and ppp t xxx xxx 1 together define a sc smooth functor p ppp t x xxx x xxx 1 the theorem will follow from a series of lemmata by definition the multiplication map of the ep groupoid x xxx m xxx s txxx xxx m 8 1 the tangent of an ep groupoid 259 where s t is a sc smooth map and we can pass to its tangent map t m to derive a formula for t m we recall that xxx s txxx is a sub m polyfold of xxx xxx so that the tangent space t xxx s txxx can be identified with a sub m polyfold of t xxx t xxx by the identification t xxx s txxx t xxxt s ttt xxx so that t s k tt h for k h t xxx s txxx lemma 8 1 if m is the multiplication of isomorphisms in xxx then the multiplication of morphisms in t xxx defined in 8 5 can be written as k h t m k h t s 1 t s h keeping in mind that k t s 1 tt h proof in order to derive a formula for t m k h for k t xxx and h t xxx we vary in a neighborhood uuu xxx and in a neighborhood uuu xxx where and are restricted by s t therefore is the function f of defined by f s uuu 1 t thus the multiplication becomes m m s uuu 1 t applying the restricted source map leads to the identity s uuu m s uuu 1 t s differentiating the identity at xxx 1 in the direction h t xxx we obtain t s t m t s uuu 1 tt h h t s h hence again using that s is a local sc diffeomorphism t m t s u 1 tt h h t s 1 t s h recalling t s k tt h we finally obtain t m k h t s 1 t s h and the lemma follows we abbreviate the morphisms in t xxx as h and k lemma 8 2 the definitions of st x and tt x are compatible with the composition i e st x st x and tt x tt x 260 8 bundles and covering functors proof using the definitions 8 4 and 8 5 we compute st x k h t s t s 1 t s h t s h st x h we have verified that st x st x in order to verify the formula for tt x we fix suitable open neighborhoods uuu and u x and u y with x s and y t so that t uuu u y and uuu u x are sc diffeomorphisms we define the map by b t s uuu 1 b then taking the tangent of at s gives t s tt t s 1 s now we consider for near the map 7 s in view of s s and t t we have the identity s t s uuu 1 s t s uuu 1 t therefore taking the derivative at we obtain t s h tt t s u 1 t tt h using the definition 8 3 and recalling t s k tt h we compute tt x k h tt t s 1 t s h t s t s h t s h tt t s uuu 1 tt h tt t s uuu 1 t s k tt k tt x k as claimed in lemma 8 2 lemma 8 3 the composition of morphisms in t xxx is associative proof assuming that the corresponding sources and targets match we compute 8 1 the tangent of an ep groupoid 261 l k h l t s 1 t s h t s 1 t s t s 1 t s h t s 1 t s h t s 1 t s k h l k h lemma 8 4 the 1 morphism associated with the object q txx defined as 1 q 1 x t s 1 x 1 q t 1 x xxx is a 2 sided identity for the composition proof we first observe that 1 q is a 1 morphisms indeed st x 1 q t s 1 x t s 1 x 1 q q and tt x 1 q tt 1 x t s 1 x 1 q q in the last equation we have used that t 1 b b s 1 b for all b x and therefore since t and s xxx x are local sc diffeomorphisms we have the iden tity t s uuu 1 x 1 b b for all b near x and by the chain rule tt s 1 b t s s 1 b 1 1 so that tt 1 x t s 1 x 1 1 at b x next we assume that the morphism k satisfies st x k tt x 1 q which is equivalent to t s k tt 1 x t s 1 x 1 q q then k 1 q k 1 x t s 1 x 1 q 1 x t s 1 t s 1 x t s 1 x 1 q t s 1 q k if k satisfies t x and tt x k st x 1 q which is equivalent to tt k q we obtain 1 q k t s 1 t s k k as claimed lemma 8 5 the inverse morphism t x of the morphism k t xxx as defined by t x k 1 t x k is a 2 sided inverse for the composition proof we first verify that t x k is an inverse morphism of k indeed from the identities s 1 t and t 1 s for xxx we obtain by the chain rule t s 1 t x tt and tt 1 t x t s consequently 262 8 bundles and covering functors st x t x k t s 1 t x k tt k tt x k and tt x t x k tt 1 t k t s k st x k for a given morphism k t xxx satisfying x s we compute t x k k 1 t x k k 1 x t s 1 x 1 t s k 1 t s k the composition from the right is verified the same way and we have proved that t x is the 2 sided inverse for the composition next we prove the differential geometric properties for the category t x consisting of the object set t x and the morphism set t xxx lemma 8 6 for the category with object m polyfold t x and morphism m polyfold t xxx the source and target maps st x and tt x are surjective local sc diffeomorphisms and all structure maps are sc smooth proof by construction st x and tt x are local sc diffeomorphisms the 1 map t x t xxx associates with q txx the pair 1 q 1 x t s 1 x 1 q which sc smoothly depends on q the inversion map t xxx t xxx is the tangent map of the sc smooth inversion map xxx xxx 1 and therefore a sc diffeomorphism due to the properties of st x and tt x the fibered product t xxx st x tt x t xxx is a m polyfold the multiplication map is given by t xxx st x tt x t xxx t xxx k h 7 t s 1 t s h which is sc smooth by inspection one can also view this as follows the tangent space of xxx s txxx can naturally be identified with t xxx st x tt x t xxx and our multipli cation map mt x is precisely t m where m is the multiplication for the original ep groupoid which is sc smooth this completes the proof of the lemma in order to verify that t x t xxx is an ep groupoid we still need to confirm the properness property lemma 8 7 if x xxx be an ep groupoid then t x t xxx has the properness prop erty proof let x x 1 and take an open neighborhood v x in x such that t s 1 clx v x x is proper 8 10 in order to show that the map 8 1 the tangent of an ep groupoid 263 tt x s 1 clt x tv t x 8 11 is proper we may assume that we have a sequence of morphisms k hk t xxx satisfying st x k hk clt x tv and t k hk lying in a compact subset k t x due to the latter after perhaps taking a subsequence we may assume the conver gence t k hk t s k hk q txx we note that t k xk x in x 1 8 12 and moreover t k x in x 0 8 13 since s k clx v we deduce from the properness in 8 10 that k in x because t is a sc diffeomorphism between suitable open neighborhoods of and x the convergence of xk in 8 12 implies the stronger convergence k in xxx 1 at this point we know about our sequence k hk that k in xxx 1 and t s k hk q txx in t x we take open neighborhoods uuu xxx and u x x such that s uuu u x is a sc diffeomorphism then t s tuuu tu x is a sc diffeomorphism since for large k we have k hk tuuu and the sequence t s k hk qk converges the same is true for k hk hence k hk h in t xxx this completes the proof of the properness so far we have proved that the small category t x t xxx is an ep groupoid if x xxx is an ep groupoid lemma 8 8 if the ep groupoid x xxx is tame so is the ep groupoid t x t xxx proof if u o o o c e is a tame chart of the object m polyfold x of x xxx and o r u c is a tame retract then also tr tu tu is a tame retraction it follows that if x xxx has a tame object space then also t x t xxx has a tame object space and hence is by definition a tame ep groupoid proof proof of theorem 8 1 the category t x t xxx is in view of lemmata 8 1 8 8 a tame ep groupoid if x xxx is a tame ep groupoid the last statement about the projections being functors just says that if h t s h tt h 264 8 bundles and covering functors then ppp h s t is a morphism compatible with composition this is obvious the proof of theorem 8 1 is complete there are equivalent ways to equip the tangent t x t xxx of the ep groupoid with a ep groupoid structures we discuss another possibility in the following remark remark 8 1 the above definition of t x as an ep groupoid makes precise in which way we view the elements in t xxx as morphisms there are equivalent ways to turn t x into an ep groupoid recall that a morphism x y for x x 1 equivalently y x 1 has a well defined associated linear isomorphism t txx tyy here t is defined as the tangent map of t s u 1 at x one interprets the fact that if t maps h txx to k tyy as having a morphism t h with s t h h and t t h t h the composition t h t l should be defined provided h t l as follows t h t l t t l t l we note that this new definition and the previous one are equivalent by means of the mapping g h t t s h indeed g is compatible with the functorial structures for example if tt k t s h g h k t t s t s 1 t s k t t s k t t t s k t t t s k t t s k t tt k t t s k t t s h t t s k g h g k in the latter description the object space is t x as before but the morphisms are the pairs t h where xxx 1 and h ts x the map g t xxx t a xxx 1 a ts x is a bijection and we can equip the right hand side with a m polyfold structure such that g becomes a sc diffeomorphism of course we can identify the pairs t a with the triplets a t b where b t a this gives another description of the morphism set some further remarks are in order for xxx 1 we abbreviate x s and y t in x 1 the linear isomorphism tt t s 1 txx tyx 8 1 the tangent of an ep groupoid 265 is the linearization of t s u 1 at and therefore by definition equal to t using the definitions of st x and tt x we find that tt x st x txx 1 t txx tyx is a linear isomorphism at this point we have constructed the tangent for the ep groupoids but not yet for the sc smooth functors between them theorem 8 2 if x xxx y yyy is a sc smooth functor between two ep groupoids then the tangent map t t t x xxx t y yyy is a sc smooth functor between the corresponding tangents of the ep groupoids proof clearly since x y and xxx yyy are sc smooth maps it follows that the tangent maps t t x ty and t t xxx tyyy are sc smooth let us consider the compatibility with the composition we have defined for the elements in t xxx and tyyy respectively the functoriality of requires that xxx xxx yyy yyy preserves the fibered products on which the multiplications are defined conse quently if xxx s txxx then mx my differentiating with respect to the pair xxx s txxx in the direction k h t xxxt s ttt xxx we obtain t t mx k h t my t k t h therefore by lemma 8 1 t k h t k t h which is the desired result to verify that t preserves the units is left to the reader for the morphisms we have the identities s s and t t we differentiate at 0 xxx 1 in the direction p t 0 xxx and obtain setting x 0 s 0 and x 0 t 0 266 8 bundles and covering functors sty t 0 p t x 0 st x p tty t 0 p t x 0 tt x p in other words if h tx 0 x and k tx 0 x are objects with a morphism p between them i e p t xxx satisfying t sx p h and ttx p k then t p is the corresponding morphism t x 0 h t x 0 k recalling the category e p whose class of objects are the ep groupoids and whose morphisms are the sc smooth functors between the ep groupoids we can sum up the previous discussion in the following theorem theorem 8 3 functoriality property of t on ep groupoids the tangent functor t gives rise to a functor t e p e p associating with an ep groupoid x its tangent t x and with a smooth functor x y the tangent functor t in particular t preserves the composition and the other structure maps furthermore t preserves tameness if x is a tame ep groupoid so is t x finally we shall show that the tangent functors are compatible with natural transfor mations definition 8 1 natural transformation natural equivalence if f x y and g x y are two sc smooth functors between the ep groupoids x and y then f is called naturally equivalent to g and denoted by f g if there exists a sc smooth map x yyy which associates with every object x x a morphism x f x g x in yyy such that x fff h ggg h x for every morphism h x x in xxx i e the diagram of morphisms f x x g x yfff h yggg h f x x g x commutes for every morphism h x x in xxx the sc smooth map x yyy is called a natural transformation between the two sc functors f g x y and will be referred to by the formula 8 1 the tangent of an ep groupoid 267 f g the relation f g between sc smooth functors f g x y of ep groupoids is an equivalence relation proposition 8 1 if is a natural transformation between the two sc smooth functors x x xxx y y yyy between ep groupoids then the tangent t t x tyyy is a natural transformation t t t between the two tangent functors t t t x t xxx ty tyyy proof if x x then x x x is a morphism in yyy we note that s x x and t x x differentiating x s x and x t x at x x 0 x 1 yields with 0 x 0 t x 0 h t s 0 t x 0 h and t x 0 h tt 0 t x 0 h consequently sty t x 0 h t x 0 h and tty t x 0 h t x 0 h by definition of the morphisms in tyyy we have the morphism t x 0 h t x 0 h t x 0 h since is a natural transformation the diagram x x x y y x x x commutes for all morphisms x x we differentiate the relationship defined by the diagram as follows we fix x 0 x 0 x 1 and the morphism 0 x 0 x 0 the latter then also belongs to level 1 for the morphisms near 0 on level 0 we obtain the commuting diagrams s s s y y t t t we differentiate at 0 satisfying s 0 x 0 and t 0 x 0 and obtain for every p t 0 xxx h t sx 0 p and h ttx 0 p the commutative diagram 268 8 bundles and covering functors t x 0 h t x 0 h t x 0 h yt 0 p yt 0 p t x 0 h t x 0 h t x 0 h recalling that t 0 p is the morphism t x 0 h t x 0 h in tyyy and similarly for the diagram above shows that the tangent map t t x tyyy h 7 t x 0 h is a natural transformation t t t this completes the proof of proposition 8 1 if x is an ep groupoid with paracompact orbit space x we have seen that x is metrizable the tangent t x of an ep groupoid is also an ep groupoid as we have seen in theorem 8 1 as we shall show now the paracompactness of x is inherited by t x theorem 8 4 if x is an ep groupoid with paracompact orbit space x then the tangent ep groupoid t x has a parcompact orbit space t x as well proof by assumption x is paracompact and the same holds for the ep groupoid x 1 i e x 1 is paracompact for every point z x 1 take a representative xz x 1 and pick an open neighborhood u xz in x with the natural gxz action so that tu xz is as a bundle over u xz 1 sc isomorphic to some local bundle model to o 1 which also is equipped with an sc smooth bundle action by gxz then tu xz and u xz 1 are metrizable the collection of sets u xz 1 z x 1 is an open covering of x 1 and we can find a subordinate locally finite closed subcover denoted by az z where x 1 consists of those points for which az 6 0 for z we find a gxz invariant closed subset of u xz 1 and take the restriction of tu xz to this subset this defines after dividing out by the gxz a closed subset a z of t x which is closed and paracompact moreover a z z is a locally finite covering of t x by closed paracompact sets since as an ep groupoid t x is a reg ular hausdorff space it follows that t x is paracompact in view of the topological proposition 2 17 this completes the proof 8 2 sc differential forms on ep groupoids next we introduce the notion of a sc differential form in the ep groupoid context it will be studied in later sections in more detail the notion has been already intro duced in the context of m polyfolds in section 4 4 definition 8 2 a sc differential k form on the ep groupoid x xxx is a sc smooth map kt x r defined on the whitney sum of the tangent of the object m 8 2 sc differential forms on ep groupoids 269 polyfold which is linear in each argument and skew symmetric and moreover possesses the additional property that for every morphism x y in xxx 1 and its associated tangent t txx tyy it holds that t y x we denote by kep x the vector space of sc differential k forms compatible with morphisms if is a sc differential form on x i then will also be a differential form on x i 1 we can take the direct limit of the directed system i k ep x i ep x k with i k induced by the pull back via inclusions and obtain ep x with n 0 1 2 the latter is defined by ep x i n ep x i d where d is the vector subspace generated by i i k i by definition the ele ments in ep x are equivalence classes and can be represented by a differ ential form i on x i for some i then i and k present the same element provided there exists an l k i such that the pullbacks of i and k to x l are the same we define the exterior derivative of by d d where d is the exterior derivative of a sc differential form on the object m polyfold we claim that d ep x i e d is compatible with morphisms this can be seen as follows given a morphism 0 x 0 s 0 y 0 t 0 xxx 1 we choose open neighborhoods u x 0 x and uuu 0 xxx such that s uuu 0 u x 0 and t u 0 u y 0 are sc diffeomorphisms defining the composition f u x 0 u y 0 x t s uuu 0 1 x we note that with u 0 x s u x 0 x 1 and y t 0 the linear isomor phism t txx tyx is equal to t f x therefore choosing x u x 0 x 1 we compute for tangent vectors hi txx y f x and uuu 0 satisfying t y f x h 1 hk y t f x h 1 t f x hk y t h 1 t hk x h 1 hk hence on u x 0 in view of f d d f 270 8 bundles and covering functors f d d f d so that the sc differential form d is indeed compatible with morphisms from the properties of d in the m polyfold context we deduce that d d 0 definition 8 3 given an ep groupoid x we call ep x d the sc de rham complex for the ep groupoid x we denote an element in ep x d again by though as an element in a direct limit it is rather an equivalence class 8 3 strong bundles over ep groupoids in this section we introduce the crucial notion of a strong bundle over an ep groupoid starting from a strong bundle p w x over the object m polyfold x of the ep groupoid x xxx we shall introduce the structure map xxx s pw www w its properties allow to lift the morphisms xxx to linear isomorphisms ws wt between the corresponding fibers defining the morphisms in www between points of w and ultimately leading to the sc smooth functor p 1 w www x xxx between two ep groupoids the strong bundles over m polyfolds have been introduced in section 2 5 we consider an ep groupoid x x xxx and a strong m polyfold bundle p w x where p w x is a surjective sc smooth map between the m polyfold w onto the m polyfold x which is the object space of the ep groupoid x xxx the m polyfold w possesses additional structures in particular the fibers p 1 x wx over x x carry the structure of banach spaces if x x is a smooth point the banach space wx has a sc structure since the source map s x x is by definition a local sc diffeomorphism the fibered product xxx s pw w xxx w s p w is an m polyfold and being viewed as the pull back of a strong m polyfold bundle is also a strong m polyfold bundle hence we have the strong bundle 1 xxx s pw xxx 8 3 strong bundles over ep groupoids 271 definition 8 4 strong bundle over an ep groupoid a strong bundle over the ep groupoid x is a pair p in which p w x is a strong bundle over the object m polyfold x and xxx s pw w a strong bundle map covering the target map t xxx x such that the diagram xxx s pw w 1 y yp xxx t x is commutative so that p w t moreover satisfies the following additional properties 1 is a surjective local sc diffeomorphism and linear on the fibers wx 2 1 x w w for all x x and w wx 3 w w for all xxx and w w satisfying s p w and t s p w given a strong bundle p over the ep groupoid x it follows in particular that wx wy is a linear isomorphism if x y is a morphism in xxx in fact the data of a strong bundle over an ep groupoid provide via a prescription how to lift morphisms to linear isomorphisms in a compatible way with compositions we shall discuss the above definition now in detail we shall show that there is an equivalent functorial picture in the background which endows w with morphisms resulting in an ep groupoid w www having additional structures in fact we shall obtain a sc smooth functor p ppp w www x xxx where p and ppp are strong bundles we abbreviate www xxx s pw now we can define the ep groupoid w w www in which the object set w is the m polyfold w we started with and the morphism set www is the above fibered product xxx s pw note however that we have more structure the object set carries the structure of a strong bundle w x and the morphism set also carries the structure of a strong bundle namely www xxx for the following discussion we label the source and target maps by the spaces they act in the source and target maps sw tw www w are defined as follows 272 8 bundles and covering functors sw w w tw w w for w xxx s pw these maps sw and tw are fiberwise linear local sc diffeo morphisms covering the source and target maps sx tx xxx x indeed p sw w p w sx p tw w p w tx the action of a morphism w xxx s pw is illustrated by the commutative dia gram sw w w tw w p y yp sx tx the orbit of a point w w covers the orbit of p w x and hence p induces a surjective continuous map p w x between the orbit spaces the identity morphism at w wx is the pair 1 x w in xxx and if x y is a morphism in xxx the inverse of the morphism w www is the pair i w 1 w the multiplication map in w is defined by w w w whenever w w w the two sc smooth projection maps p w x and ppp 1 www xxx together define an sc smooth functor denoted by p p ppp w x between the two ep groupoids w w www and x x xxx as demonstrated above we can use the strong bundle p w x in order to construct additional data which allow to view a strong bundle over the ep groupoid x alternatively as the functor just constructed which in expanded notation is given by p ppp w www x xxx with the projection ppp 1 we shall usually just call p w x a strong bundle over the ep groupoid x whenever the precise knowledge of the structural strong bundle map is not needed for most purposes a strong bundle p over the ep groupoid x should be viewed as a strong bundle over the object m polyfold x together with a lift of the mor phisms x y to the linear isomorphisms wx wy satisfying some natural requirements for example 1 x is lifted to the identity and the lift associated to a composition is the composition of the lifts moreover the differential geometric side of things requires that the data produce sc smooth strong bundle maps 8 3 strong bundles over ep groupoids 273 next we introduce the notion of a strong bundle map in the context of ep groupoids again there are two equivalent viewpoints if we start with the original definition of strong bundles over ep groupoids say p and p then a strong bundle map between these two objects can be defined as follows definition 8 5 strong bundle map let p w x and p w x be two strong bundles over ep groupoids a strong bundle map or strong bun dle functor between strong bundles over ep groupoids consists of a strong bundle map w w covering the sc smooth functor x x between ep groupoids having the property that w w for all xxx and w w satisfying s p w while maps w wx to w wt for xxx satisfying x s p w the strong bundle map maps w wx to w w x and has to cover the sc smooth map x x between the object m polyfolds since is a functor it follows that the morphism xxx s t is mapped to the morphism s t in xxx hence the above required relationship between and is well defined there is a more functorial definition if we view p as the functor p ppp w www x xxx and similarly for p namely given as in the previous definition we can define the map www www by w w for w www xxx s pw then www www is a strong bundle map covering the map xxx xxx which is the morphism part of the functor x x between the ep groupoids and satisfying w w w for xxx moreover sw w w swww w recalling that in the functorial picture and are the target maps the two dis played equations show that the following diagrams commute www www s y ys w w www www t y yt w w summarizing we have lifted a strong bundle map w w satisfying the re quirements of definition 8 5 to a functor w www w www the reverse is also 274 8 bundles and covering functors true namely given such a functor covering the functor x x between ep groupoids which is linear on the fibers we obtain using the strong bundle struc tures a strong bundle map w w which has the properties listed in definition 8 5 from the strong bundle map we can recover the functor completely hence we obtain the following equivalent definition definition 8 6 a strong bundle functor p p between the two strong bun dles p w x and p w x over the ep groupoids x and x consists of a functor w w www w w www between ep groupoids which is linear on the fibers and which covers a sc smooth functor x xxx x xxx between the bases moreover the functor induces strong bundle maps w w and www www between the object sets and morphism sets such that the diagram w w p y yp x x commutes in the following we shall either refer to a strong bundle map between strong bun dles over ep groupoids if we appeal to the first definition or we shall refer to a strong bundle functor if we use the second definition in any case these are identi cal notions for most purposes however the first view point is the most convenient one namely if w x and w x are strong bundles over ep groupoids with re spective structure maps and then a strong bundle functor is given by the fol lowing data a sc smooth functor x xxx x x between ep groupoids and a strong bundle map w w covering x x which is compatible with the structure maps in the sense that w w 8 14 for all w w and xxx satisfying s p w having a strong bundle p w x over the ep groupoid x we can introduce the notion of a section functor definition 8 7 let p w x be a strong bundle over the ep groupoid x 1 a sc smooth section functor f is a sc smooth section f x w of the strong bundle p w x over the object m polyfold satisfying the functorial condition f y f x for morphisms x y we denote by p the vector space of sc smooth section functors of p 8 4 proper covering functors 275 2 a sc section functor f is an element in p satisfying f x w 0 1 for all x x and f viewed as a section of w 1 x is sc smooth by p p we denote the vector subspace of sc section functors 3 a sc fredholm section functor f is an element in p such that viewed as a section of the strong bundle w x over the object m polyfold f is a sc fredholm section by fred p we denote the collection of sc fredholm section functors these notions will be studied in more detail later on 8 4 proper covering functors we need later on the notion of a proper covering functor which is inspired by the definition in the lie groupoid case in 48 definition 8 8 a sc smooth functor f y x between ep groupoids is called a proper covering functor if the following holds true 1 the sc smooth map f y x defined between the objects is a surjective local sc diffeomorphism 2 for every object x x the preimage f 1 x y is finite there exists an open neighborhood u x x and there exist mutually disjoint open neighborhoods u y y around every point y f 1 x such that the map f u y u x is a sc diffeomorphism and f 1 u x y f 1 x u y 3 the map yyy xxx s fy 7 f s is a sc diffeomorphism the map yyy xxx s fy 7 f s being a sc diffeomorphism preserves the degeneracy index so that dyyy dxxxs fy f s 276 8 bundles and covering functors for the morphisms yyy by construction the fiber product xxx s fy is a sub m polyfold of the product xxx y the latter has the degeneracy index dxxx y y dxxx dy y since f and s are local sc diffeomorphisms we conclude that dxxx y f s dxxx f dy s dyyy dyyy 2 dyyy combining this with dyyy dxxxs fy f s we conclude that dxxxs fy f s 1 2 dxxx y f s which shows that the fibered product lies in a particular position in the full product next we study the composition of sc smooth proper covering functors proposition 8 2 assume that x y and z are ep groupoids if f y x and h z y are proper covering functors then the composition f h z x is a proper covering functor proof that f h satisfies the properties 1 and 2 follows easily to verify 3 we have to show that lf h z xxx s f hz 7 f h s is a sc diffeomorphism to this aim we introduce the sc smooth map k by k yyy s hz xxx s f hz z 7 f z and consider the sc diffeomorphisms lh z yyy s hz 7 h s lf yyy xxx s fy 7 f s then lf h k lh it suffices to show that k is a sc diffeomorphism since we already know that the same is true fo lh considering the sc smooth map xxx s f hz yyy z z 7 l 1 f h z z we note that l 1 f h z implies f and s h z hence l 1 f h z z yyy s hz and therefore we can define the sc smooth map 8 4 proper covering functors 277 l xxx s f hz yyy s hz by l z l 1 f h z z then k l z k z where f and s h z hence k z z implying k l id moreover l k z l f z z so that l k id we have shown that k is a sc diffeomorphism implying that the map lf h is a sc diffeomorphism the following theorem can be viewed as a generalization of the result about the natural action of the isotropy group theorem 8 5 proper covering i let f y x be a proper covering functor and let x x then for a connected and sufficiently small open neighborhood u x in x admitting the natural gx action given by the data the following holds 0 the subset f 1 u x in y is a disjoint union of connected open neighbor hoods u y for all y f 1 x such that every map f u y u x is a sc diffeomorphism 1 the subset gx u x xxx s t u x uuu x is the union of connected components uuu g with g gx moreover the source and target maps s t uuu g u x are sc diffeomorphisms 2 for every pair y y f 1 x the set uuu y y yyy s u y and t u y is the disjoint union of connected open neighborhoods uuu 0 yyy centered at morphismsm 0 y y for which the following properties 3 5 hold 3 the maps s uuu 0 u y and t uuu 0 u y are sc diffeomorphisms 4 the map fff uuu 0 uuu fff 0 is a sc diffeomorphism 5 the following diagram is a commutative diagram of sc diffeomorphisms uuu 0 fff uuu fff 0 s y t y u s 0 f u t fff 0 remark 8 2 a as f is a functor we conclude for a morphism y y in yyy con necting two objects y y f 1 x that the morphism fff f y f y belongs to the isotropy group gx b in theorem 8 5 everything is determined by the choice of a small connected open neighborhood u x of an object x x which admits the natural gx action as discussed in section 7 1 theorem 7 1 the construction of the data which 278 8 bundles and covering functors determines the gx action is natural the main point in proving the theorem is the interplay between the map f restricted to suitable subsets and its compatibility with the source and target maps due to the functoriality proof theorem 8 5 the set a f 1 x is finite and for a connected open neigh borhood u x the preimage f 1 u x is the disjoint union of connected open neighborhoods u y so that every map f u y u x is a sc diffeomorphism this is an immediate consequence of the definition of a sc smooth proper covering functor we may assume that the set u x admits the natural action of gx other wise we replace u x by a smaller gx invariant and for the sets u y we take its preimages f 1 u x we find around every point y a a connected open neighborhood v y contained in u y and admitting admitting the natural action of gy and for every morphism y y a connected open neighborhood vvv such that the source and target maps s vvv v y and t vvv v y are sc diffeomorphims we define the sc diffeomorphism by t s vvv 1 v y v y 8 15 denoting by aaa the set of all morphisms between objects in a the set vvv xxx s y f 1 x v y t y f 1 x v y is a disjoint union of connected components vvv vvv aaa vvv we take a smaller connected open neighborhood u x u x which is gx invariant and for which f v y 1 u x v y since the sets u y are gy invariant the same is true for the sets u y f v y 1 u x we claim that the map v y v y defined in 8 15 maps bijectively u y onto u y and hence it is a sc diffeomorphism from u y onto u y to see this we take z u y and let z z then z v y and there is a morphism z z hence fff is a morphism between f z and f z since f z u x and f z u x and u x is gx invariant there exists g gy for which fff g f z but u x is a gy invariant subset of u x and hence f z s fff u x so z u y and u y u y similar arguments shows that 1 u y u y hence the map restricted to u y is a sc diffeomorphim onto u y now it is clear that if uuu s vvv 1 u y then the maps s uuu u y and t uuu u y are sc diffeomorphisms moreover if uuu xxx s y f 1 x u y t y f 1 x u y then 8 4 proper covering functors 279 uuu aaa uuu at this point the properties 0 3 are satisfied and it remains to verify the property 4 we take a morphism 0 y y between points y y a then fff 0 g gx since uuu 0 is connected and the set uuu g is a connected component of the set uuu x it follows that fff uuu 0 uuu g using that the maps f u y u x s uuu g u x and s uuu 0 u y are sc diffeomorpism we see that any morphism uuu g is of the form s uuu g 1 f s for a unique morphism uuu 0 both morphisms fff and belong to uuu g and have the same source so that fff s uuu g 1 f s hence fff is a sc diffeomorphism as a composition of sc diffeomorphisms uuu 0 s u s 0 f u x s uuu g 1 uuu g we have verified the property 4 and the property 5 is now obvious the proof of theorem 8 5 is complete let f y x be a proper covering functor fixing x x and a sufficiently small connected open neighborhood u x x and open neighborhoods u y y for y f 1 x such that every map f u y u x is a sc diffeomorphism we obtain on the object level the map f ty f 1 x u y u x assuming that u x admits the natural gx action we take the associated full subcat egories and obtain a local model for the proper covering functor near x and f 1 x the morphism structure incorporates the natural actions of the isotropy groups gy and their relationships next we shall study the structure of this local model using the previous theorem we shall explain the local structure of a proper cov ering functor in more detail we denote by diffsc the category whose objects are m polyfolds and whose morphisms are sc smooth diffeomorphisms between m polyfolds definition 8 9 covering functor geometric lift let d and c be two categories having both finitely many objects and morphisms in addition c has only one ob ject usually denoted by x so that c x and all morphisms of c and d are isomorphisms a covering functor f d c is a functor such that the map ddd cccs f d f s is a bijection 280 8 bundles and covering functors a geometric lift of a covering functor f d c consists of two functors ld d diffsc and lc c diffsc and a natural transformation ld lc f of the two functors ld lc f d diffsc we recall that the map d diffsc associates with every object y d a morphism y ld y lc f y in diffsc satisfying y ld h lc f h y for every morphism h y y in ddd if f d c is a covering functor and ld lc f a geometric lift of f the unique object x c is mapped to the m polyfold lc x denoted by u x lc x for the finitely many objects y d f 1 x we obtain the m polyfolds ld y denoted by u y ld y y d f 1 x associated with every objects y d f 1 x is the morphism y ld y lc f y which in view of f y x is the sc diffeomorphism y u y u x between the two m polyfolds if y y is a morphism in d then the morphism ld ld y ld y in diffsc is the sc diffeomorphism yy ld u y u y the morphism g ccc gx g x x is mapped to the morphism lc g lc x lc x which is the sc diffeomorphism lc g u x u x of the m polyfold u x for two morphisms y y and y y in ddd so that y y we obtain by functoriality the formula yy y y yy which is a composition of sc diffeomorphisms 8 4 proper covering functors 281 in the special case y y the isotropy group gy ddd consists of the finitely many morphisms y y and the gy action on the m polyfold u y is defined by h z ld h z z u y and h gy similarly we denote the action of the isotropy group gx on u x by g z lc g z for z u x and g gx using that is a natural transformation we obtain for h gy the formula y h z y ld h z lc f h y z f h y z for all z u y where y z u x therefore the sc diffeomorphisms y u y u x are equivariant with respect to the map f gy gx proposition 8 3 geometric lift associated with a covering functor f d c and a geometric lift ld lc f of f there exists a natural construction of a proper covering functor f y x between the two ep groupoids y and x proof let x be the unique object of c and gx ccc its isotropy group using the previously introduced notations we take the translation groupoid x gx nu x whose object m polyfold is u x and whose morphism m polyfold is gx u x the source and the target maps s t gx u x u x are defined as s g z z and t g z g z the object set y of the ep groupoid y yyy is defined as the disjoint union y y d u y it possesses a natural m polyfold structure the morphism set yyy is the set yyy y y d d mor y y u y which has also a natural m polyfold structure the source and target maps s t yyy y are defined by s z z and t z yy z for mor y y and z u y the maps s and t are surjective local sc diffeomor phisms the composition of the morphisms z and z in yyy is well defined provided z yy z and is given by 282 8 bundles and covering functors z z z the identity elements have the form 1 y z where z u y so that the unit map u y yyy is the map u z 1 y z where z u y the inversion map yyy yyy is given by z 1 yy z for the m polyfold structure on yyy the inversion map is sc smooth because yy is a sc diffeomorphism one verifies that y y yyy is an ep groupoid i e the com position is sc smooth and the properness property holds the functor f y yyy x xxx is defined on the objects by f u y y for y d which is a sc diffeomorphism u y u x on the morphism set we define fff yyy xxx as follows if z yyy where y y is a morphism satisfying s y and z u y we set fff z f y z xxx since f u y u x is a sc diffeomorphism and f 1 u x y the map f x y is a surjective local sc diffeomorphism between the object sets it follows from the construction that f y yyy x xxx is a sc smooth functor between ep groupoids finally we claim that the map yyy xxx s fy z f f z z 8 16 is a sc diffeomorphism indeed from f f z z f f z z it follows that z z implying f y z f y z and hence y y s s by the definition of a covering functor f d c the map ddd cccs f ddd 7 f s is a bijection therefore we conclude that which shows the injectivity of map 8 16 in order to verify the surjectivity we take an element g q z xxx s fy then f z q and there exists a point y y for which z u y therefore we find a unique ddd satisfying f g and s y and consequently f f z z g q z which shows the surjectiviy of the map 8 16 being a local sc diffeomorphism the map 8 16 is therefore a sc diffeomorphism as claimed the proof that the functor f y x between the ep groupoids is a proper covering functor according to definition 8 8 is complete 8 4 proper covering functors 283 conversely combining theorem 8 5 with proposition 8 3 we shall construct for a proper covering functor f y x between ep groupoids a local model near the object x x and near the preimage f 1 x y which is the geometric lift of the induced covering functor f d c where d is the full subcategory associated with f 1 x and c the full subcategory associated with x moreover f f d theorem 8 6 proper covering ii let f y x be a proper covering functor fixing an object x x we let c be the full subcategory of x having the single object x and the isotropy group gx as the morphism set moreover we let d be the full subcategory having the finite object set f 1 x then the restriction f f d d c is a covering functor given a sufficiently small open neighborhood u x of x in x as described in theorem 8 5 there exists exists a geometric lift a k l of f and there exist fully faithful open embedding functors and where the image of the functor l x is the full subcategory associated with u x and the image of the functor k y is the full subcategory associated with f 1 u x such that the following diagram is commutative k y a y f y l x proof fixing the object x x we obtain the category c consisting of the single ob ject x and the morphism set gx and the full subcategory d d ddd of y associated with the finite set of objects d f 1 x we denote by f d c the restriction of the proper covering functor f to d so that f f d from the covering functor f we deduce that f is a covering functor between finite categories next we employ theorem 8 5 and choose the open neighborhood u x x equipped with its natural action of gx given by so small that the properties 0 5 of theorem 8 5 hold in particular we have open neighborhoods u x x and u y y for y d which are m polyfolds next we define the geometric lift of f d c the functor lc c diffsc is defined by lc x u x and lc g g diffsc u x g gx on the object set d the functor ld d diffsc is defined as ld y u y y d f 1 x recalling the statement 5 of theorem 8 5 we define the functor ld d diffsc on morphisms as follows if y y uuu 0 for the distinguished morphism 0 y y we put ld t s uuu 0 1 diffsc u y u y 284 8 bundles and covering functors the natural transformation ld lc f associates with the object y f 1 x the morphism t ld y lc f y which is the sc diffeomorphism y f u y u y u x one verifies that this defines a geometric lift of the covering functor f d c the associated natural construction of a covering functor is denoted by a k l where l is the translation groupoid l gx nu x and the ep groupoid k kkk is defined by k ty f 1 x u y and kkk t y y d 2 mor y y u y the proper covering functor a k l is defined on the objects by a u y f u y and on the morphisms z mor y y u y by a z f z f z the functor l x is the inclusion on objects and maps the morphism g z gx u x to the morphism g z xxx the functor k y is the inclusion on objects and maps the morphism z mor y y u y where uuu 0 to the morphism s uuu 0 1 z yyy this way we obtain the commutative diagram k y a y f y l x the image of is the full subcategory associated with the object set f 1 u x the image of is the full subcategory associated with u x and the covering functor a is the restriction of f the construction of the covering functor a k l defines up to the fully faithful open embeddings and a local model for the proper covering functor f near x and f 1 x the proof of theorem 8 6 is complete for further considerations concerning the local structure of a proper covering func tor we refer to appendix 8 5 1 for applications we need a version of the previous discussion involving strong bun dles we recall from definition 8 4 that the structure map of a strong bundle over an ep groupoid p w y is a strong bundle map yyy s pw w covering the target map t yyy y the pairs w www yyy s pw are viewed as the morphisms w w w of the object space w then www becomes a strong bundle over yyy via the projection map ppp www yyy w 8 4 proper covering functors 285 the source and the target maps s t www w are defined as s w w and t w w the reader finds more details in section 8 3 about strong bun dles definition 8 10 let w and v be strong bundles over the ep groupoids y and x respectively denoted by p w y and q v x a proper strong bundle covering functor is a strong bundle map a in particular fiberwise linear for which the diagram w a v p y q y y f x is commutative and which has the following additional properties 1 a is surjective and a local strong bundle isomorphism covering a sc smooth proper covering functor f y x 2 the preimage f 1 x of every object x x is finite and there exist open neigh borhoods u x x and u y y for every y f 1 x where the sets u y are mutually disjoint such that the map a w u y v u x is a strong bundle isomorphism for every y f 1 x and f 1 u x y f 1 x u y 3 the map www vvv s aw w f a w w is a strong bundle isomorphism covering the sc diffeomorphism yyy xxx s fy f s here the strong bundle projection vvv s aw xxx s fy is given by v w p w the strong bundle data are some kind of a lift of the data on the level of ep groupoids all structural statements about proper covering functors between ep groupoids lift to the strong bundle situation we give some further discussion in the following appendix 286 8 bundles and covering functors 8 5 appendix 8 5 1 local structure of proper coverings we consider a proper covering functor f y x between ep groupoids as described in definition 8 8 fixing an object x x we denote by x x the full subcategory whose object set consists of the single element x and whose morphisms are the elements of the isotropy group gx by y x we denote the full subcategory whose object set is the finite set f 1 x y and denote the associated set of morphisms by mor f 1 x we obtain the functor f y x x x in view of the property 3 in definition 8 8 of a proper covering functor the map mor f 1 x gx s f f 1 x gx f 1 x 7 f s is a bijection this implies mor f 1 x gx f 1 x we decompose the finite set f 1 x into isomorphism classes f 1 x 1 q where two objects are isomorphic if there exists an isomorphism in mor f 1 x between them clearly for any two elements y y j the isotropy groups gy and gy are isomorphic lemma 8 9 for every j 1 q we have the equality gx j mor f 1 x s t j moreover for every j 1 q and y 0 j mor f 1 x s t j gy 0 j 2 and gx gy 0 j proof the map mor f 1 x s t j gx j f s 8 17 is a bijection by property 3 of a proper covering functor implying the first claim 8 5 appendix 287 we decompose the subset mor f 1 x s t j of morphisms into the disjoint union mor f 1 x s t j t y y j j mor y y since any two points in j are isomorphic each of these sets mor y y is nonempty if we choose y 0 j and fix for every y j a morphism y y 0 y then the map mor y 0 y 0 mor y y 7 y 1 y is a bijection consequently mor f 1 x s t j gy 0 j 2 combining this with the first statement we obtain the final claim of lemma 8 9 let again f y x be the above proper covering functor between ep groupoids and assume that x x x are isomorphic we consider for given y f 1 x all objects y f 1 x for which there exists a morphism y y if y 1 f 1 x is isomorphic to y and y 1 by the morphisms y 1 y and y 1 y 1 we see that y and y 1 are isomorphic if y is reachable by an isomorphism starting in j and y 1 is isomorphic to y then the latter is also reachable by an element starting in j hence we have proved the following lemma lemma 8 10 given a proper covering functor f y x we assume that x and x are isomorphic then there is a one to one correspondence between the isomor phism classes associated to f 1 x and f 1 x respectively if f 1 x tqj 1 j is isomorphisms class decomposition then there is the decomposition f 1 x tqj 1 j having the property that if y f 1 x and y f 1 x are connected by an isomorphism there exists a uniquely determined j such that y j and y j therefore there is a one to one correspondence between the isomorphism classes for which j corresponds to j for j 1 q two points y 0 j and y 0 j are isomorphic and therefore gy 0 gy 0 moreover since x and x are isomorphic gx gx using the third claim of lemma 8 10 we infer that j gx gy 0 gx gy 0 j we sum up the discussion in the following lemma lemma 8 11 given a proper covering functor f y x we assume that x and x are isomorphic then with the decompositions of f 1 x and f 1 x as described in lemma 8 10 we have the equality j j for every j 1 q in particular f 1 x q i 1 j q i 1 j f 1 x 288 8 bundles and covering functors the structure of isomorphism classes of f 1 x stays the same if we perturb x this follows immediately from the definition of a proper covering functor in particular together with lemma 8 11 we obtain the following result proposition 8 4 let f y x be a sc smooth proper covering functor then for every connected component c of the orbit space x there exists a constant kc such that the following holds if z c and x z then f 1 x kc in other words viewing n 1 2 as an ep groupoid with the identities as the morphisms the map x n x 7 f 1 x is a sc smooth functor 8 5 2 the structure of strong bundle coverings recall definition 8 10 and consider the diagram w a v p y q y y f x where the properties of the maps have been specified in the before mentioned def inition a strong bundle p w y over an ep groupoid is by definition given as a strong bundle w y over the object m polyfold together with a map y which associates to a morphism y y a topological linear isomorphism y p 1 y p 1 y a morphism w w is given by a pair w with s p w so that w w y w the same holds for q v x the functor a applied to morphisms has the form a w f as w where ay p 1 y q 1 f y is the topological linear isomorphism induced by a between the fibers of the object spaces by definition a w as w x f as w from which we deduce that 8 5 appendix 289 x f as w x f as w t a w a t w a y w at y w implying the relationship x f as at y for yyy denote by ban the category of banach spaces with the morphisms being linear topo logical isomorphisms we can view y y ban and x x ban as functors then the assignment y mor ban y ay is nothing else but a natural transfor mation y a x f chapter 9 branched ep subgroupoids in this chapter we introduce the notion of a branched ep subgroupoid and study its properties these objects will arise naturally as solution spaces of sc fredholm sections provided there is enough transversality if a branched ep subgroupoid is oriented and has a decent boundary geometry we shall show that we can integrate sc differential forms over them moreover a version of stokes theorem holds the chapter ends with an appendix raising some questions and describing some ideas pointing to possible useful generalizations 9 1 basic definitions recall from chapter 4 that a finite dimensional submanifold m of a m polyfold x is a subset which is locally an sc retract it inherits the structure of a m polyfold and in fact this structure is equivalent to a m polyfold structure since as we have seen m polyfolds essentially are manifolds modulo the fact that the boundary might be not particularly nice we shall call m polyfolds just smooth manifolds see the next 9 1 were we recall some more details using this language we can say that a submanifold m of a m polyfold x inherits a natural smooth manifold structure remark 9 1 if m m the dimension of tmm is locally constant and by definition the local dimension of m a local sc retract inherits from x the structure of a m polyfold as was shown previously if m 0 m with dm m 0 0 then there exists an open neighborhood of m 0 in m which has a natural classical smooth manifold structure near points m 0 with dm m 0 1 we have a natural structural of a smooth manifold with boundary hence a m polyfold is near points with dm x 0 the same as a smooth manifold without boundary and near points with dm x 1 a manifold with boundary we also introduced previously the notion of a tame m polyfold and showed that this object is the same as a smooth manifold with boundary 291 292 9 branched ep subgroupoids with corners in generally the behavior of a m polyfold near boundary points with dm x 2 can be quite complicated the basic definition is that of a branched ep subgroupoid of an ep groupoid and it will be given next definition 9 1 let x be an ep groupoid a branched ep subgroupoid is a func tor x q which has the following properties 1 if x 0 then x is smooth i e the support supp x x x 0 of is contained in x in addition we require that for every x supp the following holds 2 there exists an open neighborhood u x and a finite family of submanifolds mi u x i i with x mi so that the inclusion mi u x is proper 3 there exists for every i i a positive rational number i 0 called weight 4 with the data in ii and iii we have the equality y i i y mi i for y u x we shall refer to mi i i and i i i as a local branching structure we shall call nnn dimensional provided for every point x supp the manifolds of a local branching structure are all n dimensional we say that is locally equidi mensional provided if for every x supp the manifolds in a sufficiently small branching structure have all the same dimension remark 9 2 a we can view as data which distinguishes a full subcategory of x namely the one associated to the objects in supp and in addition associates to the objects x of supp a rational positive weight x b the local branching structures at a point x are in general not unique even close to x for example assume that x r 2 with the morphisms being the identities take two smooth functions i r r i 1 2 having the following properties 1 s 0 for s 0 1 s 0 for s 0 2 s 0 for s 0 and 2 s 0 for s 0 associated to the i we have their graphs g 1 and g 2 and give each of them the weight 1 and define x y i 1 2 x y gi we note that there is another branching structure with 1 s 0 s r and 2 s 0 for s 6 0 describing it is clear from this example that local branching structures can be arbitrarily complicated f e take oscillatory graphs with high numbers of tangencies 9 1 basic definitions 293 a basic observation is given in the following lemma recall that a subset a of a topological space z is locally closed provided every point a a has an open neigh borhood v a in z so that v a a is closed in v a also recall the definition of an open subset u of x having the properness property which will be frequently used see definition 7 17 lemma 9 1 let x q be a branched ep subgroupoid then supp is locally closed in x proof let z supp and pick a representative x x take an open neigh borhood u x with the natural gx action and the properness property which in addition allows for a local branching structure mi i i i i i representing define v z u x as the open neighborhood of z and pick w v z with w cl x supp take a representative y u x of w the submanifolds mi are properly mapped mi u x if there is an open neighborhood u y u x which does not intersect any of the mi it follows since i i mi is gx invariant that u y does not intersect cl x supp hence we find a sequence xk i i mi converg ing to y after perhaps taking a subsequence we may assume xk mi for a suitable i i since mi is properly mapped the preimage of the compact set xk y is compact and xk has a convergent subsequence in mi which implies y mi this completes the proof the following definitions will be useful later on definition 9 2 let x q be a branched ep subgroupoid 1 we call closed provided supp is closed in x 2 we call compact provided supp is a compact subset of x if v x u x x smooth we can replace mi by ni mi v x and obtain an induced representation using the same weights on v x y i i y ni i for y v x note that some or all of the ni might be empty we can always find symmetric rep resentations namely take v x u x so that v x admits the natural gx action without loss of generality assume that for v x the manifolds mi and weights i are given where i i then define a new index set j i gx and mi g g mi with the weights i g defined by i g 1 gx i 294 9 branched ep subgroupoids we obtain a new local branching structure m i g i g j i g i g j indeed we compute using that is a functor i g j y g mi i g 1 gx i g j g 1 y mi i 1 gx g gx i i g 1 y mi i 1 gx g gx g 1 y y the interesting point is that gx acts on j via h j h j and in addition h m j mh j and j h j for h gx and j j hence we have established the following result lemma 9 2 let x q be a branched ep subgroupoid of the ep groupoid x then there exists for every object x x with x 0 an open neighborhood u x admitting the natural gx action submanifolds mi i i properly embedded in u x a gx action on i and rational weights i 0 such that the following holds 1 g mi mg i for all i i 2 i g i for g gx and i i 3 y i i y mi i for y u x we can distinguish different types of branched ep subgroupoids definition 9 3 types of let x be an ep groupoid and x q a branched ep subgroupoid 1 we say is of manifold type provided only takes the values 0 and 1 and between objects x y supp there is at most one morphism 2 we say that is of orbifold type provided only takes the values 0 and 1 the basic result about branched ep subgroupoids of the flavors described above is given in the following proposition proposition 9 1 natural smooth structures let x be an ep groupoid and x q a branched ep subgroupoid consider the orbit space supp x with the induced metrizable topology 9 1 basic definitions 295 1 if is of manifold type then the ep groupoid x induces on the orbit space s supp a natural smooth manifold structure 2 if is of orbifold type then x induces on s supp a natural smooth orbifold structure remark 9 3 here the notion of manifold and orbifold are the m polyfold versions in particular if d x z 0 for a every z supp it holds that s has a natural classical smooth manifold structure in case 1 and a natural classical smooth orbifold structure in case 2 proof denote by z the orbit space supp and equip it with the induced metriz able topology from x for every x with x 0 we find an open neighborhood u x with the natural gx action so that u x has the properness property and prop erly embedded manifolds mi i i with x mi and rational weights i 0 allowing us to write y i i y mi i for y u x also gx acts on i and g mi mg i first we draw a conclusion from the assumption that only takes values in 0 1 assuming that mi 6 m j for some i 6 j we find y such that y mi and y 6 m j which implies 0 y x 1 this is a contradiction since either takes the value 0 or 1 having established that all mi are identical we can replace our local branching structure by a single submanifold denoted by mx properly embedded in u x and the weight 1 this implies the representation y mx y 1 if y mx 0 if y u x mx define the maps x mx z w w for x supp m in order to prove 1 we employ the assumption that between any two points in supp there is at most one isomorphism the first consequence of this assumption is that every x is injective indeed we must have that gx 1 x because otherwise there would be at least two isomorphisms from x to itself assuming x w x w for w w mx there exists g gx with g w w since g 1 xz we deduce that w w assume that x and x have an intersecting image pick w mx and w mx so that x w x w hence there exists a morphism w w in xxx we find open neighborhoods u w u x u w u x and u xxx so that s u u w and t u u w are sc diffeomorphisms which we use to define the sc diffeomorphism f u w u w by 296 9 branched ep subgroupoids f v t s u 1 v if v u w mx it follows that f v mx since both manifolds represent if v u w mx we similarly conclude that f 1 v mx we note that f v 1 x x v which implies that x and x are sc smoothly compatible since the x are defined on smooth manifolds mx we can use them to construct ordinary m polyfold charts for the metrizable space z which then by the previous discussion are smoothly compatible it is evident that the smooth manifold structure on z does not depend on the choices of the specific u x picked for x the easy argument follows the above line and is left to the reader this completes the proof of 1 in order to establish 2 we consider the maps x mx z in this case gx acts on mx fixing x and the maps x are the restrictions of the projections x u x x which induce homeomorphisms gx u x u x i e x x mx hence x mx z are continuous maps inducing homeomorphism when we pass to the gx quotient given x x supp define mmm x x by mmm x x xxx s mx t mx this is submanifold of xxx and has therefore an induced smooth manifold structure for which s mmm x x mx and t mmm x x mx are local classical diffeomor phisms denote by m the disjoint union of the mx we can view this manifold as the object space of a small category where the morphism set is the disjoint union of all mmm x x this category denoted by m turns out to be an e tale proper lie groupoid see 56 note that our notion of smooth manifold is more general since we use m polyfolds see remark 9 1 we have a natural functor m z y x y y mx 1 s mmm x x where z is viewed as a category with only the identities as morphisms by con struction passing to the orbit space m we obtain the homeomorphism m z z hence it equips z with an orbifold structure again different choices for x supp would lead to a different e tale proper lie groupoid m in our m context and m z however this data defines an equivalent orbifold struc ture the metrizable space z equipped with such an equivalence class of orbifold structures is called an orbifold the equivalence classes appear since in the con struction choices have to be made of course the nature of such an equivalence class has to be investigated we leave this to the reader there are no surprises and a reader knowledgeable with the notion of morita equivalence of e tale proper lie groupoids will be able to carry this out for details in the lie groupoid case see 56 or 2 and for the polyfold version for topological spaces see the constructions in section 10 and part iv the relevant fibered product constructions are similar to those described in the next chapter 10 9 2 the tangent and boundary of 297 next we show that a branched ep subgroupoid x q has a natural dimen sional decomposition proposition 9 2 let x be an ep groupoid and x q a branched ep subgroupoid then there is a uniquely determined sequence 0 1 of branched ep subgroupoids k x q k 0 1 uniquely characterized by the following two properties 1 k is k dimensional 2 0 1 we also note that the sum in 2 is locally finite proof if x does not belong to the support of we define k x 0 for every k 0 1 2 if x x is a point in supp we take on a suitable open neighbor hood u x invariant under the gx action and having a symmetric local branching structure mi i i i i i we can decompose i i 0 in where mi for i ik is k dimensional since i is finite we see that ik 0 for k large enough since the action of gx preserves dimension the sets ik are gx invariant associated to mi i ik and i i ik we can define k on u x in the obvious way by k y i ik y mi i we can do this for every x supp and the local definitions are compatible since morphisms preserve dimension by construction the sum is locally finite the uniqueness of the decomposition is obvious 9 2 the tangent and boundary of in the preparation for defining orientations for branched ep subgroupoids we need to introduce the notion of the tangent of supp as a by product we shall also see that associated to there is a branched ep subgroupoid t t x q where not surprisingly the local branching structure on tu x is given by t mi i i i i i if mi i i i i i is the one for over u x let x be a smooth object in the ep groupoid x we consider finite formal sums i i i li where i is a finite set the i are positive rational numbers and the li are smooth finite dimensional linear subspaces of txx with other words we take first the free vector space over q generated by all finite dimensional smooth linear subspaces and then take elements in the cone defined by sums with non negative 298 9 branched ep subgroupoids coefficients in particular the trivial subspace denoted by o is one of the generators so that for example 1 o 3 l is an admissible formal sum we identify i li j l j i j l provided li l j l this allows us to write any such sum as l l where only a finite number of l are non zero and positive rational sometimes we abbreviate l l l we denote the set of all such formal sums by gr x and define gr x as the union gr x x x gr x there is a natural projection map gr x x we shall consider the points in the set gr x as the objects of a category the morphisms for this category are the pairs l with xxx and l gr s the source and target maps are given by s l l and t l l l t l where we recall that for smooth we have the well defined sc isomorphism t ts x tt x the composition of morphisms l and k with s l t k is defined by l k k the identity elements have the form l 1 l and the projection gr x x extended to morphisms by l becomes a functor theorem 9 1 let x be an ep groupoid and x q a branched ep subgroup oid associated to there is a natural section functor t x gr x i e t idx which is characterized by the following properties 1 if x supp it holds t x i i i txmi where mi and i is any local branching structure for at x if x 6 supp it holds that t x is the zero sum 2 for a morphism it holds that t t s t t is given by t t s 9 2 the tangent and boundary of 299 the proof is given later after lemma 9 5 the difficult part is 1 where one needs to show that the definition does not depend on the local branching structure it suffices to prove the proposition in the equidimensional case and to define t k 0 t k the proof needs a considerable amount of preparation and we follow the presenta tion in 39 definition 9 4 let x q be a branched equidimensional ep subgroupoid and mi i i i i i be a local branching structure on u u x where x supp define mu i i mi a point y mu is called a good point with the respect to the given branching structure provided there exists an open neighborhood v y u x such that v y mi v y m j for all i j iy k i y mk the notion of being a good point turns out to be independent of the local branching structure and an intrinsic notion for as shown in the next result lemma 9 3 39 lemma 2 2 assume that x q is a branched equidimen sional ep subgroupoid for x supp consider on the open neighborhood u x two local branching structures resulting in mu and nu which have to be equal if y mu nu is a good point for the first local branching structure the same holds with respect to the second local branching structure proof abbreviate a mu nu and assume that y a is good for the first local branching structure we find an open neighborhood v y u x so that mi v y mi v y for i i iy i i y mi 9 1 we note that i 0 6 iy implies y 6 clx mi 0 indeed that mi 0 u x is properly em bedded would imply that y mi 0 and therefore i 0 iy hence we can pick v y so small that in addition to 9 1 also the following holds mi v y 0 for i i iy 9 2 using the representation for we see that for z v y a y z for the second branching structure n j j j j j j we find an open neighborhood w y u x such that jz jy for z w y a which again is a consequence of the properness this implies z j jz j j jy j y for z w y a 300 9 branched ep subgroupoids on v y w y a we must therefore have the equality jz jy because other wise the left hand side in the last expression would be strictly smaller giving a contradiction hence we have proved that with q z v y w y it holds that n j q z nj q z for all j j jy this shows that y is a good point for the second branching structure remark 9 4 a in view of lemma 9 3 being a good point for is an intrinsic notion b at a good point y we can take a suitable open neighborhood v y and a sub manifold m properly contained in v y so that z m z for z v y where 0 is a rational weight and m y 1 if y m and 0 otherwise c since we can transport local branching structures around by morphisms we ob tain the following result lemma 9 4 let x q be a branched equidimensional ep subgroupoid assume that xxx so that s supp and then also t supp then s is a good point if and only if t is a good point following 39 we introduce the sets of good and bad points for definition 9 5 let x q be a branched equidimensional ep subgroupoid the set of good points is denoted by sg and consists of all points in supp which are good for in the sense of definition 9 4 the set of bad points is defined by sb supp sg in view of remark 9 4 c following lemma 9 3 the notion of being a good point or bad point descends to orbit spaces with sg and sb being the induced subsets in x it holds that 1 sg sg and 1 sb sb where x x is the obvious map lemma 9 5 let x q be a branched equidimensional ep subgroupoid and sg and sb the set of good and bad points respectively 1 the set sg is open and dense and sb is closed and nowhere dense in supp 2 assume a bad point x supp and a local branching structure on u x say mi i i and i i i on u x representing on u x are given then for every i i there exists a sequence of good points xk contained in mi and converging to x proof 1 the set sg is open by definition hence its complement sb is closed and we show that it is nowhere dense at this point the proof of 2 will imply the validity of 1 9 2 the tangent and boundary of 301 2 fix a metric d on object m polyfold x compatibility with morphisms is not required by taking a possibly smaller u x we may assume that mi mi in u x provided it holds near x by redefining the weights and the index set we may assume without loss of generality that mi mi if and only if i i since x is bad we must have at least two indices take a monotonically decreasing sequence k of positive real numbers converging to 0 define dk x y u x d x y k if 1 is small enough we may assume without loss of generality that every dk x is a closed subset of x for large k the subsets mi dk x are compact to see this recall that there exists an sc retraction r w x w x for a suitable open neighborhood w x of x x so that r w x w x mi if we take a sufficiently small closed ball which is contained in w x its image under r will be compact using the compactness property of the inclusions of the banach spaces in the scale and the fact that r is sc smooth in view of this we may assume by taking perhaps 1 0 smaller that mi dk x is a compact metric space for all k 1 the same holds without loss of generality for ak i i mi dk x dk x after fixing i 0 i and k consider for i i i 0 the closed subset of mi 0 dk x defined by i k mi mi 0 dk x the complement mi 0 dk x i i i 0 i k it is an open subset of mi 0 dk x which of course might be empty if it is nonempty we we can pick a point xk in this set having the additional property that d xk x k which then necessarily is a good point if the set is empty we have the identity mi 0 dk x i i i 0 i k this means that at least one of the ik has non empty interior say i 1 k pick a point x k in the interior of the latter if x k lies for some i 6 i 1 in i k but not in its interior we can move it slightly so that its does not belong to the set ik but by staying still in the first set i 1 k continuing this way we find a xk mi 0 with d x xk k so that for a nonempty ik we either do not belong to this set or we belong to the interior clearly xk is a good point by construction we have now a sequence of good points xk mi 0 which converges to x this completes the proof of the lemma now we are in the position to show that the functor t is well defined proof theorem 9 1 let x supp if x is a good point the functor can be represented near x by a single near x uniquely determined submanifold mx con tained properly in an open neighborhood u x and the rational weight x x 302 9 branched ep subgroupoids since is constant on mx we have the identity y x mx y for y u x hence t y y tymx for y u x this shows that t is well defined at good points next we assume that x supp is a bad point we take a branching structure on a suitable u x representing which we denote by mi i i i i i since is equidimensional all occurring manifolds have the same dimension say n we define an equivalence relation on i by saying that i i provided txmi txmi an equivalence class is denoted by i the next part of the construction is a finite induction which terminates once we run out of indices we formulate the needed assertion in the following proposition which is proved utilizing several lemmata proposition 9 3 under the previously stated assumptions starting with an equivalence class of indices in i there exists a finite sequence of indices i 1 ip i such i 1 ip with the following properties 1 for every e 1 p there exists a nonempty subset ie of containing ie these subsets are mutually disjoint and i 1 t t ip 2 for every e 1 p there exists a sequence of good points xek u x con verging to x such that xek mi if and only if i i e proof the consideration being local we may assume that we are given a partial quadrant c in the sc banach space e and m polyfolds mi i i of dimension n containing the point x 0 the set i is the disjoint union of equivalence classes and we fix one say if n 0 the point 0 is isolated and therefore a good point hence we may assume that n 1 writing i 1 define l 1 t 0 mi 1 and consider l 1 c lemma 9 6 under the previously stated assumptions it holds intl 1 l 1 c 6 0 proof take mi for i and with the considerations being local we may assume there exist a relatively open neighborhood u c of 0 c and a sc retraction r u u with r u u mi mi and r 0 0 we consider for every h c with h e 1 the c 1 path 0 c r h from this we conclude differentiating at 0 the fact that dr 0 h c since dr 0 has a continuous extension to e 0 we conclude that dr 0 c c 9 2 the tangent and boundary of 303 the operator dr 0 e 0 l 1 is surjective and therefore open pick a nonzero vector h 0 in c with dr 0 h 0 h 0 we find a close by vector h 1 which lies in the interior of c such that dr 0 h 1 6 0 hence we find a sufficiently small 0 such that be 0 h 1 c and dr 0 b e 0 h 1 c l 1 consists of nonzero vectors and is an open neighborhood of h 1 in c l 1 this completes the proof of the lemma abbreviate l l 1 and pick h 0 intl l c with h 0 e 0 1 define for 0 s h 0 h 0 h l h e 0 1 h h 0 e 0 which lies for sufficiently small 0 in intl l c we call s h 0 the open cone around h 0 in l moreover in this case the associated closed cone s h 0 cll s h 0 belongs to l c and is given by s h 0 cll s h 0 h 0 h l h e 0 1 h h 0 e 0 lemma 9 7 under the previously stated assumptions let h 0 intl l c with h e 0 1 there exists 0 and an sc complement z of l in e such that suitable subsets of mi with i i 1 can be written as a bi a a 0 a cll s h 0 where i i 1 bi 0 0 dbi 0 0 and bi a z proof pick an sc complement z of l so that e l z and denote by p e e the associated sc projection onto l we compute for a l c with r ri the sc retraction associated to mi near 0 r a 1 0 dr s a ds a 9 3 dr 0 a 1 0 dr s a dr 0 ds a a 1 0 dr s a dr 0 ds a a a a a a pa a a i p a a a we observe that by construction a 0 0 the map a a pa a a is defined on a suitable open neighborhood v 0 of 0 in c l hence we introduce the map v 0 l a a pa a a we need the following fact about 304 9 branched ep subgroupoids lemma 9 8 under the previously stated assumptions there exists a sufficiently small 0 and 0 so that cll s h 0 c l a l c a e 0 v 0 and in addition the map a s h 0 a e 0 c l is injective has invertible derivatives and its image contains the set b cll s 2 h 0 b e 0 2 the inverse of restricted to the set b cll s 2 h 0 b e 0 2 defines a smooth map with 0 0 and d 0 idl proof given h 0 intl l c with h 0 e 0 1 there exists 0 so that every h l with h e 0 1 and h h 0 e 0 satisfies h c l as a consequence if h l and h h e 0 h 0 e 0 h e 0 then h c l now consider for a l c close enough to 0 a a pa a a a a a we have that a 0 0 and da 0 0 given 0 1 we therefore find 0 so that for a l c with a e 0 the following estimates hold da a l e 0 9 4 a a e 0 a e 0 a e 0 1 a e 0 hence we estimate for a l c with a e 0 and addition belonging to s h 0 a a e 0 h 0 e 0 a a a a a a e 0 h 0 e 0 a a e 0 h 0 e 0 2 a a e 0 a a e 0 h 0 e 0 2 a e 0 2 a e 0 2 1 1 a e 0 hence if we take 0 1 and 0 small enough we conclude for a s h 0 with a e 0 that a cll s h 0 l c next we show that for sufficiently small 0 so that in particular the previous discussion holds the image of when restricted to points in s h 0 with a e 0 contains the points in s 2 h 0 with a e 0 2 if 0 is small enough we may assume that 9 4 holds pick b s 2 h 0 with b e 0 2 and consider the fixed point problem 9 2 the tangent and boundary of 305 a b a a t a where we look for a solution in s h 0 with a e 0 the solution a a b is found by an iteration scheme starting with b and applying successively t to obtain the sequence ak t k b we have to show that b s 2 h 0 with b e 0 2 im plies that a limt k b exists and satisfies a s h 0 with a e 0 we estimate ak ak e 0 9 5 k e 1 k ae ae 1 e 0 k 1 e k e a b e 0 k 1 1 b e 0 we use this estimate in two ways first of all we deduce that a b e 0 1 1 b e 0 9 6 hence writing a b o a a e 0 h 0 e 0 9 7 b o b e 0 h 0 b e 0 a e 0 h 0 e 0 b b e 0 h 0 e 0 o e 0 b e 0 a e 0 b b e 0 h 0 e 0 2 o e 0 2 b e 0 2 1 1 b e 0 if we take small enough we can achieve that 2 2 1 1 from 9 6 we deduce using b e 0 2 if is small enough and consequently as small as we wish a e 0 b e 0 a b e 0 2 1 1 2 from the previous discussion we conclude that for small enough and b s 2 h 0 with b e 0 2 the sequence ak t k b is a cauchy sequence which stays in s h 0 and has norm at most define a b limt k b and observe a b b a ab it is clear that b enters the discussion as a continuous parameter so that the map b a b is continuous we leave it to the reader to show that the map b s 2 h 0 b e 0 2 a s h 0 a e 0 b a b is classically smooth using 9 3 and lemma 9 8 we can write on the subset of cll s 2 h 0 consisting of points with b e 0 2 306 9 branched ep subgroupoids r b b i p a b b b b b as claimed in the lemma 9 7 next we can pick a sequence x 1 k 0 of good points lying on mi 1 in the 2 sector and we may assume that the associated set of indices i 1 k consisting of those indices in i 1 to which x 1 k belongs is constant we shall denote it by i 1 clearly i 1 i 1 we can write x 1 k 1 k bi 1 1 k if i i 1 i 1 we must have that bi 1 k 6 bi 1 1 k by perturbing 1 k slightly and perhaps after taking a subsequence we my assume that x 2 k 2 k bi 2 k are good points they do not lie in m j for j i 1 and consequently i 2 is disjoint if i i 1 i 1 t i 2 we perturb 2 k slightly so that x 3 k 3 k bi 3 k are good points if the perturbation is small these do not lie in mi for i i 1 t i 2 and we may assume after taking a subsequence that i 3 k is constant i e i 3 proceeding this way the induction will terminate and we are done proving the proposition 9 3 consider the formal sum p e 1 xek txek mie this sum is independent of the local branching structure since it only involves good points the coefficients are constant and the tangent spaces converge as k hence we can talk about convergence of this formal sum given a specific local branching structure as k it converges to p e 1 i ie i txmie which equals the sum i i 1 i txmi for any local branching structure describing near x the same result holds this holds for every equivalence class i which implies the main result since the sum over these equals i i i txmi this completes the proof of theorem 9 3 at this point we can define the tangent of a x q definition 9 6 let x be an ep groupoid and x q a branched ep subgroup oid then there exists a well defined branched ep subgroupoid t t x q defined as follows we put t h 0 for h txx with x 0 if x 0 we take a local branching structure on u x say mi i i and i i i and define on tu x the functor t by t h i i h t mi i 9 2 the tangent and boundary of 307 we call t the tangent of by the previous discussion this definition is independent of the local branching structure moreover we note that the local definitions fit together since we can transport local branching structures around using the local sc diffeomorphims asso ciated to the morphisms it suffices to show that for two local branching structures on u x with x supp the local definitions define the same object i e i i h t mi i j j h t n j j for h tu x by the previous discussion it holds that t y i i y m j i tymi is well defined and independent of the local branching structure taken hence for y u x the number i i h tymi i is intrinsic and independent of the local branching structure we picked this shows that t is well defined assume that x q is a branched ep subgroupoid there is a natural con struction for a functor x q called the boundary of the support of is contained in x in general this functor has not a particularly good structure due to the fact that x might not have a good structure we shall later on describe situations in which x x for all x x and 0 otherwise one should note however that this is not always the case we start with a lemma discussing the position of a submanifold intersecting x recall for a m polyfold as well as a m polyfold the degeneracy index dx which has been introduced in definition 2 13 we shall also utilize the notion of the reduced tangent space t rx x as well as that of the cone cxx or depending on the situation the partial quadrant cxx at a smooth point x lemma 9 9 characterization of dm x 0 let m x be a finite dimensional submanifold of a m polyfold x the following two statements are equivalent 1 x m x with dm x 0 2 txm t rx x remark 9 5 under the assumption of the lemma m is a subset of x which is locally an sc retract if x m x it is possible that x 6 m according to the lemma this precisely is the case when txm t rx x reformulating the statement x m if and only if x x and txm is not contained in the partial cone cxx proof the problem is entirely local hence we may assume x o where o c e is a local model and x 0 we may further assume that we are given an open neigh borhood u of 0 in c containing o and an sc smooth retraction r u u with r u o and an sc retraction s u u with s u m 308 9 branched ep subgroupoids assume first that 1 holds since dm 0 0 there exist an open neighborhood w m of 0 and an sc diffeomorphism rn 0 w 0 mapping 0 to 0 here n dim t 0 m for every h rn it holds that h h 0 c and consequently using the differentiability at 0 we deduce that t 0 h c implying that t 0 m t 0 o c t r 0 o this shows that 2 holds next assume 2 without loss of generality c 0 k w where k do 0 and e rk w in particular w is an sc banach space by assumption t 0 m 0 w for 0 h t 0 m small enough we have that 0 h u and therefore s 0 h m c we compute similarly as before when we studied submanifolds that s 0 h 0 h a 0 h with a 0 0 0 0 and da 0 0 0 where a is an sc smooth map into e defined on an open neighborhood q of 0 in the smooth t 0 m take an sc complement y of t 0 m so that e t 0 m y and denote by p e t 0 m the associated sc projection we define q t 0 m 0 h 0 h pa 0 h note that d 0 0 id and the map is classically smooth so that by the implicit function theorem 1 is defined and classically smooth hence s 1 0 h 0 h id p a 1 y 0 h b 0 h where b 0 0 0 db 0 0 0 and b 0 h y by construction s 1 0 h c define s 0 h s 1 0 h for 0 h t 0 m with 0 h e 0 small since t s 0 0 id t 0 m t 0 m t r 0 o t 0 o we can define for small y y the map 0 h y s 0 h y which is a local sc diffeomorphism from an open neighborhood of 0 0 in t 0 m y to an open neighborhood of 0 in e denote the inverse by f and note that the composition s p f is an sc smooth map defined on an open neighborhood of 0 in e and has image m near 0 moreover if defined on a suitable open neighborhood around 0 it is a retraction hence we see that m near 0 can be realized as an sc retraction in e with c e this implies that dm 0 0 now we can state the crucial result needed to define proposition 9 4 well definedness of let x q be a branched ep subgroupoid and let x supp x suppose mi i i i i i and n j j j j j j are two local branching structures on a suitable open neighborhood u x which represent on u x 1 then for every y u x the equality 9 2 the tangent and boundary of 309 i i y mi i j j y n j j 9 8 holds 2 the sums in 9 8 vanish if y u x satisfies dx y 0 3 there is a well defined functor x q with supp x so that for x supp it holds y i i y mi dmi y 1 i y u x here we take any local branching structure for on some u x proof 1 let mi i i i i i be a local branching structure on u x and consider the sum i i y mi i we also consider t y i i y mi i tymi the latter we know is independent of the local branching structure we can rewrite this as t y i i y mi i tymi i i y mi dmi y 1 i tymi i i y mi dmi y 0 i tymi in view of lemma 9 9 and the remark thereafter this is a natural decomposition independent of the local branching structure and from this the desired result 1 is easily obtained 2 let mi i i i i i be a local branching structure on u x assume that dx x 0 then if u x is small enough all the dmi vanish identically implying that i i y mi i 0 hence for y u x i i y mi dmi y 1 i tymi 0 3 follows immediately from 1 and 2 in view of proposition 9 9 the boundary of can be defined definition 9 7 let x be an ep groupoid and x q a branched ep groupoid the functor uniquely characterized by the following properties 1 supp x 2 for x supp it holds for any local branching structure on a suitable u x y i i y mi dmi y 1 i y u x 310 9 branched ep subgroupoids is called the boundary of remark 9 6 the functor in general does not have particularly nice properties in section 9 5 definition 9 10 we shall introduce the notion of a tame branched ep subgroupoid as we shall show their boundaries are nice enough for an integration and orientation theory 9 3 orientations there is also an oriented version of the gr x construction in the previous section which we shall describe in the following remark 9 7 in 39 we used a particular definition of orientability of an ep subgroupoid which is too special to be applicable to all occurring types of sc fredholm problems in 39 we erroneously claimed that it does see the erratum 40 for more details however the techniques from 39 apply immediately to the general approach which is described below an oriented finite dimensional linear vector space l denoted by l is a pair l o where o is an orientation of maxl i e a choice of connected component in maxl 0 in the case l is the trivial space consisting only of the 0 vector by definition maxl r if one of the components is denoted by o we shall write for the other one o for smooth x denote by g r x the set of formal sums l l l where almost all l vanish and the l are smooth oriented finite dimensional linear subspaces of txx we define the set g r x x x g r x which again comes with a natural map into x denoted by g r x x we can turn g r x into a category by viewing the elements l as objects and defining the pairs l with s l as morphisms again s l l and t l l ol t l t ol there is a fiberwise 2 1 forgetful functor fitting into the commutative diagram 9 3 orientations 311 g r x f gr x y y x x note that l o l o l o l o is mapped to l o l o l if l l gr x l o l o l o l o we denote f l by l we observe that l l gr x l o l o l definition 9 8 an orientation for the branched ep subgroupoid x q is a choice of section functor t x g r x which lifts t x gr x i e t f t with the property that for every x with x 0 there exists a local representation with oriented mi oi so that t y i i i ty mi oi 9 9 we shall call t an oriented lift of t we say is orientable provided t admits an oriented lift remark 9 8 the local representation 9 9 associated to a local branching structure precisely means the local continuity of the lift x t x on supp the reader should also observe that if orientable might allow more than two possible orien tations due to its fractional nature we shall derive next some properties of an orientation t of assume that we have fixed for every x supp an oriented local branching structure mxi o x i i ix with weights xi i ix so that t y i ix x i ty m x i o x i for y u x in addition we have that t y i ix x i tymi the interesting case is that some l txmi occurs with the two different possible orientations i e there are two dif ferent indices i j ix with txmi txm j but oxi o x j hence t x has a term l which comes from xi l o x i x j l o x j with x i x j lemma 9 10 assume that x is an ep groupoid and x q a branched ep subgroupoid then two orientations t j j 1 2 of which agree at good points are the same 312 9 branched ep subgroupoids proof the branched ep subgroupoid defines t and we assume that we are given oriented lifts t j j 1 2 satisfying 9 9 which agree over the good points let x supp be a bad point and assume we have the oriented representations t 1 y i ix i ty mi oi and t 2 y j jx j ty n j p j for y u x we begin by studying the first orientation and associated branching structure define an equivalence relation on ix by saying that mi oi and mi oi are equivalent provided txmi txmi note that at this point we ignore the orienta tions denote the equivalence classes by i 1 i employing proposition 9 3 recall that for every such equivalence class ih there exist sequences xqk of good points converging to x and a partition ih i 1 t t ie such that xqk mi if and only if i i q consider the formal sum e q 1 t 1 xqk where a term t 1 xqk has the form t 1 xqk i iq i txqk mi oi we can define an equivalence relation on iq by saying that i i provided tx mi oi tx mi oi denote the two equivalence classes by iq so that i 1 iq t i q if k is large enough txqk mi oi txqk mi oi if and only if i i both lie in the same equivalence class now we consider for all large k the decomposition t 1 xqk i iq i txqk mi oi i iq i txqk mi oi the expression on the right would be the same for the second branching structure since the xqk are good points and the assumption t 1 xqk t 2 xqk as k the right hand side converges to i iq i tx mi oi i iq i tx mi oi 9 10 which is the part of t 1 x associated to the tangent spaces txmi i ih which are all equal but in general have different orientations if we apply the previous discussion to the second orientation we obtain the expression 9 3 orientations 313 j jq j tx n j p j j jq j tx n j p j which must equal 9 10 this sum is over indices j so that txn j txmi with i ih or j in the corresponding equivalence class jh the sum of these expressions define t 1 x as well as t 2 x and since the ingredi ents are equal they coincide example 9 1 we introduce four different smooth maps r r the map satisfies s 0 for s 6 0 0 0 and has vanishing derivatives of all order at 0 put define by being equal to for s 0 and equal to for s 0 similarly we define associated to these maps we have their graphs denoted by g g g and g observe that i x y gi j x y g j for all x y r 2 this defines r 2 q orient g and g in such way that it is given at 0 0 by the class of 1 0 and orient g and g so that the orientation at 0 0 is given by the class of 1 0 then g and g define a first orientation and g and g a second one they coincide at 0 0 but are otherwise different in this case we have in fact four different possibilities to orient we also learn from this example that given an oriented and two local branching structures at x supp for which the first is oriented and the second is orientable the second cannot to be re oriented to coincide with the orientation of the first one next we would like to consider the boundary of an oriented and define an induced orientation given x supp we find an open neighborhood u x on which we have a local branching structure mi i i i i i such that y i i y mi i assuming that is oriented we can pick an oriented branching structure such that t y i i y mi i ty mi oi assuming that x q is tame the mi oi have the property that mi is tame i e in particular has the structure of a classical smooth manifold with boundary with corners in this case for every i i the set of points with dmi y 1 is open and dense in mi we shall define an induced boundary orientation for in the following first we state the usual orientation convention definition 9 9 let m o be an oriented smooth n dimensional m polyfold with m 6 0 at a point y m with dm y 1 an orientation o m y of ty m is defined 314 9 branched ep subgroupoids by a basis a 1 an 1 of ty m such that a 1 an 1 e where e tym is inward pointing defines oy on tym the map o m which assigns to a point y m with dm y 1 the orientation o m y is called the orientation of m let x be an ep groupoid and x q be a branched ep subgroupoid definition 9 10 we say that x q is tame provided for every x supp there exists an open neighborhood u x admitting the natural gx action and having the properness property and allowing for a local branching structure mi i i i i i representing on u x where every m polyfold mi has an equivalent tame struc ture in particular every mi has an equivalent structure of a smooth manifold with boundary with corners given the oriented tame branched ep subgroupoid x q we find for every x supp an open neighborhood u x and an associated oriented tame branching structure mi oi i i i i i such that for y u x y i i y mi i t y i i x mi i ty mi oi for x q we define an orientation by t y 0 for y x supp 9 11 t y i i y mi dmi y 1 i ty mi o mi for y u x x definition 9 11 boundary orientation for the oriented tame branched ep subgroupoid x q the map t x g r x defined in 9 11 is called the orientation for induced from the orientation t of in order to simplify notation we shall abbreviate t and t as we shall see later on the following holds for a compact oriented tame branched n dimensional ep subgroupoid and a degree n 1 sc differential form for an appropriately defined branched integration d this is the version of stokes theorem for branched integration and details are carried out in section 9 5 9 4 geometry of local branching structures 315 remark 9 9 it would be interesting to carry out the orientation discussion for branched ep groupoids which are not necessarily tame in order to see the gen erality under which stokes theorem holds the basic step would be to understand the boundary behavior of a m polyfold we refer the reader to appendix 9 6 for a discussion of the issues involved 9 4 geometry of local branching structures for the integration theory we need to understand the geometry of a local branch ing structure in more detail of particular importance is the understanding of the branching sets for this we need later on the following definitions definition 9 12 39 let m be a smooth n dimensional manifold with boundary and corners and k m 1 associated to z k there is a distinguished linear subspace t kz m tzm defined by the following property given a chart v z z 0 k rn k 0 where k dm z the linear subspace t z t kz m of r n is the linear hull of all unit vectors in rn which can be obtained by taking a sequence zk k z with a limk zk z b limk zk zk e the definition is independent of the choice of 2 we say a point z k is essential provided there exists a sequence zk k such that a limk zk z b t kzk m tzk m if ke denotes the essential points in k then the points in kne k ke are called non essential points note that the statement that z k is essential is a statement about z with respect to k as a subset of m we need the knowledge of m near z to define the allowable the following result is obvious from the definition lemma 9 11 let m be a finite dimensional manifold with boundary with corners and k a subset then ke is closed in k and consequently k ke is open in k for the following we fix a local oriented branching structure mi oi i i i i i on an open neighborhood u x we impose the technical condition 316 9 branched ep subgroupoids t if for i i i and some y 0 u x it holds y 0 mi mi and ty 0 mi ty 0 mi and oi y 0 oi y 0 for some 1 1 then ty mi oi ty mi oi for all y mi mi with tymi tymi property t can be achieved by restricting a given oriented branching structure on u x to a smaller open neighborhood u x as is shown in the following lemma lemma 9 12 let mi oi i i i i i be an oriented branching structure on an open neighborhood u x around the smooth point x then there exists u x u x so that the restricted branching structure satisfies the technical condition t proof the consideration is local without loss of generality we may assume that we are given an open rel c neighborhood u of 0 c e subsets mi which are sc retracts oriented and contain 0 we assume that the mi are properly embedded into u there also exists an sc smooth retract o containing 0 so that the mi lie in o but this is not relevant for the argument each of the mi is near 0 the image of an sc smooth retraction ri we consider the maps z tri ri z e tri z mi for z c close to 0 we can identify the smooth finite dimensional spaces tri z mi naturally with linear subspaces of e assume that our assertion is wrong then we find sequences yk zk of smooth points converging to zero indices i 1 k 6 i 2 k and k 1 1 such that yk mi 1 k mi 2 k tyk mi 1 k tyk mi 2 k oi 1 k yk k oi 2 k yk 9 12 and zk mi 1 k mi 2 k tzk mi 1 k tzk mi 2 k oi 1 k zk k oi 2 k zk 9 13 after perhaps taking suitable subsequences we may assume that i 1 k i 1 and i 2 k i 2 are constant and i 1 6 i 2 and moreover k is constant the points yk and zk are smooth and the tangent spaces tyk mi 1 converge to t 0 mi 1 and similarly tzk mi 2 t 0 mi 2 we also note that t 0 mi 1 t 0 mi 2 from 9 12 we conclude oi 1 0 oi 2 0 and from 9 13 that oi 1 0 oi 2 0 which gives a contradiction we associate to i i i the closed subset of mi and mi defined by k i i mi mi we can view k i i as a subset of mi as well as a subset of mi hence a priori we can talk about points z k i i which are essential with respect to k i i as a subset of mi or as a subset of mi the detailed proof of the following statement which shows that these two a priori notions of being essential coincide is left to the reader 9 4 geometry of local branching structures 317 lemma 9 13 if z k i i is essential for k i i mi then it is also essential for k i i mi hence the subsets k i i e and k i i ne are well defined independent of the chosen reference mi or mi proof given z k m x the first observation is the following take a m polyfold chart u z z o 0 and note that t kz m corresponds under t z to the linear subspace of t 0 o defined as follows let n m u z o and d k u z then define t d 0 n to be the span of all vectors in t 0 o such that there exists a sequence zk d 0 with e limk zk zk 0 as already said t z t kz m t d 0 n from this description the proof of the lemma can be reduced to the study of 0 mi mi o and d mi mi and the alternative description immediately implies that t kz mi t k z mi in view of the lemma the subsets k i i e and k i i ne of mi and mi are well defined independent of which reference we take the manifolds mi and mi come with orientations oi and oi if z k i i e and tzmi and tzmi have the same orientation it holds in view of t for all points in k i i e and similarly if the orientations differ in view of this observation we can associate to i i a map k i i e 1 1 if k i i e 0 it is the obvious map and if the set is nonempty it is the constant map relating the orientations definition 9 13 we shall say that a set k mi has measure zero provided for every smooth chart mi u 0 k rn k the set u k has lebesgue measure zero a basic fact is given by the following lemma which is proved similarly as lemma 2 8 in 39 lemma 9 14 the sets k i i ne have measure zero proof we pick a point x k i j ne and choose a chart v x mi o 0 0 d rn d satisfying x 0 we abbreviate the image set in rn by k k i j ne v x it suffices to show that 0 is a point of lebesgue density 0 i e lim 0 1 n b k 0 where stands for the n dimensional lebesgue measure and b is the ball of radius centered at the origin we must have t k i j x mi 6 txmi hence by composing the chart with a rotation in the image we may assume that t x t k i j x mi rn 1 0 318 9 branched ep subgroupoids now take a number 0 define the set a b rn 1 r b a and consider the subset b k of rn if for a given sequence k 0 there exists a sequence of points xk in b k k then we arrive at a contradiction with the definition of consequently the set b k is contained in if is sufficiently small hence limsup 0 1 n b k limsup 0 1 n b c for a constant c satisfying c 0 as 0 this shows that lim 0 1 n b k 0 we have proved that the lebesgue density at every point x in the borel set k i j ne mi vanishes this implies that this set is of measure zero in view of the previous lemma the sets k i i e have full measure in k i i and k i i e mi mi denote by mu the union of the mi i i define for y mu the subset iy of i by iy i i y mi definition 9 14 we say that i i iy are y equivalent i y i provided there exists a chain of indices in iy say i 0 i i 1 ik i such that y k ip 1 ip e for p 1 k note that if i y i then tymi tymi the equivalence relation y defines a partition of iy given by the collection of equivalence classes which we shall denote by py iy y lemma 9 15 the set y mu iy y 2 has measure zero proof given y mu the equivalence relation y defines a partition py of the set iy define for a subset j of i and a finite partition p of j the set m j p u y mu iy j py p the set y mu iy y 2 can be written as a finite union of such sets hence it suffices to show that m j p u has measure zero provided p 2 assume that p 2 and take two indices i i which belong to different sets 1 and 2 of the partition p if y mj pu it follows that i 6 y i that means that for every chain of indices i 0 i ik i in iy j connecting i 0 with i it holds that y belongs to some k ip 1 ip ne with p py hence y j j j k j j ne j j i k j j ne 9 4 geometry of local branching structures 319 where the right hand side is a set of measure zero in view of the previous discussion we can take the subset m u of mu consisting of all y with iy y iy i e all points y so that all the elements in iy are y equivalent by construction mu m u has measure zero denote for a subset j i by m j u the subset of m u consisting of all y such that iy j and py j i e mju y m u iy j py j for y mju and every i j we have the same tangent space tymi but the orientations coming from the oi can differ this defines on j an equivalence relation j where by definition i j i provided ty mi oi ty mi oi for all y mju with i y i recall that as a consequence of the technical condition t it holds that if i y 0 i then it is true for all y with i y i in mju we obtain a partition of j into possibly two nonempty subsets denoted by aj and bj we define for y mju t jy tymi where we pick any element i j and j i j i with these definitions t y j t jy for y m j u associated to aj if nonempty we have the orientation oi where we pick some i aj we equip tymi with oaj y oi y if bj 6 0 we define for i bj the orientation obj y oi y which over the relevant set is just oaj we define aj i aj i and bj i bj i and note that j aj bj now consider the assignment mju 3 y aj t j y oaj bj t j y obj proposition 9 5 under the assumptions of the previous discussion the following holds the collection m u y mu py 1 differs from mu by a set of measure zero we can decompose m u by m u tj im j u tj i y m u iy j 320 9 branched ep subgroupoids on mju we have the following identities 1 y i j i j y mju 2 t y j t jy y mju 3 t y aj t jy oaj bj t j y obj y m j u 4 aj bj j and oaj obj the previous discussion allows us to compare two local branching structures on the open set u x denote the second one by mi oi i i i i i then the union with the first one gives a new local branching structure indexed by i it i we abbre viate the three local branching structures by b b and b the local branching structure b defines over u x the functor 2 with orientation t 2 y i iti y mi i ty mi oi 2 t y the sets mu m u and m u associated to the three local branching structures are all the same however m u m u and m u generally are different but their complements in mu have measure zero the set m u is written as the disjoint union of sets y mu i y j p y 1 where j i the intersection m u m u m u m u has a complement of measure zero in mu on m u we can relate the three local branching structures in a way which is useful to define branched integration in the next subsection define m u j i m j u j i y m u iy j m u j i m j u j i y m u i y j m u j i m j u j i y m u i y j pick j i and j i and consider the set m ju m j u if y belongs to this set it holds that iy j and i y j with both being nonempty since both branching structures define the same since y m u m u it also satisfies i y j and p y 1 for some j i clearly j jt j and we derive that m ju m j u m jtj u 9 14 since 9 4 geometry of local branching structures 321 m u j i m ju j i m j u 9 15 j i j j m ju m j u combining 9 14 and 9 15 we find the equality m ju m j u m jtj u from this discussion since b and b describe the same oriented local branching structure and b is their union we infer that for y m jtj u the following holds 1 y i j i j i j i j 2 t y j t jy j t j y 3 t y aj t jy oaj bj t j y obj aj t j y oaj bj t j y obj 4 aj bj j j aj bj we can summarize this discussion in the following proposition proposition 9 6 assume that u x is an open neighborhood around the smooth point x in a m polyfold suppose we are given two oriented local branching struc tures on u x denoted by mi oi i i i i i and mi oi i i i i i such that for y u x the following holds a i i y mi i i i y mi i b i i y mi i ty mi oi i i y mi i ty mi oi define mu i i mi i i mi then there exists a subset m u of mu and a finite partition of m u a 1 t ta with the following properties 1 mu m u has measure zero 2 for every ap the maps y iy i i y mi and y i y i i y mi are constant and moreover for i j iy and i j i y tymi tym j tymi tym j 3 denote by ip the value of y iy on ap and similarly i p then i ip i i i p i 4 for ap with ip j and i p j there exist partitions j j tj and j j tj such that for i j i j j j or i j i j j j and all y ap 322 9 branched ep subgroupoids ty mi oi ty m j o j ty mi oi ty m j o j 5 for y ap and having fixed i j i j we have the identity j j j ty mi oi j j j ty mi oi proposition 9 6 will be important for introducing the branched integration in the next section 9 5 integration and stokes in the following we assume that is an oriented tame compact branched ep subgroupoid of dimension n see definition 9 10 we denote by s the orbit space supp which by assumption is a compact subspace of the metrizable space x given a classically smooth n manifold m perhaps with boundary with corners there is a natural class of measures equivalent to lebesgue measure i e those which can be written in local coordinates as f dx 1 dxn for some function f 0 this allows to introduce the notion of a subset a m to be of measure zero we have introduced this notion already in definition 9 13 given a local branching structure mi i i i i i for on u x we obtain mu i i mi and mu s given a subset a of s we can consider a mu and the preimages ai mi for i i under the canonical map mu mu definition 9 15 we say a subset a of s supp has measure zero provided for every x supp and a choice of local branching structure on a suitable u x the sets ai introduced above have measure zero according to the following lemma see 39 lemma 3 2 the definition does not depend on the choice of local branching structures lemma 9 16 the definition of a set of measure zero in s does not depend on the choice of local branching structures after this preparation we can introduce the canonical algebra l s see also 39 definition 3 3 9 5 integration and stokes 323 definition 9 16 canonical algebra l s let x be an ep groupoid and x q a tame compact branched ep subgroupoid define s supp the algebra l s is the smallest algebra consisting of subsets of s which contains the borel algebra b s and all subsets of s of measure zero it follows immediately from the definition that l s is obtained from b s by just adding the sets of measure zero denote by m s l s the vector space of finite signed measures on the lebesgue algebra on s the basic first integration result concerns an sc differential form and an oriented tame branched ep subgroupoid theorem 9 2 let x be an ep groupoid and t x q be an oriented tame compact branched ep subgroupoid of dimension n there exists a linear map n x m s l s characterized uniquely by the following property given a point x supp and an oriented local branching structure mi oi i i i i i on u x which is assumed to admit the natural gx action the following identity holds for every measurable subset k s contained in u x with ki mi the preimage of k under u x u x y y k 1 geffx i i i ki mi oi here ge f fx is the effective isotropy group of x and was previously defined in defini tion 7 13 the proof of theorem 9 2 takes some preparation and we follow essentially 39 in a first step we show that locally the definition does not depend on the choice of branching structure see 39 lemma 3 5 lemma 9 17 independence assume that x supp and u u x is an open neighborhood invariant under the natural gx action and having the properness property suppose further that u harbors two oriented local branching structures say mi oi i i i i i and mi oi i i i i i describing the oriented over u then for a measurable subset k of mu with corresponding ki mi for i i and ki mi for i i it holds 1 geffx i i i ki mi oi 1 geffx i i i ki mi oi here the index sets are disjoint i e i i 0 324 9 branched ep subgroupoids proof in order to prove the lemma we assume an oriented compact and tame is given let x supp and u x be an open neighborhood equipped with the natural gx action and the properness property on u x we assume that two local oriented branching structures are given say mi oi i i i i i and mi oi i i i i i which represent and t i e for y u x i i y mi i i i y mi i 9 16 i i y mi i ty mi oi i i y mi i ty mi oi we assume that n y and denote by u x u x the projection y y we show that for k u x with ki mi 1 k and ki mi 1 k the equality i i i ki mi oi i i i ki mi oi 9 17 holds if this is known to hold the rest of the proof of theorem 9 2 follows easily the difficulty in establishing the validity of 9 17 arises from the fact that in general there does not exist a correspondence between the submanifolds of the branching structures so that one needs to analyze the branching sets in more detail this is the place where the considerations of section 9 4 enter particularly proposition 9 6 associated to the local branching structures we have with the notation in section 9 4 the sets mu m u as well as m u see proposition 9 6 denote by a 1 t tap the decomposition of m u according to proposition 9 6 if we subtract from the ki or ki the set mu m u resulting in the sets k i and k i it holds using that this is a measure zero modification i i i k i mi oi i i i ki mi oi and i i i k i mi oi i i i ki mi oi the set k i decomposes as k i p 1 k pi where k pi k i ap we compute using heavily proposition 9 6 9 5 integration and stokes 325 i i i k i mi oi i i p 1 i k pi mi oi p 1 i i i k pi mi oi p 1 i ip i k pi mi oi p 1 i i p i i i p i k p i p mi p oi p p 1 i i p i i i p i k p i p mi p oi p p 1 i i p i k p i mi oi p 1 i i i k p i mi oi i i p 1 i k p i mi oi i i i k i mi oi this shows that local integrals are well defined and do not depend on the local branching structure the procedure defines associated to an sc differential form for a local branching structure on u x which we assume to be invariant under the natural action of gx and having the properness property a signed measure u x for measurable subsets contained in u x s namely u x k 1 geffx i i i ki mi oi from the construction it is clear that if f then d u x f u x d u x 9 18 with f f we shall use this fact later on remark 9 10 we point out that even if u x and u x are as before and u x u x with x x it is still a possibility that u x and u x are not the same on u x this point is being addressed in lemma 9 19 since s supp is compact the set s can be covered by finitely many such constructions we want to show that this fact can be used to define a global signed measure which boils down to showing that the constructions coincide on the over laps we need lemma 3 6 from 39 326 9 branched ep subgroupoids lemma 9 18 restrictions let x be an ep groupoid and x q an oriented tame branched ep subgroupoid for x supp let u u x be an open sub set invariant under the natural gx action having the properness property and also supporting a local oriented branching structure mi oi i i i i i for further let y u with isotropy group hy and assume v v y u is an open neighbor hood with the natural hy action for an sc differential form denote the associated signed measures by u and v then if a measurable subset k l s is contained in mv mu s it holds u k v k proof the proof is given in 39 since the definition of the measures is indepen dent of the actual local oriented branching structure we can take the one on v which is induced from the one on u then the result follows from a computation involving the orders of isotropy groups we address now the point raised in remark 9 10 see also 39 lemma 3 7 lemma 9 19 morphism invariance let x be an ep groupoid and x q a tame compact oriented branched ep subgroupoid assume that x x supp and x x is a morphism let u u x and u u x be open neighbor hood allowing for the natural actions by gx and gx respectively and suppose the sets have the properness property in addition we assume that the natural local sc diffeomorpism associated to defines an sc diffeomorphism u u given an sc differential form on x the equality u k u k holds for measurable subsets k contained in mu mu proof this is nothing else but change of variables now we are in the position to prove theorem 9 2 proof theorem 9 2 using the compactness of s supp there exist finitely many points x 1 x and open neighborhood up u xp admitting the natural gxp action having the properness property and having an oriented local branching struc ture mpi o p i i ip p i i ip representing the oriented over up so that s p 1 mup with the given sc differential form we obtain the signed measures up 9 5 integration and stokes 327 on mup s given a measurable subset k of s in l s we partition it in such a way that k p 1 kp with kp mup and consider the sum p 1 up kp this definition does not depend on the choices involved due to lemmata 9 17 9 18 and 9 19 it defines our desired signed measure remark 9 11 a in 39 the theorem was proved under the assumption that x allows sc smooth partitions of unity the modification of the proof presented above gets rid of this assumption b it should be possible to define also for compact oriented branched ep subgroupoids getting rid of the tameness assumption this would require to show that the boundaries of the occurring sub m polyfolds have measure zero which in all likelihood is the case we leave such investigation to the reader c it might even be true that a compact sub m polyfold in a m polyfold has a boundary which is a lipschitz manifold which would have consequences for the the boundary structure of compact branched ep subgroupoids it would in particular imply that the following considerations about stokes theorem should be true for oriented which are not tame we also leave such investigations to the reader given an ep groupoid x and a compact tame oriented branched ep subgroupoid x q there is an oriented x q according to definitions 9 7 and 9 11 and the associated discussions in previous sections since is tame the m polyfolds occurring in the local branching structures have an equivalent structure as classically smooth manifolds m with boundary with corners given such a m polyfold and a boundary point x with degeneracy index d dm x the boundary near x consists of of the union of d many local faces if d 2 the intersection of two or more such faces as a subset of any such face has n 1 dimensional lebesgue measure 0 where n dim m if k m we have consequently a well defined notion of being of n 1 dimensional measure zero in view of this discussion we can define the lebesgue algebra l s where s supp since there is a well defined notion of a subset of s to be of n 1 dimensional measure zero definition 9 17 canonical algebra l s let x be an ep groupoid and x q a tame compact branched ep subgroupoid the algebra l s is the smallest algebra containing the borel algebra b s and all subsets of s of measure zero with the same techniques as used in the proof of theorem 9 2 we obtain the follow ing theorem for boundary integration where m s l s is the vector spaces of signed measures 328 9 branched ep subgroupoids theorem 9 3 canonical boundary measures assume x is an ep groupoid and x q an oriented tame compact branched ep subgroupoid of dimension n then there exists a linear map n 1 x m s l s which is uniquely characterized by the following property given x supp an open neighborhood u x in x with the natural gx action and the properness property and an oriented branching structure on u x representing say mi oi i i i i i the following identity holds for a measur able subset k l s with k m u i i mi k 1 geffx i i i ki mi o mi where ki mi is the preimage of mi supp u x remark 9 12 in our context we have a version of stokes theorem which can be formulated as follows theorem 9 4 stokes theorem let x be an ep groupoid admitting sc smooth partitions of unity and x q a tame oriented compact branched ep subgroupoid of dimension n denote by its oriented boundary and by an sc differential form of degree n 1 then s d s or equivalently d the assumption of having an sc smooth partition of unity is very likely not needed and enters since we use the standard ideas for proving stokes theorem proof we cover the compact s by finitely many open sets uk where uk u xk 1 k are open sets admitting the natural gxk action have the properness prop erty and are equipped with an oriented branching structure representing we de note the oriented local branching structures by mi oi i ik for k 1 with the associated weights i i ik then we have the total index set i i 1 t t i the mi are tame finite dimensional submanifolds of x all of the same dimension n and for i ik the mi are properly embedded in u xk and over u xk the functor and associated orientation can be written as 9 5 integration and stokes 329 y i ik y mi i for y u xk 9 19 t y i mi y mi i ty mi oi for y u xk abbreviate uk u xk for k 1 and denote by u k the saturations of the sets uk in x and add another saturated open set u 0 so that the sets u k cover x and the sets u k u 0 still cover s given this finite open covering of x by saturated set we can take a subordinate sc smooth partition of unity 0 on x for the ep groupoid x hence the i are functors with values in 0 1 and supp k u k by construction k 1 k 1 on k 1 muk we define k k so that its support is contained in supp k u k and n k 1 k if the set uk does not contain parts of supp we conclude by the standard stokes theorem mi oi d k 0 for i ik in the other case again by the standard stokes theorem mi oi d k mi oi k for i ik summing up all these contributions we conclude the following d s k 1 d k s k 1 1 geffxk i ik i mi oi d k k 1 1 geffxk i ik i mi oi k k 1 k s s the proof of stokes theorem in the branched context is complete 330 9 branched ep subgroupoids 9 6 appendix in the following two subsections we shall discuss several questions whose answers are related to possible generalizations of the results in this chapter given an ep groupoid x and a compact oriented ep subgroupoid x q we have inter preted it as a full subcategory of x with a weight function and we use some of the ambient structure when we talk about local branching structures of course it would be nice to define an intrinsic object without reference to an ambient x which would have similar properties and would allow an integration theory as well as the notion of differential forms another question is concerned with the necessity of the tameness assumption it is possible that combining our discussion with results from a lipschitz theory of manifolds would lead to an appropriate generalization 9 6 1 questions about m polyfolds a m polyfold is a m polyfold admitting an sc smooth atlas where the local mod els are sc retracts o c e if dm m n denotes the associated degeneracy in dex we know that near points x m with dm x 0 it has the structure of a smooth classical manifold in general the boundary behavior is complicated however as we have seen if x x and x is tame near x then the fact that txm is in good position to the par tial quadrant cx implies that m near x has the equivalent structure of a classically smooth manifold with boundary with corners question 1 since o r u for a relatively open neighborhood of 0 in the partial quadrant c one can show that the sc operator dr 0 e e has the property dr 0 c c this distinguishes the smooth finite dimensional linear subspaces n of e which can be written as the image of an sc projection p e e with p c c let us refer to such n as special n one can show that the interior of n c in n is nonempty we can consider as local models for spaces open neighborhoods v of 0 n c which we refer to as an open neighborhood of 0 in n c e where n is special one can define in a standard way what a classically smooth map between two such open sets is this allows us to define charts for metrizable spaces m and smooth atlases this defines a class of manifolds modeled on special n c e it is trivial to show that such manifolds are m polyfolds using the property p c c the question is if every m polyfold admits an equivalent atlas with special models question 2 let m be a compact m polyfold of dimension n does m have natu rally the structure of a lipschitz manifold of dimension n 1 see 27 60 if that is the case one should be able to prove stokes for every oriented compact branched ep subgroupoid using stokes theorem in the lipschitz context in remark 1 2 9 6 appendix 331 we indicated even a possible generalization for defining m polyfolds where c is be ing replaced by more general convex sets with nonempty interior if it is indeed true that a lipschitz version of stokes can be applied may be it even generalizes to such a more general setup the answers to these questions might allow to generalize some of the results about integration but are also useful in studying the question what is the intrinsic struc ture of an ep subgroupoid we raise some question about the latter in the next subsection 9 6 2 questions about branched objects the definition of an ep subgroupoid requires an ambient space however there seems to be an underlying intrinsic object in the background the intrinsic object should be the metrizable space supp together with an additional structure the following mentions some ideas to describe such an object but the details have not been carried out possibly these ideas need some modification consider tuples mu w u c e where e is an sc banach space c e a partial quadrant u c a relatively open subset and mu a subset of u and w mu q is a map with the following properties 1 there exist finitely many sc retracts mi c e for i i and positive rational weights i i i such that mi u is properly embedded as submanifold 2 mu i i mi 3 w y i i y mi i for y mu we shall refer to mu w u c e as a branched manifold model if u c is rela tively open and u u we can define mu w u c e u mu w u c e by restricting the data we call this the restriction to u we say that miu w i u i ci e i for i 1 2 are isomorphic provided there exists a homeomorphism h m 1 u m 2 u satisfying 1 w 2 h w 1 2 if n mu is such that n c e is an sc retract then h n c e is an sc retract the same for h 1 3 h n h n is an sc diffeomorphism the notion of equivalence accommodates the fact that mu can be written possibly in different ways as union of m polyfolds naturally the discussion of the geometry 332 9 branched ep subgroupoids of local branching structures enters the local models have to be defined as subset of an ambient space to catch the variety of possible branching structures let us refer to an object mu w u c e as a branched m polyfold model following ideas in this book one should be able to define the tangent t and one should be able to define the notion of an orientation there should be a notion of an sc smooth map between such objects then one can define charts with the as local models and sc smooth atlases this would lead to the notion of a branched m polyfold at this point we could employ the definition of an ep groupoid but take as local models the branched m polyfold models let us call such a space a branched ep groupoid the structure on s supp would be given by an equivalence class q where q is a branched ep groupoid and q s is a homeomorphism the notion of equivalence is parallel to the kind of morita equivalence used in giving a definition of orbifold using e tale proper lie groupoids see 3 56 57 such an idea is also applied in chapter 16 the boundaries of such spaces should be accessible to lipschitz type methods mentioned in the previous subsection and there should be stokes theorem in this context question 3 is there a theory along the lines described above i e build on branched local models providing standard features expected from classical differential geom etry or lipschitz geometry at least for the boundary portion chapter 10 equivalences and localization an equivalence between ep groupoids is the sc smooth version of an equivalence of categories in this chapter we shall study notions which are invariant under equiva lences and introduce the notion of generalized maps the ideas come from a well known procedure in category theory see 21 and also have been used in the clas sical lie groupoid context see 56 10 1 equivalences the category e p has ep groupoids as objects its class of morphisms mor e p consists of the sc smooth functors between ep groupoids and contains an interesting subclass of morphisms called equivalences defined as follows definition 10 1 an equivalence f x y between the ep groupoids x and y is a sc smooth functor having the following properties 1 f is faithful and full 2 the induced map f x y between the orbits spaces is a homeomorphism 3 f is a local sc diffeomorphism on objects we denote the class of equivalences by e we recall from the category theory that a functor f x y between two categories x and y is called faithful if for every x x x the induced map morx x x mory f x f x is injective and it is called full if for every x x x the induced map morx x x mory f x f x is surjective if in addition the functor f is essentially surjective that is if for every object y in y there exist an object x in x and an isomorphism f x y then the functor f x y is called 333 334 10 equivalences and localization an equivalence if the functor f x y between two categories x and y is an equivalence in the sense of the category theory then the induced map f x y is a bijection the following result characterizes equivalences between ep groupoids lemma 10 1 assume that f x y is a sc smooth functor between ep groupoids which is an equivalence in the category sense and in addition is a local sc diffeomorphism on the class of objects then f is an equivalence in the sense of definition 10 1 proof in view of the above remarks it is enough to show that the induced map f x y is a homeomorphism since the functor f is sc smooth and hence sc 0 the map f is continuous between every level take a point x x and its representative x x then by our assumption we find an open neighborhood u of x in x so that f u f u is a sc diffeomorphism in particular f u is an open subset of y since the projection map x x is an open map and f u f u it follows that f u is open in y this holds for any open subset of u and the proof is complete if f x y and g y z are equivalences between ep groupoids then the com position g f x z is also an equivalence in general an equivalence is not invertible as a functor if x is an ep groupoid and u an open covering of the object m polyfold we define an ep groupoid xu as follows the object m polyfold is the disjoint union of all the open sets u u xu tu u u we shall write x u for its elements where x u the morphism m polyfold xxxu consists of all triples u v in which u v u and xxx is a morphism satis fying s u and t v the structural maps are the obvious ones it is clear that this is a category whose object and morphism sets have m polyfold structures induced from x and xxx respectively we shall call xu the refinement of the ep groupoid x associated with the open covering u proposition 10 1 xu is an ep groupoid and the map f xu x x u 7 x is an equivalence of ep groupoids proof it is clear that object space and morphism space have natural m polyfold structures coming from the ep groupoid x the source and target maps defined by s u v s u and t u v t v are local sc diffeomorphisms and s t xxxu xu are by construction surjective the smoothness properties of the structure maps are obvious next we show that xu is proper if x u is an object in xu we find an open neighborhood v v x of x in x such that 10 1 equivalences 335 1 clx v u 2 t s 1 clx v x is proper here s and t are the source and target maps of the ep groupoid x the associated neighborhood of x u in xu is then given by v x u y u y v x note the closure of v xu in xu corresponds to the closure of v x in x next with s and t the source and target maps of xu we show that t s 1 clxu v x is proper we assume that k is a sequence in xxx u with s k cl v and t k belonging to a compact subset in x u writing k uk k vk we know by as sumption that uk u and s k clx v moreover t k belongs to a compact subset k of x u after perhaps taking a subsequence we may assume without loss of generality that vk w u and k w hence we have a sequence k xxx sat isfying s k clx v and t k k now using the properness of x we may take another subsequence converging to a morphism xxx satisfying s clx v and t k then the convergence k u w follows finally we note that f is an equivalence of categories and a sc smooth local sc diffeomorphism hence an equivalence of ep groupoids in view of lemma 10 1 we recall from section 8 1 definition 8 1 the notion of a natural equivalence be tween sc smooth functors definition 10 2 natural equivalence two sc smooth functors f x y and g x y between the same ep groupoids are called naturally equivalent if there exists a sc smooth map x yyy having the following property 1 for every object x x x is a morphism x f x g x yyy 2 the map is natural in the sense that g x x f for every morphism x x the sc smooth map x yyy is called a natural transformation of the two func tors f g x y and symbolically referred to by f g 336 10 equivalences and localization naturally equivalent is an equivalence relation for sc smooth functors f g x y which we denote by f g if f g for two sc smooth functors f g x y and if y z and z x are sc smooth functors then f g and f g the following result is taken from 38 proposition 2 7 proposition 10 2 assume that f x y and g x y are naturally equivalent sc smooth functors if one of them is an equivalence so is the other here is another useful property proposition 10 3 assume that f x y is an equivalence between ep groupoids and y z a sc smooth functor between ep groupoids if f x z is an equivalence so is proof since on the object level f and f are local sc diffeomorphisms this holds for using that f is an equivalence it follows that it is essentially surjective which then has to hold for since f and f are homeomorphisms we deduce via f f 1 f f 1 that x y is a homeomorphism for two objects y and y we have to show that the map yyy y y zzz y y between the sets of morphisms is a bijection we assume that y y are mor phisms satisfying since f is essentially surjective we find mor phisms f x y and f x y and consider the morphisms 1 and 1 f x f x because f is an equivalence there exist uniquely determined morphisms x x solving f 1 and f 1 applying the functor to both expressions we compute f 1 1 1 1 f since f is an equivalence we deduce implying 10 1 equivalences 337 1 1 multiplying the inverses right and left we conclude that this proves the injectivity a similar argument shows that the map yyy y y zzz y y is surjective indeed let y y be a morphism in zzz y y since f is essen tially surjective there exist x x x and morphisms f x y and f x y then 1 f x f x belongs to zzz and using that f is an equivalence we find a morphism x x satisfying f 1 we define the morphism y y in yyy by f 1 yyy y y and compute f 1 1 1 showing that is surjective this completes the proof of proposition 10 3 one of the basic results is the following theorem theorem 10 1 if f x y is an equivalence between ep groupoids then t f t x ty is an equivalence between ep groupoids proof since f is a local sc diffeomorphism the same holds for the sc smooth func tor t f t x ty hence in view of lemma 10 1 it suffices to show that t f is an equivalence in the category theory sense that t f is a functor follows from the fact that f is a functor let us show next that t f is essentially surjective we choose a tyy first of all we note that there exist x x 1 and yyy 1 such that f x y for suitable open neighborhoods the source map sy u f x u y is a sc diffeomorphism we consider for x near x the map x 7 ty sy u 1 f x differentiating at x x in the direction b txx gives the linear map b 7 tty t sy 1 t f x b 338 10 equivalences and localization this is a linear isomorphism txx tyy hence we find a vector b txx which is mapped to the given vector a tyy choosing k t sy 1 t f x b t yyy we obtain t sy k t f x b and tty k a therefore recalling section 8 1 the tangent vector k t yyy is by definition the morphism k t f b a in tyyy this shows that t f is essentially surjective we leave the verification that t f is full and faithful to the reader the next proposition shows that if two equivalences f and g satisfy f g then also t f t g for the proof we shall need the following lemma lemma 10 2 let x be an ep groupoid x x and u x a connected open neigh borhood of x in x equipped with the natural representation gx diffsc u x suppose u x x has an open image and is an sc diffeomorphism onto its image satisfying x x and y y for all y u x then the following holds 1 u x u x and u x u x is an sc diffeomorphism 2 there exists g gx such that y g y for all y u x proof assume first that x is effective pick any point y u x and take a con tinuous path 0 1 u x satisfying 0 x and 1 y we consider the continuous map 0 1 x we show that the image of this map lies in u x let 0 0 1 be the largest number such that 0 u x it is clear that 0 0 pick a sequence tk 0 0 converging monotonically to 0 and abbreviate xk tk then xk u x xk u x and xk gk xk for a suitable gk gx after perhaps taking a subsequence we may assume without loss of generality that g gk for all k hence xk g xk by construction xk 0 u x and therefore xk g 0 u x this implies 0 u x therefore 0 1 and u x u x next we show that u x is open and closed in u x which implies since u x is connected that u x u x by assumption u x is open we only need to 10 1 equivalences 339 show its closedness pick y u x so that there exists a sequence xk u x with xk y after perhaps taking a subsequence we find g gx such that xk g xk y this implies xk g 1 y hence g 1 y y this completes the proof of 1 pick any y u 1 x i e a point on level 1 since x is metrizable and the neighbor hood of y is modeled on an sc smooth retract we can pick a metric d which induces the topology on level 0 on x but also for a strictly decreasing sequence k con verging to 0 the spaces k z x d y z k u x with the induced metric are complete we define the closed subsets g k z k z g x then k g gx g k and by the baire theorem there exists gk such that gk k has a nonempty interior hence we find yk with d y yk k so that z gk z for z near yk we may assume by slightly shifting yk that it is a smooth point we infer that t yk t gk yk after perhaps taking a subsequence we may assume that gk g and passing to the limit we find that t y h t g y h for all h tyx we note that for large k there cannot be a g k 6 g with g k having nonempty interior because it would imply by the same argument as above that also t y t g y for some g 6 g this however is impossible by the current assumption that x is effective next take a large k so that gk is the only set with nonempty interior if y k with d y y k we can study by the same method a small neighborhood of y which is contained in gk by this argument we find an open set arbitrarily close to y on which z g z summing up we find an open dense subset of gk on which z g z by continuity this must hold for all z gk hence we have proved that every point y u 1 x has an open neighborhood u y u x on level 0 so that z gy z for z u y since u 1 x is also connected it follows that there is a single g gx such that z g z for all z u 1 x using density of u 1 x in u x and the continuity of on level 0 we finally conclude that y g y for all y u x next we remove the effectivity assumption we can pass to xr which has the same object m polyfold and apply the argument just established this immediately im plies the result 340 10 equivalences and localization we use the previous lemma to prove the following useful result proposition 10 4 if f g x y are two equivalences satisfying f g x y then the following holds 1 there exists for every x x an sc smooth map u x yyy z z such that z f z g z here u x is a connected open neighborhood of x admitting the natural gx action 2 the tangent functors t f t g t x ty satisfy t f t g remark 10 1 in 1 we cannot prescribe x as the following example shows let x r 2 with the group z 2 acting with the nontrivial element via x y x y then take the associated translation groupoid we let f be the identity functor and g x y x y then we have the identity morphism f 0 0 g 0 0 which however does not lie in an sc smooth local family before we start with the proof of the theorem we first recall from section 8 1 that the tangent t x x t x t xxx of an ep gropuoid x xxx is an ep groupoid the object space t x is a m polyfold and the morphism space t xxx is also a m polyfold the tangent vector k t xxx is viewed as a morphism h t s h tt h between the two objects t s h txx and tt h tyx in t x if xxx is a morphism x y proof proposition 10 4 since f g given x x there exists a morphism f x g x belonging to yyy since by assumption f and g are equivalen cies there exist open neighborhoods uuu u f x u g x u x and u x such that f u x u f x g u x u g x s uuu u f x and t uuu u g x are all sc diffeomorphisms hence we have the sequence of sc diffeomorphisms u x f u f x s 1 uuu t u g x g 1 u x 10 1 whose composition defines the sc diffeomorphism u x x u x x unwrapping the contents of the sequence 10 1 there exist an sc smooth map u x yyy z z with x satisfying 10 1 equivalences 341 z f z g z for all z u x since f z g z we find z f z g z where at this point we do not know the precise dependence of z on z note that z 1 z g z g z for all z u x since f is an equivalence there exists z z z with g z z 1 z hence u x u x x x x and z z from lemma 10 2 we deduce that u x u x u x u x is an sc diffeomorphism and there exists g gx such that z g z for all z u x define z g z z g z then we define the sc smooth map u x yyy z z g 1 z z and note that z f z g z for all z u x next we consider 2 assume that x x 1 differentiating the sc smooth expression z f z g z at z x and writing x we find that t x t f x t g x txx tg x y this precisely means that t f x t g x for all x x 1 and therefore t f t g we finally remark that equivalences between ep groupoids descend to equivalences between associated reduced ep groupoids introduced at the end of section 7 2 proposition 10 5 we assume that f x y is an equivalence of ep groupoids we denote by xr and yr the associated reduced ep groupoids and define the map fr xr yr on the objects by fr f and on the morphisms by fr f then fr is a well defined functor and fr xr yr is an equivalence proof since f is an equivalence between ep groupoids it follows immediately that f tx tf x and consequently fr is a well defined functor since f fr on the objects the map fr is a local sc diffeomorphism between the objects this implies that fr is a fully faithful functor it is immediate that fr is essentially surjective and hence an equivalence of categories all these facts together imply that fr is an equivalence of ep groupoids example 10 1 the assumption in proposition 10 5 that the functor f x y is an equivalence cannot be omitted indeed given ep groupoids x and y and a sc 342 10 equivalences and localization smooth functor x y it is in general not true that it passes to the reduced ep groupoids as the following example illustrates let x z 4 nr here the action of z 4 0 1 2 3 is given 0 x x 1 x x 2 x x and 3 x x let y z 4 nr 2 with the action of z 4 by counter clock wise rotation by 90 degrees we define on objects by x 0 0 and on morphisms by i x i 0 0 where i 0 1 2 3 note that tx 0 x 2 x for all x r for x y r 2 we have that t x y 0 x y and note that y yr if 0 i x and 1 j y in xxx are equivalent it means that x y and i j mod 2 now we observe that 1 x 1 0 0 and 3 x 3 0 0 these are however different points in yr y hence does not pass to equivalence classes and consequently does not define a functor between the reduced groupoids 10 2 the weak fibered product we continue with a useful construction called the weak fibered product definition 10 3 let f x y and g z y be sc smooth functors between ep groupoids the weak fibered product l x y z is the category whose objects are triples x z in which x x z z and f x g z is a morphism in yyy i e l xf syyy t gz the morphism set lll consists of all triples h k xxx yyy zzz satisfying s f h s and s g k t so that lll xxx s f syyy t s gzzz the identity morphism 1 x z lll at the object x z l is given by 1 x z 1 x 1 z the inversion map i lll lll is defined by i h k h 1 g k f h 1 k 1 the source and target maps s t lll l are defined by s h k s h s k and t h k t h g k f h 1 t k finally the multiplication m llls tlll lll is defined by m h k h k h h k k since l l lll is a small category the weak fibered product x y z is a groupoid theorem 2 9 in 38 shows that the weak fibered product is an ep groupoid provided 10 2 the weak fibered product 343 at least one of the functors f or g is an equivalence below we present a slightly modified proof of this fact theorem 10 2 let f x y be an equivalence of ep groupoids and let g z y be a sc smooth functor then the weak fibered product x y z is in a natural way an ep groupoid and the projection z x y z z is an equivalence of ep groupoids moreover the sc smooth functors f x g z x y z y are naturally equivalent and the degeneracy index dx y z satisfies dx y z x z dz z for every x z x y z moreover if z is a tame ep groupoid so is the weak fibered product x y z further if z has a paracompact orbit space so has x y z if z x y z z is an equivalence between ep groupoids then it is by definition a local sc diffeomorphism between the object sets consequently if one ep groupoid is tame so is the other because tameness is invariant under sc diffeomorphisms moreover again by definition of an equivalence the induced map z x y z z is a homeomorphism between the orbit spaces consequently if z is paracom pact then also x y z is paracompact therefore the last two statements of the theorem follow once we have shown that z is an equivalence if we assume that g z y is an equivalence instead of f x y then the fibered product x y z is again naturally an ep groupoid and this time the projection x x y z x is an equivalence of ep groupoids in this case the degeneracy index dx y z satisfies dx y z x z dx x for every x z x y z if both f x y and g z y are equivalences of ep groupoids then dx x dx y z x z dz z for every x z x y z the m polyfold structures on l and lll in both cases are the natural ones induced on l x yyy z and lll xxx yyy zzz as sub m polyfolds proof proof of theorem 10 2 clearly x yyy z and xxx yyy zzz are m polyfolds we first show that l is a sub m polyfold let x z l since f x y is an equivalence and hence locally a sc diffeomorphism we find open neighborhoods u u x of x in x and w w f x of f x in y so that f u u w is a sc diffeomorphism the source and the target maps s t yyy y are also local sc diffeomorphisms hence replacing u and w by smaller neighborhoods if necessary 344 10 equivalences and localization we find open neighborhoods w w g z of g z in z and uuu uuu of in yyy such that the source and target maps s uuu w and t uuu w are sc diffeomorphisms moreover since g is sc smooth and hence sc 0 we find an open neighborhood v v z of z in z so that g v w with these choices we define the map r u uuu v u uuu v by r x z f u 1 s t uuu 1 g z t uuu 1 g z z 10 2 clearly r is sc smooth and r r r so that r is a sc retraction the image of r is equal to r u uuu v u uuu v l which implies that l is a sub m polyfold of x yyy z and consequently inherits a m polyfold structure if v o c e is a chart around z on z then the map u uuu v l o defined by x z z defines a chart on l around the point x z we also observe that the projection map z l z defined by z x z z is in our charts the identity map consequently z l z is a local sc diffeomorphism if z z then since f is an equivalence there exists an object x x and a morphism yyy between f x and g z hence x z l and z x z z so that z is a surjection next we shall show that lll is also m polyfold we take a morphism h k lll since f x y and s xxx x are local sc diffeomorphisms we find open neigh borhoods uuu uuu h of h in xxx and u u f s h of f s h in y such that f s uuu u is a sc diffeomorphism taking these neighborhoods smaller if necessary we find since s t yyy y are local sc diffeomorphisms open neighborhoods vvv vvv of in yyy and v v g s k of g s k in y so that the maps s vvv u and t vvv v are sc diffeomorphism finally we choose an open neighborhood www www k of k in zzz such that s g www vvv with these choices of open sets we define the map rrr uuu vvv www uuu vvv www 10 2 the weak fibered product 345 by rrr h k f s uuu 1 s t vvv 1 s g k t vvv 1 s g k k then rrr rrr rrr the map rrr is sc smooth and has the image rrr uuu vvv www uuu vvv www lll consequently lll is a sub m polyfold of the m polyfold xxx yyy zzz similarly as in the l case one defines charts on lll moreover the projection zzz lll zzz defined by zzz h k k is a local sc diffeomorphism next we shall show that the structure maps are sc smooth we start with the source map s lll l recall that s h k s h s k for every h k lll locally the source map s is a composition of local sc diffeomorphisms s h k 1 z sz zzz h k and hence s is a local sc diffeomorphism in our charts on lll the inversion map i lll lll given by h k 7 h k 1 h 1 g k f h 1 k 1 takes the form q 7 iz 1 q where and are suitable charts of z since the inversion map iz zzz zzz is a local sc diffeomorphism the same holds for i now observe that the target map t lll l is equal to t i s and so t is a local sc diffeomorphism the 1 map 1 l lll is defined by 1 x z 1 x 1 z and in our charts on l and lll is given by q 7 1 z 1 q where and are suitable charts on z since the 1 map 1 z z zzz is sc smooth the same holds for 1 l l lll finally we consider the multiplication map m llls tlll lll we know that the fibered product llls tlll is a m polyfold in local coordinates the multiplication map m takes the form q 7 mz s 1 t 1 q for suitable charts and on z this shows that the multiplication map m is sc smooth as claimed next we will show that l is proper we take x z l and choose neighborhoods u u x of x in x and v v z of z in z such that the maps t s 1 u x and t s 1 v z are proper we define the open neighborhood w x z of x z in l by w x z x z l x u z v and f x g z and claim that the restriction of the target map t s 1 w x z l is proper to see this let k be a compact subset of l and let hn n kn n n be a se quence of morphisms belonging to s 1 w x z so that t hn n kn k since k is compact after taking a subsequence the sequence t hn n kn converges in l to the morphism x z from t hn n kn t hn g kn n f hn 1 t kn it follows that t hn x t kn z and g kn n f hn 1 since hn n kn s 1 w x z we conclude that s hn u and s kn v then the 346 10 equivalences and localization properness of the maps t s 1 u x and t s 1 v z imply after taking sub sequences the convergence hn h in s 1 u hence the sequence of morphisms n converges in yyy to the morphism g k 1 f h since n is a morphism between f s hn and g s kn it follows that is a morphism between f s h and g s k we have proved that the sequence hn n kn has a subsequence con verging to h k s 1 w x z and the proof of properness of l is complete we already know that z is surjective and a local sc diffeomorphism hence to show that z is an equivalence it suffices to show that for every two objects x z x z in l the induced map morl x z x z morz z z is a bijection take a morphism k z z then g k 1 is a morphism between f x and f x since f x y is an equivalence and hence faithful and full there exists a unique morphism h in xxx between x and x so that f h g k 1 then h k morl x z x z and z h k k hence z is faithful and full as claimed the map z is also an essentially surjective indeed let z z then since f x y is an equivalence and hence in particular f x y is a bijection there exists x x and an isomorphism yyy between f x and g z then x z l and there exists a morphism between z x z z and z namely 1 z zzz therefore z is an equivalence in the sense of category theory and hence z x y z z is a bijection consequently by lemma 10 1 z is an equivalence in the sense of definition 10 1 to see that the functors f x and g z x y z y are naturally equivalent we define the map x y z yyy by x z by definition of the triple x z x y z the morphism is a morphism between f x and g z hence between f x x z and g z x z in order to to show that f x g z is a natural transformation we let x z and x z be two triples in x y z and h k a morphism between x z and x z then h x x k z z and g k f h 1 consequently x z f x h k f h g k g z h k x z it remains to verify that x y z yyy is sc smooth this follows from the fact that z x y z z is a local sc diffeomorphism and hence we take it as a chart around x z in this chart the composition 1 z is equal to t uuu 1 g where uuu is a suitable neighborhood of the morphism since the maps t and g are sc smooth it follows that is also sc smooth hence we have proved the natural equivalence f x g z finally z x y z z is a local sc diffeomorphism and therefore dx y z x z dz z x z dz z 10 3 localization at the system of equivalences 347 for every x z x y z the proof of theorem 10 2 is complete remark 10 2 consider three ep groupoids a b and x and assume that f a x and h b x are equivalences of ep groupoids then the weak fibered product a x b associated to the diagram a f x h b is an ep groupoid and the projections a a x b a and b a x b b are equivalences of ep groupoids in view of the previous discussion by construction f a a x b x and h b a x b x are naturally equivalent by a x b xxx defined by a b given an equivalence f a x we may think of a as a smaller model for x the previous discussion can be understood as saying that given smaller models for x say a and b then there exists a model for x which is smaller than a and smaller than b 10 3 localization at the system of equivalences the category of ep groupoids e p has as objects the ep groupoids and as mor phisms the sc smooth functors between ep groupoids they contain the distin guished class of morphisms e called equivalences introduced in definition 10 1 let us mention the following examples of equivalences e 1 every isomorphism in the category e p between two ep groupoids is an equiv alence e 2 if f x y and g y z are equivalences then g f is an equivalence e 3 a functor which is naturally equivalent to an equivalence is an equivalence by proposition 2 6 we are going to construct a new category e p e 1 having the same objects as e p for which there exists a functor i e p e p e 1 which is the identity on objects but maps on morphisms every equivalence to an isomorphism moreover this new category has some universal property the proce dure is standard in category theory and called localization in our case it has a quite explicit form from theorem 10 2 we recall that given an equivalence f x y and a sc smooth functor z y we can build the weak fibered product x y z which is an ep groupoid moreover the projection z x y z z is an equivalence of ep groupoids and the projection x x y z x is a sc smooth functor so that the 348 10 equivalences and localization sc functors z and f x are naturally equivalent via the natural equivalence x y z yyy defined by x z f x z next given two ep groupoids x and y we consider diagrams of the form d x f z y in which f z x is an equivalence and z y is a sc smooth functor definition 10 4 refinement the diagram d x f z y is called a refine ment of the diagram d x f z y if there exists an equivalence h z z of ep groupoids such that f h and f are naturally equivalent and h and are naturally equivalent the situation illustrated in the diagram d x f z yx h d x f z y is sometimes abbreviated by h d d for example if d x f z y is a diagram and h z z an equivalence then d x f h z h y is a refinement of d another refinement of d is the diagram d x g z y where g z x is naturally equivalent to f and z y is naturally equivalent to the equivalence h z z is in this case h idz lemma 10 3 consider diagrams d x f z y d x f z y and d x f z y if d is a refinement of d and d is a refinement of d then d is a refinement of d proof the verification of the lemma is straightforward indeed we have the fol lowing diagram 10 3 localization at the system of equivalences 349 x f z yx h x f z yx h x f z y in which f h f f h f and h h therefore f h h f and h h definition 10 5 common refinement given two diagrams d x f z y and d x f z y then a third diagram d x f z y is called a common refinement of d d if d is a refinement of d and a refinement of d having a common refinement defines an equivalence relation on diagrams this is a consequence of the following lemma lemma 10 4 consider the three diagrams d x f z y d x f z y and d x f z y if d d has a common refinement and d d has a common refinement then d d has a common refinement proof let x g w y be common refinement of d d so that we have the dia grams d x f z yx h x g w y and d x f z yx h x g w y in which f h g h and f h g h similarly let x g w y be a common refinement of d d illustrated by the diagrams 350 10 equivalences and localization d x f z yx k x g w y and d x f z yx k x g w y in which f k g k and f k g k since h w z and k w z are equivalences we consider the weak fibered product w w z w then g w w z w x is an equivalence and we claim that the digram x g w w z w w y is a common refinement of the diagrams d and d indeed h w w z w z is an equivalence as a composition of equivalences and f h w f h w g w and using h and h w k w h w h w w h w h w k w k w w proving our claim similarly one shows that x g w w z w w y is refinement of d with an equivalence k w w z w z this completes the proof of lemma 10 4 definition 10 6 equivalence of diagrams two diagrams d x f z y and d x f z y are called equivalent if they have a common refinement this defines an equivalence relation on diagrams we denote the equivalence class of d by d or by x f z y and are going to interpret d as a morphism d x y between the ep groupoids we shall show shortly that such equivalence classes d can be composed and the ep groupoids with these type of morphisms define a new category denoted by e p e 1 possessing useful properties 10 3 localization at the system of equivalences 351 since the equivalence f z x induces a homeomorphism f z x be tween the orbit spaces we can associate with the diagram d x f z y the map d x y between the orbit spaces defined by d f 1 the map d is continuous between all levels of the orbit spaces let d x f z y be a refinement of the digram d x f z y illustrated by the diagram x f z yx h x f z y then f h f and h and therefore since f f and h are homeomorphisms d f 1 h h 1 f 1 f 1 d hence we have proved the following lemma lemma 10 5 if h d d is a refinement of diagrams where d d x y then the induced maps d d x y between the orbit spaces are the same i e d d this implies that we have a well defined map associated with an equivalence class of diagrams d x y namely the map d x y defined by d f 1 where we have chosen any representative d x f z y of the equivalence class d we note that if in the equivalence class d x f z y both functors f and are equivalences then the induced map d x y is a homeomorphism between the orbit spaces definition 10 7 given an equivalence class d of diagrams d x y the induced map between the orbit spaces is denoted by d x y 352 10 equivalences and localization next we shall show for two equivalence classes d x y and d y z that there is a well defined associative composition d d defining an equivalence class d of diagrams d x z theorem 10 3 composition of equivalence classes let d x f a y and d y g b z be representatives of the equivalence classes d x y and d y z respec tively then the equivalence class d of the diagram d x f a a y b b z is independent of the choices of representatives in the equivalence classes d and d the equivalence class d x z is called the composition of d and d and is denoted by d d d moreover the composition is associative if d x y d y z and d z w then d d d d d d in addition d 1 x d and 1 y d d for every equivalence class d x y here 1 x is the equivalence class 1 x x 1 x x 1 x x the somewhat lengthy technical proof is postponed to appendix 10 6 1 definition 10 8 generalized maps generalized isomorphisms let x and y be two ep groupoids an equivalence class a x f a g y of diagrams in which f is an equivalence and g is a sc smooth functor is called a generalized map and abbreviated by a x y if the representation is irrelevant a generalized map a x y is called a gen eralized isomorphism or invertible if there exists a generalized map b y x satisfying b a 1 x and a b 1 y in this case the equivalence class b is called the inverse of a and denoted by b a 1 10 3 localization at the system of equivalences 353 in the following theorem we characterize generalized isomorphisms theorem 10 4 let x y and a be ep groupoids 1 the equivalence class a x f a g y in which f is an equivalence and g is a sc smooth functor is a generalized isomorphism if and only if the functor g is an equivalence 2 the inverse of a generalized isomorphism a x f a g y is the equivalence class a 1 y g a f x the proof is postponed to appendix 10 6 2 assume that f x y and g y z are generalized maps between ep groupouids then their composition is defined giving g f x z assume that f d and g d with representatives d and d given by x f a y and y g b z respectively we know already that f x y is given by f f 1 and g y z by g g 1 as a representative d for d d g f we can take the diagram d x f a a y b b z here f a is an equivalence we compute d d given x x we find a b a y b and a morphism f a x then by definition d x b observe that a g b by definition of the weak fibered product hence a g b this implies using that g is an equivalence d x b g 1 a g 1 f 1 x d d x hence we have proved the following result proposition 10 6 if f x y and g y z are generalized maps between ep groupoids then g f g f in view of the theorems 10 3 and 10 4 we can now introduce the new category whose morphisms are the generalized maps 354 10 equivalences and localization definition 10 9 the category e p e 1 has as objects the objects of e p namely the ep groupoids x and as morphisms the equivalence classes d x y of dia grams the generalized maps between ep groupoids the notation e p e 1 indicates that we added inverses to the elements in e the basic result relating e p with e p e 1 is the following theorem theorem 10 5 properties of the localization at e there is a natural functor i e p e p e 1 which is the identity on objects and maps every sc smooth functor x y be tween ep groupoids to the equivalence class d defined by d x 1 x x y if the functor f x y is an equivalence then the morphism i f is invertible and i f 1 y f x 1 x x proof we first verify that d d d for sc smooth functors x y and y z since the diagrams d x 1 x x y and d y 1 y y z are representative of the equivalence classes d and d the diagram x x x y y y z 10 3 is a representative of the class d d the class d is represented by the diagram d x 1 x x z and we claim that the diagram d is a refinement of the digram 10 3 for the equivalence between x y y and x we take the projection x x y y x then 1 x x x and since x y by theorem 10 2 we find that x x y therefore i d d d i i we already know that i 1 x x 1 x x 1 x x 1 x 10 3 localization at the system of equivalences 355 next we assume that f x y is an equivalence and let i f df where df is the diagram df x 1 x x f y considering the diagram d y f x 1 x x we claim that d df 1 x and df d 1 y the composition d df is represented by the diagram x x x y x x x 10 4 since f x y is an equivalence the projection x x y x x is an equivalence by theorem 10 2 consequently in view of theorem 10 2 the diagram in 10 4 is a representative of the equivalence class 1 x that is d df 1 x the proof of df d 1 y is similar therefore i f is invertible and i f 1 y f x 1 x x the proof of theorem 10 5 is complete we summarize the fact that generalized maps induce continuous maps between orbit spaces compatible with compositions as follows where top is the category of topological spaces theorem 10 6 there exists a natural functor e p e 1 top which asso ciates to an ep groupoid x its orbit space x and to a generalized map f d x y where the representative d is given by x f a y the continuous map d f 1 x y remark 10 3 before we move to the strong bundle case we give an example why the previous considerations are important these ideas will studied in more generality later on assume that z is a metrizable space consider pairs x where x z is a homeomorphism in this case x is metrizable as well given a second pair x we say it is equivalent to x provided there exists a generalized isomorphism f x x satisfying f the metrizable space z equipped with an equivalence class of pairs x will be called an sc smooth polyfold it is similar to an orbifold with the difference that as local models we allow g o were g is a finite group acting on the m polyfold o later we study which notions behave well with respect to equivalences as a by product one obtains the notions which make sense on polyfolds theorem 10 7 assume that x and y are ep groupoids and f f x y generalized isomorphisms satisfying f f then f f proof we take representatives d x f a h y for f and d x f a h y for f take the weak fibered product a x a associated to the diagram 356 10 equivalences and localization a f x f a then x f a a x a h a y is a diagram of equivalences equivalent to d the diagram x f a a x a h a y is equivalent to d we also not that f a and f a are naturally equivalent in view of this discussion we have shown that we can take the representatives for f and f in such a way that a a and f and f are naturally equivalent this even allows us to replace f by f hence d x f a h y d x f a h y the property that f f or equivalently d d then means that h h to proceed with our argument we study the equivalences h h a y which have the property that the induced homemorphisms between the orbit spaces are the same in view of proposition 10 4 we find for every object a a and open neighborhood u a so that there exists a sc smooth natural transformation a u a xxx such that a b h b h b for b u a the collection u of all these u a where a varies over the objects in a is an open covering and associated to it we have the ep groupoid au together with natural equivalences hu au y and h u au y from the a we obtain a natural transformation hu h u we the natural equivalence au a the diagram x f au hu y is equivalent to x f a h y and x f au h u y is equivalent to x f a h y by construction the two displayed diagrams are equiv alent which proves that f f 10 4 strong bundles and equivalences 357 10 4 strong bundles and equivalences next we discuss the notion of equivalence between strong bundles over ep groupoid in section 8 3 we have introduced the notion of a strong bundle p w x over the ep groupoid x where p w x is a strong bundle over the object m polyfold x and the structure map is a strong bundle isomorphism xxx s p w w covering the target map t xxx x and possessing additional properties in particular lifts a morphism x y to a linear isomorphism wx wy which is compatible with the composition of morphisms as we have seen section 8 3 w can be viewed as the object space of a category w www whose morphisms space is www xxx s p w the projection ppp www xxx ppp w defines a strong bundle moreover the pairs w i www i for i 0 1 are ep groupoids and the projections p ppp w i www i x xxx onto ep groupoids are sc smooth functors a strong bundle functor p w x p w x between strong bundles over ep groupoids is a strong bundle map w w covering the sc smooth functor x x between the ep groupoids preserving the structural maps in the sense that w w 10 5 for all w www in the more functorial description a strong bundle functor is a functor w www w www in which and are strong bundle maps covering the sc functor x x definition 10 10 a strong bundle equivalence p w x p w x between two strong bundles over ep groupoids is a linear strong bundle functor between strong bundles over ep groupoids satisfying the following properties 1 the functors w i w i for i 0 1 are equivalences between ep group oids covering the equivalence x x between the underlying ep groupoids 2 the induced maps w w and www www between the object sets and the morphism sets preserve the strong bundle structures and are locally strong bundle isomorphisms if p w x is a strong bundle over the ep groupoid x we consider w w as an object in the ep groupoid w www by definition w and w w are isomorphic if there exists a morphism p w p w xxx satisfying w w 10 6 358 10 equivalences and localization by w we denote as usual the orbit space of w whose elements are the equiva lence classes w w w is isomorphic tow a strong bundle map p w x p w x induces the continuous map w w between the orbit spaces finally we recall from section 8 3 that a sc smooth section functor f x w of the strong bundle p w x satisfies f t f s 10 7 for every morphism xxx this relation encapsulates the functoriality of the section f if xxx belongs to the isotropy group gx at x x then f x f x 10 8 this relation has an interesting consequence for the pull backs f of section functors f of the bundle w x defined at x x by the formula f x 1 f x wx provided is a strong bundle equivalence proposition 10 7 we assume that p w x p w x is a strong bundle equivalence covering the equivalence x x between ep groupoids and p w x p w x is a strong bundle equiva lence covering the equivalence x x if then f f for every sc smooth section functor f w x proof the section functor f x w satisfies by definition f x f x for every morphism x x in x abbreviating g f and f f we deduce g x f x f x f x 10 9 for every morphism x x in view of the assumption that there exists a morphism g x g x in w the vector g x belongs to the fiber w x and the vector g x belongs to the fiber w x therefore in view of 10 6 there exists a morphism x x in xxx such that 10 4 strong bundles and equivalences 359 g x g x 10 10 from 10 9 and 10 10 we deduce the relation f x g x which implies using the properties of the structure map is section 8 3 f x 1 g x 10 11 we note that 1 x x in xxx since is a strong bundle equiva lence which covers the equivalence x x between ep groupoids there exists a morphism x x in xxx satisfying 1 xxx the strong bundle equivalence preserves the structure maps therefore g x g x combining this with 10 11 leads to f x g x 10 12 since g is a section functor and x x belongs to gx we obtain in view of 10 8 g x g x and hence conclude from the previous relation that f x g x now is fiberwise an isomorphism implying that g x f x as we wanted to prove we shall prove the analogous result for push forwards for a strong bundle equiva lence p w x p w x as in proposition 10 7 we define the push forward p p of sc smooth section functors as follows by definition the equivalence is essen tially surjective hence fixing x x we find x x and a morphism x x in xxx and define the push forward f x w of the section functor f x w of the bundle p w x at the point x x by f x f x let us first make sure that this is well defined if y x and y x then 1 y x and since is an equivalence between ep groupoids we 360 10 equivalences and localization find a morphism y x satisfying 1 so that we compute using the functoriality of and the properties of the structure map f y f y f y f y f x 10 13 this proves that our definition is independent of the choices the sc smoothness of f is easily verified proposition 10 8 if and are the strong bundle equivalences of proposition 10 7 satisfying then f f for every f p proof let f p and x x we take x x and a morphism x x xxx from w w we conclude that x x implying the existence of a morphism x x in xxx then by definition f x f x and f x f x since we conclude the existence of a morphism f x f x in www hence arguing as in proposition 10 7 there exists a morphism x x in xxx such that f x f x consequently f x f x f x then 1 x x and since is an equivalence between ep groupoids we find a morphism x x in xxx satisfying 1 implying hence f x f x f x f x f x f x the proof of proposition 10 8 is complete proposition 10 9 if p p and p p are strong bundle equivalences then 10 4 strong bundles and equivalences 361 and proof we assume that the equivalence p w x p w x covers the equivalence x x between ep groupoids and the equivalence p w x p w x covers the equivalence x x between ep groupoids if f x w is a section functor and x x then by definition f x 1 f x 1 1 f x 1 f x f x next we consider push forwards we fix x x using the fact that the composition of equivalences is again an equivalence we choose x x and a morphism x x in x then by definition f x f x moreover again using that and are equivalences we find a point x x and a morphism x x in xxx and a y x and a morphism y x then f x f y and from 10 5 and the properties of the structure map we deduce f x f x f y f y f y since y x we have y x and x x the composition is a morphism between y and x we conclude in view of the independence of the choices involved in the definition of push forward 10 13 that f x f x as claimed it follows from the definitions that and are mutual inverses the transfor mations p p and p p map the subspaces of sc section functors in one bundle to the corresponding ones in the other bun dle if the sc smooth section functor f of p just viewed as a sc smooth section of the strong bundle w x over the object m polyfold is sc fredholm then the same is true for f and f this follows immediately from the definition of a sc fredholm section in part i we summarize the above results as follows 362 10 equivalences and localization theorem 10 8 if p w x and p w x are strong bundles over ep groupoids and w w is a strong bundle equivalence then the pull back and the push forward define mutually inverse bijections p p and p p if and w w are two equivalences of strong bundles satisfying then and moreover and preserve sc sections and sc fredholm sections so that p p and p p and fred p fred p and fred p fred p in order to generalize the notion of natural equivalence to strong bundle maps we consider the two strong bundles p w x and p w x over ep groupoids and the two strong bundle functors p p definition 10 11 the strong bundle functors and are called naturally equiv alent if there exists a natural transformation t w www associating with every object w w a morphism w w w in www satis fying t w h h t w for every morphism h w w in www in addition there exists a natural transforma tion x xxx of the two underlying functors and x x between ep groupoids such that p w p t w w w where p w x and p w x are the projection functors 10 4 strong bundles and equivalences 363 remark 10 4 the natural transformation between the sc smooth functors and is sc smooth by definition see definition 10 2 we seemingly did not spell out any smoothness assertion about t however as we shall see t is completely detemined by and automatically has the right sc smoothness properties recall that a strong bundle over an ep groupoid p consists of a strong bundle p w x over the object space and a lift of the morphisms to strong linear bundle maps in particular www is a natural construction associated to p it consists of the pairs w xxx w with s p w it follows from definition 10 11 that the natural transformation t w www xxx s p w covering x xxx has the form t w p w a w in view of the definition of the morphisms in www we obtain w s t w a w and w t t w p w a w so that t w p w w 10 14 w p w w we see that the strong bundle functor and the natural transformation t are uniquely determined by the strong bundle functor and the natural transforma tion we see from 10 14 and the sc smoothness properties of p and that t is necessarily an sc smoothness strong bundle map this allows us to define a natu ral transformation between the two strong bundle functors equivalently as follows definition 10 12 a natural transformation t between the strong bundle func tors p p and p p covering the underlying functors x x and x x is a strong bundle map t w xxx s p w covering a natural transformation x xxx between the functors and of the form t w p w w and satisfying w p w w from the natural equivalence we deduce that their induced maps w w 364 10 equivalences and localization between the orbit spaces agree at this point we can introduce a category whose objects are strong bundles over ep groupoids definition 10 13 the category s e p the category s e p has as objects the strong bundles over ep groupoids the morphisms are the strong bundle functors the morphism set has a distinguished subset f of strong bundle equivalences 10 5 localization in the strong bundle case next we carry out the previous localization procedure but now in the context of strong bundle equivalences as in the case of the category e p we have a distin guished class of morphisms which are the strong bundle equivalences the prepara tory material for this subsection can be found in the sections 8 3 and 10 1 the only new thing is that we need to discuss the behavior of sections under general ized strong bundle isomorphisms there will be the distinguished class f of strong bundle equivalences and following the procedure carried out for ep groupoids we shall define the new category s e p f 1 we consider two strong bundles p w x and p w x over ep groupoids and study the diagrams w w w in which p w x is a third strong bundle over an ep groupoid and where is a strong bundle equivalence and a sc smooth strong bundle functor following our earlier construction of a generalized map between ep groupoids one introduces the notion of a refinement of a diagram and then calls two diagrams equivalent if they possess a common refinement the equivalence class of the diagram d w w w is then by definition a generalized strong bundle map and denoted by d w w a diagram d w w w always covers a diagram d x x x of the underlying ep groupoids hence the generalized strong bundle map d covers the generalized map d x x between ep groupoids the generalized strong bundle map d w w w induces the map d w w 10 5 localization in the strong bundle case 365 between the orbit spaces defined by d 1 the definition does not depend on the choice of the representative diagram for d remark 10 5 given the previous discussion it is tempting to introduce the diagram d d w d w p y p y x d x 10 15 which literally however does not make too much sense since compositions are not defined nevertheless we might view 10 15 as a symbolic diagram and this is the view point we shall take clearly passing to orbit spaces it becomes a commutative diagram d for continuous maps d w d w p y p y x d x there are additional local properties of such diagrams which we shall discuss be low there is another property of the symbolic diagram namely pick x x and x x such that d x x taking a representative d x x x of d we find x and morphisms x a x and x b x these diagrams define a group homomorphism gx g x g g obtained as a composition of several homomorphisms g h a g a 1 group isomorphism h k 1 h group isomorphism k k group homomorphism b b 1 group isomorphism we also find suitable open neighborhoods u x u x u x u x and u x and a germ of equivariant sc diffeomorphisms q o x x o x x such that q g z g q z 366 10 equivalences and localization the germ q is obtained from the following diagram where all arrows are sc diffeomorphisms with the exception of are sc diffeomorphisms u x t u a s u x u x u x s u b t u x associated to the germ q there is a natural lift q w o x x w o x x which is a strong bundle map fitting into the commutative diagram of equivariant maps w o x x q w o x x p y p y o x x q o x x these are the local expressions induced by d and these are compatible with the projections p and p and define the strong bundle structures definition 10 14 the category s e p f 1 has the strong bundles over ep group oids as objects and the generalized strong bundles maps as morphisms as in the ep groupoid case a generalized strong bundle isomorphism has a particular form definition 10 15 a generalized strong bundle isomorphism d w w is an equivalence class d w w w of diagrams w w w in which both and are strong bundle equivalences so the objects are morphisms can be viewed as the following diagrams w p y x w d w p y p y x d x or in short form d w w theorem 10 8 allows to push forward or pull back sc smooth section functors by strong bundle equivalences we assume that we have a generalized strong bundle isomorphism d p p and take a representative w w w in which both maps are strong bundle equivalences for a sc smooth section functor f of the strong bundle p we define the push forward by 10 5 localization in the strong bundle case 367 d f f this definition does not depend on the choice of the diagram representing d to see this we take a second diagram w w w refining the previous one and let h w w be the refining equivalence then h and h using the propositions 10 7 10 9 we obtain f h h f h h f f since our equivalence relation is the common refinement we see that d is well defined similarly we define d g g and again this is well defined again by theorem 10 8 we see that d and d preserve sc section functors and sc fredholm functors see definition 8 7 for the different classes of sc smooth section functors hence we obtain the following the orem theorem 10 9 let p w x and p w x be two strong bundles over ep groupoids and d w w a generalized strong bundle isomorphism denote by p and p the vector spaces of sc smooth section functors then d induces a well defined isomorphism d p p its inverse is given by the inverse diagram and equals the pull back d the same assertion hold for sc section functors d p p and sc fredholm sections functors d fred p fred p moreover if d d w w are two generalized strong bundle isomorphisms inducing the same maps between orbit spaces i e d d then d d and d d we end this section by stating a result which generalizes theorem 10 7 to the strong bundle situation theorem 10 10 assume that p w x and p w x are two strong bundles over ep groupoids and d d w w are generalized strong bundle isomorphisms satisfying d d then d d 368 10 equivalences and localization proof the proof follows essentially along the lines of the proof of theorem 10 7 10 6 appendix 10 6 1 proof of theorem 10 3 we recall the statement of the theorem for the convenience of the reader theorem 10 3 let d x f a y and d y g b z be representatives of the equivalence classes d x y and d y z respec tively then the equivalence class d of the diagram d x f a a y b b z is independent of the choices of representatives in the equivalence classes d and d the equivalence class d x z is called the composition of d and d and is denoted by d d d moreover the composition is associative if d x y d y z and d z w then d d d d d d in addition d 1 x d and 1 y d d for every equivalence class d x y here 1 x is the equivalence class 1 x x 1 x x 1 x x proof assume that x f a y is a refinement of x f a y and y g b z is a refinement of y g b z so that we have the following two diagrams x f a yx h x f a y and x g b yx k x g b y 10 6 appendix 369 in which h and k are equivalences and f h f h and g k g k we claim that the diagram x f a a y b b z is a refinement of d so that d x f a a y b b yx l x f a a y b b y for an equivalence l satisfying f a f a l and b b l indeed take a b a y b then is a morphism in yyy between the points a and g b since h there exists a sc smooth map a a yyy such that a a is a morphism between the points a and h a h a in yyy similarly there exists a sc smooth map b b yyy so that b b is a morphism between g b and g k b g k b consequently b b a a 1 is a morphism in yyy between h a and k b so we define the map l a y b a y b by l a b h a b b a a 1 k b the map l is sc smooth and f a l a b f a h a b f h a f a f a a b so that f a l f a similarly b l b since f a and f a are local sc diffeomorphism also l is a local sc diffeomorphism moreover the induced maps between orbit spaces satisfy f a l f a l f a and since f a and f a are homeomorphisms the same is true for the map l a y b a y b next we show that l is faithful and full take two objects a b and a b in a y b we have to verify that the induced map mora y b a b a b mora y b l a b l a b is a bijection we take a morphism h k mora y b l a b l a b in view of the definition of l the triple h k is a morphism between h a b b a a 1 k b and h a b b a a 1 k b so that we have a following diagram 370 10 equivalences and localization h a b b a a 1 k b h y yk h a b b a a 1 k b since h and k are equivalences and hence faithful and full we find unique mor phisms h a a in a and k b b in b such that h h h and k k k then l h k h k showing that l is faithful and full we have proved that l is an equivalence and that f a l f a and b l b consequently the diagram x f a a y b b z is a refinement of d as claimed hence the equivalence class d is independent of the choice of the representatives in the equivalence classes d and d to see that the composition is associative we consider three diagrams d x f a y d y f a z and d z f a w the composition d d is represented by the diagram y f a a z a a w so that the composition d d d is represented by the diagram x f a a y a z a a a z a w 10 16 where we have denoted by the projection onto the corresponding factor of the weak fibered product a y a z a similarly the composition d d is repre sented by the diagram x f a a y a a z and the composition d d d is represented by the diagram x f a a y a a y a z a a w 10 17 where this time denotes projection onto the corresponding factor of the weak fibered product a y a z a note that a y a z a is the sub m polyfold of a yyy a zzz a consisting of points a a a in which a f a and a f a are morphisms moreover a y a z a is the same space then 10 6 appendix 371 f a a a a f a f a a ya a a a f a a a f a and a a za a a a a a a a a a a a a hence taking the identity map i a y a za a y a z a a y a z a as the equivalence the diagrams 10 16 and 10 17 are refinements of each other which implies that d d d d d d as claimed next we shall show that 1 x d d where d x f a y to see this it suffices to show that the diagram x x x x a a is a refinement of the diagram x f a y the map a x x a a is an equivalence and we only have to show that f a x we define x x a xxx by x a clearly the map is sc smooth and for every x a x x a a a is a morphism between x and f a x a f a if h k is a morphism in x x a between x a and x a then h x x k f a f a and and f k h 1 f k h 1 consequently x a x h k f a h k x a showing that the map is natural and that f a and x are naturally equivalent hence 1 x d d similarly one shows that d 1 y d the proof of theo rem 10 3 is complete 10 6 2 proof of theorem 10 4 we recall the theorem for the convenience of the reader theorem 10 4 let x y and a be ep groupoids the equivalence class a x f a g y in which f is an equivalence and g is a sc smooth functor is a generalized isomorphism if and only if the functor g is an equivalence the inverse of a generalized isomorphism a x f a g y is the equivalence class a 1 y g a f x proof 1 we first verify that the generalized map a x y given by the equiva lence class a x f a g y in which f and g are equivalences is a generalized isomorphism whose inverse is equal to a 1 y g a f x indeed the composition 372 10 equivalences and localization a 1 a y g a f x x f a g y is represented by the diagram x f 1 a y a f 2 x which is refined by the dia gram x f a f x by means of the equivalence a a y a defined by a 7 a a the diagram x f a f x refines also the identity diagram x 1 x x 1 x x via the equivalence f a x therefore a 1 a 1 x similarly one sees that a a 1 1 y so that a x y is indeed a generalized isomorphism 2 conversely we assume that a x y is a generalized isomorphism and b y x is the inverse so that b a 1 x and a b 1 y if a x f a y and b y g a x we shall verify that a y is an equivalence in view of theorem 10 3 the diagram x f a a y b b x is a representative of the class b a 1 x and the diagram y g b b x a a y is a a representative of the class a b 1 y by theorem 10 3 the sc functor b a y b x is an equivalence and the same holds for the sc functor a b x a y c 1 we claim that the functors a y and b x are equivalences in the sense of the category theory we first show that is full that is given a a a the induced map mora a a mory a a is surjective with a a a the objects a a belong to y and since g b y is essentially surjective there are b b b and morphisms g b a and g b a in view of the definition of the weak fibered product b x a the triples b a and b a belong to b x a we know that the map morb x a b a b a mory a a b a a b 10 18 induced by the equivalence a is surjective we note that the sets mory a a b a a b and mory a a are equal hence given the morphism morphism h a a we find a morphism k h morb x a b a b a such that a k h h since a k h h and by definition of the morphism k h h mora a a we conclude that the map mora a a mory a a is surjective as claimed next we show that this map is also injective take two distinct elements h h in mora a a then the morphisms h 10 6 appendix 373 and h belong to mory a a and we claim that they are distinct arguing as above we find two objects b and b b and two morphisms g b a and g b a such that b a b a b x a setting k 1 h and k 1 h we obtain two morphisms in yyy between g b and g b since the equivalence g b y is full there are morphisms k and k in b between b and b such that g k k and g k k then k h and k h are distinct morphisms in morb x a b a b a and since the map 10 18 induced by a is injective the morphisms a k h and a k h are distinct from a k h h and a k h h it follows that h and h are distinct elements of mory a a proving that the functor a y is faithful finally since the functor a b x a y is essentially surjective we conclude for a given object y y that there exists an object b a b x a and a morphism in yyy between a b a a and x but this implies that the functor a y is essentially surjective hence is an equivalence in the sense of the category theory and similar arguments show the same for the functor this finishes the proof of the claim c 1 it remains in view of lemma 10 1 to prove the following claim c 2 the sc functors a y and b x are local sc diffeomorphisms the arguments for the functors and are similar and hence we only consider the case fix a point a a and choose an object b a b x a here a a b b and b f a is a morphism in xxx since the source and the target maps s t xxx x and also the equivalence f a x are local sc diffeomorphisms we find open neighborhoods u u b of b in x v v f a of f a in x uuu uuu of in xxx and w w a of a in a such that the maps s uuu uuu u t uuu uuu v and f w w v are sc diffeomorphism let u 1 u b and define for b u b b s uuu 1 b f w 1 t s uuu 1 b then b b x a so that u b x a the map is a local sc diffeomor phism and its inverse is equal to a suitably restricted projection b b x a b since a is an equivalence the composition a u y a b f w 1 t s uuu 1 b is a local sc diffeomorphism in addition the map u a defined by b f w 1 t s uuu 1 b is a local sc diffeomorphism consequently the map a y is a local sc diffeomorphism and the claim c 2 is proved having proved the claims c 1 and c 2 it follows now from lemma 10 1 that is an equivalence the proof of theorem 10 4 is complete chapter 11 geometry up to equivalences we now study the category e p e 1 in more detail in particular we investigate how certain concepts behave with respect to equivalences and generalized maps 11 1 ep groupoids and equivalences we recall that the objects are the ep groupoids and the morphisms are the general ized maps d x y abbreviating the equivalence classes d x f a y of diagrams in which f is an equivalence and a sc smooth functor between ep groupoids the invertible generalized maps are the equivalence classes d x f a y in which both functors f and are equivalences in view of theorem 10 4 often we denote a generalized map by f x y where f d theorem 11 1 the tangent functor induces in a natural way a functor t e p e 1 e p e 1 it maps an ep groupoid x to the ep groupoid t x and a morphism d x y to the morphism t d t x ty defined by t x f a y t x t f ta t ty 375 376 11 geometry up to equivalences proof on objects we just take the tangent t x of the ep groupoid x we already know from theorem 8 1 that t x is an ep groupoid let x f a y be a rep resentative of the equivalence class d x y since f is an equivalence the sc smooth functor t f is an equivalence by theorem 10 1 and we claim that if a diagram x g b y is a refinement of the diagram x f a y then the diagram t x t g t b t ty is a refinement of the diagram t x t f ta t ty so we consider the diagram x f a yx h x g b y in which h b a is an equivalence and f h g and h we claim that t f h t f t h t g and t h t in view of theorem 10 1 the tangent functors t f t g and t h are equivalences since f h g there exists a sc smooth map b xxx such that for every x b x is a morphism g x f h x in xxx hence t t b t xxx is sc smooth and by proposition 8 1 a natural transformation t g t f t h and consequently t f t h t g the remaining argument is similar if x is an ep groupoid we denote by dx the degeneracy index map for the underlying object m polyfold if x y is a morphism then dx x dx y so that we obtain the induced degeneracy map d x x n on the orbit space x proposition 11 1 we assume that x and y are ep groupoids and dx and dy the respective degeneracy index maps and d x and d y the induced degeneracy maps let d x y be an isomorphism in e p e 1 and d x y the induced homeomorphism if d x y then dx x dy y for every x x and y y and d x x d y y proof if x x then dx x dx x since s t xxx x are local sc diffeomor phisms hence it suffices to show that dx x dy y since d x y is a gener alized isomorphism the equivalence class d is in view of proposition 10 4 repre sented by a diagram x f a g y in which f and g are equivalences by assumption 11 1 ep groupoids and equivalences 377 d x g f 1 x y let f 1 x a then f a f a x and g a g a y and since equivalences are essentially surjective there are morphisms xxx and yyy so that f a x and g a y using again the fact that s and t are local sc diffeomorphisms we find that dx x dx f a and dy y dy g a since f and g are local sc diffeomorphisms dx x dx f a da a dy g a dy y consequently dx x dy y as claimed if x is a tame m polyfold we have introduced the notion of a face it is by definition the closure of a connected component of the set x x dx x 1 see definition 2 21 the tame m polyfold was called face structured provided a point x x lies in precisely dx x many faces recall that x always lies in at most dx x many faces when we study an ep groupoid we can talk about the faces of the underlying m polyfold which is useful for certain discussions if we study ep groupoids up to equivalences we need to take the morphisms into consideration and the definition of a face in the ep groupoid sense should accommodate this fact if x is an ep groupoid and xxx we have the equality dx s dx t which we already used to define d x x n this allows us to give a more ap propriate definition of a face in the case of an ep groupoid we assume that the ep groupoid is tame so that x has reasonable geometrical properties if x is an ep groupoid and x there exists an associated full subcategory x of x associated to all objects x x with x definition 11 1 let x be a tame ep groupoid a face of x in the ep groupoid sense is the full subcategory x associated to the closure in x of a connected component of z x d x z 1 we shall call a face of x a tame ep groupoid is called face structured in the ep groupoid sense provided a point z x lies in precisely d x z many faces of x we say the tame ep groupoid x is weakly face structured provided the underlying object m polyfold is face structured example 11 1 to illustrate the definition consider the manifold with boundary with corners x c 0 2 r 2 and take as morphisms only the identities then x is a face structed ep groupoid in the second example take the same object space and we have z 2 1 1 act as follows the element 1 acts through the identity and 1 378 11 geometry up to equivalences interchanges coordinates then z 2 nc is an ep groupoid it is not face structured but weakly face structured remark 11 1 in certain contexts it is even true that face structured ep groupoids have an additional structure namely they are ordered face structured the addi tional structure is that on the set of faces there is a partial ordering which induces for an object x x a total ordering on the set of faces containing x this additional structure occurs in applications to floer theoretic problems there is a comprehensive discussion of faces of ep groupoids in 38 although in 38 we still discussed only spaces built on splicing cores the discussion applies verbatim to the tame ep groupoids considered here recall that a m polyfold build on splicing cores is automatically tame according to proposition 3 15 in 38 an equivalence x y between ep groupoids defines the natural bijections facesx facesy f saturation f facesy facesx g 1 g and 1 moreover if x is face structured then also y is face structured and vice versa consequently considering a generalized isomorphism d x a y we can define the bijections d facesx facesy and d facesy facesx by d and d they satisfy d d 1 proposition 11 2 if the tame ep groupoid x is face structured then each face f has an object set objf which is a sub m polyfold of x on which the induced structure is tame the same holds for the morphism set morx equipped with the induced structures the face f is in a natural way an ep groupoid if the intersection of two faces f and g is nonempty then it is a face in f as well as in g if x and y are tame ep groupoids and d x y is a generalized isomorphism then d induces the bijection d facesx facesy moreover for every face f in x and its corresponding face g d f in y the generalized isomorphism d induces a natural equivalence class d f f g which is a generalized isomorphism 11 1 ep groupoids and equivalences 379 proof pick a connected component in z x d x z 1 and denote by its closure in x a point x x lies in exactly d dx x many local faces of the m polyfold x if x would lie in less than d many global faces of the m polyfold x it would immediately follow that there are less than d many connected components i of z x d x z 1 with their closures i in x containing x let be any face of x in view of the previous discussion we find that an object x x lies in precisely one global face f of the m polyfold x so that f x the global faces f of the m polyfold x are closed in the m polyfold x and x consists of a disjoint union of these it has been proved in theorem 2 4 that f is a sub m polyfold with an induced tame structure since x is a disjoint union of such f we see that the object space x is a sub m polyfold and consequently the associated full subcategory is an ep groupoid if d x y is a generalized isomorphism between the tame ep groupoids x and y then it is represented by a diagram x a y in which and are equivalences if is a connected component of z x d x z 1 it follows for the homeomorphism d x y that the im age d is a connected component of q y d y q 1 since d is a homeomorphism cl y d d we therefore define d x y d and d y x d 1 clear d and d are mutually inverse to each other alternatively if f is a face of x one verifies easily that b 1 f is a face of a and in turn the saturation c of b is a face of y in other words there are natural bijections between the faces of a and those of x and y also it is clear by the above construction that the restrictions of and define the diagram f b b b c 11 1 the equivalence class e d f of this diagram is a generalized isomorphism f c by theorem 10 4 indeed the restricted functors in 11 1 are essentially surjective full and faithful and local sc diffeomorphism and hence equivalences by lemma 10 1 remark 11 2 the reader should note the following assume that x and y are ep groupoids and f x y is a generalized isomorphism if one these ep groupoids is tame and face structured the same holds for the other one the following somewhat stronger result holds true 380 11 geometry up to equivalences proposition 11 3 let x and y be tame face structured ep groupoids and f g x y two generalized isomorphisms satisfying f g then the induced bijections between the collection of faces are the same i e f g further the induced gen eralized isomorphisms f f f and g f g induce the same map f f f on the orbit spaces proof this follows from the previous discussion 11 2 sc differential forms and equivalences we next investigate the behavior of sc differential forms on ep groupoids intro duced in section 8 2 under equivalences the main result in this section is the following theorem theorem 11 2 we assume that f x y is a generalized sc smooth map between ep groupoids and that h k x y are two sc smooth generalized isomorphisms then the following holds 1 d ep x ep x and d d 0 2 there is a well defined operation of pull back f ep y ep x such that dx f f dy 3 for the generalized isomorphism h x y there is a well defined push forward h ep x ep y satisfying h dx dy h moreover with the pull back h we have that h h id and h h id 4 if the generalized isomorphisms h and k induce the same maps between orbit spaces so that h k then h k and h g for statement 1 we refer to section 8 2 the other statements of the theorem will follow from several results of independent interest where we make precise how f and h are defined we recall that the generalized map f x y is an equivalence class of diagrams x f a y in which f is an equivalence of ep groupoids and a sc smooth functor the gen eralized isomorphism is given by the same diagram in which however is also an equivalence lemma 11 1 we consider an equivalence f x y between ep groupoids and a sc differential form on x given y y 1 and h 1 hk tyy we let and yyy 1 11 2 sc differential forms and equivalences 381 be two morphisms satisfying f x y and f x y for x and x x 1 if l 1 lk txx and l 1 l k tx x satisfy t t f x l j h j t t f x l j 11 2 then x l 1 lk x l 1 l k proof we start with the morphism 1 f x f x in yyy 1 its linearization at x satisfies in view of the assumption 11 2 t t f x l j t f x l j 11 3 for all j 1 k since f is an equivalence there exists a uniquely determined morphism x x satisfying f this implies xxx 1 since yyy 1 in order to relate t and t we take for suitable open neighborhoods the sc diffeomorphisms sx uuu u x and tx uuu u x and recall the definition of t t t tx sx u 1 x by the functoriality of f f tx sx u 1 q ty f sx u 1 q ty sy u 1 f q taking the derivative in q at q x leads to t f x t t t f x consequently in view of 11 3 t f x l j t t f x l j t f x t l j this implies since t f x txx tf x y is an isomorphism that l j t l j for all j therefore using the compatibility of sc differential forms with morphisms x l 1 lk x t l 1 t l k x l 1 l k as claimed in lemma 11 1 382 11 geometry up to equivalences lemma 11 1 allows to define the push forward f ep x under an equiva lence f x y definition 11 2 the push forward of the sc differential form kep x by an equivalence f x y between ep groupoids denoted by f kep y is defined as follows if y y 1 and h 1 hk tyy we take x x 1 using that f is essentially surjective such that there is a morphism f x y then we take l j txx satisfying h j t t f x l j and define f y h 1 hk x l 1 lk in view of lemma 11 1 this is well defined and independent of the choice of the morphism in order to see that the push forward form f on y as defined above is sc smooth we recall that the equivalence f x y is by definition locally a sc diffeomorphism moreover the morphism f x y has a unique sc smooth extension to a sc diffeomorphism between properly chosen open neighborhoods u f x f u x and u y in y u f x u y the composition f u x u y is a sc diffeomorphism satisfying f x y hence the push forward of the sc smooth form on x by the equiv alence f x y is the pull pack of the form by the sc diffeomorphism f 1 u y u x f f 1 11 4 this shows sc smoothness we also note that standard arguments now imply that dy f f dx 11 5 lemma 11 2 assume that f x y and g y z are equivalences between ep groupoids then 1 g f f g 2 g f g f 3 f f and f f proof the well known formula 1 is an immediate consequence of the definition of the pull back of a form on y which is the form f on x given by f x k 1 kn f x t f x k 1 t f x kn 11 2 sc differential forms and equivalences 383 the statements 2 and 3 will follow from definition 11 2 the properties of equiv alences and the invariance of the forms we consider the sc form on x and fix z z 1 and h 1 hk tzz the composition g f x z is an equivalence and hence essentially surjective therefore there exist x x 1 and a morphism g f x z in zzz 1 taking the unique solutions l j of t t g f x l j h j we obtain by definition g f z h 1 hk x l 1 lk on the other hand if y f x we have the morphism g y z and taking the solutions t t g y l j h j which are equal to l j t f x l j we obtain by definition g f z h 1 hk f y t f x l 1 t f x lk since y f x we have the 1 morphism 1 y y y in yyy whose linearization is the identity map and get for the solution of t f x l j t f x l j which is given by l j l j again by definition f y t f x l 1 t f x lk x l 1 lk we have verified that g f g f in order to verify f f for forms on y we fix y y and h 1 hk tyy find x x and a morphism f x y in yyy with the solution l j of t t f x l j h j we get f f y h 1 hk f x l 1 lk f f x t f x l 1 t f x lk y h 1 kk where we have used that l j t f x 1 t 1 h j and also have used the invari ance of f under morphisms the second formula in 3 is verified the same way and the proof of lemma 11 2 is complete next we study the compatibility with natural equivalences lemma 11 3 let f g x y be equivalences between ep groupoids which are naturally equivalent by the natural transformation f g if is a sc differential form on x and a sc differential form on y then f g and f g 384 11 geometry up to equivalences if x y are sc smooth functors which are naturally equivalent then proof by assumption x yyy is a sc smooth map associating with every x x the morphism x f x g x such that for every morphism x x in xxx the diagram f x x g x f y g y f x x g x is commutative we choose h 1 hk tyy we take f x y and g x y which have to be on level 1 and take l 1 lk txx solving t t f x l j h j and similarly take l j in tx x satisfying t t g x l j h j by definition f h 1 hk l 1 lk and g h 1 hk l 1 l k recalling the morphism x f x g x we consider the composition g x y 1 f x x g x since y is on level 1 this is true for the data above as well the functor g is an equivalence hence we find a morphism x x satisfying g x 1 a computation similar to that in the previous lemma leads to t l j l j which implies that x l 1 lk x l 1 l k consequently f y h 1 hk g y h 1 hk proving the statement for the push forward for the pull back we start again with the morphism x f x g x in yyy so that f x s x and g x t x for all x x we choose suitable open neighborhoods such s uuu x u f x is a sc diffeomorphism then t s uuu x 1 f q g q we differentiate at q x which we assume to be on level 1 and abbreviating x we obtain 11 2 sc differential forms and equivalences 385 t g x t t f x by the compatibility of the sc differential form on y with morphisms we con clude g h 1 hk t g x h 1 t g x hk t t f x h 1 t t f x hk t f x h 1 t f x hk f h 1 hk this proves the assertion about the pull backs note that we did not use the fact that f and g are equivalences hence we can apply the same idea to the natural transformation in order to complete the proof of lemma 11 3 lemma 11 4 we consider two diagrams d x f a g y and d x f a g y in which f and f are equivalences and g g are sc smooth functors between ep groupoids and assume that h a a is an equivalence as illustrated in the dia gram d x f a g yx h d x f a g y if f h f naturally equivalent and g h g then f g f g for every sc differential form on y if in addition g and g are equivalences then g f g f for every sc differential form on x proof recalling that the composition of equivalences is an equivalence and using lemma 11 1 and lemma 11 2 we compute f g f h g f h g h f h h g f g the second part is proved the same way we recall that two diagrams in the equivalence class d x f a g y in which f is an equivalence and g a sc smooth functor between ep groupoids are equiv 386 11 geometry up to equivalences alent if they possess a common refinement therefore we are able in view of the previous lemma to introduce the pull back d for generalized maps d x y and the push forward d for generalized isomorphisms d x y between ep groupoids definition 11 3 pull back push forward by generalized maps if d x f a g y x y is a generalized map between ep groupoids then the pull back d of a sc differential form on y is the sc differential form on x defined by d f g ep x if d x f a g y x y is a generalized isomorphism i e both f and g are equivalences the push forward d of a sc differential form on x is the sc differential form on y defined by d g f ep y in view of lemma 11 4 the push forward and the pull back by generalized isomor phism are well defined i e independent of the choice of the diagram representing the equivalence class d with definition 11 1 the statements 2 and 3 of theorem 11 2 now follow from lemma 11 1 and lemma 11 2 the proof of the statement 4 in theorem 11 2 requires a preparation proposition 11 4 we assume that f g x y are equivalences between ep groupoids satisfying f g x y then for the sc differential forms on x and on y we have the identities f g and f g proof since f g proposition 10 4 implies for every x x 1 that there exists a morphism f x g x satisfying t t f x h t g x h for all h txx if is a sc differential form on y we compute using g x t t f x g x h 1 hk g x t g x h 1 t g x hk g x t t f x h 1 t t f x hk f x t f x h 1 t f x hk f x h 1 hk 11 2 sc differential forms and equivalences 387 therefore g f next we investigate the push forward we consider f and g and fix y y 1 for h 1 hk tyy we compute f by taking x x 1 and a morphism yyy 1 such that f x y then we take the solutions l 1 lk txx of t t f x l j h j and obtain by definition x l 1 lk f y h 1 hk the definition for g is similar recalling the morphism f x g x we intro duce the morphism 1 g x y and take l j tx x satisfying t t g x l j h j then by definition x l 1 l k g y h 1 hk by construction t t f x l j t t g x l j or equivalently t f x l j t 1 t g x l j by proposition 10 4 there exists a morphism f x g x such that t t f x h t g x h for all h txx hence t g x l j t t f x l j t t 1 t g x l j for all j since 1 g x g x in yyy and since g is an equivalence there exists a unique morphism x x satisfying g 1 we consider the germs ty sy uuu 1 1 and tx sx uuu 1 because g is an equivalence we must have the relationship ty sy uuu 1 1 g b g tx sx uuu 1 b for b near x differentiating in b at b x leads to t 1 t g x h t g x t h for all h txx in view of 11 3 we arrive at t g x l j t g x t l j for all j since t g x is an isomorphism l j t l j for all j 1 k from the compatibility of with morphisms we conclude 388 11 geometry up to equivalences l 1 lk t l 1 t l k l 1 l k which implies the desired equality f g the proof of proposition 11 4 is complete proposition 11 5 assume that f g x y are sc smooth generalized isomorphism satisfying f g then f g and f g proof let f x f a g y and g x f a g y we consider the two equiva lences f a x and f a x according to theorem 10 2 the associated weak fibered product a x a is an ep groupoid and the two functors f a f a a x a x are naturally equivalent moreover the functors a a x a a and a a x a a are equivalences hence the compositions f a and f a are equiva lences since two equivalences between ep groupoids which are naturally equivalent induce the same maps on the orbit spaces we have f a f a a x a x 11 6 in addition in view of lemma 11 2 f a f a using that a a id by lemma 11 2 3 we compute for a given sc differential form on x g f g a a f g a f a g a f a 11 7 considering now g a we use the assumption that g f 1 g f 1 use 11 6 and compute g a g a g f 1 f a g f 1 f a g f 1 f a g f 1 f a g a 11 3 branched ep subgroupoids and equivalences 389 consequently we can apply proposition 11 4 and obtain using 11 7 lemma 11 2 and lemma 11 1 g f g a f a g a f a g a a f g f we have verified the first assertion of proposition 11 5 the second assertion is proved the same way and the proof of proposition 11 5 is complete with proposition 11 5 also the last statement 4 in theorem 11 2 is verified so that the proof of theorem 11 2 is finally complete 11 3 branched ep subgroupoids and equivalences we shall study the behavior of branched ep subgroupoid under equivalences and generalized isomorphisms we begin with a categorical definition definition 11 4 let f x y be an equivalence between ep groupoids and x q and y q just functors 1 the pullback f x q is defined by f f 2 the push forward f x q is defined as follows for y y pick x x and yyy with s f x and t y then set f y x clearly the pull back is well defined as a functor but the push forward might de pend on the choices involved lemma 11 5 1 let f x y be an equivalence and x q a functor then f is well defined as a functor moreover f f 2 let y q be a functor then f f 3 let and be as in b and assume that f g x y are equivalences which are naturally equivalent then f g and f g proof in order to show that f is well defined assume that x x x and yyy satisfy f x y and f x y then 1 f x f x since f is an equivalence we find x x satisfy ing f 1 from this we conclude that 390 11 geometry up to equivalences x x which show that f is well defined the properties f f and f f are immediate b as well as the properties stated in 3 if f x y is a generalized isomorphism it is represented by a diagram x f a g y where f and g are equivalences we define f g f and f f g and as we shall see this is well defined independent of the diagram we picked to repre sent f indeed if we have to equivalent diagrams representing f there is a common refinement resulting in x f a g y h x x f a g y h y x f a g y here f h f g h g f h f and g h g this implies that g f g h h f g f g h f h g f so that f is well defined similarly f is well defined it is easily verified that for f x y and g y z we have the properties g f g f g f f g f 1 f the considerations so far were purely algebraic for arbitrary functors and next we consider and which are branched ep subgroupoids as we shall see this property is preserved by the generalized isomorphisms the first basic result in this section is the following theorem theorem 11 3 let f x y be a generalized isomorphism between two ep groupoids 1 if x q is a branched ep subgroupoid then f y q is a branched ep subgroupoid 11 3 branched ep subgroupoids and equivalences 391 2 if if y q is a branched ep subgroupoid then f x q is a branched ep subgroupoid moreover the following holds for the maps f and f 3 if and are closed see definition 9 2 i so are f and f 4 if and are compact see definition 9 2 ii so are f and f 5 the maps f and f also preserve the property of being of manifold type or orbifold type respectively for the definitions see definition 9 3 6 the maps f and f also preserve the dimensional decomposition given in propo sition 9 2 proof the basic considerations which lead to the desired results are concerned with the behavior of branched ep subgroupoids with respect to equivalences f x y first consider f f let x supp f we find open neighborhoods u x and u f x so that f u x u f x is an sc diffeomorphism and is represented on u f x by a local branching structure m i i i i i i i e y i i y m i i for y u f x using f u x we can pull back the m i defining mi f u x 1 m i we keep the weights then f z f z i i z mi i for z u x this shows that f is a branched ep subgroupoid next we consider f pick y supp f we find x supp and a morphism f x y the local sc diffeomorphism between neighborhoods of f x and y will map a local branching structure around f x to a local branching structure around y since f is a local sc diffeomorphisms a local branching structure around x is mapped to one around f x using f and we can map a local branching structure around x for to one around y for f if f is represented by d x f a g y then f g f which implies that f is a branched ep subgroupoid sim ilarly for f f g in view of the previous discussion this completes the proofs of 1 and 2 a branched ep subgroupoid x q defines a map x q defined by x x we note the identity f f 1 392 11 geometry up to equivalences if z x z 0 is closed or compact the same holds for f q y f q 0 a similar argument holds for f this proves 3 and 4 if or only takes the values 0 and 1 the same holds for f and f this proves that f and f preserve the property of having orbifold type assume that between two objects x x supp there are is at most one morphism let y y supp f if there exist two different morphisms y y it follows that there exists a nontrivial morphism y y if f x y it follows that 1 f x f x is a nontrivial isomorphism then x x with f 1 is nontrivial and x supp which gives a contradiction the same argument works for f hence f and f preserves manifold type the point 4 is trivial this completes the proof of the theorem next we consider the behavior of orientations we begin with a quite algebraic con sideration consider the ep groupoids x and y with associated x g r x x and y g r y y denote by x and x the space of section functors no continuity requirement assume that f x y is an equivalence of ep groupoids we define maps f x y and f y x as follows given h x we set h f h y by h y t t f x h x 11 8 where f x y since f is an equivalence we find for given y y such an x and the map t t f x txx tyy is a linear sc isomorphism which maps the formal finite sum in the obvious way since h is functorial and f an equivalence the definition does not depend on the choices involved if f g x y are naturally equivalent functors one immediately deduces that g h f h similarly we can define for h y the element h f h by t f x h x h f x 11 9 and again for naturally equivalent f and g it holds that f h g h next consider a generalized isomorphism f x y it is represented by an equiva lence of diagrams where the equivalence is defined by common refinement from our discussion above it follows immediately that if f is represented by a diagram d x f a g y then f h g f h and f h f g h are well defined and do not depend on the specific choice of representative diagram hence we have proved lemma 11 6 given a generalized isomorphism f x y between ep groupoids there are well defined maps 11 3 branched ep subgroupoids and equivalences 393 f x y and f y x such hat f 1 f if g y z is another generalized isomorphism then g f g f and g f f g if f is represented by the diagram d x f a g y then f g f and f f g where for an equivalence the push forward and pullback are defined by 11 8 and 11 9 respectively given an oriented x q the associated t is a section functor in x if f x y is a generalized isomorphism one would like to equip the branched ep subgroupoid f with f t y the only thing one needs to check is that it has the local representation property so that it is indeed an orientation similarly there is a construction involving f our second main result in this section is the following theorem theorem 11 4 let f x y be a generalized isomorphism and t an ori ented branched ep subgroupoid on x and t an oriented branched ep subgroupoid on y then f t is an orientation for f and f t an orientation for f proof the following arguments show that f t and f t are locally representable by the tangents of oriented local branching structures let t x g r x be an orientation for x q we already know that f y q is a branched ep subgroupoid when f x y is an equivalence we define f t y g r y as follows for y y we take x x so that f x y pick an isomorphism f x y and pick open neighborhoods u x v f x and v y so that f u x v f x and v f x v y are sc diffeomorphisms and u x supports an oriented branching structure mi oi i i i i i representing and t we map this data by the sc diffeomorphism f u x to obtain m i o i f mi oi and we keep the weights then for z v y we define f t z i i z mi i tz m i o i again this definition involves choices and we have to show that the definition does not depend on them hence assume f x y and pick a local branching structure on u x representing near x the oriented we denote it by n j o j j j 394 11 geometry up to equivalences j j j then x and x are isomorphic by x x defined by we can map the latter local branching structure via to a neighborhood of x where it will represent the oriented after perhaps restricting u x we map it via and obtain another local branching structure near y it is clear that near y it defines the same expression of course the result is the same as using f u x and this shows that f t is well defined assume next that f g x y are equivalences which are naturally isomorphic f g clearly f g and by an argument as above we also see that f t g t assume that y q is a branched ep subgroupoid and f x y an equiva lence the orientation of f is defined by f t x g r x as follows given x x we pick open neighborhoods u x and v f x so that f u x v f x is an sc diffeomorphism if v y is small enough we take an oriented local branch ing structure and its preimage this will define f t over u x assume that f g x y are equivalences which are naturally equivalent by a natural transfor mation clearly g f and f t g t if f x y is a generalized isomorphism it follows from the previous discussion that taking any representative diagram d x f a g y the expressions g f t and g f t are well defined and do not depend on the particular choice of the representatives hence f t and f t are well defined our discussion shows that orientations can be transformed by generalized isomorphisms in view of theorem 11 4 we can make the following definition definition 11 5 let t x q and y q be oriented branched ep subgroupoids assume that f x y is a generalized isomorphism then f and f are defined by f f f t f f f t if f x y and g y z are generalized isomorphisms its is clear from the defi nition that the operations on the oriented branched ep subgroupoids have the fol lowing functorial property g f g f and g f f g 11 10 f f and f f 11 3 branched ep subgroupoids and equivalences 395 next we consider the tangent of x q and its behavior under equivalences theorem 11 5 let f x y be a generalized isomorphism and x q and y q branched ep subgroupoids then t f t t f and t f t t f proof if f x y is a generalized isomorphism which is representable by the diagram d x f a g y then we obtain the generalized isomorphism t f t x ty by t f t d t x t f ta t g ty recalling that t is locally represented by the tangents of the manifolds occurring in the local branching structure the result is easily established we leave the further details to the reader next we study the relationship between the boundary construction and the maps f and f we shall prove the following result theorem 11 6 let f x y be a generalized isomorphism between ep groupoids assume that x q and y q are branched ep subgroupoids with associated boundaries and then we have the equalities f f 11 11 f f proof in order to do so we have to understand as before the behavior with respect to equivalences f x y as well as g x y provided f and g are naturally equivalent the basic idea is as before that the local branching structures can be moved around by equivalences and the local sc diffeomorphism associated to a morphism if m x is a submanifold and x m we can move small neighbor hoods around in the same way and not that dm x is being preserved the proof of the theorem follows from these considerations and is left to the reader let x q be an oriented tame branched ep subgroupoid then we have seen that has a natural orientation t so that we can define see defini tion 9 11 the section t can be pushed forward or pulled back by a generalized isomorphism according to the following theorem these procedures define the cor responding orientations for the transformed theorem 11 7 let f x y be a generalized isomorphism between ep groupoids and x q and y q oriented tame branched ep subgroupoids then the following formulae hold 396 11 geometry up to equivalences f f f f we leave the proof which follows the lines of previous proofs in this section to the reader 11 4 equivalences and integration the ingredients for integration sc differential forms and oriented branched ep subgroupoids behave well under equivalences recall the statement of theorem 9 2 which asserts that given an ep groupoid x we can associate to an oriented tame compact branched ep subgroupoid x q of dimension n a natural linear map n x m s l s where s supp associating to an sc differential n form a signed measure theorem 11 8 transformation of canonical measures assume that f x y is a generalized isomorphism between two ep groupoids and x q and y q are oriented tame compact branched ep subgroupoids of dimension n suppose further that and are sc differential forms on x and y respectively of degree n then for a measurable subset k of supp k f f f k and f f k f k with the obvious notation we can rewrite this more suggestively as f f f and f f f the theorem will be proved later remark 11 3 an obvious consequence of this result is the following fact which will be elaborated on further in chapter 16 let z be a metrizable space and con sider a pair x where x is an ep groupoid and x z is a homeomorphism we shall refer to such a pair x as a polyfold structure on the metrizable space z given another such pair x we say that it defines an equivalent polyfold structure on z provided there exists a generalized isomorphism f x x satisfy ing 11 4 equivalences and integration 397 f with other words f 1 hence x and x are equivalent if the transition map 1 x x is induced by a generalized isomorphism f x x recall that f g implies that f g see theorem 10 7 which implies that f is unique we explain this concept in a special case let x be an e tale proper lie groupoid so that between two objects there are is at most one morphism it is an easy exercise that x has a classical natural smooth manifold structure assume that z is a metrizable topological space and x z a homeomorphism then we can equip z with the unique smooth manifold structure making a diffeomorphism if x is similar and the transition map is induced from a generalized isomorphism f it means that the smooth manifold structure induced on z is the same as that coming from x hence the formalism in the more general case can be viewed as a generalization of the definition of a smooth manifold in fact it is a generalization of the concept of an orbifold with boundary and corners a manifold is a special case a metrizable space equipped with an equivalence class of polyfold structures is called a polyfold a polyfold z is the generalization of an orbifold to the sc smooth world there are several concepts which can be carried over to polyfolds for example a differential form on z is an equivalence class x here is an sc differential form on x and x x provided for a generalized isomorphism f x x with f it holds that f we can also define branched sub polyfold of z as an equivalence class x with the obvious notion of equiv alence similarly the notions of being compact closed tame and oriented carry over if x is an oriented compact tame branched n dimensional sub polyfold and x an sc differential n form on z we can consider the support s of 1 z q which call the support of x and which is defined inde pendently of the representative which we picked then we can defined the lebesgue algebra l s and the vector spaces of signed measures m s l s we can as sociate to x and x the signed measure x x the upshot is that all notions which transform well under equivalences define intrinsic objects on the polyfold z there is a version of theorem 11 8 for the boundary case which relies on theorem 9 3 theorem 11 9 transformation of canonical boundary measures assume that f x y is a generalized isomorphism between two ep groupoids and x q and y q are oriented tame compact branched ep subgroupoids of dimension n suppose further that and are sc differential forms on x and y respectively of degree n 1 then on supp 398 11 geometry up to equivalences f f f and f f f with the obvious notation we can rewrite this more suggestively as f f f and f f f proof theorem 11 8 consider the case where f x y is an equivalence be tween two ep groupoids let x supp and consider open neighborhoods u x and u f x such that f u x u f x is an sc diffeomorphism and both neighborhoods have the properness property allow the natural actions we assume that u x is equipped with an oriented local branching structures mi oi i i i i i so that y i i y mi i for y u x we equip u f x with the branching structure obtained via f u x and denote the associated submanifolds by m i o i i i we compute k 1 geffx i i i ki 11 12 1 gefff x i i i f ki f 11 13 f f f k this shows that the homeomorphism f x y relates locally the measures and f f since measures are additive it follows that f f f there is a similar relationship involving pull backs and the proof follows the same lines f f f given the generalized isomorphism f x y take a representative diagram x f a g y we compute f g f g f f g f g f f f the pull back formula is established in the same way 11 5 strong bundles up to equivalence 399 proof theorem 11 9 the considerations are very similar to those in the roof of theorem 11 8 using a local branching structure at a point x in supp we es tablish for equivalences that the measures agree locally this step corresponds to 11 12 the rest is formally as in the proof of theorem 11 8 the details are left to the reader 11 5 strong bundles up to equivalence for the following developments we have to study the behavior of various concepts introduced above under generalized strong bundle maps in other words we have to carry out some strong bundle geometry up to equivalence this is similar to the case of ep groupoids added are the sc smooth section functors we begin by recalling theorem 10 9 from chapter 10 theorem 10 9 let p w x and p w x be two strong bundles over ep groupoids and d w w a generalized strong bundle isomorphism de note by p and p the vector spaces of sc smooth section functors then d induces a well defined isomorphism d p p its inverse is given by the inverse diagram and equals the pull back d the same assertion hold for sc section functors d p p and sc fredholm sections functors d fred p fred p moreover if d d w w are two generalized strong bundle isomorphisms inducing the same maps between orbit spaces i e d d then d d and d d next we show that generalized isomorphisms map auxiliary norms to auxiliary norms proposition 11 6 let p w x and p w x be strong bundles over ep groupoids and d w w a generalized strong bundle isomorphism given an auxiliary norm n for p w x there is a well defined pull back n d n which is an auxiliary norm for p similarly there is a push forward d n defining an auxiliary norm on p moreover d d n n and d d n n 400 11 geometry up to equivalences in addition if d and d w w satisfy d d then d n d n and d n d n proof in order to define the auxiliary norm n d n we choose a representative d w w w and take e w 0 1 since is a strong bundle equivalence we find e w 0 1 and a morphism e e then we define n e n e as one easily verifies the definition does not depend on the choices involved since n is a functor w r moreover it follows from the definition that d n d n provided d d we can also go in the reverse direction to define the push forward and derive the desired results the sc multisections behave nicely too under generalized strong bundle isomor phisms as we shall see next in order to define the pull back and push forward of sc multisections we con sider the equivalence w w between the strong bundles p w x and p w x covering the equivalence x x between the underlying ep groupoids the pull back of the sc multisection w q is the multisection w q defined by w w w w w the push forward of the sc multisection w q at the point w w is defined as follows using that the equivalence is essentially surjective we find a point w w and a morphism w www w w w w w here xxx is the underlying morphism x x where x pw x and x p w x the push forward of the sc multisection w q is defined as the sc multisection w q w w w it is independent of the choices of w and morphism w w indeed if w 0 w and w 0 w is a second morphism in www we obtain the morphism w w 0 in w and hence a morphism w w 0 in www and conclude by the functoriality of that w w 0 lemma 11 7 is a functor proof given a morphism w 1 w 2 in w we have to show that w 1 w 2 there are w 1 w 2 w and morphisms w 1 w 1 and w 2 w 2 in www since w 1 w 2 is a morphism there exists also a morphism w 1 w 2 since 11 6 coverings and equivalences 401 is an equivalence there exists a morphism w 1 w 2 in www and therefore w 1 w 2 in view of the functoriality of hence by definition of w 1 w 1 w 2 w 2 to obtain a local section structure s i i around x x we take a point x x and the morphism x x in xxx from above take the local section structure si i of around x define i i and s i x si x and use that extends to a unique local sc diffeomorphism by t s 1 by construction for every sc mulitisection w q if d w w w is a generalized strong bundle isomorphism covering the generalized isomorphism d x x x we choose a representative diagram and define the push forward d as the sc multisection d w q the definition does not depend on the choice of the diagram proposition 11 7 let p w x and p w x be strong bundles over ep groupoids and d w w a generalized strong bundle isomorphism given a sc multisection for p there exists a well defined push forward d and for a sc multisection for p a well defined pull back d these operations are mutually inverse moreover if d d w w are generalized strong bundle maps satisfying d d then the push forward and pullback operations for sc multisections are the same the proof follows from previously established properties 11 6 coverings and equivalences we study proper coverings up to equivalence we recall that a proper covering func tor f y x between ep groupoids is a sc smooth functor such that 1 the sc smooth map f between the object m polyfolds is a surjective local sc diffeomorphism 2 the preimage f 1 x of every object x x is finite and there exist open neigh borhoods u x of x and u y for every y f 1 x such that f u y u x is 402 11 geometry up to equivalences a sc diffeomorphism and f 1 u x y f 1 x u y 3 the map yyy xs fy 7 f s is a sc diffeomorphism denote for an object x x by y x the full subcategory of y generated by the finitely many objects in f 1 x we can define a group action of gx on y x as follows for g gx and y y x we define g y t where g y assuming that 1 g 1 y and 2 g 2 t 1 we see that f 1 g 1 s 1 y f 2 g 2 and s 2 t 1 there exists a unique 3 such that f 3 g 2 g 1 and s 3 y we note that s 2 1 s 1 y which implies that 3 2 1 by uniqueness consequently defining g y t 1 g y we compute g 2 g 1 y t 3 t 2 1 t 2 g 2 t 1 g 2 g 1 y moreover 1 y t 1 y y hence we can build the translation groupoid gxnyx the morphisms are the pairs g y with s g y y and t g y g y the composition of g 2 y 2 and g 1 y 1 is defined if y 2 g y 1 and in this case g 2 y 2 g 1 y 1 g 2 g 1 y 1 the category y x is isomorphic to the category gx nyx by the functor which on objects is the identity y x y x and on morphisms indeed by construction 1 y 1 x y and 2 1 f 2 1 s 1 f 2 f 1 s 1 we note that f 1 s 1 t 1 s 2 hence 2 1 f 2 s 2 f 2 s 1 2 1 hence we have proved lemma 11 8 let f y x be a proper covering functor between ep groupoids then for every object x x the full subcategory y x generated by the objects in f 1 x can be naturally identified with the translation groupoid gx nyx for a natu rally defined action gx yx yx g y g y t 1 g y the identification of y x yyy x gx ny x is given by the identity on objects and by the map on morphisms every morphism x x defines an equivalence of categories as follows 11 6 coverings and equivalences 403 lemma 11 9 let x x be a morphism in xxx then induces an equivariant map b y x y x and consequently an equivalence of translation groupoids which is bijective on objects and morphisms gx ny x gx ny x g y g 1 b y the map b y x y x is defined by b y t where f and s y the map 1 y x yyy x y x yyy x is a natural equivalence of categories associated to x x proof given x x there is an induced equivariant bijection b yx yx de fined by b y t 1 y the equivariance is obtained as follows we consider g y gx y x and x x and compute b g y as follows we take 1 yyy with f 1 and s 1 g y t 2 where f 2 g and s 2 y then 1 2 is well defined and s 1 2 s 2 y moreover f 1 2 g hence b g y t 1 t 1 2 b g y the morphism x x determines the group isomorphism gx gx given by g g 1 hence g g consequently b g y b g y by definition b g y t 3 with f 3 g and s 3 y pick 4 with f 4 g and s 4 b y we also take 5 with f 5 and s 5 y then 3 4 5 which implies b g y t 3 t 4 g b y bringing everything together we obtain g b y b g y 404 11 geometry up to equivalences given two proper covering functors f y x and f y x assume we are given a pair of functors and making the following diagram commutative y y f y f y x x for objects x x and x x denote by y x and y x the full subcategories gen erated by the finitely many objects in f 1 x and f 1 x respectively the maps and define bijective equivalences of categories yyy x gx ny x f s and yyy x gx ny x f s from the commutative diagram we infer that induces a functor y x y x definition 11 6 let f y x and f y x be two proper covering functors 1 for a pair of sc smooth functors fitting into the commutative diagram y y f y f y x x we say that is an sc smooth functor between proper coverings f and f written as f f 2 an equivalence between proper covering functors is an sc smooth functor f f so that and are equivalences of ep groupoids and for every object x x with x x the functor y x y x is a bijection on objects we note that there is a subclass of functors in 1 for which y x y x is a bijection on objects for every x x assume that f f is an equivalence between proper coverings and f f an sc smooth functor take the weak fibered products of ep groupoids associated to the diagrams y y y x x x 11 6 coverings and equivalences 405 we obtain p y y y and q x x x for y y y y y we consider f y f f y and note that f y f y f s s f and f y f y f t t f so that f y f f y x x x we abbreviate h p q where h y y f y f f y before we give the main result we need to introduce the notion of a natural transformation in our context definition 11 7 let f and f be proper covering functors and f f a functor between proper coverings a natural transformation is a pairs y x of natural transformations y y yyy and x x xxx of ep groupoids y and x so that x f fff y we shall write if y y we have the morphisms y y y y so that for any morphism y 1 y 2 the diagram y 1 y 2 y y 1 y y y 2 y y 1 y 2 applying fff to the diagram we obtain the following diagram where xi f yi x 1 fff x 2 x x 1 y x x 2 y x 1 fff x 2 the following is the main result in this section theorem 11 10 assume that f f is an equivalence between proper coverings and f f an sc smooth functor between proper cover ings with the ep groupoids p and q defined as the weak fibered products p y y 406 11 geometry up to equivalences and q x x x the functor h p q defined by h y y f y f f y the following holds 1 the functor h is well defined and a proper covering functor 2 the functor pair y x h f is an equivalence of proper covering func tors 3 the functor pairs y x h f and y x h f between proper coverings are naturally equivalent moreover if x is a tame ep groupoid so that trivially y is tame it holds that p and q are tame ep groupoids if is also an equivalence between proper coverings then the pair of projections y x is an equivalence as well proof the lengthy proof is divided into several steps a h is well defined on morphisms hence h is a well defined functor between ep groupoids h p q moreover h is sc smooth the morphism space ppp associated to p y y y consists of all tuples yyy yyy yyy satisfying s s applying h which by definition is f f f we compute that s f s f s f s f s f f s f t t f hence s f f s f this shows that h p q is a well defined functor since f f and f are sc smooth the same holds for h b h is surjective on objects pick x x q then x x since f is a proper covering functor we can pick y y such that f y x since f y f y x t s 1 there exists a unique 1 with f 1 1 and s 1 y clearly f and t y consider s and note that f s s f s x since f f is an equivalence between proper covering functors we know that 11 6 coverings and equivalences 407 y x y x is a bijection since s y x we find a unique y y x with y s consequently y y p and h y y x x next we consider ppp qqqs hp defined by h s s c the map is an sc diffeomorphism it is clear that is sc smooth we can write as f f f s s note that s f f s s f f s and s f f s let us first show that is a bijection so assume we are given y y in qqqs hp hence s s and y y and moreover f y f f y s s since f y s there exists a unique with f and s y and similarly there exists a unique with f and s y since f y s we compute s s y t and s s y t consequently ppp and y y the uniqueness of choices of and in the previous construction shows that is also injective next we need to show that is a local sc diffeomorphism for this it suffices to analyze the sc smoothness of the previous construction in the surjectivity proof assume that 0 0 0 y 0 0 y 0 in qqqs hp is given varying y sc smoothly near y 0 the data y varies sc smoothly using that t is an sc diffeomorphism there is a unique y near 0 with t y y then s y varies sc smoothly in y and since is an equivalence we find y y y near y 0 varying sc smoothly in y with 408 11 geometry up to equivalences y y s y hence we obtain the sc smooth map defined near y 0 and given by y y y y y this map is also a local sc diffeomorphism onto an open neighborhood in p of the point y 0 0 y 0 moreover the map y h y y y y is sc smooth into p and maps y 0 to y 0 0 y 0 the source map s qqq q is a local sc diffeomorphism and we obtain uniquely defined sc smooth maps defined for y near y 0 y y y y q with y 0 y 0 y 0 0 0 0 so that s y y y h y y y y hence we have the sc smooth map defined for y near y 0 with image in qqqs hp defined by y y y y y y y y since f y y s y we define y 1 y y y and observe that it is depending sc smoothly on y similarly using that f y s y we obtain the sc smooth y y 1 y y the same gives also y satis fying f y y and s y y y hence we obtain the sc smooth map y y y y in yyy yyy yyy by construction the image lies in the sub m polyfold ppp define y y y y y y y y y y we note that y y y y y y y y y y y y y y where the right hand side is an sc smooth coordinate depending on y and is sc smooth this shows that is an sc diffeomorphism d h p q is a local sc diffeomorphism on objects let x 0 0 x 0 q for x near x 0 we have the sc smooth coordinates x x x x x where x 0 0 and t x x with x s x being sc smooth and being an equivalence we find x x such that x x s x x pick any point y 0 0 y 0 with h y 0 0 y 0 x 0 0 x 0 using f we find sc smooth x y x with f y x x and similarly using f we find y x with f y x x x we note that 11 6 coverings and equivalences 409 s x x x f y x f y x we find x such that f x x and s x y x then y x x y x depends sc smoothly on x and is a local inverse for h e y x f f f f is an equivalence of proper covering functors we know from the constructions in the ep groupoid framework that y y y y y and x x x x x are equivalences of ep groupoids we compute on objects x h y y x f y f f y f y f y y y and similarly on morphisms so that we have the commutative diagram of functors p y y y y y h y f y q x x x x x consider q q and the associated p q and pick any y y x q with q x x and y y x then f y x and we find since t x f y f y a unique yyy with f and t y since x s s f f s we can consider y x y x an by the properties of there exists a unique y y x with y s then y y p q and y y y y this shows that y p q y x q is surjective and the uniqueness assertions during the proof show that the map is a bijection f the functor pairs y x and y x are naturally equivalent as functors h f we define p p yyy and q q xxx as follows p y y q x x we compute fff p y y fff q f y fff f y q h y y hence p q is compatible with h and f in the sense that fff p q h we compute further that 410 11 geometry up to equivalences y y y y y y y y which means since y y y that p y y similarly we show that q x x hence p q y x y x as claimed the assertions about tameness are trivial if x is tame i e the objects m polyfold is tame then with s and t being local sc diffeomorphsims the morphism space xxx is tame since the object space x x x is locally sc diffeomorphic to x it is tame and then the same holds for the associated morphism space since f y x is a proper covering functor it is a surjective local sc diffeomorphism implying the tameness for the object space y and then by the standard argument for the morphism space the same argument which we used for x x x implies that y y y is tame consider the category pc of proper coverings between ep groupoids and the func tors defined above as morphisms then we have the special collection e epc of equivalences and as in the ep groupoid case we can pass to the category pc e 1 i e carry out the localization at epc the procedure is similar as in the ep groupoid case and we just sketch the basic points and leave details to the reader as before the new category pc e 1 has the same objects as the category pc in order to define the morphisms in the new category we consider diagrams d f a f where f a and f are proper coverings of ep groupoids an equivalence of proper coverings and a functor between proper coverings we shall call d a diagram from f to f and we shall write d f f definition 11 8 assume we are given two diagrams d d f f between proper coverings a common refinement for the diagrams d d f f is given by equiv alences h a a and h a a giving the diagram f a f h x a h y f a f so that h h and h h 11 6 coverings and equivalences 411 having a common refinement defines an equivalence relation as the following proposition shows proposition 11 8 assume that d d d f f are diagrams between proper cov erings if d and d have a common refinement and d d have a common refinement then d d have a common refinement proof we consider the diagrams f a f h x a h y f a f f a f k x b k y f b f by assumption h h h h k k k k we take the weak fibered product associated to a h a k b resulting in a a b in view of theorem 11 10 the projections a and b are equivalences between proper coverings since h and k are equivalences moreover again by theorem 11 10 h a k b consider f a f h a x a a b k b y f b f we note that h a h a k b k b and h a h a k b 412 11 geometry up to equivalences this concludes the proof that having a common refinement defines an equivalence relation the morphisms in our new category pc e 1 will be the equivalence classes d of diagrams we need to define a composition as in the ep groupoid case we define for d f f and d f f the composition d d f f as follows writing more precisely f a f a f we take the weak fibered product a f a associated to the part a f a and define a new diagram d by d f a a f a a f as in the ep groupoid case the equivalence class of the diagram d is independent of the representatives picked in d and d hence we define d d d the identities in the new category are given by f 1 f f 1 f f and the inverses to f a f by f a f the verifications are purely formal and follow the scheme used in the ep groupoid case there exists a natural functor i pc pc e 1 which is the identity on objects and on morphisms f f is defined by i f 1 f f f remark 11 4 we can go one step further and incorporate strong bundles the fol lowing discussion uses the results from section 8 4 and section 10 4 recall from section 8 4 the definition of proper strong bundle covering functors see definition 8 10 let w and v be strong bundles over ep groupoids y and x respectively a proper strong bundle covering functor is a strong bundle map a in particular fiberwise linear for which the diagram w a v p y q y y f x 11 14 is commutative and which has the following additional properties 11 6 coverings and equivalences 413 1 a is surjective and a local strong bundle isomorphism covering a sc smooth proper covering functor f y x 2 the preimage f 1 x of every object x x is finite and there exist open neigh borhoods u x x and u y y for every y f 1 x where the sets u y are mutually disjoint such that the map a w u y v u x is a strong bundle isomorphism for every y f 1 x and f 1 u x y f 1 x u y 3 the map www vvv s aw w f a w w is a strong bundle isomorphism covering the sc diffeomorphism yyy xxx s fy f s here the strong bundle projection vvv s aw xxx s fy is given by v w p w for the economy of notation we shall introduce the following notation a proper strong bundle covering a refers to a w v and the rest of the data in the di agram 11 14 is implicitly assumed sometimes we shall write instead of a more comprehensively a f to emphasize the underlying proper covering between ep groupoids if we need to reveal for an argument more data we use the full diagram 11 14 there is a category s bpc where the objects are proper coverings between strong bundles a and the morphisms are pairs of functors a a a there is a again a natural notion of equivalence and one can carry out the associated localization procedure resulting in s bpc e 1 s bpc the details are left to the reader part iii fredholm theory in ep groupoids in this part we bring the sc fredholm theory into the context of ep groupoids we in troduce sc multisections and prove associated extension results we introduce the integration results in the ep groupoid context and discuss orientation and transver sality questions the core of part iii consists of the chapters 12 to 15 and extends the work in 37 38 39 40 in chapter 16 we explore the previous study of the notions which are invariant under equivalences this leads to the generalization of the usual finite dimensional theory of orbifolds and their bundles to the m polyfold framework the results are immediate consequences of the discussion in the core chapters and we allow our selves to be brief in fact we restrict ourselves to ourselves to the basic notions and some sample results the reader is encouraged to bring other results into this framework the origin of 16 is in the paper 38 chapter 12 sc fredholm sections we shall develop the sc fredholm theory for sc fredholm section functors f this means we shall discuss their compactness properties and develop a transversality and perturbation theory the functorial property of f means that f locally respects certain symmetries it is a known fact that symmetry and transversality are antag onistic concepts i e in general it is impossible to achieve transversality by using perturbations respecting symmetries for this reason we have to develop a multi valued perturbation theory 12 1 introduction and basic definition the definition of an sc fredholm section follows immediately from the definitions in the m polyfold case see definition 3 7 we shall consider a strong bundle over an ep groupoid p w x and an sc smooth section functor f x w definition 12 1 the sc smooth section functor f of p is said to be a sc fredholm section functor provided f as an sc smooth section of the strong bundle w x over the m polyfold x the object space is sc fredholm this means in particular that f is regularizing in the following sense if x is an object in xm and f x wm m 1 then x xm 1 the regularizing property for mor phisms holds as well to see this assume that x y is a morphism in xxxm and f www m m 1 using f s s f we see that s xm 1 implying that xxxm 1 moreover for every smooth object x x the germ f x has a filled ver sion g 0 so that g s 0 for a suitable local sc section is conjugated to a basic germ in the following discussion we shall introduce the functor versions of the concepts already appearing in the m polyfold version of the sc fredholm theory 417 418 12 sc fredholm sections 12 2 auxiliary norms in part i we have introduced the notion of an auxiliary norm for an m polyfold in this section we generalize this concept to ep groupoids by incorporating morphisms the additional requirement is the compatibility with morphisms definition 12 2 auxiliary norm let p w x be a strong bundle over an ep groupoid according to definition 8 4 we denote by w 0 1 the topological space defined by w 0 1 h w h has bi regularity 0 1 and by p w 0 1 x the projection onto the object space x the fibers p 1 x are as usual banach spaces an auxiliary norm n for p is a continuous map n w 0 1 0 having the following properties 1 the restriction of n to each fiber p 1 x is a complete norm 2 if hk is a sequence in w 0 1 such that p hk converges in x to some x and n hk 0 then hk 0 x in w 0 1 3 if h k for x and k w 0 1 satisfying s p k then n h n k if we ignore the compatibility with morphisms for the moment it is easy to construct an auxiliary norm locally see part i however in order to construct an auxiliary norm globally we need partitions of unity and we have to incorporate the compati bility with morphisms these partitions of unity do not have to be sc smooth since we do not require n to have smoothness properties nevertheless we need their ex istence and therefore have to assume paracompactness of the orbit space x the main result in this section guarantees an auxiliary norm for strong bundles over ep groupoids whose orbit spaces are paracompact theorem 12 1 every strong bundle p w x over an ep groupoid x with para compact orbit space x admits an auxiliary norm the proof requires some preparation and we start with continuous partitions of unity recall that a subset a of an ep groupoid x is saturated provided a 1 a where x x is the quotient map definition 12 3 let x be an ep groupoid with paracompact orbit space x a con tinuous partition of unity of the ep groupoid x consists of a family of continuous functions x 0 1 defined on the object space x and possessing the following properties 12 2 auxiliary norms 419 1 if there exists a morphism x y then x y for all 2 for every point x x there exists a saturated open neighborhood u x such that there are only finitely many indices for which supp u x 6 0 3 x 1 for every x x the sum is locally finite in view of property 2 the existence of a continuous partition of unity for the ep groupoid x is equiva lent to the existence of such a partition on the orbit space x indeed if is a continuous partition of unity for x then is one for x conversely a continuous partition of unity for x descends in view of 1 to one on the quotient space x definition 12 4 given an open cover u of saturated sets for the ep groupoid x a subordinate continuous partition of unity is a continuous partition of unity for the ep groupoid x indexed by the same set say some of the functions might vanish such that supp u for all proposition 12 1 consider an ep groupoid x with paracompact orbit space x then for every open cover by saturated sets there exists an subordinate continuous partition of unity for the object m polyfold x proof if u is an open cover of saturated sets then u is an open cover of x and we can take a subordinate continuous partition of unity then is the desired partition of unity on x where some of the functions may vanish identically in order to construct the auxiliary norm the neighborhoods have to be chosen care fully this is accomplished by the following theorem which will be used quite fre quently we shall refer to the theorem as the good neighborhood theorem theorem 12 2 good neighborhood theorem let p w x be a strong bundle over an ep groupoid x then every object x x possesses open neighborhoods u x and u x having the following properties 1 clx u x u x 2 u x admits the natural gx action defined by which leaves u x invariant i e g u x u x for all g gx 3 w u x is strong bundle isomorphic to a local model k o where we use the local models o c e and k u f e f 4 a sequence of morphisms k x satisfying s k clx u x and t k z x possesses a subsequence converging to x satisfying s clx u x and t z 420 12 sc fredholm sections 5 if u x 1 u x is the saturation of u x then u x u x clx u x 0 proof if x x we choose by theorem 7 1 an open neighborhood v x on which we have the natural gx action defined by such that the map t s 1 clx v x x is proper and there exists a strong bundle isomorphism between w v x and a local strong bundle model then we take open neighborhoods u x and u x satisfying u x clx u x u x clx u x v x and such that u x and u x are invariant under the diffeomorphisms g g gx at this point 1 4 hold and it remains to prove 5 arguing by contradiction we assume that u x u x clx u x 6 0 hence we find a morphism y z from y clx u x u x to z u x since y z v x there exists a uniquely determined g gx satisfying g y conse quently z t g y g y since z u x and u x is invariant it follows that y u x contradicting y 6 u x now we can prove the main result proof proof of theorem 12 1 let u x 1 u x be the saturation of u x where u x has the properties listed in theorem 12 2 the sets u x u x u x where x varies over x define an open cover of x since x is assumed to be paracompact we find a subordinate partition of unity x for x and define for the open cover u x of x the partition of unity x x for ev ery x x we can take u x and fix a strong bundle isomorphism w u x k covering u x o here we use models o c e and k c f e f on w u x u x we define the action of gx by the g w g p w w for g gx w w u x 12 1 recalling that s g p w p w we note that p g w p g y w t g p w g p w and hence p g w g p w in order to verify that 12 1 defines a group action we have to recall from the natural representation in theorem 7 1 the homeomorphism and the map and from definition 8 4 the properties of the strong bundle map xs pw w if g 1 x then 1 x p w 1 x and 1 x w w for all w and hence 1 x w w moreover g w p g w g w p g w g p w w p g w g p w w 12 2 auxiliary norms 421 since t g p w g p w and s p g w g p w g p w the composition above is a morphism p w g p w and hence is equal to g p w in view of the properties of consequently g w g p w w g w and 12 1 defines indeed a group action of gx it is the natural lift of the natural gx action on u x to the bundle w u x we define on w 0 1 u x the map n x w 0 1 u x 0 by n x w 1 gx g gx pr 2 g w f 1 the map n x is invariant under the group action of gx i e n x h w n x w for all h gx and w w 0 1 u x next we extend the definition to w 0 1 u x if w w 0 1 u x with base point y p w u x there is a morphism satisfying s y and t u x and we define n x w n x w here as before is the structural map of the strong bundle structure this is well defined and the extension is compatible with the initial definition of n x next we define the function nx w 0 1 0 as follows nx w 0 if p w 6 u x x p w n x w if p w u x in order to show that nx is a continuous function we assume that wk w in w 0 1 if p w y u x then yk p wk u x for large k since u x is the saturation of u x we find a morphism y z with z u x we define w w so that p w p w t z u x for k large we similarly define for the sequence wk satisfying p wk yk u x the sequence w k t s 1 yk wk since wk w in w 0 1 and and t s 1 are local sc diffeomorphisms we conclude w k w therefore n x w k n x w and so nx wk nx w if p w 6 u x we know that nx w 0 if p w does not belong to the closure of u x the continuity assertion is trivial hence we assume that p w clx u x u x by construction supp x is a closed subset in x contained in u x we find 422 12 sc fredholm sections an open neighborhood v p w in x not intersecting the support of x if now wk w then p wk v p w for large k and the continuity assertion follows clearly if x y 6 0 then n x restricted to the fiber of w 0 1 over y is a complete norm assume that wk is a sequence so that yk p wk has the properties 1 yk y with x y 0 2 nx wk 0 then we find as above an isomorphic sequence w k for which p w k y k y u x it follows from the construction of n x that w k 0 y and the same holds evidently for wk finally we define the function n w 0 1 0 by n x x nx given any y x there exists by construction a saturated open neighborhood v v y in x so that there are only finitely many x x for which nx 6 0 for the fibers above y this shows that n is continuous it clearly induces fiber wise a complete norm on w 0 1 moreover if n wk 0 and p wk y there is at least one x for which x y 0 we conclude that wk 0 y in w 0 1 by the previous discussion we have verified that the function n is an auxiliary norm for p and the proof of theorem 12 1 is complete in certain applications we shall need to extend given auxiliary norms over x to auxiliary norms over x the basic result is the following theorem where the reader should note that we require x to be a tame ep groupoid theorem 12 3 extension of auxiliary norms let p w x be a strong bundle over a tame ep groupoid x with paracompact orbit space x suppose n is an auxiliary norm given for w x i e n w 0 1 x 0 has the properties required in definition 12 2 then there exists an auxiliary norm n w 0 1 0 which coincides over x with n proof it is clear from the proof of theorem 12 1 that we only need to show for every x x that n has a local extension to a saturated small open neighborhood the proof of theorem 12 1 shows how to define auxiliary norms on saturated open neighborhoods u x for which we assume that clx u x x 0 then a partition of unity argument as previously used gives an auxiliary norm for w 0 1 x since the construction is local we can work in local coordinates hence we consider a strong local bundle p k o where o c e is a tame local m polyfold model and k c f is the image of a strong bundle retraction r u f u f covering 12 2 auxiliary norms 423 the sc smooth retraction r u u satisfying r u o and u c is open in the partial quadrant c 0 n h in the sc banach space e since r is tame it satisfies dc r x dc x for x u which will be important we may assume that we work near a point x 0 0 h 0 o we cannot assume that h 0 e is zero since x 0 may be on level 0 we shall first carry out a local construction in order to construct n on w 0 1 u x 0 here u x 0 o is an open neighborhood invariant under gx and n n on w 0 1 o u x 0 we now turn to the details we abbreviate e 0 1 1 1 1 0 c 0 n h then there exists a sc 0 function c 0 so that for given t h 0 n h the vector t h t h e 0 has at least one of its first n coordinates vanishing the map only depends on t and is given by t h min t 1 tn then the map q c c defined by q t h t h t e 0 is a sc 0 retraction onto c if t h 0 n h is near 0 h 0 then t h u and r q t h u using the tameness property of r we see that r q t h o c o also for t h o it holds that r q t h r t h t h consequently t h 7 r q t h is a sc 0 retraction defined near 0 h 0 which fixes the points in o near 0 h 0 for t h w k in which t h is close to 0 h 0 and w is on level 1 we define n by n t h w n r q t h a r q t h w w a r q t h w f 1 where r u w r u a u w is the strong bundle retraction if t h w k with t h o near 0 h 0 then r t h w r t h a t h w t h w and r q t h r t h t h consequently n t h w n t h w therefore n extends n at this point we have constructed for w 0 1 u x 0 an exten sion of n where u x 0 is a sufficiently small open neighborhood of x 0 in o which we may assume to be invariant under the gx 0 action now we average n over the group gx 0 to obtain as a result n since n was already compatible with morphisms the averaged n is still an extension of n at this point we leave the local coordinates pulling back the local data by a strong bundle chart we have proved the following local extension result under the assump tions of the theorem there exists for every x x an open neighborhood u x x invariant under gx and an auxiliary norm n x w 0 1 u x 0 so that n n x on w 0 1 x u x moreover if x satisfies s t u x and w w then n x w n x w by taking u x smaller but still invariant under gx we 424 12 sc fredholm sections may assume that every sequence of morphisms k with s k clx u x and t k in a compact subset has a convergent subsequence we can extend as al ready demonstrated previously in the proof of theorem 12 1 n x to the saturation u x of u x so far we have constructed for every x x an extension of n to a saturated open neighborhood u x x we already know how to define auxiliary norms for saturated open neighborhoods of points x x x in this case we may assume that the saturated open neighborhoods are small enough so that their clo sures do not intersect x finally using a partition of unity argument we obtain an auxiliary norm possessing the desired properties the proof of theorem 12 3 is complete the strong bundle p w x over an ep groupoid is said to have reflexive 1 fibers if there exists a strong bundle atlas with local strong bundle models k c f in which f 1 is a reflexive banach space and c e a partial quadrant in a sc banach space following 37 we introduce the notion of mixed convergence definition 12 5 mixed convergence a sequence wk w of bi regularity 0 1 i e wk w 0 1 is said to be mixed convergent to an element w w 0 1 pro vided p wk p w x in x 0 and there exists a strong bundle chart w u x k e f f 1 being reflexive such that for wk ak hk and w a h the sequence hk converges weakly to h in f 1 denoted by hk h in f 1 we shall write wk m w if wk is mixed convergent to w remark 12 1 the definition does not depend on the choice of the chart indeed if k k is a strong bundle isomorphism arising as a transition map and a h a a a h we consider a sequence wk ak hk k satisfying ak a in e 0 and hk h in f 1 the latter implies that hk h in f 0 then ak hk bk lk satisfies bk b in e 0 and lk l in f 0 for large k the operator norms of continuous linear operators a ak f 1 f 1 are uniformly bounded therefore the sequence lk a ak hk is bounded in f 1 from hk h in e 0 we conclude the convergence bk lk ak hk a h b l in e 0 f 0 the boundedness of lk in f 1 and the convergence of bk lk on level 0 implies the weak convergence lk l in f 1 in the context of strong bundles with reflexive fibers we consider special auxiliary norms definition 12 6 let p w x be a a strong bundle over an ep groupoid with re flexive 1 fibers a reflexive auxiliary norm n w 0 1 0 is a continuous map possessing the following properties 0 n is a functor i e if h h for h h w 0 1 and p h p h a mor phism in x then n h n h 12 2 auxiliary norms 425 1 for every x x the function n restricted to the fiber of w 0 1 over x is a complete norm 2 if wk is a sequence in w 0 1 satisfying p wk x in x and n wk 0 then wk 0 x in w 0 1 3 if wk w 0 1 is mixed convergent to w w 0 1 then n w liminfk 0 n wk the next result guarantees the existence of reflexive auxiliary norms for strong bun dles p w x with reflexive 1 fibers and paracompact orbit spaces x theorem 12 4 reflexive auxiliary norms we assume p w x is a strong bundle with reflexive 1 fibers over an ep groupoid x with paracompact orbit space x then there exists a reflexive auxiliary norm n moreover for every functorial continuous map f x 0 i e f is invariant under the morphisms the map h f p h n h is a reflexive auxiliary norm for every auxiliary norm n there exist two reflexive auxiliary norms n 1 and n 2 satisfying n 1 n n 2 remark 12 2 most of the constructions are similar to the constructions in theorem 12 3 before we begin with the proof let us note the following facts which are easily verified 1 if n is a reflexive auxiliary norm so is f p n if f x 0 is a functorial continuous map 2 if n 1 and n 2 are two auxiliary norms there is a function f as above such that n 1 f p n 2 3 if u is a saturated open subset of x and n a reflexive auxiliary norm for w 0 1 u then given a functorial continuous map f x 0 with support supp f contained in u the map n w 0 1 0 defined by n w 0 if p w 6 u and by n w f p w n w if p w u has the property that for a mixed convergent sequence wk m w the estimate n w liminfk n wk holds proof theorem 12 4 it suffices to construct for every x x an open saturated neighborhood u and an reflexive auxiliary norm for w 0 1 u then the above facts and the construction in theorem 12 3 will lead to the desired result around an object x x we take a strong bundle chart w u x k where k c f and c is a partial quadrant in a sc banach space here f 1 is a reflexive banach space 426 12 sc fredholm sections we may assume that u x admits the natural gx action which has a natural lift to w u x and define nu x h 1 gx g gx pr 2 g h f 1 we extend nu x to the saturation u x 1 u x of u x as follows if w w 0 1 u x there exists a morphism p w y u x and we define nu x w nu x w where w w the definition does not depend on the choice of the morphism as long as it has the stated properties then nu x has the desired properties and the proof is completed by a previous partition of unity argument we also need for later inductive constructions an extension theorem for reflexive auxiliary norms theorem 12 5 extension of reflexive auxiliary norms let w be a strong bun dle with reflexive 1 fibers over the tame ep groupoid x we assume that a reflex ive auxiliary norm n is given for w 0 1 x then there exists a reflexive auxiliary n w 0 1 0 which extends n i e n w 0 1 x n proof the local extension defined in theorem 12 3 is well behaved under mixed limits which follows immediately by inspection we can define local auxiliary norms over saturated neighborhoods of points x x not belonging to the boundary which are also well behaved with respect to mixed convergence and the argument is com pleted by partitions of unity as in theorem 12 4 12 3 sc section functors the main point of this subsection is to show that there is a significant supply of sc sections under suitable conditions in addition we show that sc sections defined over the boundary can be extended to the whole ep groupoid for the notion of a sc smooth bump function in the m polyfold framework we refer to part i definition 12 7 an ep groupoid x admits sc smooth bump functions provided for every object x and every saturated open neighborhood u x there exists a sc smooth map f x r not identically 0 having its support in u x and satisfying f y f z if there exists a morphism y z we point out that in our definition we do not require f to take values in 0 1 as we shall see next there is an easy criterion to decide whether the ep groupoid admits sc smooth bump function 12 3 sc section functors 427 theorem 12 6 let x be an ep groupoid 1 the ep groupoid x admits sc smooth bump functions if and only if the underlying object m polyfold admits sc smooth bump functions 2 if the ep groupoid x admits sc smooth bump functions then there exists for every object x x and every saturated open neighborhood u x a sc smooth bump function f x 0 1 satisfying f x 1 and supp f u x the subtle point of the statement in 1 is the following for ep groupoids the bump functions are compatible with the morphisms whereas for the underlying object space x viewed as a m polyfold there is no compatibility condition concerning 2 we note that for a given x all the guaranteed sc smooth bump functions might not take values in 0 1 and even worse it could be that f x 0 however the theorem claims that one can construct sc smooth bump functions possessing the additional properties once there is the guaranteed supply of sc smooth bump functions proof theorem 12 6 1 we first assume that the ep groupoid x admits sc smooth bump functions we consider the object m polyfold x and choose a point x x and an open neighborhood u x x of x in the m polyfold x then we take a smaller open neighborhood v x satisfying clx v x u x such that v x is equipped with a natural gx action as defined in theorem 7 1 and for which moreover the map t s 1 clx v x x is proper next we take another open neighborhood w x having the following properties w x clx w x v x w x is invariant under the gx action on the saturation w x 1 w x of w x we find by assumption a sc smooth bump function f x r satisfying supp f w x and f y f y if there is a morphism y y there is a point z w x at which f z 6 0 and there exists a morphism z y with y w x and hence f y f z 6 0 therefore f does not vanish on w x and we define x r by z f z for z w x 0 for z x w x 12 2 then 6 0 and supp clx w x v x clx v x u x we shall show that is a sc smooth function so that that is a sc smooth bump function having its support in u x by construction is sc smooth at all points which do not belong to clx w x w x hence we only have to consider points z clx w x w x in the case z 6 w x using that supp f is closed in x and a subset of w x we find an open 428 12 sc fredholm sections neighborhood q z not intersecting supp f and hence 0 on q z in the remain ing case where z w x there exists a morphism z 0 z for some z 0 w x since z clx w x w x we conclude that z v x but also z 0 v x and therefore by theorem 7 1 for a suitable g gx we have g z 0 z from the invariance of w x under the action of gx we deduce that z w x contradicting z 6 w x and showing that this case does not occur we have proved that is a sc smooth function with supp u x conversely we assume that the object m polyfold x admits sc smooth bump func tions for a given x x and a saturated open neighborhood u x we choose an open neighborhood v x satisfying clx v x u x such that on v x we have the natu ral gx action and t s 1 clx v x x is proper we take another open neighbor hood w x which is invariant under the gx action and satisfies clx w x v x then we take a sc smooth bump function f x r having its support in w x and consider f w x r we can average with respect to the group gx and may as sume without loss of generality that f on w x is gx invariant now we define the function x r by y f z if there exists a morphism z y with z w x 0 if y 6 1 w x the function is well defined i e it coincides with f on w x indeed if y w x and z y for z w x then z g y for some g gx and hence in view of the invariance of w x f z f y so that f on w x moreover by construction 6 0 and supp u x further is compatible with morphisms it remains to show that is sc smooth this is clear at point a z x w x and a point z w x 1 w x hence we only have to consider points z clx w x w x we shall show that such a point z has an open neighbor hood q z not intersecting the support of which will imply the result other wise arguing indirectly we find a convergent sequence zk z with zk 6 0 then by the construction of there exist morphisms k satisfying t k zk and s k w x using the properness after perhaps taking a subsequence we may as sume that k hence t z and s clx w x since z 6 w x we must have s 6 w x we find arbitrarily small open neighborhoods of s on which vanishes taking the image under the local sc diffeomorphism t s 1 we see that z has such a neighborhood as well this leads to a contradiction and the proof of 1 is complete 2 if the ep groupoid x admits sc smooth bump functions we know from part 1 that the object m polyfold admits sc smooth bump functions in view of a result in part i proposition 5 5 we find on the object m polyfold sc smooth bump functions which take values in 0 1 satisfy f x 1 and have support in the prescribed open neighborhood u x now carrying out the construction in 1 for this function f we first average and then extend to obtain a sc smooth bump function on the ep 12 3 sc section functors 429 groupoid which in addition takes values in 0 1 and at the point x the value 1 this completes the proof of 2 the proof of theorem 12 6 is complete next we use the previous discussion to prove the existence of suitable sc sections for strong bundles p over ep groupoids x admitting sc smooth bump functions sections x w of strong bundles over ep groupoids have of course to be compatible with morphisms i e they satisfy t s for all x theorem 12 7 we assume that p w x is a strong bundle over the ep groupoid x which admits sc smooth bump functions and which has in addition a paracompact orbit space x let n be an auxiliary norm for p given a smooth point x x with isotropy gx a smooth point e wx satisfying e g e for all g gx an open neighborhood o of x in x and 0 then there exists a sc section functor x w possessing the following properties 1 the support of is contained in 1 o 2 t s for all x 3 x e 4 n y n e for all y x the hypothesis that x is paracompact is used to insure the existence of auxiliary norms n the existence of sc smooth bump functions is used for the actual con struction of the functor proof we choose an open neighborhood u x of x contained in 1 o and having the following properties the natural gx action is defined on u x t s 1 clx u x x is proper there exists a strong bundle isomorphism w u x k which covers the sc diffeomorphism u x o satisfying x 0 here we use the local model o c e for the object m polyfold x and the model k c f e f for the local strong bundle retract k r u f defined by the retraction r u f r u u f for u f u f the sc smooth map r u u is a retraction onto o r u the diagram p 1 u x k yp yp u x o 430 12 sc fredholm sections commutes we choose a smaller neighborhood v x still invariant under the action of gx such that clx v x u x and denote by v x the saturation of v x by construc tion v x 1 o then we take on the object m polyfold x a sc smooth bump function f u x 0 1 satisfying f x 1 and having its support in v x we also assume that f is invariant under the gx action as used already in the previous proof there is a canonical way to extend it to a sc smooth bump function for the ep groupoid x we denote this extension by the construction of the desired section of p w u x u x starts in the bundle chart recalling that x 0 we denote the image of the distinguished smooth point e wx under the strong bundle isomorphism w u x k by e 0 e we define the section s of the local bundle p k o by s m r m e m m e for all m o so that s 0 r 0 e 0 e because r retracts onto k the strong bundle isomorphism w u x k induces the gx action on k de fined by g w g w and g y g y for all g gx and w w u x and y o where g w g p w w recalling the assumption e g e on e wx and the property g x g for g gx we deduce that g e e and g e g e e and hence g 0 e 0 e for all g gx if h y 1 s y is the pull back section h u x w u x we introduce for every g gx the section hg u x w u x by hg y g g 1 y h g 1 y for all y u x it satisfies hg e e averaging these sections over gx we obtain the section u x w u x given by y 1 gx g gx hg y 1 gx g gx g g 1 y h g 1 y then e e and we claim that is gx equivariant in the sense that y y y y 12 3 for all y u x and gx indeed recalling that g 1 y g 1 y the left hand side becomes 12 3 sc section functors 431 y 1 gx g gx g g 1 y h g 1 y 12 4 by the properties of g g 1 y 1 g g 1 y y 1 g g 1 y hence by the properties of the structure map g g 1 y h g 1 y y 1 g g 1 y h g 1 y y 1 g g 1 y h g 1 y 12 5 therefore inserting 12 5 into 12 4 changing to the summation index g 1 and using the linearity of the map y wy w y we arrive at the formula y y y as claimed since every morphism connecting two points in u x has the form g y for s y and t g y and a unique g gx we deduce from 12 5 that t s 12 6 for every morphism between points in u x the section u x w u x defined by y y y is again a gx equivariant sc section in addition has its support in v x and satisfies e e finally we proceed as in the proof of theorem 12 6 and use the morphisms in x to extend the section from u x to the desired sc section functor x w it satisfies the properties 1 3 the property 4 is achieved by choosing v x small enough see also remark 12 4 below the proof of theorem 12 7 is complete remark 12 3 as we shall see later on in the fredholm theory on ep groupoids or polyfolds the property of a section of a strong bundle of being functorial and the property of being transversal are competing and do quite often not hold simultane ously this forces us to use multivalued sections note that in the previous theorem there would be no such section functors if we would not have required that e has gx as an automorphism group later on we shall see that such restricted section functors used as perturbations will not be sufficient to achieve transversality another remark is concerned with the above proof whose ingredients allow to de fine sc sections having properties required in situations in which we try to achieve transversality remark 12 4 given a smooth point x x and a gx invariant open neighborhood u x of x one constructs a sc section s with desired properties near x and compat ible with the gx action i e compatible with morphisms whose targets and sources 432 12 sc fredholm sections belong to u x then we can take an invariant sc smooth function f x 0 1 with support in u x and satisfying f 1 near x so that the product f s is a sc section on u x the proof of theorem 12 7 shows how to extend f s to a sc section defined on all of x the construction i e the choice of f allows to control the size of f s with respect to the auxiliary norm n and therefore controls the extension s which is entirely determined by f s as this remark shows local constructions can always be extended in a controlled way in applications we shall see local construc tions where the section attains particular values or where the linearization at x has certain properties basically any finite dimensional idea about a perturbation can be implemented in the polyfold set up we come to the sc smooth extension of a sc section defined over the boundary x of an ep groupoid we recall the discussion of local faces in part i namely if o c e is a tame local model then there exists an open subset u of c and a sc smooth retraction r u u preserving the degeneracy index dc having o as its image and for every smooth point x o there exists a sc subspace a of ex satisfying txo sc a ex definition 12 8 we consider a strong bundle p w x over the tame ep groupoid x and assume that the map s x w satisfies p s id then s is called sc section defined over the boundary provided for every point x x and every local face f containing x the restriction s f is a sc section of the bundle w f f the boundary x is not a m polyfold however locally it is the union of a fi nite number of faces due to the tameness assumption these faces are m polyfolds which allows us to define some kind of sc smoothness via the properties of all local restrictions this control is enough to guarantee local sc smooth extensions recall that for a tame retract o c e the equality do x dc x holds for x o see proposition 2 10 in particular o o c proposition 12 2 let k o be a tame local strong bundle model where k r u f is a strong bundle retract and the strong bundle retraction r covers the tame retraction r u u of the local model o c e we assume that s is a sc section defined on an open neighborhood in o of some x 0 o then there exists an open neighborhood v x 0 o and a sc section s of w v x 0 such that s s on o near x 0 proof there is no loss of generality to assume that e rn h c 0 n h and x 0 0 h 0 possibly h 0 6 0 if x 0 is not smooth for a subset i of 1 n and a point t h near 0 h 0 we define t h i r ti h where ti is obtained from t by putting ti 0 if i i we define s on an open neigh borhood v x 0 in o by the following formula 12 3 sc section functors 433 s t h n j 1 1 j 1 i j r t h s t h i the maps t h s t h i are sc sections of the bundle o f o near x 0 imply ing that s is a local sc section the following straightforward computation shows that s s on o near x 0 namely considering t h o with ti 0 0 near x 0 and using t h i 0 r t i 0 h r t h t h we compute s t h n j 1 1 j 1 i j s t h i n j 1 1 j 1 i j i 0 i s t h i n j 1 1 j 1 i j i 0 6 i s t h i n j 1 1 j 1 i j 1 i 0 6 i s t h i i 0 n j 1 1 j 1 i j i 0 6 i s t h i n 1 j 0 1 j i j i 0 6 i s t h i n j 1 1 j 1 i j i 0 6 i s t h i n 1 j 0 1 j i j i 0 6 i s t h i n 1 j 1 1 j 1 i j i 0 6 i s t h i s t h i 0 s r t h s t h there is a corollary in the presence of symmetries corollary 12 1 let o c e be as described in proposition 12 2 and x 0 o c o a point such that gx 0 acts by sc diffeomorphisms on o with a lift to a strong bundle model p k o we assume that s is a sc section defined on an gx 0 invariant open neighborhood of x 0 in o and satisfying s g x g s x for x o near to x 0 then on a suitable gx 0 invariant neighborhood of x 0 in o there exists a sc section s which is invariant under the gx 0 action and which restricts to s on o near x 0 proof averaging the extension s guaranteed by proposition 12 2 we obtain the local section s near x 0 in o defined by s x 1 gx 0 g gx 0 g 1 s g x since s is by assumption equivariant it follows that s s on o near x 0 using this local result we prove the following extension result 434 12 sc fredholm sections theorem 12 8 extension of sc section functors let p w x be a strong bundle over the tame ep groupoid x whose orbit space x is paracompact suppose that the ep groupoid admits sc smooth partitions of unity given a sc section functor s of w x and a saturated open neighborhood u of x in x there exists exists a sc section functor s of p supported in u which on x restricts to s moreover if an auxiliary norm n and 0 are given such that n s x for all x x then the extension s can be constructed in such a way that n s x for all x x proof for every x x we take the open neighborhood u x x guaranteed by corollary 12 1 and contained in the open neighborhood u x of x such that the section s on u x is an extension of s u x x we extend s in an equivariant way to the saturation u x 1 u x of u x and denote this extension by s x the complement u x x of the boundary is saturated and so we obtain a covering of x by the saturated open sets u and u x x x using theorem 12 6 2 we choose a subordinated sc smooth partition of unity consisting of the sc smooth bump functions and x on u x for every x x according to definition 12 7 where x x 0 1 satisfies x x 1 and supp x u x using only the functions x and not we define the section s by s x x xs x which is a sc smooth section functor extending s and supported in u the map z 7 n s z is continuous and we find a saturated open neighborhood v of x whose closure is contained in u such that n s z on v then we take another saturated open neighborhood v of x whose closure is contained in v the two sets v and x clx v constitute an open saturated cover of x arguing as before we find an associated sc smooth partition of unity in which the sc smooth bump function x 0 1 has its support in v and satisfies 1 on x then the product s is an extension of s which satisfies n s x for all x x the proof of theorem 12 8 is complete 12 4 compactness properties the standing assumption for this section is that p w x is a strong bundle over an ep groupoid we assume that we have fixed an auxiliary norm n w 0 1 r a functor one can extend n to w by setting n h if h is not of bi regularity 0 1 hence we may view n as a functor w r most of the results we shall describe here are straight forward generalizations of the results in chapter 5 we shall denote for a section f of p by s f the full subcategory of x associated to all zero objects for f i e all x x with f x 0 12 4 compactness properties 435 definition 12 9 let f be an sc smooth section functor of p where p w x is a strong bundle over a tame ep groupoid and n an auxiliary norm 1 we say f has compact solution set in the ep groupoid sense if the orbit space s f associated to s f is compact 2 the section f is said to be proper if s f is compact and for every auxiliary norm n there exists an open saturated neighborhood u of s f with the property that the orbit space of the set x u n f x 1 has compact closure these two compactness notions are equivalent for sc fredholm sections functors the ep groupoid version of theorem 5 1 is given by the following result theorem 12 9 let f be an sc fredholm section of the strong bundle p w x over an ep groupoid with paracompact orbit space x which guarantees the existence of auxiliary norms the following two statements are equivalent 1 f is proper 2 f has a compact solution set proof 1 2 it is clear that properness implies a compact solution set in the ep groupoid sense 2 1 assume next that f has a compact solution set and an auxiliary norm n is given then we take for every z s f a representative xz x and we find employing theorem 5 1 an open neighborhood u xz admitting the natural action and having the properness property so that z y u xz n f y 1 satisfies clx z is compact this property persists if we replace u xz by a smaller open neighborhood for which we may assume that it admits the natural gxz action and that it has the prop erty that cl x u clx u see proposition 7 3 then the orbit set vz u xz is an open neighborhood of z we note that cl x z is compact and contained in clx u xz since s f is compact we find finitely many z 1 zk so that the corresponding vzi cover s f denote by u the saturated open neighborhood of s f defined by u k i 1 1 vzi 436 12 sc fredholm sections then cl x x u n f x 1 k i 1 cl x zi which proves the claim in order to formulate an ep groupoid version of theorem 5 4 we need the notion of the reflexive local compactness property in the ep groupoid context definition 12 10 assume that p y x is a strong bundle over an ep groupoid with reflexive 0 1 fiber and let f be an sc smooth section functor of p which in addition is regularizing we say that f has the ep groupoid reflexive local com pactness property provided for every reflexive auxiliary norm n a functor and every point x x there exists an open neighborhood u x in x i e on level 0 so that clx y u x n f y 1 is a compact subset of x let us discuss this definition in more detail we need the following fact lemma 12 1 let x be an ep groupoid the following holds 1 for a saturated subset of x the equality cl x clx holds 2 for a subset of x with compact closure the equality cl x clx holds proof for any subset the continuity of x x x x implies the inclusion clx cl x 2 assume that z cl x we pick a representative x of z and an open neigh borhood u x with the natural gx action and the properness property let zk with zk z there is no loss of generality assuming that zk u x we can pick xk u x with zk xk and must have xk x since is saturated xk and we conclude that x clx i e z clx 2 pick z cl x and zk converging to z we can pick xk with xk zk after perhaps taking a subsequence and using the compactness of clx we may assume that xk x cl then z x clx assume that f has the reflexive local compactness property given a point x x we find an open neighborhood u x which is invariant under the gx action having the properness property i e t s 1 clx u x x is proper so that clx y u x n f y 1 is compact denoting by u x the saturation of u x and using that f and n are functors we observe that 12 4 compactness properties 437 y u x n f y 1 12 7 y x xxx s y t u x and n f t 1 are saturated sets and that clx y u x n f y 1 is compact hence cl x y clx u x n f y 1 clx y u x n f y 1 consequently using 12 7 clx y u x n f y 1 cl x y u x n f y 1 clx y u x n f y 1 now the following proposition is easily obtained proposition 12 3 assume that p y x is a strong bundle over an ep groupoid with reflexive 0 1 fiber and let f be an sc smooth section functor of p which in addition is regularizing then the following three statements are equivalent 1 f has the ep groupoid reflexive local compactness property 2 for every reflexive auxiliary norm n for p w x and z x there exists a saturated open subset u with z u so that clx y u n f y 1 is compact 3 for every reflexive auxiliary norm n for p w x and z x there exists a saturated open subset u with z u so that cl x y u n f y 1 is compact a basic result which generalizes theorem 5 4 is the following theorem 12 10 assume that p w x is a strong bundle over the tame ep groupoid x with paracompact orbit space x where w has reflexive 0 1 fibers denote by n a reflexive auxiliary norm and let f be an sc fredholm functor with compact solution set having the reflexive local compactness property defining s f x x f x 0 let u x be an open saturated neighborhood in x of s f so that cl x y u n f y 1 is compact in x then there exists a saturated open neighborhood u of s f x x f x 0 with the following properties 1 u x u 2 the closure of x u n f x 1 in x is compact 438 12 sc fredholm sections proof for z u we take a representative xz of z following the argument of the orem 5 4 we find an open neighborhood u xz in x such that one of the following properties holds a n f x 1 for x u xz and u xz x u a clx x u xz n f x 1 is compact and u xz x u in addition to one of these properties we can always assume the following b u xz admits the natural gxz action c cl x u xz clx u xz by construction we obtain for every z u an open neighborhood u xz with either the properties a b b or the properties a b c the set cl x x u n f x 1 is compact we find z 1 z u so that clx x u n f x 1 u x 1 u x where x i xz i denoting by u x i the saturation of u x i we obtain since u is saturated that u x 1 u x x u if z u u x 1 u x we must have n f xz 1 consider the union u u x 1 u x z u u x 1 u x u xz here u xz is the saturation of u xz clearly u xz does not depend on the choice of x and we shall define u z u xz then u z u xz and we write with our modified notation u u z 1 u z z u u z 1 u z u z this is an open subset of x satisfying u x u moreover the closure of the orbit space of x u n f x 1 is compact indeed take a sequence xk u satisfying n f xk 1 we may assume up to isomorphism that xk u x 1 u x and since the closure of each of the finitely many sets x u x i n f x 1 is compact we see that xk has a convergent subsequence the orbit space of the set x x u f x 0 is compact and we find finitely many u xi x x say i 1 e whose orbit spaces cover this compact set so that in addition the closure of each set x u xi n f x 1 is compact moreover we assume as usual that these sets have the natural action on them finally define with zi xi and u zi the saturation of u xi 12 5 orientation bundle 439 u u u z 1 u ze then u x u and clx x u n f x 1 is compact the latter satisfies clx x u n f x 1 cl x x u n f x 1 in view of lemma 12 1 since u is saturated the proof is complete 12 5 orientation bundle for many applications of the sc fredholm theory orientation questions play an im portant role we already discussed these issues in the context of the m polyfold theory and we shall generalize the discussion to cover the case where we deal with an sc fredholm section functor of a strong bundle over an ep groupoid we shall denote by p w x a strong bundle over an ep groupoid and by f an sc fredholm section functor given a smooth x x we consider the affine space of linearizations lin f x introduced in definition 6 1 the elements of lin f x are all linear sc operators s txx wx obtained by taking a local sc section s satis fying s x f x and putting s f s x we do not require s to be compatible with the action of the isotropy group gx of x given a morphism x x between smooth points we obtain the sc isomorphism t txx tx x and define lin f x lin f x s s t 1 of course we need to verify that this is well defined lemma 12 2 the following holds for smooth points x and x 1 given a morphism x x and s lin f x the sc operator s belongs to lin f x 2 the map lin f x lin f x is a bijection 3 1 x idlin f x for morphisms and in xxx with s t it holds that proof assume that x x is a morphism between smooth points then ex tends locally to an sc diffeomorphism u x x u x x which can be writ ten as y t s u 1 y where u x u y u are suitable open neighborhoods so that s u u x and t u u x are sc diffeomorphisms the tangent t txx tx x is an sc isomorphism and by definition the tangent map associated to taken at x if we take u x small enough and in such a way that we have the natural action of gx 440 12 sc fredholm sections defined on u x the sc diffeomorphism u x u x is equivariant with respect to the group homomorphism gx gx g g g 1 we can lift the equivariant to a strong bundle isomorphism w u x w u x w s u 1 p w w which at x maps wx via to wx if s 0 is a local sc section defined near x with s 0 x f x then s 1 s 0 is a local sc section at x satisfying s 1 x f x we note that f s 0 x t 1 f s 1 x from this we see that s s t 1 is well defined as a map lin f x lin f x this proves 1 the functorial properties in 3 are obvious from the previous dis cussion from 1 and 3 the bijectivity statement 2 is obvious recall from section 6 that for a smooth object x in the object m polyfold x the set lin f x is a convex subset of l txx wx which we equip with the induced topol ogy as such it is a contractible space of fredholm operators and we can consider the determinant bundle over it which is denoted by det f x det f x lin f x this topological line bundle has two different orientations which we refer to as the two possible orientations of f x there is in general not a preferred orientation although this might happen in certain cases for example in gromov witten theory the complex orientation if o is one of the orientations we denote by o the other one an orientation o of f x is by definition an orientation for the topological line bundle det f x assume that s lin f x and an orientation o has been picked for det f x then det s obtains an orientation os given a morphism x x between smooth points the orientation os for det s defines naturally an orientation os for det s this in turn defines an orientation for det f x it does not de pend on the specific choice of s consequently given x x an orientation o for det f x lin f x is mapped to an orientation o for det f x lin f x we recall from chapter 6 that under the assumption that x is tame given a smooth point x and an orientation for f x there exists a natural orientation for all f y where y is smooth and belongs to a sufficiently small open neighborhood of x this means given ox there exists a preferred local germ denoted by o x which associates 12 5 orientation bundle 441 to a smooth point y near x an orientation o x y which is obtained by local propa gation from ox there are precisely two such germs namely o x definition 12 11 let p w x be a strong bundle over a tame ep groupoid and f an sc fredholm functor the set o f consists of all tuples x det f x o where x x det f x stands for the topological line bundle det f x lin f x and o is an orientation for the latter by we denote the natural projection o f x which is a surjective 2 1 map o f is turned into a topological space by equipping it with the topology t making every germ o x continuous we call o f t the orientation bundle associated to f from the construction it is evident that given x x between smooth points the associated local family covering can be used to push forward a germ o x which is precisely the germ o x which at x is the push forward of the orientation ox let us summarize the previous discussion which follows essentially from the facts established in chapter 6 theorem 12 11 let p w x be a strong bundle over a tame ep groupoid and f an sc fredholm section functor the orientation bundle o f associated to the sc fredholm section f of p w x is a topological space for which o f x is a local homeomorphism and the local sections o x are continuous moreover given x x between smooth points the associated local pushes a local con tinuous section forward to a continuous local section now we are in the position to define orientability of an sc fredholm section f of a strong bundle over a tame ep groupoid p w x definition 12 12 an orientation for the sc fredholm section functor f of p w x where x is tame consists of a global continuous section o of o f x say x ox having the property that for every smooth morphism xxx it holds that os ot remark 12 5 having orientations for an sc fredholm section we obtain natural ori entations for the solution spaces assuming a certain amount of transversality be fore we study more general cases we consider as an example a strong bundle p w x over an ep groupoid with x 0 let f be a compact sc fredholm 442 12 sc fredholm sections section and assume that for every x x with f x 0 the linearization is onto fur ther assume that f is oriented by o in this case as consequences of the compactness assumption and the regularity assumption l x x f x 0 is an e tale proper lie groupoid see 3 in the classical sense having a compact orbit space the ori entation o induces a natural orientation for txl ker f x so that in fact l has a natural orientation and the morphisms respect these orientations the orbit space l is in a natural way a compact oriented orbifold we shall consider generalizations of this result when starting with a f not assuming the transversality condition in the case where functorial perturbations are not sufficient to achieve transversality we shall show that after a suitable perturbation we obtain a branched weighted orb ifold see chapter 15 the construction of the orientation bundle o f x as well as orientations for them if they exist behave well under generalized strong bundle isomorphisms provided a necessary condition for orientability holds we shall discuss this in more detail in the following assume we are given a strong bundle over a tame ep groupoid say p w x and an sc fredholm section functor f of p associated to this data we obtain the orientation bundle o f x which is a topological bundle having as fibers two point sets moreover a smooth morphism x x defines a bijection between the corresponding fibers a necessary condition for orientability of f i e the existence of a continuous section functor of is of course that elements in gx for smooth objects x act trivially on 1 x we leave it to the reader to prove the following sufficient and necessary condition of orientability for an sc fredholm section functor f the proof is straight forward proposition 12 4 an sc fredholm section f of the strong bundle over a tame ep groupoid is orientable if and only if the following two conditions hold 1 passing from o f x to orbit spaces the continuous map o f x has above every class x two preimages i e it is 2 1 2 o f x admits a global continuous section the construction of the orientation bundle has some naturality properties theorem 12 12 naturality properties of o f assume p w x and p w x are strong bundles over tame ep groupoids and f w w is a generalized strong bundle isomorphism covering the generalized isomorphism f x x we assume that f is an sc fredholm section functor of p and denote by f the push forward sc fredholm section 1 with and being the orientation bundles the generalized strong bundle isomorphism induces a fiber preserving homeomorphism f fitting into the fol lowing commutative diagram 12 5 orientation bundle 443 o f f o f y y x f x the construction of f is functorial 2 assume that o is a continuous section functor of so that in particular the isotropy groups gx x x act trivially on 1 x then f defines naturally a push forward o f o which is a continuous section functor of o f x proof a representative for f is a diagram of strong bundle equivalences of the form w v w p y q y p y x f a f x then the push forward by of the pull back of f by is precisely f we denote by f a v the pull back of f by f pick any smooth point x x we find a point a a and a morphism resulting in the diagram f a f a f f a x using previously introduced constructions this diagram defines a composition of bijections 1 f x 1 a 1 f a 1 x different choices would give f b f b f f b x since f and f are equivalences the two diagrams are related by morphisms where the vertical arrows can be canonically filled in using that f and f are as equiva lences fully faithful f a f a f f a x y y 1 y f b f b f f b x these diagrams have canonical lifts to maps between the bundle fibers if the ac tions of the isotropy groups gx on the 1 x are trivial and in addition we have a continuous section functor o of we can define o as follows we consider 444 12 sc fredholm sections of a f a det f f a of a using the above diagram and its lift to bun dles we obtain an orientation for det f x which we denote by o x since o is compatible with morphisms the resulting o x is the same if we start with of b the data in the diagram moves sc smoothly if we start moving x which implies that our construction is not only well defined but also is continuous we leave it to the reader that representing f and f by a different diagram results in the same definition this is of course a consequence of the definition when two diagrams represent the same generalized isomorphism or bundle map if do not impose an assumption on the isotropy groups we see that the above proce dure is still well defined on the level of orbit spaces and we obtain 1 chapter 13 sc multisections in this section we shall introduce the notion of structurable as well as structured sc multisections which will be needed for a sophisticated perturbation theory we first recall some of the relevant properties of ep groupoids 13 1 structure result the following fact about ep groupoids will be used frequently and follows from a previously established result see proposition 7 3 let x be an ep groupoid and denote as usual the associated morphism m polyfold by xxx for every x x there exists an open neighborhood u x admitting the natural gx action and the target map t s 1 clx u x x is proper we also know that u x is an open subset of x and the map u x u x y y induces a homeomorphism gx u x u x lemma 13 1 suppose that u x is as described above and let v be a gx invariant subset of u x then the following statement are equivalent 1 clx v u x 2 cl x v u x proof assuming 1 we take z cl x v and a sequence zk v such that zk z in x then choosing points yk v and y x satisfying yk zk and y z we find a sequence of morphisms k such that s k yk and t k y using the properness property of the target map t s 1 clx v x we may assume after perhaps taking a subsequence that k in xxx this implies the convergence yk y where y in view of the assumption i belongs to clx v u x since is a morphism between y and y we have y y z u x proving the statement 1 445 446 13 sc multisections in the other direction let y clx v and yk be a sequence in v satisfying yk y then yk y so that by assumption y u x hence there is a morphism z y where z u x using that s and t are local sc diffeomorphisms we find open neighborhoods w z w y and w such that the source and target maps s w w z and t w w y are sc diffeomorphisms for large k we find morphisms k w satisfying s k zk w y and t k yk from yk y we conclude the convergence k and zk z since yk zk u x there are gk gx such that gk zk k after perhaps taking a subsequence we may assume that g zk k this implies that yk g zk y g z and shows that y u x a crucial concept is that of a good system of open neighborhoods defined next definition 13 1 a collection u u x x x of open neighborhoods of the points in the ep groupoid x is called a good system of open neighborhoods if the following holds 1 for every x x the target map t s 1 clx u x x is proper 2 every open neighborhood u x is equipped with the natural gx action 3 for every two points x x x the open subset uuu x x of xxx defined by uuu x x xxx s u x and t u x has the following property for every connected component uuu x x the source map s u x and the target map t u x are sc diffeomor phisms onto open subsets of u x and u x respectively the following obvious result allows us to introduce the notion of refinement of a good system of open neighborhoods proposition 13 1 let u x x x be a good system of open neighborhoods and u x x x a family of gx invariant open neighborhoods satisfying u x u x for all x x then u x x x is a good system of open neighborhoods given u x x x and open neighborhoods v x for every point x x we can pick for every x x a gx invariant open neighborhood w x which is contained in u x v x as a consequence of the proposition w x x x is a good system of open neighborhoods this prompts the following definition definition 13 2 let x be an ep groupoid and u u x x x a good system of open neighborhoods we say that another good system w w x x x is a refine ment provided w x u x for all x x given an arbitrary open covering of x be open sets we say that a good system u is subordinate provided every u x is contained in a set of the open covering 13 1 structure result 447 in the following we shall explore the properties of a good system of open neighbor hoods u we begin with the study of open invariant neighborhoods u x and u x equipped with the natural gx and gx actions respectively we denote by uuu x x the collection of morphisms in xxx starting in u x and ending in u x we define the sc smooth map gx uuu x x gx uuu x x by g g g t g g 1 s by definition t g g g t and s g g g 1 s so that g g g 1 s g t moreover if h g gx and g h gx then g h gh g h t gh h 1 g 1 s g h t h t g g 1 s h h 1 g 1 s g h t h g h h 1 g 1 s g t h g h g h h 1 s h g g h g h this together with 1 x 1 x implies that gx uuu x x gx uuu x x defines a right action of gx and a left action of gx on uuu x x which are commut ing the source map s uuu x x u x is gx equivariant since s g s g g 1 g 1 s when we let gx act on the right of u x similarly t uuu x x u x satisfies t g g t g t where gx acts from the left i e the natural action of gx definition 13 3 given x x x and open neighborhoods u x and u x with the natural actions by gx and gx respectively we shall call gx uuu x x gx uuu x x the natural bi action before we give a basic existence result for systems of good neighborhoods we shall derive some of their properties with respect to our actions 448 13 sc multisections lemma 13 2 let u x x x be a good system of open neighborhoods and a con nected component of uuu x x then the following assertions hold true 1 if g gx and g then g 1 x 2 if g gx and g then g 1 x 3 if 1 and 2 are connected components of uuu x x then either s 1 s 2 or s 1 s 2 0 the same assertion holds for the target map t proof 1 the target map t u x is a sc diffeomorphism onto an open subset o from g it follows that g o o for consider g and note that the morphisms and g have the same source since the source map s u x is a sc diffeomorphism onto an open subset of u x we deduce that g this means that g t and therefore g t 1 t this implies that g 1 x as claimed part 2 is proved similarly 3 assuming that s 1 s 2 6 0 we find morphisms 1 1 and 2 2 satis fying s 1 s 2 and a unique g gx for which 2 g t 1 1 then considering the sc smooth map 1 uuu x x 7 g t we deduce that g 1 2 since both 1 and 2 are connected components of uuu x x since s g 1 s 1 we see that s 1 s 2 which proves our claim a similar argument applies to the target map t theorem 13 1 extension of good partial systems let y be an ep groupoid and q an open subset of the object space so that q y equip the full subcategory associated to q with the induced structure of an ep groupoid assume we are given a good system u q q q of open neighborhoods for the ep groupoid q then given for every y y q an open neighborhood w y y we can find open neighbor hoods u y for y y q so that u y w y and u u u y y y is a good system of open neighborhoods for y proof for y y q pick y yyy with qy s y q and t y y we find open neighborhoods o y o qy and u y such that the following holds s o y o qy and t o y u y are sc diffeomorphisms o qy u qy and o qy is invariant under the action on u qy u y admits the natural gy action and has the properness property and is con tained in w y 13 1 structure result 449 we note that we can pick these three neighborhoods arbitrarily small using the properness property of u qy which contains o qy we can pick u y so small that the following holds in addition for every connected component of uuu qy y yyy s u qy t u y the maps s u qy and t u y are sc diffeomorphisms onto their image at this point we have defined a collection u u y y y of open neighborhoods where for q q the open set u q is the original given one then u clearly satis fies properties 1 and 2 of definition 13 1 next we consider the property 3 if q 1 q 2 q we already know that uuu q 1 q 2 satisfies 3 we need to investigate the following three cases for property 3 which involve new sets 1 uuu q y for q q and y y q 2 uuu y q for y y q and q q 3 uuu y z for y z y q case 1 we define an sc smooth map a uuu q y uuu q qy by a t o y 1 t 1 we note that a is a local sc diffeomorphism we verify s a s 13 1 and t a t t o y 1 t 1 1 y t 13 2 where y o qy o y is the sc diffeomorphism associated to y now we show that a is injective and hence an sc diffeomorphism onto its open image to see the injectivity assume that a 1 a 2 then we derive from 13 2 that t 1 t 2 which implies using the definition of a that 1 2 we rewrite 13 2 as t y t a 13 3 if uuu q y is a connected component then a lies in a connected compo nent of uuu q qy since s and t are sc diffeomorphisms onto their images it follows that s as well as t have the same property case 2 the map b uuu y q uuu q y 1 is an sc diffeomorphism using that t b s and s b t the assertion follows from case 1 case 3 the map c uuu y z yyy s o qy t o qz defined by c t o z 1 t 1 t o y 1 s 450 13 sc multisections is an sc diffeomorphism and t c 1 z t and s c 1 y s moreover yyy s o qy t o qz uuu qy qz if is a connected component in uuu y z ist image under c lies in a connected component of uuu qy qz on which t and s have the desired properties this immediately with the previous discussion implies the desired result the basic result is the following theorem which is concerned with an ep groupoid x having a paracompact orbit space the paracompactness of x is used in a crucial way the theorem shows that there exists a system of good open neighborhoods u with the u x being arbitrarily small theorem 13 2 existence of good systems let x be an ep groupoid with para compact orbit space and let w x x x be collection of open neighborhoods around the points in x then there exists a good system of open neighborhoods u x x x satisfying u x w x for all x proof in view of the extension theorem theorem 13 1 it suffices to verify the fol lowing assertion assertion there exists an open subset v of x having the property v x so that the ep groupoid associated to v admits a good system of open neighborhoods u x x v with u x v the paracompactness of x is important for this part of the construction by taking suitable smaller subsets for w x we may assume without loss of gener ality that the following holds true 1 for every x x the map t s 1 clx w x x is proper 2 w x is equipped with the natural gx action these will be our standing assumptions for the following constructions we start with the open covering w x x x of x using the paracompactness of x we know that x is metrizable by theorem 7 2 we can find open subsets v x of w x so that v x x x is a locally finite open covering of x and cl x v x w x of course many of these sets might be empty let a x be the collection of all x x with v x 6 0 define for a a va 1 v a w a 13 4 note that we write va instead of v a to indicate that va need not to contain the point a the following holds by construction 3 va w a and va is invariant under ga for a a 4 cl x va w a for a a 13 1 structure result 451 5 va a a is a locally finite covering of x it follows that clx va w a for a a consider the open subset v of x defined by v a a va clearly v x if x v there exist a gx invariant open neighborhood u 0 x so that u 0 x intersects only a finite number of clx va nontrivially the set of such a can be written as ax 1 a x x we may also assume the following after perhaps a renumbering of the axi 6 clx u 0 x vax 1 and u 0 x w x 7 clx u 0 x w axi for i 1 x for x v we consider the set of all morphisms starting in clx v and ending in x since a small open neighborhood of x only intersects a finite number of the va and using the properness of the associated t s 1 clx w a x we deduce that this set is finite and denote it by x x xxx s clx v t x given an open neighborhood o of x we find an open gx invariant neighborhood u 1 x u 0 x such that xxx s clx v t u 1 x is contained in o this implies taking o sufficiently small and u 1 x appropriately that for a connected component of xxx s v t u 1 x the maps s and t are sc diffeomorphisms onto open subsets of v and u 1 x respectively define the collection u x x v by u x u 1 x at this point we have constructed open neighborhoods u x around the points x v so that the following holds i each u x admits the natural gx action ii t s 1 clx u x x is proper iii for x x v the m polyfold uuu x x has the property that for a connected component the maps s and t are sc diffeomorphisms onto open subsets of u x and u x respectively hence we satisfy the definition of a good system of open neighborhoods but only on v x however it is important to recall that v x now employing theorem 13 1 this family of sets can be extended to x and the proof is complete we discuss some of the consequences of having a good system of neighborhoods u x x x for the ep groupoid x with paracompact orbit space x assume that is a connected component in u x x define o s and o t and denote by gx the subgroup of gx consisting of the elements g gx satisfying g o o 452 13 sc multisections similarly we define gx as the subgroup of gx consisting of all g with g o o define the sc diffeomorphism d o o by d t s 1 for g gx and z o we consider d g z and d z we pick with s z and s g z i e s 1 z and s 1 g z then t t s 1 z d z and t t s 1 g z d g z for every z o we define the morphism g z s 1 g z g z s 1 z 1 d z d g z which has source and target in o for z o there exists a unique g z gx that that g z d z g z since the right hand side changes smoothly in z it follows that g z is independent of z o it will be denoted by g g and it is also clear that g g gx hence we obtain for every z o and g gx the identity g g d z g z applying t we arrive at g g d z d g z using the uniqueness of the map gx gx g g g it follows from g g g h d z g g g h d z g g d h z d g h z d gh z g gh d z that g gh g g g h for later reference we note the following proposition proposition 13 2 let u x x x a good system of open neighborhoods and u x x be a connected component then there exists a uniquely determined group isomorphism gx gx g g g such that for all z s s 1 g z g g s 1 z g 1 proof by definition with z s 1 z for z o it holds that d z t z recall that g z g z 1 z g g t z 13 2 general sc multisections 453 hence g z g z g g t z z g g z moreover we compute g z g g z g g 1 s g z g z g z putting these facts together we arrive at g z g g z g 1 13 2 general sc multisections we shall introduce the notion of a sc multisection multisections are a particu lar case of set valued sections set valued operators have been used in nonlinear functional analysis for a long time and we refer the reader to 2 our definition is along the lines of the definition introduced in 7 and related to 18 the following definition from 38 brings a definition in 7 into the groupoid framework we view the non negative rational numbers q q 0 as a category having only the identities as morphisms definition 13 4 sc multisection let p w x be a strong bundle over the ep groupoid x then an sc multisection is a functor w q such that the following local representation called local section structure holds true around every object x 0 x there exists an open neighborhood u x 0 on which the isotropy group gx 0 acts by its natural representation and finitely many sc sections s 1 sk u x 0 w called local sections with associated positive ra tional numbers 1 k called weights satisfying the following properties 1 ki 1 i 1 2 w i 1 k w si p w i for all w w u x 0 where the empty sum has by definition the value 0 we shall refer to the right hand side of the identity 2 as a local representation near x 0 the functoriality of implies that w w if there exists a morphism w w in www explicitly w w 454 13 sc multisections for all w xxx s pw hence induces a map w q on the orbit space of w definition 13 5 1 the domain support of is the subset of x defined by dom supp clx x x w wx 0 for which w 0 2 the support of is the subset supp of w defined by supp w w w 0 for every x x the set supp x w w p w x and w 0 is finite and w supp x w 1 moreover if x u x 0 then supp x s 1 x sk x definition 13 6 if n is an auxiliary norm for the strong bundle p we define for x x n x max n w w supp satisfying p w x we shall call n the pointwise norm of the sc multisection with respect to the auxiliary norm n denoting by 0 w the zero section of w we obtain the relations dom supp clx p supp w 0 w clx x x n x 0 definition 13 7 the sc multisection is called trivial on the set v x if is identically equal to 1 on the zero section over v i e 0 x 1 for all x v and hence wx 0 for all wx 6 0 x we note that the domain support of is the smallest closed set in x outside of which is trivial in general the local representation is not unique among the local representations there are certain preferable ones this is discussed next 13 2 general sc multisections 455 let w q be an sc multisection assume u x is an open gx invariant neighborhood natural action so that the properness property holds and s j i j is the associated local section structure with weights j we take a suitable rational number q p 0 1 and for every j j a positive integer k j such that k j q p j we introduce a new index set j consisting of all pairs j i j n where 1 i qk j and new sections s j i j i j on u x by s j i s j the cardinality of the index set j is equal to p j j j q k j j j p j p we have replaced the original section s j having weight j by k j q many sections s j i each having weight j k j q 1 p 1 j hence we have constructed a local sc section structure over u x of p many sections having equal weights 1 p consequently we may assume that we are given an sc section structure si i i over u x each having weight 1 i then w 1 i i i si p w w for w w satisfying p w u x abbreviating i i gx we define for i g i a new sc section s i g on u x by s i g g y g y si y we have defined a section structure s i g i g i over u x where each section has the weight 1 i and such that w 1 i i g i s i g p w w for w w satisfying p w u x defining the action of gx on i by g i h g i h i gh for i h i we compute sg i h g y s i gh g y gh h 1 y si h 1 y g y h h 1 y si h 1 y g y s i h y 456 13 sc multisections in other words we can always find a sc section structure si i i where every sec tion carries the same weight 1 i the isotropy group gx acts on the index set gx i i g i g i and the family of sections has an invariance property with respect to the action sg i g y g y si y this prompts the following definition definition 13 8 a symmetric sc section structure for w q a sc multisection on u x is a pair u x si i ix consisting of the gx invariant open neighborhood u x such that the target map t s 1 clx u x x is proper a finite family si i ix of sc sections defined on u x and an action of gx on the index set ix such that the following holds 1 sg i g y g y si y for all y u x i ix and g gx 2 w 1 ix i ix si p w w for all w w satisfying p w u x it is important to notice that we allow for different i i ix that si si from the previous discussion we obtain the following result lemma 13 3 every sc multisection functor locally admits a symmetric sc sec tion structure as a first new object we consider tuples u s where u is a a good system of open neighborhoods and s a family of sc section structures definition 13 9 a sc multisection with a system of symmetric section struc tures is a tuple u s where w q is an sc multisection u u x x x is a good system of open neighborhoods and s is a family sx x x where for every x x there is a given a finite set ix and a symmetric sc section structure sx sxi parametrized by ix and defined on u x so that w 1 ix i ix sxi p w w in general the precise parametrization of the sxi does not matter and moreover only the germ near x matters this leads us to define a notion of equivalence between sc multisections with a system of symmetric section structures 13 2 general sc multisections 457 definition 13 10 let u s and u s be sc multisections with a system of symmetric section structures we say that both are equivalent provided and there exists a good system of open neighborhoods u and for every x x an equivariant bijection bx ix i x such that the following holds 1 u x u x u x for all x x 2 s bx i y si y for i ix and y u x an equivalence class will be denoted by u s and will be called a decorated sc multisection by abuse of notation we shall refer to as a decorated sc multisection equating u s if the context is clear definition 13 11 let p w x be a strong bundle over the ep grouoid x and two decorated sc multisections then the sum defined as follows is a naturally decorated sc multisection u s where 1 w w w w w w p w w w w w w 2 u by u x u x u x for x x 3 i x ix i x and s x i i s x i s x i on u x the sum operation is associative and commutative however in general there are no inverses definition 13 12 given p w x and a decorated sc multisection we define for a real number a the scalar product a which is another decorated sc multisection as follows if a 0 then 0 w 0 if w 6 0 and 0 0 1 moreover for a 6 0 a w 1 a w we note that a is decorated as well namely taking u and s sx x x from u s the new s is given by the families s x a s x i i ix lemma 13 4 let p w x be a strong bundle over an ep groupoid and a decorated sc multisection we assume that x r is a sc smooth functor i e x x if there is a morphism x x then defined by w p w w 458 13 sc multisections is a decorated sc multisection proof the proof is trivial next we consider locally finite sums of decorated sc multisections recall that a subset o of the ep groupoid x is called saturated provided o 1 o definition 13 13 we assume that p w x is a strong bundle over an ep groupoid the family j j j of decorated sc multisections is called locally finite provided for every x x there exists an open saturated neighborhood o x having the property that there are only finitely many indices j j for which there exist w w o x satisfying w 6 0 and j w 0 we can take the saturated o x always in such a way that for every other saturated o x o x the following equality holds j j w w o x w 6 0 j w 0 j j w w o x w 6 0 j w 0 in the following we always assume that such a o x is taken assume we are given a family j as described in the definition pick x x and take the associated saturated o x denote by jx the finite set of indices j for which there exists w 6 0 w w o x with j w 0 for every j jx we consider j and u j and s j we pick u j x and sxj i i i jx then define u x by u x o x j jx u j x the index set ix is defined by ix j jx i j x the elements of ix are written as i j j jx or i j for short we define sx si j i j ix by sx i j j jx s jxi j on u x with s sx x x and u u x x x the following result is trivial lemma 13 5 let p w x be a strong bundle over an ep groupoid if i i i is a locally finite set of decorated sc multisections then the sum i i i is a well defined decorated sc multisection j j j u s 13 3 structurable sc multisections 459 13 3 structurable sc multisections assume that p w x is a strong bundle over an ep groupoid and w q a decorated sc multisection for more complicated constructions for example ex tension theorems it is important that the different symmetric sc section structures are coherent which means they are related in a suitable sense this will be discussed in the following assume that u s is a decorated sc multisection taking a representative u s we have the following data a good system of open neighborhoods u x x x see definition 13 1 for x x a symmetric section structure sx sxi i ix for see definition 13 8 where the sxi are sc sections defined for w u x for the moment we shall only consider the index sets ix x x in order to formalize what it means that the local choices of symmetric sc section structures are coherent we consider diagrams of maps written as d ix a i b ix 13 5 where the maps a and b are surjective and the number of preimages in a 1 i is independent of i ix and the number of preimages in b 1 j is independent of j ix reading the diagram from left to right we refer to 13 5 as a diagram from ix to ix and with the obvious abbreviation we shall write d ix ix definition 13 14 two diagrams d ix a i b ix and d ix a i b ix are called equivalent if there exists a bijection c i i such that the following diagram is commutative ix a i b ix c y ix a i b ix we shall refer to the equivalence class d of the diagram d ix a i b ix as a correspondence from ix to ix and often write d ix ix the set of correspondences d ix ix will be denoted by j x x d ix ix definition 13 15 the pseudo inverse is a bijection j x x j x x defined by 460 13 sc multisections ix a i b ix ix b i a ix in view of the gx and gx actions on the index sets ix and ix respectively we obtain a bi action on j x x g x j x x gx j x x defined by g ix a i b ix g ix g 1 a i g b ix here we use the action of gx on ix which means that g gx induces a permutation of ix written as g ix ix similarly for g gx we have g ix ix example 13 1 here is a simple example assume that the index set ix consists of one point ix and let d i b ix ix then we have g d g i g b ix using that g acts on ix as a permutation and the map b i ix is a surjection having the property that the preimages b 1 i have the same cardinality for every i ix one can construct a bijection c i i satisfying b c g b consequently the diagram i g b ix is equivalent to the diagram i b ix and g i b ix g i b ix for all g gx and g gx definition 13 16 a correspondence between the two local symmetric sc section structures u x sxi i ix at x and u x sx i i ix at x is a map x x uuu x x j x x having the following properties 1 x x is locally constant and takes only finitely many values 2 x x g g g x x g for all uuu x x g gx and g gx 3 if uuu x x and ix a i b ix is a representative of x x then sx b k t s x a k s 13 3 structurable sc multisections 461 for all k i and all morphisms belonging to the connected component con taining remark 13 1 a correspondence is an important piece of information how two dif ferent local sc section structures are related over open subsets o u x and o u x which are given by the images via s and t of a connected compo nent the formulation in 3 depends on the choice of representative ix a i b ix of x x but the required property does not to see this take a second representa tive for x x which together with a bijection d i i fits into the following commutative diagram ix a i b ix d y ix a i b ix it holds that a d a and b d b this implies in view of the displayed property in 3 that sx b k t s x b d k t s x a d k s s x a k s next we introduce two crucial concepts the first is that of a structurable sc multisection functor and the second that of a structured sc multisection functor definition 13 17 let p w x be a strong bundle over an ep groupoid a deco rated sc multisection functor w q is said to be structurable if the follow ing holds where u s there exists a representative u s and for every x x x there is a correspondence x x uuu x x j x x between local section structures u x sx and u x sx which in addition satisfies 1 if x x it is required that x x g y ix id ix g ix for all g gx and y u x 2 x x x x 1 for uuu x x remark 13 2 if is structurable the definition guarantees the existence of an ad ditional finer structure and we can consider u s where stands for the collection of all x x and x x varies over x x and i ix x x the notion of being structurable is the key notion when carrying out constructions one usually takes an associated structured version and usually it does not matter which one 462 13 sc multisections the tuple u s is a useful object in its own right given another such tuple u s we shall introduce a notion of equivalence definition 13 18 we call u s and u s equivalent provided the following holds 1 2 there exists a good system of open neighborhoods u such that u x u x u x for all x x 3 for every x x it holds ix i x 4 for x x x it holds on uuu x x xxx s u x t u x that x x x x an equivalence class is denoted by u s remark 13 3 it would have been possible to define a different equivalence relation accommodating different choices of sets ix namely instead of requiring that ix i x we could have stipulated the existence of gx equivariant bijections bx ix i x and in addition that x x and x x are related by bx a a c and bx b b c where x x ix a i b ix and x x i x a i b i x and c i i is a bijection however in applications it does not seem too much of a difference in general and we picked the more restrictive formulation definition 13 19 an equivalence class u s is called a structured sc multisection we shall often abbreviate u s and call it a structured sc multisection and u s a representative of the structured sc multisection with these definitions we can consider for a strong bundle p w x over the ep groupoid x various classes of sc multisection functors definition 13 20 1 m p denotes the set of sc multisection functors 2 the set of structurable sc multisection functors is denoted by s p 3 the set of structured sc multisection functors is denoted by st p clearly we have a forgetful map forget st p s p 7 13 3 structurable sc multisections 463 it is clear from the definition that every s p can lifted to an element in st p usually not uniquely in fact the definition of a structurable sc multisection precisely says that there exists st p with forget the next proposition shows that being structurable is preserved under the sum oper ation previously introduced for two sc multisection functors moreover if 1 and 2 are structured so is 1 2 proposition 13 3 let p w x be a strong bundle over the ep groupoid x if 1 2 e q are structurable sc multisections functors then 1 2 is also a structurable sc multisection functor if 1 and 2 are structured the sc multisection 1 2 is naturally structured proof for i 1 2 we lift the structurable sc multisection i to a structured sc mutisection and take representatives i ui si i in view proposition 13 1 we may assume that u u 1 u 2 we define ix i 1 x i 2 x for x x introduce the family i of index sets by i ix x x and the family of maps x x u x x j x x by x x 1 x x 2 x x where the right hand side is defined as i 1 x a 1 i 1 b 1 i 1 x i 2 x a 2 i 2 b 2 i 1 x i 1 x i 2 x a 1 a 2 i 1 i 2 b 1 b 2 i 1 x i 2 x next we define the family s sx x x of sc section structures sx sx i j i j ix on u x by sx i j s 1 x i s 2 x j with the action of gx on the index set ix i 1 x i 2 x defined by g i j g i g j the sc sections structures sxi j are symmetric over u x moreover if x x x and the map x x ix ix is represented by the diagram ix i 1 x i 2 x a 1 a 2 i 1 i 2 b 1 b 2 i 1 x i 2 x ix then sx b 1 i b 2 j t s 1 x b 1 i t s 2 x b 2 j t s 1 x a 1 i s s 2 x a 2 j s sx a 1 i a 2 j s for all i j i 1 i 2 showing the compatibility of the local section structures clearly the maps x x are locally constant and satisfy 464 13 sc multisections x x g y ix id ix g ix for all g gx and y u x this completes the proof of the proposition remark 13 4 observe that in the above construction the structured 1 2 is in general different from 2 1 since for example the index sets are different i e i 1 x i 2 x versus i 2 x i 1 x of course one could introduce an appropriate notion of equiv alence to equate both sums since the underlying functors are the same however since being structured is an auxiliary concept we shall not study this further for us the basic notion is being structurable and as such 1 2 2 1 we recall that given r r and a sc multisection functor e q the sc multisection functor r is defined as follows if r 0 it is determined by the requirement 0 0 x 1 for x x and if r 6 0 then r e er the following result is obvious lemma 13 6 let p w x be a strong bundle over an ep groupoid if w q is a structurable sc multisection then r is a structurable sc multisection for every r r if x r is an sc smooth functor and is a structurable sc multisection so is let p w x be a strong bundle over the ep groupoid x we call a sc multisection functor w q trivial near a point x x if there exists an open neighborhood o x of x such that 0 y 1 for all y o x this means that represents the zero section over o x assume that u s is structurable and pick a structured version represented by u s fix for every x x where is trivial near x a new gx invariant open neighborhood u x contained in u x so that 0 y 1 for y u x otherwise keep u x this defines a new u denote by t the collection of all x so that is trivial near x by assumption on u it holds that 0 y 1 for y u x for x t for x t we redefine i x i e a one point set and take as section structure s x which consists of the single zero section over u x with weight 1 if x x t we define i x ix consider for x x x x x uuu x x f x x assume that x x on a connected component is represented by ix a i b ix if x t we replace a by the unique map a onto i x and if x t we replace b by the unique map b onto i x through these modifications we obtain we replace the 13 3 structurable sc multisections 465 representative u s by u s we note that is a correspondence be tween the local section structures hence we obtain a new structured u s which has the following properties 1 u x u x for all x t and u x u x for x x t 2 for every point x t we have that 0 y 1 for y u x and ix for the following considerations we need to modify this even further in fact some what drastically pick for x t any u x with the natural gx action such that u x t for x x t we define u x u x if x x x t define x x x x on uuu x x uuu x x if x t and x x t define x x on uuu x x by x x ix ix id ix if x x t and x t we define x x ix id ix ix in the case of x x t we define x x id id with this data we obtain u s the previous construction proves the fol lowing result proposition 13 4 let p w x be a strong bundle over the ep groupoid x let u s be a structured sc multisection and u s a representative then there exists a structured sc multisection u s where the represen tative u s has the following properties 1 for x t we have i x and we can take any open neighborhood u x with the property that it admits the gx action and u x t the section structure consists of the single zero section 2 for x x t it holds u x u x and i x ix 3 for x x x t it holds x x x x 4 for x t and x x t we have x x i x id i x and for x x t and x t we take x x ix id ix 5 for x x t we have x x 466 13 sc multisections remark 13 5 the fact that u x for x t can be taken arbitrarily subject to the requirements u x t and u x admits the natural gx action will be important in view of proposition 13 4 we can make the following definition definition 13 21 let p w x be a strong bundle over an ep groupoid with paracompact x a structured u s is called tightly structured provided there exists a representative u s having the following properties 1 for x t we have ix and sx consists of the single zero section 2 for x t and x x t we have x x ix id ix and for x x t and x t we have x x ix id ix 3 for x x t we have x x with this definition and employing propsoition 13 4 we obtain the following corol lary corollary 13 1 let p w x a strong bundle over the ep groupoid x for every structurable there exists a tightly structured version a basic result is the following proposition 13 5 let p w x be a strong bundle over an ep groupoid x and let l l l be a family of structurable sc multisection functors having locally finite domain supports then the sum l l l is a structurable sc multisection functor proof we consider representatives l ul sl l l l of structured versions for every l l set tl t l we define a map x 2 l x jx by associating to x the finite set of all l l such that for every open neighborhood o x it holds o x x tl 6 0 in particular we find for every x x an open neighborhood v x satisfying 1 v x admits the natural gx action 2 v x tl for all l l jx for x x define u x by u x v x l jx u l x the following holds for u u x x x 3 for x x and l 6 jx we have that u x tl 13 4 equivalences coverings and structurability 467 4 if l jx then u x u l x with the above properties guaranteed we can pass following proposition 13 4 for every l l to a tightly structured version using the same u as a good system of open neighborhoods without loss of generality we may assume therefore that the l u l sl l already have these properties in particular u ul for l l define l l l we use u as a good system define klx i l x if l jx and otherwise klx the product kx defined as kx l l klx is a finite set we can view an element k kx as a map which assigns to l l an element k l kix for k kx we define sx sxk k kx on u x by sxk l l sl x k l note that this is a finite sum since up to finitely many l the other terms are the zero sections this gives s sx x x next we define x x on uuu x x the obvious idea is to take the product product of the lx x l l but one has to make sure that this is well defined every lx x for l l has a representative of the form ilx i l x i l x moreover this diagram takes the following forms given x and x 1 with the exception of finitely many l for x x tl 2 for finitely many values of l l ilx i l x for x tl 3 for finitely many values l l ilx ilx for x tl 4 for finitely many values l l ilx i lx ilx from this it follows that the product of the lx x is defined and a correspondence 13 4 equivalences coverings and structurability next we shall study the properties of structured sc multisections with respect to equivalences of strong bundles and generalized strong bundle isomorphisms but also with respect to proper covering functors 468 13 sc multisections theorem 13 3 let p w x and p w x be strong bundles over ep groupoids suppose w w is a strong bundle equivalence covering the equivalence f x x and w q is a structurable sc multisection func tor then the sc multisection functors is structurable if is structured there is a canonical way to structure proof we start by showing that is structurable fix a structured u s with representative u s recall that we can take the sets in u as small as we wish so that the other associated new data are just the restrictions of the old data for every x x we find u x with the natural gx action so that 1 t s 1 clx u x x is proper and 2 f u x f u x is an sc diffeomorphism 3 f u x u f x and without loss of generality f u x u f x we define ix i f x and u u x x x given x y x the equivalence f de fines an sc diffeomorphism u x y u f x f y and we infer that s u x y u x and t u x y u y when restricted to a connected component are sc diffeomorphisms onto open subsets with other words u is a good system of open neighborhoods we define by x y f x f y f finally the symmetric sc section structures sx sxi i ix are defined via sxi z s f x i f z for z u x i ix and determine s hence is structurable and u s is the canonically structured version when starting with u s there is a similar result for the push forward f however there is not a canoni cal structuring for the latter here we shall also need an extension result which we formulate now proposition 13 6 let p w x be a strong bundle over an ep groupoid and assume that v is an open subset of x satisfying x v we view v as an ep groupoid and assume w v q is a given structured sc multisection functor then the following holds 1 has a canonical extension to w denoted by 2 given open neighborhoods o x for x x v the sc multisection has a structured version so that the induced data to v is the original structured and the sets u x for x x v are contained in o x 13 4 equivalences coverings and structurability 469 proof 1 for w w we can pick find w w v and p w p w such that w w we define w w one easily verifies that this definition does not depend on the choices involved the extension is an sc multisection functor namely we can take open neighbor hoods u u p w and u p w so that t u u p w and s u u p w are sc diffeomorphisms we may assume that u p w is small enough so that it supports a local sc section structure with the data at hand we can push it forward to u p w where it represents 2 for every q v we have an open u q v invariant under the gq action having the properness property and supporting a symmetric sc section structure sq in addition the collection u u q q v is a good system for v in addition we have correspondences q q relating the local sc section structures we employ the extension theorem for u and obtain u x x x which extends u and where u x o x for x x v we also need to extend the correspondences and define specific local sc section structures for this we first have a closer look at the proof of theorem 13 1 to see how data was being moved around without loss of generality we assume that u x o x where u x will be fixed arbitrarily small for every x x v we fix x xxx with qx s x and t x x moreover we find open neighborhoods o x o qx and u x having the following properties s o x o qx and t o y u x are sc diffeomorphisms o qx u qx and o qx is invariant under the gqx action on u qx u x admits the natural gx action and has the properness property for every connected component of uuu qx x the maps s u qx and t u x are sc diffeomorphisms onto their image we have seen in theorem 13 1 that u x x x is a good system we need to define local section structures on the new sets and correspondences for the following types of sets i uuu q x for q v and x x ii uuu x q for x x and q v iii uuu x y for x y x we start with the local sc section structures pick x x v and define the equiv ariant sc diffeomorphism dx o qx u x d q t s u x 1 q 470 13 sc multisections where x gqx gx is defined by x x 1 x with o qx u qx we push forward the restriction of sqx to o qx more precisely with sqx s qx i i iqx we define ix iqx and s x i by sxi dx q s o x 1 q sqxi q for q o qx we let gx act on ix iqx by g i 1 x g i this prescription defines for every x x v a symmetric local sc section structure on u x representing in a next step we have to define the correspondences in case i we take the sc smooth embedding a uuu q x uuu q qx a t o x 1 t 1 whose image is xxx s u q t o qx we define q x uuu q x i q x by q x q qx a this map is obviously locally constant since this did hold for q qx moreover it defines a correspondence between the local sc section structures as we shall show now take uuu q x and define a t o x 1 t 1 xxx s u q t o qx assume q qx is represented by ix i iqx with maps a and b so that sqxb i t s q a i s by construction q x is represented by the same diagram where ix iqx by defi nition we compute sxb i t s o x 1 d 1 x t s qx b i d 1 x t s o x 1 t s qx b i t s o x 1 t s q a i s s o x 1 t s q a i s sqa i s this shows the compatibility the case ii is similar where we use the pseudo inverse of q x in case iii we define x y as follows recall that we have the sc diffeomorphism c uuu x y xxx s o qx t o qy defined by 13 4 equivalences coverings and structurability 471 c t o y 1 t 1 t o x 1 s in this case we define x y by x y qx qy c through a straight forward computation as in case i one verifies the assertion theorem 13 4 let p w x and p w x be strong bundles over ep groupoids assume that w w is a strong bundle equivalence covering the equivalence f x x and w q a structurable sc multisection functor then the push forward is a structurable sc multisection functor proof define w q as follows if w w using the fact that is a strong bundle equivalence covering the equivalence of ep groupoids f we find w w xxx such that w w and f p w p w define w w and note that the definition does not depend on the choices involved hence we have defined as a functor w q we pick a structured version u s represented by u s of the struc turable sc multisection functor w q since f is an equivalence and hence a local sc diffeomorphism we may assume in view of theorem 13 2 that for every open neighborhood u x u the map f u x f u x is a sc diffeomorphism and f u x is contained in a set having the properness property for every y f x we choose a point xy x such that f xy y and set u y f u xy and i y ixy we define a sc section structure s y s y i i i y on u y as the push forward of s xy i i ixy by and obtain s yi s xy i f u xy 1 for all i i y using the fact that f is faithful and full the map f mor xy xy mor y y is a bijection next we define the action of g y on the index set i y and the maps y y uuu y y i y y we put i y ixy and define the action of the isotropy group g y on the index set i y by g i f mor xy xy 1 g i g g y i i y the equivalence f induces an sc diffeomorphism 472 13 sc multisections uuu xy xy uuu y y f in order to see this recall that the map is clearly a local sc diffeomorphism the map is surjective indeed let uuu y y pick the uniquely determined points x u xy and x u xy such that f x s and f x t since f is an equivalence there exists with s x and t x such that f the map is also injective if f 1 f 2 we see that f s 1 s f 1 s f 2 f s f 2 and f t 1 t f 1 t f 2 f t f 2 from which we conclude that 1 and 2 have the same source and target since f is faithful this implies 1 2 now we define the maps y y uuu y y i y y by y y xy xy f uuu xy xy 1 uuu y y one can easily check that with these definitions the sc section structure syi i i y is symmetric and the maps y y are correspondences for all y y f x we note that w f x u s is a representative for a structured sc multisection for the strong bundle w f x f x note that f x is an ep goupoid for the induced structure as an open subset of x and moreover f x x now we apply propsition 13 6 and obtain that the extension is structurable the structurable sc multisections behave nicely with respect to pull backs by proper covering functors theorem 13 5 let p e y q w x be strong bundles over ep groupoids and e w a proper strong bundle covering map covering the proper covering functor f y x if w q is a structurable sc multisection func tor then the pull back is a structurable sc multisection functor proof fix a structured version u s of in view of the definition of a proper covering functor without loss of generality we may assume that the open neighbor hoods u x u are sufficiently small so that the following holds there are finitely many mutually disjoint open neighborhoods v y y around every point y f 1 x such that the restrictions f v y u x are sc diffeomorphisms and f 1 u x z f 1 x v z the open neighborhoods v v y y y form a good system of open neighbor hoods on y 13 4 equivalences coverings and structurability 473 in addition since f is a proper covering functor the map yyy xxx s fy defined by 7 f s 13 6 is a sc diffeomorphism on every open neighborhood u x we are given the symmetric sc section struc ture sx sxi i ix and for every two points x x x we have correspondences x x uuu x x i x x relating the local section structures sx and sx for every y f 1 x we take as index set iy the index set ix and define the sc section structure sy on v y as the pull back of of sx syi z s x i f y z v y i iy 13 7 the action of the isotropy group gy on the index set iy is defined by g i f g i for g gy and i iy since the map defined in 13 6 is a sc diffeomorphim we deduce for the natural actions that f y g z x f g f z for all g gy and z v y using this fact we conclude that the sections defined by 13 7 are symmetric indeed we compute for g gy i iy and z v y syg i g z s x g i f g z s x f g i f g f z x f g f z sxi f z f y g z syi z y g z syi z since is a fiber wise isomorphism we conclude that syg i g z y g z syi z which proves our claim having defined the good system of open neighborhoods v v y y y the family i iy y y of index sets as well as the family s sy y y of symmetric sc section structures we define the family y y y y x of maps y y v y y i y y as follows if y f 1 x and y f 1 x we put y y x x f for all v y y clearly the maps y y are locally finite and satisfy y y y y 1 for v y y and y y y g z iy id iy g iy for every g gy and z v y finally we shall verify the compatibility condition if y f 1 x y f 1 x v y y and the diagram iy a i b iy is a representative of y y 474 13 sc multisections we compute sya i s f s y a i s f sxa i s f sx b i t f sy b i t which implies that sya i s s y b i t for every i i the proof of the theorem is complete in a next step we introduce the notion of two structured sc multisection func tors 1 2 being commensurable more precisely let i ui si i i 1 2 be structured sc mulitsection functors for the strong bundle p w x over the ep groupoid x with paracompact orbit space definition 13 22 let p w x be the strong bundle over the ep groupoid x hav ing paracompact orbit space and let i j u j s j j where j 1 2 be struc tured sc mulitsection functors 1 the functors 1 and 2 are called commensurable if we can take representatives for which u 1 u 2 1 2 and i 1 x i 2 x for all x x denote such a choice of compatible data by c 2 the commensurable sum of the commensurable sc multisection functors 1 and 2 for the data c denoted by 1 c 2 w q is defined by u s where the underlying sc multisections functor is given as follows the symmetric sc section structure sx sxi i ix on u x is defined by sxi s 1 x i s 2 x i and if x x and w w satisfies p w u x then w 1 ix i ix sxi p w w the commensurable sum can also be taken when we are given an infinite family j u s j j j where every two are commensurable and in addition the under lying family j is locally finite i e there exists for every x x an open neigh borhood o o x so that with the exception of finitely many indices we have for w wy y o that j w 0 provided w 6 0 y in this case 13 5 constructions of sc multisections 475 cj j j here c denotes as before a choice is well defined and a structured sc multisection functor with data u s this is evident and does not require a proof the commensurable sum is not intrinsic and depends on choices nevertheless it is very important in constructions utilizing partition of unity arguments 13 5 constructions of sc multisections in this subsection we demonstrate how sc multisection with certain properties can be constructed definition 13 23 a sc multisection functor w q is called atomic if the following conditions are satisfied 1 there exist a point x x and gx invariant open neighborhoods u x and v x such that clx v x u x and t s 1 clx u x x is proper 2 there exists a symmetric sc section structure si i ix on u x vanishing outside of v x 3 the functor is related to the local section structure as follows if w w and w w where p w t is a morphism such that t u x then w 1 ix i ix si p w w if w w and there is no morphism satisfying s p w and t u x then w 1 if w 0 0 otherwise remark 13 6 in the perturbation theory one often introduces the atomic sc multi section by first constructing one section which takes at a prescribed smooth point x a particular value or has a tangent map with a prescribed property then one moves this section around with the action of gx and finally extends by a standard procedure if one perturbs over a compact solution set then a finite number of such perturbations added together are sufficient to achieve transversality in order to carry out such a procedure one needs the existence of sc smooth bump functions but not necessarily sc smooth partitions of unity 476 13 sc multisections theorem 13 6 let p w x be a strong bundle over an ep groupoid if w q is an atomic sc multisection functor then it is structurable proof we consider an atomic sc multisection functor w q we have to construct a system of good neighborhoods u u x x x the family i ix x x of index sets the family of correspondences x x x x x and the family s sx x x of symmetric sc section structures on u x satisfying the compatibility conditions since is atomic there are gx 0 invariant open neighborhoods u x 0 and v x 0 such that clx v x 0 u x 0 and the target map t clx s 1 u x 0 x is proper moreover on u x 0 there exists a symmetric sc section structure sx 0 s x 0 i i ix 0 such that the sections sx 0 i vanish on u x 0 v x 0 and can be written in terms of this data w 1 ix 0 i ix 0 si p w w if p w u x 0 we take u x 0 as our first set with index set ix 0 and sc section structure sx 0 sx 0 i i ix 0 we define x 0 x 0 uuu x 0 x 0 i x 0 x 0 by x 0 x 0 g y ix 0 id ix 0 g ix 0 for y u x 0 g gx 0 next consider the points x u x 0 for each of them we pick an open gx invariant neighborhood u x satisfying u x u x 0 and take sx s x 0 i u x i ix with ix ix 0 we define a group homomorphism x gx gx 0 g x g where x g is uniquely determined by the equality x g x x 0 x g x here x and x 0 are associated to the natural representations on u x and u x 0 respec tively then gx acts on ix by g i x g i i ix ix 0 given x x u x 0 the set uuu x x is an open subset of uuu x 0 x 0 and we define x x as the restriction of x 0 x 0 among the points x x u x 0 consider first the points x which have an open neighborhood o x with the property that 0 y 1 for y o x in this case fix an open gx invariant neighborhood u x with the properness property and take as sc section structure sx the single zero section sx parameterized by ix if x x u x 0 but such a neighborhood o x does not exist we can pick a mor phism x with s x x and t x clx v x 0 we find open neighborhoods u x u x and u t x such that 13 5 constructions of sc multisections 477 x t s u x 1 u x u t x is an sc diffeomorphism u t x u t x we define ix it x and take as section structure sx the pull back of the restriction of st x to u t x we define a group isomorphism x gx gt x by x g x g 1 x which we use to define the gx action on ix by g i x g i i ix it x ix 0 at this point we have defined a family u u x x x an index set ix for every x x together with group actions of gx on ix in addition we have defined for every x x a sc section structure sx we also have defined the correspondences x x for x x u x 0 we need to define x x for the remaining cases assume first that x x are given outside of u x 0 such that the previously introduced x and x with targets in clx v x 0 exist using the sc embeddings x and x we can embed uuu x x into uuu t x t x via the map s u x 1 t s u x 1 s 1 and define x x t x t x s u x 1 t s u x 1 s 1 assume next that x 6 u x 0 and x is arbitrary we define x x ix id ix if x is arbitrary and x x satisfies x 6 u x 0 we define x x ix id ix the latter two definitions are compatible if x x 6 u x 0 on verifies easily that the sc section structures are compatible via the correspondences with this data u s is a structured version of the following two theorems together show that one can construct atomic sc multisections possessing special properties theorem 13 7 construction i let p w x be a strong bundle over an ep groupoid admitting smooth bump functions we assume that x is a smooth object and u x is a gx invariant open neighborhood having the properness property and admitting the natural gx action let v x be an another open neighborhood such 478 13 sc multisections that clx v x u x and v x is invariant under gx then the following state ments hold 1 if w w is a smooth vector satisfying p w x then there exists a finite family of sc section si i i defined on u x vanishing on u x v x and an action of gx on i satisfying sg i g z g z si z for z u x and si 0 x w for some i 0 i 2 if s is a sc section near x u x satisfying s x 0 then there exists a finite family of sc sections si for i i supported in u x vanishing on u x v x and an action of gx on i such that sg i g z g z si z for z u x and i i moreover si 0 y s y for y near x for some i 0 i proof the proof is straightforward in case 1 we fix an open neighborhood v x with clx v x u x so that v x is invariant under the gx action we construct in local coordinates a sc section s satisfying s x w we multiply s with a sc smooth bump function supported in v x and satisfying x 1 so that the product s is a sc section supported in u x recall such ex ists with arbitrarily small support now applying the gx action we define for ev ery g gx the local sc section sg u x w by sg g z g z s 0 z for z u x where s 0 s using the properties of the sc diffeomorphism gx u x x s and t u x and of the structure map one sees that if g id gx then sid z s 0 z moreover for every g h gx the for mula sg h g z g z sh z holds for every z u x consequently intro ducing the finite index set i gx and the group isomorphism gx per i into the permutations of i defined by g h g h we obtain the equation s g h g z g z sh z for every z u x and g h gx this way we obtain a called symmetric section structure near x defined on u x where the sg have support in v x with clx v x u x in case 2 we use a sufficiently concentrated bump function and define s 0 s the previous proposition tells us how to obtain locally a gx invariant family of sc section supported in a suitable neighborhood u x for which there exists v x with clx v x u x so that the support is contained in v x such families can be used to construct atomic sc multisections as the next result illustrates theorem 13 8 construction ii let p w x be a strong bundle over an ep groupoid admitting smooth bump functions we assume that x is a smooth point and u x an open neighborhood which is invariant under the natural gx action having the properness property further we let si i i be a finite number of sc sections of the strong bundle w x supported in u x where we view x just as a m polyfold we assume in addition that gx acts on i such that sg i g z 13 5 constructions of sc multisections 479 g z si z for all z u x and i i then there exists a uniquely determined atomic sc multisection of p which is supported in the saturation of u x and which over u x can be written w 1 i i i si p w w moreover is structurable proof let u x be an open neighborhood admitting the natural gx action so that t s 1 clx u x x is proper we assume we are given a finite set i with an action by gx and a family of sc sections si i i of w u x having the following properties i sg i g y g y si y for y u x ii there exists v x with clx v x u x and invariant under gx such that si y 0 for y u x v x first we define w q if w w and there exists a morphism with t u x and s p w we define w 1 i i i si p w w if no such exists we define w 1 if w 0 p w 0 otherwise we need to show that can be represented locally by sc smooth section structures in the case that there exist p w y with y u x we can use the associated local sc diffeomorphism to pull back the local section structure and it will represent on w restricted to a suitable small neighborhood of p w in the case that there does not exist a morphism starting at y p w and ending in u x we find an open gy invariant neighborhood u y so that u y v x 0 in this case we take as section structure the single zero section on u y which we may assume to possess the properness property after this discussion we see that is an sc multisection functor we have already established that they are structurable the basic existence result deduced from the two previous results is the following theorem which provides in addition a control of the size of the sections 480 13 sc multisections theorem 13 9 let p w x be a strong bundle over the ep groupoid x with paracompact orbit space x which admits sc smooth bump functions let n is a given auxiliary norm for p it exists due to the paracompactness of x for every smooth vector w w 0 w satisfying p w x and every open neighborhood u x around x p w equipped with the natural gx action there exists an atomic sc multisection satisfying the following properties 1 dom supp 1 u x 2 g w 0 for all g gx moreover if s is a sc section defined in the open neighborhood u x and if 0 then there exists an atomic sc multisection supported in 1 u x and satis fying n y n s x for all y x whose local section structure near x contains the sc section s having a positive weight the importance of atomic sc section functors comes from the following result it states that every structurable sc multisection functor w q associated to p w x where x is paracompact and x admits sc smooth partitions of unity can be obtained as a locally finite commensurable sum of atomic sc multisection functors theorem 13 10 let p w x be a strong bundle over the ep groupoid x which has a paracompact orbit space x and admits sc smooth partitions of unity we assume that w q is a structurable sc multisection functors then there exists a locally finite family of commensurable structured sc multisection functors j u s j j j each having an underlying atomic sc multisection functor j such that u s j j j u s j proof we take a structured lift of represented by u s setting u x 1 u x for every x x the family u x x x is an open covering of x by saturated sets by assumption the orbit space x is paracompact and x admits sc smooth partition of unity functors as an ep groupoid consequently there exists a locally finite refinement vj j j of u x x x and for every j j a point x j x such that cl x vj u x j and moreover a sc smooth partition of unity j j j of functors j x 0 1 satisfying supp j vj fixing j j we define the sc section structure s j x s j xi i ix on every u x by s j xi y j y s x i y which in turn defines the sc multisection functor j and the structured j u sj we claim that for every j j the functor j is atomic since supp j vj u x j it follows that j j u x j u x j 0 1 vanishes outside of the set 13 5 constructions of sc multisections 481 1 vj u x j whose closure in x is contained in u x j in view of lemma 13 1 hence j is atomic and by construction the family j is locally finite by con struction u s j j j u s j the proof is complete chapter 14 extension of sc multisections the main result in this chapter concerns an extension of a structurable sc multi section functor defined over x i e w x q to a structurable sc multisection functor w q over all of w satisfying some additional proper ties w x q w q the additional properties are concerned with the size of the extension and its sup port first we shall provide the appropriate definitions and state the main result and then we outline the proof so that the reader will be able to follow the sizable construction 14 1 definitions and main result in order to formulate the extension result we need some preparation we assume that x is a tame ep groupoid with paracompact orbit space x admitting sc smooth partitions of unity we note that in general the boundary x is not an ep groupoid however it has enough structure to talk about smooth data on it recall that a tame m polyfold m has for every point x an arbitrarily small open neighborhood v v x so that there are precisely d x many connected compo nents in y v d y 1 having x in its closure and each such closure is a sub m polyfold see corollary 2 2 and section 2 4 for more detail if we take such a neighborhood small enough we may assume that the properness property holds of course in addition we may always assume that we have the natural gx action on v x hence we make the following definition definition 14 1 let x be a tame ep groupoid and x x a good open neigh borhood u x in x is a subset of x which is given as the intersection u x v x x where v x has the following properties 483 484 14 extension of sc multisections 1 v x is an open neighborhood of x in x and admits the natural gx action 2 t s 1 clx v x x is proper 3 there are dx x many connected components i in y v x dx y 1 so that their closures i in v x contain x and for y v x it holds that dx y i 1 dx x y i we shall refer to v x as a good open neighborhood of x x in x note that the j are tame m polyfolds remark 14 1 for the existence of such neighborhoods v x see proposition 2 14 and the discussion preceding it next we shall introduce a class of sc multisections over x definition 14 2 let p w x be a strong bundle over the tame ep groupoid x with paracompact x a functor w x q is an sc multisection functor over x if for every x x there exists a good neighborhood u x in x an index set ix with gx action and a family of section sxi i ix defined for w u x so that 1 the restriction of sxi to every j is an sc section of w j 2 sxg i g y g y s x i y for all y u x 3 w 1 ix i ix s x i p w w for w w with p w u x we call sx sxi i ix a symmetric sc section structure for near x in x remark 14 2 extensions let for x x be the data as in definition 14 2 and as sume that x admits sc smooth partitions of unity then it is an easy exercise to show that there exists an open neighborhood v x of x in x being invariant under the nat ural gx action and sc sections sxi i i of w v x having the following properties a v x x u x b si u x si for all i i c sxg i g y g y s x i y for y v x and g g to see this we first construct in a straight forward many v x pick i i and employ proposition 12 2 and a partition of unity argument to construct sxi then we use the formula c to define sxg i for every g g in a next step we pick i i g i and repeat the previous step we are done after a finite number of iterations next we shall introduce the notion of good systems of neighborhoods for x 14 1 definitions and main result 485 definition 14 3 let u x x x be a collection of open neighborhoods u x x of points x x in x then u x x x is called a good system of neighborhoods for x if the following conditions are satisfied 1 the u x are good neighborhoods in the sense of definition 14 1 2 for two points x x x the subset uuu x x xxx s u x t u x of xxx has the following property there exist good open neighborhoods v x and v x of x and x in x see definition 14 1 restricting to x as u x and u x so that for every connected component vvv x x the source map s v x and the target map t v x are sc diffeomorphisms onto open subsets given an open covering o x x x of x o x open in x we can find a good system of open neighborhoods u x x x u x o x by employing theorem 13 2 as outlined in the following proof theorem 14 1 let x be an ep groupoid with paracompact orbit space x and o x x x an open cover of x by open neighborhoods of its points here o x is open in x then there exists a good system of neighborhoods u x x x for x with u x o x for all x x proof extend the elements of the collection o x x x to open neighborhoods o x of x x with o x x o x by adding open neighborhoods o x for x x x we obtain the collection o x x x in view of theorem 13 2 we find a good system of neighborhoods v x x x with v x o x for x x then define for x x the set u x by u x x v x now we are in the position to define structured sc multisection functors for w x definition 14 4 let p w x be a strong bundle over a tame ep groupoid with paracompact orbit space x a structured sc multisection over x is an equivalence class of tuples u s in which w x q is a sc multisec tion functor and 1 u u x x x is a good system of open neighborhoods for x 2 x x x x x x is a collection of correspondences x x uuu x x j x x every x x only takes finitely many values we assume in addition that a x x 1 x x 486 14 extension of sc multisections b x x g z ix id ix g ix c g x x g x x g g for g gx g gx and uuu x x 3 s sx x x where sx is a symmetric sc section structure on u x indexed by ix and representing w 1 ix i ix sxi p w w if p w u x 4 for x x x the compatibility condition sx b k t s x a k s k i for all uuu x x holds here a b is the usual data associated to x x i e x x ix a i b ix a sc multisection functor w x q is called structurable if there exists a structured sc multisection of the form u s where the notion of equivalence is similar to the x case see definition 13 19 and before for a latter discussion in section 16 5 we note the following result proposition 14 1 let p w x and p w x be strong bundles over tame ep groupoids with paracompact orbit spaces and assume that f w w is a generalized strong bundle isomorphism covering f x x further let w x q and w x q be structurable sc multisection functors in the sense of definition 14 4 then f defines a structurable sc multisection functor defined on w x and f defines a structurable sc multisection functor on w x proof given f w w we take a representative which gives the commutative diagram w v w p y q y p y x e a f x where q v a is a strong bundle over a tame ep groupoid and the horizontal arrows give strong bundle equivalences let w x q be a structurable sc multisection functor by an argument similar to that used in the proof of theorem 13 3 it is a straight forward exercise to show that e is a structurable sc multisection functor then employing an argument as in the proof of theorem 13 4 we see that f f e is structurable as well the argument for the pullback via f is similar one of the main results in this chapter is the following extension theorem 14 2 good structured version of 487 theorem 14 2 extension theorem assume p w x is a strong bundle over a tame ep groupoid x with paracompact orbit space x and x as the m polyfold admits sc smooth partitions of unity let w x q be a structurable sc multisection functor defined over the boundary and let n w 0 be an auxiliary norm if u is a saturated open neighborhood of dom supp in x and f x 0 is a continuous functor supported in u and satisfying n x f x for all x dom supp then there exists a structurable sc multisection functor w q having the following properties 1 n x f x for all x x 2 dom supp u 3 w x remark 14 3 the proof of this theorem requires some preparations and is rather in volved extension theorems for sc section functors are given sc smooth partitions of unity not very difficult however the complexity in the case of multisections is much higher 14 2 good structured version of we assume that is given as described in theorem 14 2 since w x q is structurable we can take a structured lift represented by u s 14 1 in detail this gives us the following list of data with certain properties which will be used in the following p 1 for every x x a good neighborhood u x of x in x which by definition has the following properties i u x v x x where v x is an open neighborhood of x in x admitting the natural gx action ii t s 1 clx v x x is proper iii there are dx x many connected components i in y v x dx y 1 x 488 14 extension of sc multisections so that their closures i in v x are tame m polyfolds containing x and dx y i 1 dx x y i p 2 for every x x a finite index set ix and a symmetric sc section structure s x given by s x i i ix on u x which represents over u x see definition 14 2 we abbreviate j ix x x p 3 for x x x correspondences x x uuu x x j x x with the properties listed in definition 14 4 we denote by v x x the image of x x we shall modify the given data later on the index sets in j will stay unchanged in general u will be modified to achieve certain goals we denote by uuu x x the subset of xxx defined by uuu x x xxx s u x t u x the first important fact is that x x uuu x x j x x only takes finitely many values this defines a subset v x x of j x x if we re place the u x by smaller u x the associated x x obtained by restriction takes values defining a set v x x v x x in a first step replace every u x by a smaller u x with the same properties but in addition satisfying cl x u x u x this implies clx u x u x and the following holds true lemma 14 1 defining uuu x x xxx s u x t u x the clo sures of the preimages in xxx under x x uuu x x of two different d 6 d are disjoint proof let k k be sequences in uuu x x satisfying x x k d and x x k d suppose further that k 0 and k 0 in xxx which implies 0 xxx then 0 u x x and define d 0 x x 0 since x x uuu x x j x x is locally constant it follows for large enough k d x x k d 0 x x k d this completes the proof in view of the lemma replacing u by a good system of neighborhoods with smaller sets we may assume without loss of generality that u has this property already it 14 3 extension of correspondences 489 will persist when we replace these sets by even smaller ones hence we have proved proposition 14 2 good structured version under the assumption of theorem 14 2 we can pick a structured lift u s and representative u s such that the following property besides p 1 p 3 holds in addition p 4 for different d 6 d in v x x the closures of 1 x x d and 1 x x d in xxx are disjoint from now on we assume that u s has besides p 1 p 2 p 3 the addi tional property p 4 14 3 extension of correspondences under the assumptions of theorem 14 2 we have picked a representative u s of a suitable structured version satisfying p 1 p 2 p 3 p 4 in particular we have for every pair x x x the map x x uuu x x j x x 14 2 which defines a correspondence between the section structures in this section we shall show first that there is a canonical extension of every x x to an open neighbor hood o x x of uuu x x xxx in xxx there exists for every x x an open neighborhood u x x which has the fol lowing property p 5 i u x admits the natural action by gx and has the properness property ii u x x u x it is clear that u x x x is a covering of x by sets open in x we define u uu x x xxx s u x t u x the following proposition is crucial it is the first step aiming at extending the maps x x uuu x x j x x to open subsets in xxx the sets o x x we are going to con struct next are an intermediate step in constructing the sets o x x previously men tioned 14 2 490 14 extension of sc multisections lemma 14 2 under the assumptions of theorem 14 2 consider a representative u s of a structured lift of having the properties p 1 p 4 also let u x x x be a covering of x by sets open in x satisfying p 5 then there exists for every d v x x an open neighborhood o x x d of 1 x x d in xxx satisfying the following 1 o x x d u uu x x for all d v x x 2 clxxx o x x d clxxx o x x d 0 if d d v x x satisfy d 6 d 3 h o x x d g o x x h d g for g gx and h gx 4 defining o x x d v x x o x x d we have o x x xxx uuu x x proof the sets 1 x x d for d v x x have mutually disjoint closures in xxx which lie in xxx recalling that u x x u x for x x and that uuu x x decomposes into the disjoint union uuu x x d v x x 1 x x d we note that each 1 x x d is open and closed in uuu x x of course clxxx 1 x x d is usually larger than 1 x x d we can find open neighborhoods o x x d of 1 x x d in xxx which are contained in u x x and have mutually disjoint closures in xxx these sets therefore satisfy 1 and 2 we also have by construction 1 x x d o x x d xxx on the other hand for o x x d xxx it follows that uuu x x and x x d and therefore 1 x x d o x x d xxx from this and the properties of x x we deduce that for h d g gx v x x gx with h d g d it holds that h o x x d g is an open neighborhood of 1 x x d define o x x d h d g gx v x x gx h d g d h o x x d g since u uu x x is invariant under the bi action this defines an open neighborhood of 1 x x d in x contained in u uu x x again it holds o x x d x 1 x x d for all d v x x 14 3 extension of correspondences 491 then o x x d satisfies 1 and 2 and from the construction it follows that h o x x d g o x x h d g so that 3 holds finally o x x has obviously property 4 now we can define the sets o x x we are interested in we denote by o x x the union of the connected components in o x x intersecting xxx this set is bi invariant and uuu x x o x x o x x u uu x x 14 3 each connected component in o x x intersects xxx which allows us to take for o x x an element o x x xxx uuu x x in the same connected component we assign to the element the value d x x v x x lemma 14 3 the map d is well defined proof assume that is a connected component in o x x and xxx then there exist d d such that o x x d and o x x d if d 6 d we know that the closures of these sets are disjoint implying that and cannot be on the same connected component in view of this lemma we can define o x x d o x x d d and the set o x x decomposes as disjoint union o x x d v x x o x x d 14 4 we can extend x x u x x j x x in a unique way to a locally constant map x x o x x j x x which restricted to u x x is x x namely we define x x d if o x x d 14 5 we summarize the construction so far as follows proposition 14 3 under the assumptions of theorem 14 2 consider a representa tive u s of a structured lift of having the properties p 1 p 4 also let u x x x be a covering of x by sets open in x satisfying p 5 then there exist for x x x open subsets o x x of xxx satisfying 1 uuu x x o x x u uu x x 492 14 extension of sc multisections 2 the set o x x is invariant under the bi action of gx gx 3 x x uuu x x j x x has a unique locally constant extension x x o x x j x x taking the same values as x x this extension has the additional properties x x g g g x x g for g gx g gx o x x and x x g y x x g z for z u x and y u x importantly o x x can be written as a disjoint union o x x d v x x o x x d with o x x d xxx 1 x x d uuu x x 1 x x d o x x d 0 for d 6 d proof follows from lemma 14 2 and the discussion thereafter remark 14 4 at this point we have constructed an extension x x o x x j x x for every choice of x x x note that o x x is not of the form u uu x x xxx s u x t u x for suitable open sets u x and u x this means that at this point x x has not the form required from a correspondence when we finally succeed in constructing a structurable extension of we shall obtain a correspondence of the usual form between the local section structures however in general the restriction of the data defining the structure will have little in common with the original data coming from a structured choice over x this being said they will however be related on some level next we pick for every x x an open neighborhood u x of x in x with the following property p 6 i u x admits the natural gx action and has the properness property ii cl x u x u x for x x in particular it holds that clx u x u x for x x 14 3 extension of correspondences 493 we shall write u uu x x for xxx s u x t u x we define u x u x x 14 6 uuu x x xxx s u x t u x for the following we shall rely on the data already constructed which satisfies p 1 p 6 together with 14 3 the following holds for the various sets we cur rently consider uuu x x clxxx uuu x x uuu x x o x x o x x u uu x x 14 7 u uu x x clxxx u uu x x u uu x x the next lemma is the place where we use the paracompactness of x lemma 14 4 under the assumption that x is an ep groupoid with paracompact x there exists a subset a of x and for every a a a nonempty open subset v a of u a with the following properties 1 cl x v a u a for all a a 2 v a is invariant under the natural action of ga on u a 3 v a a a is a locally finite covering of x by sets open in x note that in general a 6 v a which is indicated by writing v a instead of v a proof the collection of open subsets u x x x is an open covering of x by sets open in x if we add x x we obtain an open covering of x using that x is paracompact and therefore even metrizable we find a subordinate open locally finite covering wa a x where of course most sets are empty we also may assume that cl x wa u a we denote by a x the set indexing nonempty sets then 0 6 cl x wa u a for a a we define v a u a 1 wa then cl x v a u a for all a a and v a a a is a locally finite covering of x by sets open in x we note that for a a the various sets are related by 0 6 v a clx v a u a clx u a u a 14 8 in view of proposition 14 3 we also have for x x x open subsets o x x of xxx which satisfy o x x xxx uuu x x o x x u uu x x 14 9 494 14 extension of sc multisections for the next result we use the basic data u s from proposition 14 2 the open sets u x x x defined thereafter satisfying p 5 and the open sets u x x x satisfying p 6 in addition recall v a a a obtained in lemma 14 4 and u x u x x and u x u x x 14 10 the goal in the remaining part of this section is to construct for a a open subsets v a u a of x with suitable properties such that in particular v vv a a xxx s v a t v a satisfies v vv a a o a a for a a a this implies as a consequence of proposition 14 3 that in particular the extension a a is defined on v vv a a we observe that with respect to remark 14 4 we are moving in the right direction however we note that v a is in general not a neighborhood of a and the points a only belong to the subset a of x rather than allowing all the points in x lemma 14 5 fixing a a for every y u a there exists a finite subset o y a and a gy invariant open neighborhood o y u a with the following properties 1 the orbit set o y intersects v b only if b o y 2 g o y o g y and o y o g y for g ga 3 for every b o y it holds that x s o y u a t u b o a b proof 1 fix a a and pick y u a since v a a a is a locally finite cover ing of x by open subsets in x we find a finite subset o y of a so that every neighborhood of y intersects v b for b o y and there exists a sufficiently small neighborhood intersecting these sets only hence we find an open neighborhood o y which is gy invariant and contained in u a so that 1 holds for o y 2 we define for g gx the set o g y g o y clearly o g y o y and o g y o y which proves 2 we can take o y as small as we wish 3 we would like to show that 3 can be achieved if o y is small enough here y u a arguing indirectly we find a sequence of morphisms k xxx with the following properties s k u a and s k converging to y t k u bk where bk o y k 6 o a bk 14 3 extension of correspondences 495 from the properness properties of the finitely many u bk we deduce that each subsequence of k has a convergent subsequence where the limit then satisfies s 0 y clx u a and t 0 clx u b for some b o y hence 0 uuu a b and therefore 0 o a b this contradiction implies that for k large we must have that k b o y o a b hence for o y sufficiently small 3 holds taking o y even smaller the same must hold for the finitely many o g y we define for a a the open subset v a of x by v a y u a o y v a 14 11 the collection of open sets v a a a has the following properties proposition 14 4 1 for a a the open subset v a of x is ga invariant and con tained in v a u a 2 v a x v a x for a a 3 the collection v a a a is a locally finite covering of x by subsets open in x 4 defining for a a a the sets v vv a a xxx s v a t v a it holds that v vv a a o a a for a a a in particular we can restrict the locally constant map a a o a a j a a to v vv a a proof by construction v a is open ga invariant and contained in v a this implies 1 point 2 follows since by construction y u x o y contains v a x hence v a x x y u a o y v a v a x the collection v a a a is an open covering of x since v a v a for a a it is in addition locally finite this gives 3 point 4 holds by construction of the sets v a for a a see specifically lemma 14 5 3 with a a a assume that v vv a a by construction v a u a and there 496 14 extension of sc multisections exists y u x such that s o y by lemma 14 5 1 and 3 we must have that t v b for some b o y since v b v b we conclude that a o y and o a a at this point we have constructed for a a open subsets v a of x so that v a v a clx v a u a for a a 14 12 and x a a v a 14 13 moreover v a a a is a locally finite covering of x by sets open in x in addi tion for a a a it holds v vv a a xxx s v a t v a o a a 14 14 so that a a defines a map a a v vv a a v vv a a j a a 14 15 define for a a the open subset va of u a by va u a v a u a v a 14 16 and note that cl x va u a 14 17 recall also that u a x u a the data we have constructed will be used in the next section 14 4 implicit structures and local extension the set up is again as described in theorem 14 2 and we assume we have taken a representative u s satisfying p 1 p 4 also let u x x x be a cover ing of x by sets open in x satisfying p 5 and let u x x x satisfy p 6 we start this section with an important remark remark 14 5 for the following part of the construction it is important to be aware of a subtlety which might not be apparent at first sight for x x x 14 4 implicit structures and local extension 497 the maps x x u x x j x x define correspondences between different sc section structures it is crucial to note that in general the symmetric sc section structure s xi i ix might implicitly have additional properties over certain subsets of u x which have to be taken into account to define a structurable extension for example assume that we have morphisms xxx so that s s and s t and t t so that in addition where s s u x t u x and t u x associated to these three morphisms there are correspondences x x x x and x x assume they are represented by the diagrams ix i ix ix i ix and ix i ix it may happen that for i 1 6 gx i 2 where i 1 i 2 ix there exist k i k i k i such that i 1 k k k k k k i 2 this forces the equality sxi 1 y s x i 2 y for y u x near s so the global struc ture described by forces additional local conditions the constructions needed to prove an extension theorem for a structurable sc multisection functor has to accommodate this fact as preparation we introduce some additional structures to keep track of the implicit conditions in view of this important remark we shall capture the relevant local information from the global structure provided by as it turns out we only need to study for most parts x x o x x j x x x x a a and v a a a recall that clx v a u a for x a and v a x va a a and according to proposition 14 4 with v vv a a xxx s v a t v a it holds that v vv a a o a a for a a a the following definitions are needed to address the issues raised in remark 14 5 definition 14 5 fix a a and and let z v a a z loop for a of morphisms is given by the following data 1 a finite sequence a 0 an in a satisfying a 0 a an 498 14 extension of sc multisections 2 morphisms 0 n 1 with the properties a t j s j 1 for j 0 n 2 s 0 z t n 1 b s j v a j and t j v a j 1 for j 0 n 1 c 1 z n 1 0 given a z loop 0 n 1 we note that j v vv a j a j 1 consequently we can consider a j a j 1 j for j 0 n 1 where the latter are represented by diagrams ia j j i j j ia j 1 definition 14 6 fix a a and pick z v a a z arc for a associated to the z loop consists of a sequence of indices i 0 i 1 in satisfying 1 i j ia j for j 0 n 2 i j i j 1 j k j j k j for j 0 k 1 and suitable k j i j note that i 0 in ia in general they do not need to be the same and one might view in as the index holonomy of i 0 along the z loop however this holonomy is not unique since even using the same z loop and starting with the same i 0 possible different choices of the k j might lead to different endpoints definition 14 7 fix a a and let z v a and i i ia we say that i and i are z equivalent for a if there exists a z arc with i 0 i and in i in this case we shall write i z i we shall denote the z equivalence class of some index i ia by i z where i z i ia i z i the equivalence relations z have the following properties summarized in two re sults the first statement is essentially obvious lemma 14 6 let a a and assume that z v a i i ia and g ga then i z i if and only if g i g z g i in particular g i g z g i z for i ia g ga z v a proof if i z i there exists a z loop relating i with i denote the morphisms in the loop by 0 n 1 14 4 implicit structures and local extension 499 then g 1 g z 0 n 1 g z is a g z loop and it relates the indices g i and g i hence g i g z g i that g i g z g i implies i z i follows similarly proposition 14 5 the equivalence relations z z v a on ia have the following properties 1 let z 0 v a and i i ia if i z 0 i the same holds for all z v a close to z 0 2 if i i ia and zk va is a sequence for which i zk i and zk z 0 clx va then there exists an open neighborhood q z 0 u a for which s ai y s a i y if y q z 0 we note that 2 is a particularly important observation the proof needs some preparation and the following lemma will be important lemma 14 7 denote by x an ep groupoid and let x 1 x be a finite collection of isomorphic objects given open neighborhoods q xi in x there exist open neigh borhoods o xi q xi with the following properties 1 each o xi is equipped with the natural gxi action 2 for every morphism xi x j there exists an open neighborhood w such that s w o xi and t w o x j are sc diffeomorphisms 3 for xi x j and x j xk the map m w s tw xxx defines an sc diffeomorphism onto w proof we prove this result by induction with the respect to the cardinality of the set of isomorphic objects the statement for one object is equivalent to the exis tence of arbitrarily small neighborhoods with the natural action assume we are given isomorphic objects x 1 x 1 by induction hypothesis we find o xi for i 1 with the natural gxi action and for every morphism xi x j be tween these objects an open neighborhood w such that s w o xi and t w o x j are sc diffeomorphisms so that 3 holds add the point x 1 to our considerations we pick for every i 1 a morphism starting at x 1 and ending at xi i x 1 xi associated to i we have a local sc diffeomorphism i it is obtained in the usual way as i t s w i 1 where w i is a suitable open neighborhood so that s w i o x 1 and t w i o xi are sc diffeomorphisms we pick o x 1 admitting the gx 1 action and so small that i o x 1 o xi and i o x 1 i o x 1 is an sc diffeomorphism define o xi i o x 1 for g gx 1 we define w g g o x 1 and for x 1 xi we define w as follows where we use the unique decomposition i g for some g gx 1 500 14 extension of sc multisections w s w i 1 g z g z z o x 1 let us show that the new set of data is the desired construction associated to the isomorphic objects x 1 x 1 first we consider s w o x 1 for a x 1 xi it follows immediately from the construction that s is an sc diffeomorphism similarly t w o xi takes the form t i g s which implies that t is an sc diffeomorphism this completes the proof of 2 in order to verify 3 assume that x 1 xi and xi x j consider w s tw w we first construct an sc smooth map w w s tw by s w 1 t this map is an sc diffeomorphism with inverse being the projection onto w we also note that w w s w 1 t is an sc diffeomorphism onto w since m the result follows proof proposition 14 5 1 for z 0 v a u a there exists an open neighborhood of z 0 only intersecting finitely many clx v y y a denote the corresponding y by a 1 a we may assume that a 1 a a morphism starting in v a near z 0 and ending in one of the v y y a has to end in one of the v y with y a 1 a in each of the v ai there can be only a finite number of points which can be reached from z 0 denote the collection of all these points where we vary over the a 1 a by x 1 xb and note that they are all isomorphic take a z 0 loop of morphisms starting and ending at z 0 so that the composition is 1 z 0 and the corresponding z 0 arc starts at i and connects it with i as a consequence of lemma 14 7 when slightly moving z 0 to z the morphisms deform to a z loop and since the a a are locally constant we infer that i z i before we prove 2 we need the following consideration which already was discussed in lemma 13 1 recall from 14 16 and 14 17 that va u a and cl x va u a in addition u a is a good open neighborhood of a in the sense of definition 14 1 and it has properness property which means that t s 1 clx u a x is a proper map the lemma then asserts that clx va u a 2 in order to prove 2 we pick z 0 clx va and with the help of lemma 14 7 brought into the right context we can argue in a similar fashion as before for the point z 0 clx va consider all objects which belong to some clx vb b a and 14 4 implicit structures and local extension 501 which are isomorphic to z 0 we note that there are only finitely many such objects due to the fact that vb is a locally finite covering of x and va u a and u a has the properness property denote these objects including z 0 by x 1 z 0 x and apply lemma 14 7 assume that zk va zk z 0 and there exists a zk loop with an associated zk arc relating i and i such that i zk i if zk is close enough to z 0 it follows that the occur ring morphisms for zk lie in the w for suitable as given in lemma 14 7 we may assume starting with sufficiently small o xi that xi x j is constant on the asso ciated w just taking k large enough we can take a loop of morphisms starting and ending at z 0 and composing to 1 z 0 having the same combinatorial structure as the zk loop so that the index i is related to the index i this implies for a suitable open neighborhood q z 0 that s ai y s a i y for y q z 0 the proof is complete in next step we define a new equivalence relation z for points z clx v a definition 14 8 for a a and z clx v a we define the set z to consist of all i i ia ia such that there exists zk v a with i zk i and zk z we define i z i provided there exist i 0 ik ia with ip ip 1 z for p 0 k 1 and i 0 i ip i it is clear that for z v a the equivalence i z i implies i z i moreover if z clx va cl x va and i z i it follows that s ai y s a i y for y q z where q z is an open neighborhood in x contained in u z see proposition 14 5 2 for the issue discussed in remark 14 5 the equivalence relation z encapsulates the requirements however the equivalence relation z is more convenient for the necessary constructions we shall define for given i ia and z clx v a i z i ia i z i lemma 14 8 the following holds true 1 if i z i for z v a then i z i 2 if z clx v a and g ga then i z i implies g i g z g i in particular g i z g i g z 3 if z clx va and i z i then s ai y s a i y for y u a close to z 4 with i ia and z 0 clx v a there exists an open neighborhood q z 0 in u a so that i z i z 0 for all z v a q z 0 proof 1 and 2 are trivial and 3 follows from proposition 14 5 2 for the proof of 4 we argue indirectly let z 0 clx v a and i ia assume there exists a 502 14 extension of sc multisections sequence zk v a satisfying zk z 0 and i 0 ia satisfying i 0 6 i z 0 and i zk i 0 then by definition i z 0 i 0 implying that i 0 i z 0 giving a contradiction the previous discussion allows us to define open neighborhoods around the points z clx v a with suitable properties which is accomplished in the next proposition recall that for a a it holds that clx v a u a proposition 14 6 fix a a then there exists for every z clx v a an open neigh borhood o z with the following properties 1 o z u a 2 o g z g o z for g ga and o z o g z 0 if z 6 g z 3 if z clx v a and i ia then i y i z for y o z v a 4 if z clx va it holds s ai y s a i y for i z i and y o z u a proof this is an immediate consequence of the previous discussion particularly lemma 14 8 the proposition prompts the following definition definition 14 9 a good neighborhood system for clx v a u a is given by a family o z z clx v a of open in x neighborhoods with the following properties 1 o z u a 2 o g z g o z for g ga and o z o g z 0 if z 6 g z 3 if z v a and i ia then i y i z for y o z v a 4 if z clx va it holds s ai y s a i y for i z i and y o z u a remark 14 6 the good neighborhood system captures part of the implicit informa tion of having a system of correspondences note that the initial choice of va a a and the extensions v a a a are important the existence of such a collection va is a consequence of the assumption that x is paracompact we shall use the previous discussion to define suitable local extensions of some of the local section structures which are compatible with the implicit relations they will be used later on for the proof of the global extension theorem the following constructions are concerned with the s a a a 14 4 implicit structures and local extension 503 s a s a i i ia where sai is an sc section of w u a recall that v a clx v a u a u a note that is as an sc multisection without the structuring completely deter mined by the collection of all s a where a varies in a this is of course the case since the collection va a a covers x where va v a x for the further constructions we shall need extensions of the sai to v a having suitable properties the following discussion prepares the construction of such extensions let z clx v a x and denote by z its orbit under the ga action we observe that ia has different decompositions into equivalence classes associated to the different elements z z defined by z fix a z z and denote by i 1 z ik z the associated different equivalence classes of ia if we take z z and g ga with g z z then the collection g i j z g i i i 1 z where j 1 k is the set of z equivalence classes with other words g i j z g i j z and g i 1 z g ik z are the z equivalence classes taking a dif ferent g with g z z only gives a different presentation of these equivalence classes lemma 14 9 for fixed a a and z clx v a x define o z as the union of all o z with z z where z is the ga orbit of z fix z z and let ga z g ga g z z for ia let i 1 z ik z be the decomposition of ia into z equivalence classes ia i 1 z t t ik z then the following holds 1 the action of ga z on ia preserves the decomposition into the equivalence classes assocoiated to z 2 for an element i j z and an element g in the subgroup of ga z consisting of elements fixing i j z it holds s ai j g y g y s a i j y for y o z x where we recall that s ai y s a i j y for y o z x and i i j z 3 if for some g ga z it holds that g i j z 6 i j z which means that these sets are in fact disjoint then g i j z g i j z and 504 14 extension of sc multisections s ag i j g y g y s a i j y for y o z x where we recall that s ai y s a i j y for y o z x and i i j z 4 for z z different from z the sections over o z x are determined com pletely by the sections over o z x proof 1 in view of lemma 14 8 the equivalence i z i implies the equivalence g i g z g i for every g ga assuming next that g ga z and i i j z the fact that g i i j z implies g i j z i j z if g i 6 i j z the image of i j z must be disjoint 2 assuming that g ga z and g i j z i j z we compute since for i i i j the associated sections coincide of o z x s ai j g y s a g i j g y g y s ai j y for y o z x 3 assume that g i j z 6 i j z then s ag i j g y g y s a i j y for y o z x by the fact that the section structure is symmetric 4 the previous points imply that the section structure is determined by knowing it over o z x indeed for every class i j z we have the section s ai j o z x which we shall denote by sz j this section is g equivariant if g z z and g i j z i j z if g i j z i j z for some j 6 j and g ga z then the section sz j is determined by s z j which is statement 3 now fix z z different from z and pick g ga satisfying g z z the decom position of ia according to z is given by ia g i 1 z t t g ik z pick any of these classes say g i j z then s ag i j g y g y s a i j y y o z x which determines s ag i j on o z x as well as those sections which have index in g i j z what follows is a very important local extension result 14 4 implicit structures and local extension 505 proposition 14 7 for fixed a a there exists a local sc smooth symmetric section structure s ai i ia defined on the open set v a and having the following properties 1 s ai y s a i y for all y va and i ia 2 if z v a and i i ia such that i z i then s ai z s a i z proof for the fixed a a take a good neighborhood system o z z clx v a we denote by z the ga orbit generated by z clx v a we define a ga invariant subset of u a by o z z z o z recall that by definition of a good neighborhood system see definition 14 9 the sets o z and o z for z z z are disjoint unless z z for every z z the index set ia is written as disjoint union of equivalence classes i z we recall the property g i z g i g z for y o z x we find g ga such that y o g z then with z g z we have that s ai y s a i y if y o z x and i z i 14 18 in the next step we pick for every z with z clx va and i ia sc smooth s z i o z w so that the following holds a if z clx v a x we take sc sections s z i i ia defined on o z such that the following holds i s z i y s a i y for y x o z ii s z g i g y g y s z i y for all y o z g ga and i ia iii s z i y s z i y for y o z and i z i where z z b for z clx v a x we take sc sections s z i i ia defined on o z so that the following holds i s z g i g y g s z i y for all y o z i ia g ga ii s z i y s z i y for y o z and i z i where z z note that sections with the above properties can indeed be picked to see this recall lemma 14 9 and assume first that z clx v a x pick a representative z z and consider o z for y o z x 14 18 holds then z defines a partition of ia into equivalence classes say ia i 1 z t t ik z and 506 14 extension of sc multisections g i j z g i j g z g i j z if g z z we pick the class i 1 z and we take an extension of s ai 1 o z x to o z we average this extension with respect to all g ga z which fix i 1 z the averaged section is still an extension since we extend a section with the same symmetry at this point we have constructed s z i of w o z for i i 1 z 14 19 next we consider i 2 z if there exists g ga z with g i 1 z i 2 z we take such a g and define s z g i by s z g i g y g y s z i y first of all we note that all sections are the same independently of the choice of i i 1 z the definition also does not depend on the choice of g in fact if there are two such elements g 1 g 2 ga z we note that g 12 g 1 i 1 z i 1 z and since the sections defined in 14 19 have the invariance property with repespect to such elements g 12 g 1 the claim follows hence we obtain s z i of w o z for i i 2 z 14 20 if there is no g ga z mapping i 1 z to i 2 z we deal with the situation in the same way we obtained 14 19 then we take i 3 z and distinguish the case if it is related by a group element to i 1 z or i 2 z if that is the case push forward the data if no such relationship exists we deal with the situation as in the case of i 1 z after a finite number of steps we have constructed s z i of w o z for i ia 14 21 this data has the following properties i if g ga z then s z g i g y g y s z i y for y o z ii if i z i then s z i s z i iii s z i y s a i y for y o z x and i ia if we take z 6 z we fix g ga with g z z and push the data forward again the choice of g does not matter since for two possible choices g 1 and g 2 we have that g 12 ga ga z and the data associated with z was constructed in such a way that it has an invariance property with respect to the action of ga z and the equivalence relation z at this point we have defined s z i for all z z which defines s z i of w o this gives us a system of sections satisfying a the construction in the case b is similar but easier since we do not have to extend sections given on the boundary 14 5 extension of the sc multisection 507 at this point we have constructed for a a and a given good neighborhood system for clx v a u a for every o z a system of sections s z i i ia with the properties listed above the sets o z z clx v a define an open covering of clx v a by ga invariant subsets contained in u a we take a sub ordinate functorial sc smooth partition of unity z z indexed by the set z here is the index of a map supported in u a v a we disregard this map and only use the z z which satisfy supp z o z of course most of these maps vanish then we introduce the maps s ai i ia which are defined on v a by s ai y z z y s z i y y v a by construction it is obvious that the following two properties hold true i s ag i g y g y s a i y y v a i ia ii s ai y s a i y for y x v a and i ia assume next that i y i for some y v a there are only finitely many z 1 z which are nonzero on y and by construction supp z j o z j for every z j pick z j z j such that y o z j since i y i z j for every z j see definition 14 9 3 and s z j i y s z j i y for i z j i it follows that s ai y s a i y provided i y i the next section uses the this local result to construct global extensions 14 5 extension of the sc multisection let us summarize the data we are dealing with we started with an sc multisection functor 508 14 extension of sc multisections w x q and we have fixed a representative u s 14 22 of a structured version we fixed u x x x admitting the natural gx action and satsifying u x u x we have constructed v a a a where v a is open in x and clx v a u a moreover the whole collection v a a a is a locally finite open covering of x on the associated v vv a a we have defined a canonical a a v vv a a j a a obtained from the data provided by in addition for every a a we are given a symmetric sc section structure s ai i ia on v a 14 23 so that s ai y s a i y for y va and i ia and s a i y s a i y for y v a and i y i we shall use this data to define in a suitable way a structurable extension w q of in this section we first shall construct in a quite specific way and the structurability is addressed in the next section in a first step we shall decompose w x q for which we need the following lemma lemma 14 10 we work under the assumptions of theorem 14 2 in particular x is tame and admits sc smooth partitions of unity as an ep groupoid then there is a collection of sc smooth functors a x 0 1 a a having the following properties 1 for a a the sc smooth map a has support in 1 v a 2 for every y x there exists a saturated open neighborhood q y in x such that there are only finitely many a a for which a q y 6 0 3 for every y x it holds a a a y 1 proof the collection of sets 1 v a a a together with the open set v x x defines a locally finite open covering of x and we take a subordinate family of partition of unity functors from these we only use the a a a we note that for a a it holds supp a v a and consequently clx y u a a y 6 0 v a for a a 14 24 the a restricted to x define an sc smooth partition of unity we define struc tured a w x q for a a by 14 5 extension of the sc multisection 509 a a x the structuring data we are going to use comes from 14 22 we take as good system u as index set i and as correspondence the section structure s a sa x x x is given by sa x s x a i y a y s x i y for x x i ix y u x we note the following obvious fact lemma 14 11 the structured u s is the commensurable locally fi nite sum of the a a u s a a a a 14 25 remark 14 7 it is also important to notice that a is completely determined by the symmetric sc section structure a u a s ai i ia in fact it is even determined by a va s ai i ia of course as a structured sc section functor the global knowledge of is needed for example we have used it for taking the commensurable sum in 14 25 we begin now with the important constructions needed to extend to a saturated open neighborhood of x we fix a a and consider a w x q the local section structure for a is given at x x on the set u x by a s xi i ix first we shall only work on the open sets v b where b varies in a most of the construction takes place on v a and we can transport data to other v b with the help of the a b of course transporting data around relies on using a choice of morphisms as well as the correspondences the careful analysis of the implicit structures is needed to avoid ambiguities proposition 14 8 recall the family s ai i ia a a see 14 23 obtained through the local extension procedure in the previous section for each given a a there exists for every b a a symmetric sc section structure s ba i i ib where s ba i is defined on v b and the following holds 1 s aa i y a y s a i y for i ia and y v a 2 supp s aa i is closed in x and contained in v a for i ia 510 14 extension of sc multisections 3 s ba i y a y s b i y for y vb b a 4 for b b a and v b b with b b given by ib k i k ib it holds for k i s b a k t s b a k s the proof of this result is subtle mainly due to the requirement 4 in fact 4 re quired the lengthy preparations introducing the equivalence relations z and z in the previous section proof in proposition 14 7 we have already constructed a symmetric sc section structure s ai i ia on v a which extends s a i i ia we define s a a i for i ia by s aa i y a y s a i y y v a this defines saa and 1 and 2 hold and in addition 3 for the special case b a in a next step we define keeping the initial a a fixed related section structures for all v b where b a if b a such that there is no morphism starting in v a and ending in v b we associate to every i ib the zero section on v b which defines the symmetric sc section structure sba suppose that b a is such that there exists a morphism starting in v a and ending in v b in a first step we define sba i for i ib on the subset of v b which can be reached by morphisms starting in v a and ending in v b subsequently we shall see that the extension by zero over the rest of the set v b is sc smooth pick v vv a b and take ia i ib representing a b for given i ib pick k i satisfying k i and with i k define s ba i t s a a i s we have to verify that the definition is independent of the choices suppose v vv a b with t t and a b is represented by ia j ib we assume that we have picked j j satisfying j i we define e j using this data the alternative definition for s ba i t is given by s a e s we need to show the equality s aa i s s a a e s 14 26 we can write 1 g s for a uniquely determined g ga hence g s 14 5 extension of the sc multisection 511 since g s g g 1 s we have that g implying a b a b g a b g therefore ia i ib ia g 1 j ib so that without loss of generality we may assume that g 1 and with z s we note that 1 g s is a z loop and with a a g s ia id ia g ia we see that we obtain the z arc e i i g i via e j j i k k i g i so that e z g i 14 27 using that i k i k g 1 k and e j we compute s aa i s g s s aa i s g s s aa i s s aa g i g s s aa g i s we need to show that s aa g i s s a a e s however since e s g i and z s see 14 27 it follows that s aa g i s a s s a g i s a s s ae s s aa e s which proves this identity and therefore that s ba i is well defined on all points of v b reachable from v a next let z v b be in the closure of reachable points from a hence we find a se quence of morphisms k satisfying s k v a t k v b and z k t k z using properness we may assume with out loss generality that k with s clx v a u a and t z if s v a the point z is reachable and s ba i is already 512 14 extension of sc multisections defined so assume s 6 v a then for large k we already have that s aa i vanishes in an open neighborhood of s k hence it follows that s ba i where defined vanishes on the reachable points near z hence we can extend s ba i over the rest of v b by 0 this defines s ba i i ib at this point we have constructed for a given a a symmetric sc section structures s ba i i ib for every b a such that s ba i t s a a i s provided i and i correspond under a b the last statement proves 4 for a spe cial case in order to prove 4 in generality still for fixed a consider b b a and let v vv b b we have to consider several cases assume first that s or t is reachable from v a in this case both are reachable and we find 1 2 with s 1 s 2 v a and 1 2 in this case if i ib and i ib correspond under b b we can pick j ia corresponding under a b 1 to i and pick j ia corresponding under a b 2 to i we note that j s 1 j this implies using previous definitions s b a i t 2 s a a j s 2 1 s aa j s 2 1 s a a j s 2 1 s a a j s 1 1 s a a j s 1 s ba i s at this point we have constructed for given a a symmetric sc section structures s ba i i ib on v b for every b a moreover these sc section structures are compati ble under the correspondences b b v vv b b j b b and it holds that s ba i y a y s b i y for y vb i ib define for every b a the symmetric sc section structure on v b s bi i ib by setting 14 5 extension of the sc multisection 513 s bi a a s ba i this is a locally finite sum and therefore well defined it also extends the section structure of on vb by construction it is compatible with at this point we can define for every b a an sc multisection functor b on w v b by b w 1 ib i ib s bi p w w if is a morphism starting in v b and ending in v b it follows with w w that b w b w so that the sc multisection functors are compatible the symmetric sc section structures s bi i ib are related by the b b v vv b b j b b we shall construct from this data a structurable sc section functor w q which extends w x q we note that the structure data for will in general not restrict to the one originally fixed for recall that v b b a is an open covering of x for x x not contained in b a v b we can take a representative x and an open neighborhood v x invariant under the natural action with the properness property so that v x only contains isomorphism classes of points on which the sections vanish we equip v x with the zero section sx 1 as section structure and define ix 1 the correspondence for b a and such a x we define by b x ib id ib 1 similarly for the reversed pair b x for x x as just described we define x x 1 1 1 at this point we have defined for a suitable a x containing a open subsets v x with the natural gx action and symmetric sc section structures compatible for some correspondence moreover x a v x x hence the data defines a global sc multisection e q extending by theorem 14 3 which is proved below is structurable the domain support of has an orbit space contained in the open neighborhood a a v a of x define u 1 a a v a define the map h x r by h x max n sxi x i ix 514 14 extension of sc multisections then h is a continuous map and satisfies for x x h x n x f x we can find an sc smooth functor x r such that x 1 for x x having support in u such that h x x f x for all x x now consider which is the required extension since is structurable ac cording to theorem 14 3 the same is true for this completes modulo the structurability assertion the proof of theorem 14 2 the following result is a very useful criterion for structurability and applies to the situation in the previous section theorem 14 3 let p w x be a strong bundle over the ep groupoid x having a paracompact orbit space x and let w q be a sc multisection functor we assume that there exists a subset a of x and for every a a an open neighborhood u a and an open subset va u a with the following properties a c a u a is ga invariant and the target map t s 1 clx u a x is proper b va is ga invariant and cl x va u a c a a va x in addition we assume that the following two properties hold true d for every a a there exists a symmetric sc section structure sa sai i ia on va indexed by a finite set ia such that if w w satisfies p w va then w 1 ia i ia sai p w w e for every a a a with vvv a a xxx s va t va there exists a correspondence a a vvv a a j a a relating the section structures sa and sa over va and va and only taking finitely many values then is a sc structurable multisection functor proof define the open subset v a a va of x it has the property that v x and inherits the structure of an ep groupoid for which the inclusion functors f v x is an equivalence of ep groupoids in the same way the inclusion functor w v w is a strong bundle equivalence clearly w v 14 5 extension of the sc multisection 515 and in view of this fact employing theorem 13 4 it suffices to show that w v is structurable in order to show the structurability of w v there is no loss of generality viewing as an sc multisection functor on w v then the data given in the hypothesis of the theorem provides us with an open covering va a a first we shall pick a map v a x ax so that x vax and we pick an open neighborhood q x so that for the natural gax action on u ax it holds that g x g implies g q x q x we define a local symmetric sc section structure on qx by restricting the data from vax more precisely we define i x iax s x s x i s ax i for i iax the group gx acts on i x as follows for g gx there exists a unique hg gax with hg x g and we define g i hg i so that we act through a subgroup of gax given x x v we consider qqq x x which is an open subset of vvv ax ax which allows us to restrict ax ax hence we define x x qqq x x j x x as follows we note that by construction j x x j ax ax and x x ax ax we gather the data as follows we define u q x x v s s x x v and x x x x v v we show that u s is a structured version of which will complete the proof of the theorem first of all we have for every x v an open neighborhood q x with the natural gx action and a symmetric sc section structure s x representing moreover given x x v we have a correspondence x x qqq x x j x x which only takes finitely many values and is locally constant moreover by con struction if vvv x x then x x ax ax assume the latter is represented by the diagram iax i iax then by hypothesis s ax k t s ax k s which precisely implies s x k t s x k s moreover using previous definitions 516 14 extension of sc multisections x x x h y x x ax g y iax id iax g iax i x id i x h i x 14 6 remarks on inductive constructions the main result theorem 14 2 proved in the previous sections stated that a struc turable sc multisection defined on the boundary of a tame ep groupoid can be extended as a structurable sc multisection in applications very often the pertur bations are constructed inductively and additional problems arise for example if the underlying ep groupoid has a boundary with corners and it is face structured the inductive procedure might define perturbations over some of the faces so that the global sc multisection on the boundary has to be assembled from the pieces defined on the faces of course that can only be accomplished provided the sc multisections on the intersection of faces coincide in order to extend the sc multisection it is important to have a structuring of the assembled sc multisection the structuring data for the sc multisections on the faces is in general a conse quence of the inductive scheme and a matter of the concrete situation and will not be discussed here here we shall restrict ourselves to highlight the compatibility is sue of the data coming from the different faces if we have a boundary with corners we shall also restrict ourselves to the case where x is a face structured ep groupoid more general situations are possible but left to future discussions let x be a face structured tame ep groupoid and p w x a strong bundle in this case a face f is saturated and has the structure of a sub m polyfold equipping f with the induced m polyfold structure it becomes with the associated morphism set an ep groupoid if x x and u x an open neighborhood in x with the natural gx action it follows that g f u x f u x for all faces f which contain x recall that there are exactly dx x many of such faces where dx is the degen eracy index denote by fx the set of faces where by assumption every f is a sub ep groupoid with the induced structure being that of a tame face structured ep groupoid we denote by fx x the collection of all faces containing x as already pointed out it holds that dx x fx x we assume that for every face f we are given a structured sc multisection functor f f uf sf f for w f a representative of f is given by f uf sf f where f w f q is a functor and for every x f a good neighborhood uf x f has been given this means uf x admits the natural gx action and t s 1 clf uf x f is proper moreover we are given for every x f an index set ifx with an action by gx and a symmetric section structure sfx given by 14 6 remarks on inductive constructions 517 sxf i i ifx moreover for x x f a correspondence f x x uuuf x x jf x x is given re lating in the usual way the section structures associated to x and x respectively we note that we can always shrink the sets uf x restrict f x x we consider the assignment fx 3 f f and shall formulate a compatibility condition definition 14 10 given a face f fx the restriction of f to w f f denoted by f f is defined as follows where f f f f uf f sf f f f and the following data is obtained by taking a representative f uf sf f of f 1 f f f w f f 2 uf f uf x f x f f where uf uf x x f is a good system of open neighborhoods 3 sf f s f f x x f f where s f f x is the symmetric sc section structure ob tained from sfx by restricting the s x i i i f x to uf x f 4 the correspondences f f x x are the restrictions of f x x for x x f f to xxx s uf x f t uf x f the compatibility condition is now given as follows definition 14 11 let p w x be a strong bundle over a tame face structured ep groupoid and denote by fx the set of faces assume that f f is an assignment which associates to a face f fx a structure sc multisection on w f then the assignment is said to be compatible provided for every choice of faces f f the equality f f f f holds for a compatible assignment we define f f f f with this definition we see that f f is a structured sc multisection of w f f a face of f f is obtained by intersecting f f with a suitable f fx then the compatibility allows us to consider f f f f and f f we note that f f f is a common face of these three ep groupoids and the restriction of the structures sc multisections defines a common f f f this can be done for an arbitrary number of faces 518 14 extension of sc multisections we note that as a consequence of the compatibility condition it holds that for ifx i f x for f f fx x we shall abbreviate ix ifx and also write j x x instead of jf x x moreover on uf x uf x we have the equality sxf i y s x f i y for i ix we shall take for every x x a good open neighborhood v x of x in x such that u x v x x satisfies u x f uf x for all f ff x theorem 14 4 let p w x be a strong bundle over a tame face structured ep groupoid and fx 3 f f be a an assignment of compatible structured sc multisection functors defined on the various w f then this data defines a naturally structured w x q in particular the underlying has an extension to w x the extension can be chosen to satisfy certain size restrictions see theorem 14 2 proof the compatibility condition implies immediately that w f q given by w f w for p w f f fx p w is a well defined functor as already explained we have fixed for every f fx a representative f uf sf f so that for every x x there exists an open neighborhood u x x coming from a good open neighborhood v x in x such that u x v x x and u x f uf x for all f fx x moreover it holds that sxf i y s x f i y for i ix y u x f f this allows us to define a symmetric sc section structure sx sxi i ix on u x by sxi y s x f i y for y f u x we do this for every x x finally we define the correspondences as follows for x x and x x consider uuu x x which consists of all morphisms with s u x and t u x if s f u x then necessarily t f u x hence uuuf x x we can define x x f x x this is well defined since f x x f x x if s f f moreover it fol lows from the definition that the map x x uuu x x j x x is locally constant it is also easy to verify that x x relates the two local section structures our desired structured sc multisection for w x is given by u s at this point we can apply theorem 14 2 to construct the extension chapter 15 transversality and invariants in this chapter we shall describe some elements of a global perturbation theory 15 1 natural constructions we assume that p w x is a strong bundle over an ep groupoid and consider for a smooth x x the set of all sc fredolm operators l txx wx we define the set grf x whose elements are finite formal sums with non negative rational coefficients of sc fredholm operators an element of grf x has the form l l l where all l are non negative and only a finite number are nonzero and l txx wx finally we put grf x x x grf x and write grf x x for the natural projection note that for a smooth x a sc fredholm operator l txx wx and a morphism with s x we can define l tt x wt by l t h l h h txx hence x y defines a bijection grf x grf y via l l l l elements in grf x can be viewed as objects of a category where the morphism set consists of all pairs l with s l the source map and target map are given by 519 520 15 transversality and invariants s l l and t l l the first result is the following theorem 15 1 well defined t f assume p w x is a strong bun dle over an ep groupoid f an sc fredholm section and w q an sc multisection then there exists an associated section functor t f of grf x x uniquely characterized by the following properties 1 t f x 0 for x x supp f 2 for x supp f and any local sc section structure si i i i i i describ ing around x it holds t f y i i f y si y i f si y for smooth y near x remark 15 1 if f y si y 6 0 the expression f si y is not defined but it is also not counted towards the sum setting the empty sum equal to 0 property 1 follows from 2 proof let p w x be a strong bundle over an ep groupoid f an sc fredholm section and an sc multisection assume that x supp f and pick an open neighborhood u x with the natural gx action and a local sc section struc ture si i i i i we need to analyze the formal sum i i f y si y i f si y for y u x x without loss of generality we may assume that x o where o c e is a local model and x 0 o also w o is a strong bundle model and the local sc section structure si i i i i i is defined on o proposition 15 1 there exists a sequence xk o with xk 6 0 and xk 0 with the following property for i i ie it holds that si si near xk the proof of the proposition relies on several lemmata lemma 15 1 equip o with the metric d induced from e 0 and pick y o define b y z o d z y for some 0 and assume that b y can be written as a finite union b y i i i of closed subsets i of b y then at least one of the sets i has a nonempty interior proof pick any z b y and since every i is closed we can pick a such that 15 1 natural constructions 521 b z b y for every i i it holds that b z i 0 if and only if z 6 i denote by k i the subset consisting of the indices i with z 6 i we note that moving z slightly still z 6 i for i k we use this as follows take i 1 i k so that z i 1 if z does not lie in the interior we can move it slightly to obtain z 1 so that z 1 6 i for i k k i 1 define k 1 i i z 1 6 i we continue this process which at each step increases the set k by at least one element and note that before we run out of indices we find one for which z lies in the interior lemma 15 2 let y o and 0 then there exists a point z o with d z y a 0 and a partition i 1 ip of i such that 1 b z b y 2 si w si w for w b z i i ie and e 1 p 3 si w 6 s j w for w b z and i ie j ie for e 6 e proof take a point y o and fix an index i 1 i consider on b y the sets j z b y s j z si 1 z and define j 6 i 1 j the latter set is closed in b y if its complement in b y is nonempty we can pick a point z 1 which has a neighborhood b 1 z 1 on which every s j is point wise different from si 1 we define i 1 i 1 if j 6 i 1 j b y then there exists j 6 i 1 for which j has a nonempty interior we can take a point z in this interior and by slightly moving it we may assume that either z belongs to the interior of some k or it does not belong to k we pick such a z 1 and define i 1 j i s j z 1 si 1 z 1 we also find 0 such that si w si w for w b 1 z 1 and i i i 1 b 1 z 1 b y sk w 6 si w for w b 1 z 1 i i 1 and k 6 i 1 we note that moving z 1 less than 1 the properties listed above are still true for a suitably chosen smaller 2 in a next step we take an index i 2 6 i 1 if i 1 6 i and find z 2 with d z 2 z 1 1 4 and argue as before to obtain a set i 2 disjoint from i 1 which has the above properties for some 2 1 4 and i 2 note that the properties above persist for i 1 and 2 as well proceeding inductively we obtain 0 and z having the properties stated in the lemma proof proof of proposition 15 1 we pick a sequence of points yk in o with yk 6 0 and yk 0 we also take a sequence k 0 we find sequences zk and k 0 such that d yk zk k and the following holds for every k there is a partition of i say i ik 1 t t i k pk so that si w si w for d w zk k and i i ike where e 1 pk 522 15 transversality and invariants si w 6 s j w for d zk w k i ike j ike and e 6 e after perhaps taking a first subsequence of zk we may assume that ik 1 is constant then we can take of this subsequence another subsequence so that ik 2 is constant proceeding this way we find after a finite sumber of steps a sequence xk converging to 0 so that the assertion of our proposition holds next take a second local sc section structure t j j j j j j where we again work on the local model w o with x 0 define a partition of j denoted by jk 1 j k p by setting jke j j t j xk sie xk where ie ie after taking a subsequence of xk we may assume that this partition is independent of k hence without loss of generality we conclude for xk that there are partitions i i 1 t t ie and j j 1 t t je where ie and je correspond via the requirement that sie xk t je xk moreover si si near xk if and only if they belong to the same ie and the same for t j with respect to the partition of j also note that t j z t j z for z near xk provided j j belong to the same je we deduce for z near xk i ie i sie z j je j we can say for z near xk that the sc section z sie z occurs with multiplicity e i ie i and similarly t je which equals sie for z near zk occurs with the multi plicity e j je j which equals e of course sie and t je are equal near xk we note that the formal sums p e 1 e t f sie xk and p e 1 e t f t je xk are equal and converge to p e 1 e t f sie 0 and p e 1 e t f t je 0 respec tively which have to be equal moreover it follows that i i i t f si 0 j j j t f t j 0 since f 0 si 0 and f 0 t j 0 we conclude that i i i f si 0 j j j f t j 0 this completes the proof of theorem 15 1 15 2 transversality and local solution sets 523 in view of the fact that t f x grf x is well defined we can make the following definition definition 15 1 let p w x be a strong bundle over an ep groupoid f an sc fredholm section and w q an sc multisection we shall call t f the linearization of f at the points in supp f also we shall call for x supp f the expression t f x the linearization of f at x as we shall see transversality questions are related to the behavior of t f we note that there is also an oriented version of the previous discussion which however is postponed to section 15 4 15 2 transversality and local solution sets in applications involving complicated moduli spaces it often occurs that perturba tions have to adhere to additional structures limiting the transversality which can be achieved the properties of t f control the geometry of supp f to first order before we go deeper into transversality questions it is worthwhile to point out that as a rule of thumb every transversality question within the polyfold theory can be resolved provided related finite dimensional questions in an orbibundle context can be solved hence the reader familiar with standard finite dimensonal transversality questions will be able to apply her his insights in the polyfold context definition 15 2 let p w x be a strong bundle over an ep groupoid f an sc fredholm section functor and an sc multisection 1 f is said to be transversal provided for every x supp f the lineariza tion t f at the point x is a nonzero combination of surjective sc fredholm operators i e if si i i is a local sc section structure for and f x si x for i i then all the f si x txx wx are surjective 2 if x x with f x 0 we say that f is transversal at x provided t f x is a nonzero combination of surjective sc fredholm operators we shall say that t f x is onto or surjective at a point x in supp f provided every occurring sc fredholm operator with positive weight is onto this notion of transversality has strong implications provided dx x 0 theorem 15 2 interior local perturbation assume p w x is a strong bundle over an ep groupoid f an sc fredholm section functor and an sc multisection functor suppose x supp f with dx x 0 and f is transver 524 15 transversality and invariants sal at x then there exists an open neighborhood u x equipped with the natural gx action so that the following holds true with mu x y u x f y 0 1 dx y 0 for all y u x 2 t f y is onto for every y mu x 3 there exist submanifolds mi i i and positive rational weights i i i with the following properties a every mi has dmi 0 and therefore has a natural classical smooth manifold structure b every mi is properly embedded in u x c mu x i i mi d for every y u x the identity f y i i y mi i holds e t f y i i fi y si y i f si y for y u x and t f y is sur jective provided y supp f proof this follows from theorem 3 13 pick an open neighborhood u x which allows the natural gx action and a local sc section structure si i i i i i on u x representing over u x by assumption f x si x for i i since t f x is onto it follows that f si x is onto and the implicit function theorem gives for every i i a solution set mi containing x so that there exists an open neighborhood ui x satisfying m i y ui x f y si y dm i 0 and m i is a submanifold and conse quently has an equivalent smooth manifold structure without boundary f si y tyx wy is surjective for every y m i we find an open neighborhood u x u x i i ui x which is invariant under gx then we define mi m i u x and by construction for y mu x y u x f y 0 the assertion 3 holds remark 15 2 we observe that on the ep groupoid u x the functor u x q defined by u x q z f z is a branched tame ep subgroupoid of u x with support mu x we may think of transversality theory as finding small w q so that f becomes a branched ep subgroupoid see definition 9 1 or at least a functor with reasonable properties the situation becomes more complicated at points x with f x 0 and dx x 1 in this case we need additional information for example if x has some structure near x and f lies in a reasonable position to x the solution space associated 15 2 transversality and local solution sets 525 to f y 0 will have a good structure near x a version of definition 3 16 reads as follows definition 15 3 let p w x be a strong bundle over an ep groupoid f an sc fredholm section and an sc multisection functor assume that x x satis fies f x 0 we say that f is in good position at x provided 1 x is tame near x x 2 f is transversal at x i e t f x is surjective 3 the surjective sc fredholm operators li of t f x i i i li have kernels ker li which are in good position to the partial quadrant cxx see definition 3 9 next we describe the solution set near a point x with dx x 1 and f x 0 theorem 15 3 boundary local perturbation let p w x be a strong bundle over an ep groupoid f an sc fredholm section and a sc multisection functor suppose x x with f x 0 and f is in good position at x there exist an open neighborhood u x with the natural gx action tame submanifolds mi i i and positive rational weights i i i with the following properties where mu x u x i i mi 1 every mi is properly embedded in u x 2 t f y is surjective for all y mu x and the kernels of the surjective sc fredholm operators with positive weights are in good position to cyx 3 for every y u x the identity f y i i y mi i holds note that the tame mi have equivalent smooth structures as manifolds with boundary with corners we also note that by definition f u x q is a tame see definition 9 10 branched ep subgroupoid since it is represented by tame mi the same conclusion holds if 2 is replaced by the general position requirement that the restrictions of t f y to t r y x are surjective see also the upcoming definition 15 6 proof the proof follows along the lines of the proof of theorem 15 2 using as ingredient the implicit function theorem for sc fredholm sections in the m polyfold context when the linearization is onto and the kernel is in good position to a tame x see theorem 3 13 we leave the details to the reader before we start with the global perturbation theory we make a remark concerning orientations the details will be carried out in a larger context in section 15 4 remark 15 3 formalism for orientations using results from section 15 1 we can extend the previous discussion and incorporate orientations in this case we start 526 15 transversality and invariants with a strong bundle over an ep groupoid p w x and oriented sc fredholm section functor f o and an sc multisection w q assume that f is transversal at x and if dx x 1 we assume in addition that it is in good position then we can write with the help of a local branching structure on u x involving tame mi and suitable weights f y i i y mi i y u x this time however each mi inherits an orientation oi from o which we have to keep track of for this we consider the formal sum t f o y i i y mi i f si y o f si y for y mu x since the f si y are surjective and oriented we obtain an orien tation oi y for tymi so that we can pass to the formal sum t f o y i i y mi i tymi oi y a priori all this might depend on the choice of the local sc section structure but as we shall see later it does not we note that t f o can be viewed as an oriented lift of the tangent t f of the ep subgroupoid f the upshot will be that t f o is the natural orientation of f coming from f o 15 3 perturbations in this section we shall consider a strong bundle p w x over a tame ep groupoid assume that f is an sc fredholm section functor of p then the asso ciated solution category is s f x x f x 0 and we assume as a standing assumption that the orbit space s f is compact see section 12 4 our aim is to study perturbations of f as already previously pointed out as a rule of thumb whatever would be possible in finite dimensions by multisection perturbations will be possi ble in the ep groupoid set up as well provided we have sc smooth bump functions moreover in most cases what would be possible in a sard smale perturbation the ory without symmetries see 67 is possible to achieve by sc multisection pertur bations in cases of symmetry i e the ep groupoid setup the price to be paid since the latter is a perturbation theory over q is that on a homological level when study ing solution spaces only a theory over q can be used unless of course one can use in a given instance less general perturbations f e single valued perturbations 15 3 perturbations 527 we equip w with an auxiliary norm n w 0 1 r see definition 12 2 we can always extend an auxiliary norm to all of w by defining n h if h is not of bi regularity 0 1 hence without loss of generality we always assume that n w r as a consequence of the discussion in section 12 4 there exists an open saturated neighborhood u of the solution category s f x x f x 0 so that the orbit space of the set x u n f x 1 has compact closure in x definition 15 4 assume that p w x is a strong bundle over the ep groupoid x having a paracompact orbit space x let n w 0 be an auxiliary norm and f an sc fredholm section functor denote by s f the solution category as sociated to f suppose that u is a saturated open neighborhood of s f we shall say that n u controls the compactness of f provided the set x u n f x 1 has an orbit space in x which has a compact closure in the following the relevant data for us is p w x f and n u here p is a strong bundle f is an sc fredholm section and n u controls compactness where u is saturated open neighborhood of s f we also assume that x admits sc smooth bump functions so that we can construct sc multisections one of the aims of the following considerations is to show the existence of many sc multisection functors w q having domain support in u having small point wise norm say n x 1 for x x such that f x q is a tame branched ep subgroupoid and possibly having other additional proper ties the point wise norm n is introduced in definition 13 6 remark 15 4 in general we need the existence of sc smooth bump functions to con struct the sc multisections for our perturbations in concrete situations one might be able to use more geometric maps to construct these perturbations in these cases compactness after perturbation might not follow from general principles and would have to be checked definition 15 5 let p w x be a strong bundle over an ep groupoid f an sc fredholm section functor with s f being compact assume n is an auxiliary norm and u a saturated open neighborhood of s f so that n u controls compact ness an n u admissible perturbation for f is an sc multisection w q so that n x 1 for all x x and the set x x t 1 1 with t f x 0 is a subset of u for example if the domain support of belongs to u and n x 1 for all x x then is admissible indeed assume that x 6 u and solves f x 0 then h 0 for h wx 0 x which implies that f x 0 so that x s f u giving 528 15 transversality and invariants a contradiction admissible perturbations behave well under products to see this assume we have two sets of data and take the product so that f f is an sc fredholm section of w w x x the auxiliary norm is defined by n n h h max n h n h given for the two problems sc section functors and we define w w q by h h h h which defines an sc multisection functor assume that is admissible with respect to n u and with respect to n u we observe that n n x x max n x n x 1 moreover assume that t f f x x 0 this implies that t f x t f x 0 from which we deduce that x x u u note that we used the identity t t t remark 15 5 the reader should note that if has domain support in u and domain support in u the domain support of lies in u x x u and not necessarily in u u next we define what it means to be in general position definition 15 6 let f be an sc fredholm section of p where p w x is a strong bundle over a tame ep groupoid x assume further that w q is an sc multisection we say that f is in general position provided for every x supp f the linearization t f x restricted to the reduced tangent space at x is surjective i e if t f x i i i li where i 0 then li t rx x t r x x wx is surjective for every i i this is a natural extension of the definition 5 9 we shall call the restriction of t f x to t r x x the reduced linearization and denote it by tr f x hence t r f x i i i li t r x x remark 15 6 if f is in general position then for every x supp f the linearization t f x is onto if x also happens to belong to the boundary x we have that t f x is in good position in fact even in general position in particular it follows that f x q is a tame branched ep groupoid the next result shows that we always can force by a small perturbation a general position of course if the perturbations are restricted by additional requirements that might not be possible the reader should recall theorem 5 5 theorem 5 6 and theorem 4 4 which deal with the case of strong bundles over a tame m polyfold the ideas used there are straight forward generalizations of the finite dimensional 15 3 perturbations 529 case the following result is an adaption to the corresponding ep groupoid case the proof of this theorem follows along the lines of a similar result in 38 theorem 15 4 general position assume p w x is a strong bundle over a tame ep groupoid admitting sc smooth bump functions and f a sc fredholm section functor with compact solution set s f let n be an auxiliary norm and u be a saturated subset of x containing s f so that n u controls compactness given any continuous functor h x 0 1 there exists an sc multisection func tor w q with the following properties 1 n x h x for all x x 2 the domain support of is contained in u 3 t f is surjective on supp f 4 for x supp f the kernels of the operators from t f x are in general position to x in particular f x q is a compact tame branched ep subgroupoid also the perturbation can be taken to be structurable proof we shall construct a structurable perturbation with the claimed properties point 4 is equivalent to the requirement that for x supp f the reduced linearization t r f x is onto the basic idea of the proof is as follows one constructs for a large parameter space rh i e h 0 a family t w r 2 n t rh of structured sc multisections so that 0 is the zero section with weight 1 and rh w q is an sc multisection functor for the pull back of w by rh x x the t are constructed from local pieces with suitable properties so that the set 0 s f belongs to supp f where f is defined by f t x t f x and moreover t f 0 x is surjective for x s f when restricted to r h t rx x or equivalently the reduced tr f 0 x are surjective this then implies that the solu tion set consisting of all t y near 0 s f is a finite dimensional tame branched ep subgroupoid applying an obvious branched ep groupoid version of theorem 4 4 the preimage of a suitable small regular value t 0 for the projection to rh is the desired solution space and t 0 the structurable perturbation suitable here means that it is a regular value for restrictions to intersection of faces the details are as follows local constructions at x s f with dx x 0 we pick smooth w 1 w in wx so that r f x together with w 1 w span wx pick an open neighborhood u x which admits the gx action has the properness property so that in addition every y u x satisfies dx y 0 let v x be an open neighborhood which is invariant under gx satisfying clx v x u x for every w j we can find an sc section s j 1 having the properties s j 1 is defined on u x and s j 1 y 0 for y u x v x 530 15 transversality and invariants s j 1 x w j n s j 1 y min 1 h y for y u x define sx 1 t for t r by sx 1 t y j 1 t j s j 1 y for y u x t r we consider the local sc fredholm section t y f y sx 1 t y and note that the linearization at 0 x is surjective using the group elements g gx we define for y u x and t r sx gt y g g 1 y sx 1 t g 1 y of course with e gx being the unit element we have that s x e t s x 1 t since f g y g y f y it follows immediately that the linearization of t y f y sx gt y at 0 x is also surjective for every g g the collection sx gt g gx is for fixed t a symmetric local sc section structure and defines for fixed t an atomic sc multisection functor t hence for fixed t it is structurable moreover we can view r w as a strong bundle over r x and define r w q by t y t y we define f t y t f y which is also an sc fredholm section clearly since x s f it follows that 0 x supp f the linearization t f 0 x is by the previous discussion surjective and from the local implicit function theorem we deduce the following interior there exists x 0 and an open neighborhood q x invariant under gx and contained in u x such that t t x q x t y xt f x is a tame ep subgroupoid in addition for t y in its support the linearization t f t y is surjective in particular for every x s f q x the linearization t f 0 x is surjective the same assertion also holds for points x in the saturation of q x local constructions at x s f with dx x 1 this part is similar to the previous one but we need to be more careful in the construction since ultimately we need to move the perturbed solution set into a general position we can find u x and v x as before so that in addition u x x has dx x many local faces say 1 d where d dx x then any finite intersection i i i i of such faces is a tame m polyfold i containing x moreover t rx x tx i we pick w 1 w wx such that the image of f x t rx x together with the wi spans wx of course we can pick the wi as small as we wish now we proceed as in the previous case and construct x t which again for fixed t is structurable since it is atomic by construction the associated f is in general position at 0 x by the corresponding implicit func tion theorem we deduce the following 15 3 perturbations 531 boundary there exists x 0 and an open neighborhood q x invariant under gx contained in u x such that t t x q x t y xt f x is a tame ep subgroupoid so that for t y in its support the linearization t f t y when restricted to the reduced tangent space at t y is surjective in particular for every x s f q x the reduced linearization tr f 0 x is surjective the same holds for x s f belonging in addition to the saturation of q x from local to global the collection q x x s f is an open covering of the compact set s f we find finitely many points x 1 xk with the property s f k i 1 q xi we abbreviate by q the union of the q xi and by q the saturation of q then s f q u we take the data associated to the xi previously constructed define x 1 xk and r r x 1 r xk and for t t 1 tk r t w k i 1 ti w then every t w q is a structurable sc multisection functor in addition the associated r w q is an sc multisection functor if x q we find i so that an isomorphic x belongs to q xi the properties of f at 0 x are the same as those of 0 x from the construction it follows that tr f 0 x is onto for all x s f 15 1 we also note that there exists 0 0 so that n t x 1 for all x x provided t 0 since n u controls compactness and the domain support of every t belongs to u it follows that t x r x t 0 t f x 0 is compact 15 2 as a consequence of the implicit function theorem f e use theorem 15 3 we find 0 0 such that t r t x q t y t f y is a tame branched ep subgroupoid having the property that for t y supp the reduced linearization tr f t y is surjective as a consequence can be lo cally written as with weights and a local branching structure consisting of tame 532 15 transversality and invariants m polyfolds or equivalently classically smooth manifolds with boundaries with corners in order to find a specific value t 0 for which the perturbation t 0 has the de sired property we use a modification of the argument given in the proof of theorem 5 6 this is being discussed next achieving global transversality at this point we can consider the map t y r x t t f y 0 r t y t 15 3 for t 0 x 0 in this set we can consider dx x 0 and find an open neighborhood of the form u t 0 y 0 t t t 0 u x 0 having the following properties u x 0 admits the natural gx 0 action and the properness property u x 0 contains dx x 0 many local faces containing x 0 on u t 0 x 0 the branched ep subgroupoid can be written with a local branching structure as t f x 1 i i i t y mi each mi is a smooth manifold with boundary with corners properly embedded in u t 0 x 0 and the intersection of mi with an arbitrary number of local faces is a smooth manifold with boundary with corners for t y mi it holds that tr f t x is surjective denote by f the intersection of a finite number of local faces in u t 0 x 0 the empty intersection we define to be u t 0 x 0 associated to f we have the smooth manifolds with boundary with corners f mi where i i now we consider for ever f there are a finite number of such intersections and i i the map f mi r t x t for each such map there is a set of measure zero zi f so that r zi f consists of regular values denote by z the finite union of the zi f which again has measure zero for t in the complement the collection of all t y mi is a smooth manifold with boundary with corners in general position to the boundary of r x see the proof of theorem 5 21 in 38 for the argument proving the latter well known fact of a parametrized transversality theory a countable number of such sets u t 0 x 0 have saturations which cover the set in 15 3 hence we find a set of measure zero in r so that for t in its complement which contains points arbitrarily close to 0 the perturbation t has the desired properties by slightly modifying the proof using the compactness of the closure of the orbit space of the set in 15 3 even a discussion of a finite number of sets as above suffices the standard example of a transversal extension theorem is given by the following result 15 3 perturbations 533 theorem 15 5 transversal extension theorem assume that p w x is a strong bundle over a tame ep groupoid and f a sc fredholm section functor with compact solution set i e s f is compact we assume that x is paracompact and x admits sc smooth partitions of unity let n be an auxiliary norm and u a saturated subset of x so that n u controls compactness suppose further that w x q is an u n admissible structurable sc multisection so that there exists a continuous functor h x 0 1 with n x h x for all x x and t f x x is surjective with respect to intersections of local faces for every smooth x in x then there exists a structurable sc multisection w q with the following properties 1 w x 2 the domain support of is contained in u and n x h x for all x x i e is n u admissible 3 t f is onto on supp f moreover f x q is a compact tame branched ep subgroupoid proof we are given the saturated open subset u of x so that n u controls com pactness over the boundary we have the sc multisection functor w x q which is structurable and satisfies for x x the inequality n x h x we first take a continuous functor h x 0 1 satisfying n x h x h x for x x and which is supported in u we apply theorem 14 2 and obtain a struc turable extension w q of which satisfies n x h x for all x x and has the domain support in u the sc multisection extends by the as sumptions on we find for every x x with f x 0 an open neighborhood q x u admitting the natural gx action and having the properness property so that tr f y is onto for y u x the saturation of the union of all these q x defines a saturated open neighborhood of y x f y 0 and is contained in u at this point we have transversality for our solution set near for x u q with f x 0 we note that dx x 0 and we can argue as in theorem 15 4 to construct parameter depending perturba tions we achieve local transversality using the compactness of the orbit space of the support of f we can construct a structurable t with domain support away from x but contained in u so that the structurable t where t r has the property that t y t f x has near 0 x with x s f the property that tr f 0 x is onto then for arbitrarily small t we obtain the perturbation t with the desired properties 534 15 transversality and invariants there is an obvious corollary dealing with homotopy invariance corollary 15 1 assume that p w x is a strong bundle over an ep groupoid with dx 0 and paracompact orbit space x let f be an sc fredholm functor for which s f is compact 1 fix an auxiliary norm n and a saturated open neighborhood u of s f so that n u controls compactness then there exists a structurable sc multisection functor with domain support in u and satisfying n x 1 for all x x having the property that t f x is onto for all x supp f in particular f is a tame weighted ep subgroupoid for which the orbit space of the support is compact let us call n u a structurable regular perturbation of f 2 assume that ni u i i for i 0 1 are regular perturbations of f define x 0 1 x and w 0 1 w so that w x is a strong bundle also define the sc fredholm section f by f t x t f x then there exists an auxiliary norm n for w which over i 0 1 restricts to ni and a saturated open neighborhood u of s f restricting over i 0 1 to u i so that n u controls compactness 3 there exists a structurable regular perturbations n u where over i 0 1 is identical to i remark 15 7 we note that the topological content is possibly empty since we do not have an orientation and we do a perturbation theory over q however immediately if we are in the case that f is oriented it follows that f has a natural orientation and we obtain invariants for this see the next section proof corollary 15 1 by applying a special case of theorem 15 4 we find a struc turable sc multisection 0 with domain support in u satisfying n 0 x 1 for all x x so that t f 0 is onto on supp 0 f then 0 0 f is a compact branched ep subgroupoid assume we have also picked a second structurable 1 with similar properties consider the tame ep groupoid 0 1 x equipped with the obvious projection 0 1 x x we can pull back the strong bundle and obtain the strong bundle w 0 1 x the fiber over t x is wx and n defines an aux iliary norm on w which denote by n define u 0 1 x then n u controls compactness for the sc fredholm section f defined by f t x f x applying the orem 15 5 we find a structurable for w with n t x 1 for t x 0 1 x so that restricted to w i x w for i 0 1 we obtains i hence f defines a tame compact branched ep subgroupoid which restricts to i x x as i this means we obtain a compact cobordism between 0 and 1 assume that n u and n u control compactness and we have associated sc multisections and then we define u u u and n max n n and note that n u also controls compactness we can take an associated then is controlled by n u as well as n u hence we can connect in a controlled way with and with i e with 15 4 orientations and invariants 535 15 4 orientations and invariants next we consider an oriented version of the previous discussion we note that trans versality and orientation are separate issues hence we may assume that transver sality is already achieved before we consider the orientation question the set up is given by the following data assumptions 15 4 a strong bundle over a tame ep groupoid p w x an oriented sc fredholm section functor f o where we assume that f has a compact solution set i e s f is compact a sc multisection w q such that t f is onto on supp f and at points x x supp f we assume that the kernels of t f are in good position to x f x q is a branched ep subgroupoid note that this condition says that at the boundary the behavior is resonable such data can be obtained by starting with an oriented sc fredholm section f o and by applying perturbation theory to obtain with the above properties then x q defined by f is a tame branched ep subgroupoid hence we have the tangent functor t x gr x in order to orient we need a suitable lift t x g r x the interesting fact proved here is that the orientation o of f defines a natural lift t o x g r x in order to prove this we need some preparation starting point is the data from assumption 15 4 then for every smooth x the convex set of sc fredholm operators f s x txx wx where s is a local sc section with s x f x have induced orientations with suitable properties see section 12 5 for a smooth point x denote by g rf x the set of finite formal sums l l l where l l o is an oriented sc fredholm operator l txx wx that means o is an ori entation of det l max ker l maxcoker l in the formal sum the weights are nonnegative rational numbers and only a finite number of them are nonzero we define g rf x x x g rf x 536 15 transversality and invariants there is a natural projection g rf x x as before we can view g rf x as the object set of a category the morphism set has the elements l where l s the source and target maps are defined by s l l and t l l for an oriented l o we define l o l o forgetting orientations defines a 2 1 forgetful functor ff fitting into the following diagram g rf x ff grf x y y x x we have seen that associated to f there is a well defined section functor t f of as it turns out if f is oriented there is a canonical lift t f to a section functor of such that ff t f t f let x supp f take an open neighborhood u x with the natural gx action and a local sc section structure si i i i i i then t f y i i f y si y i f si y for y u x this representation does not depend on the choice of the local sc section structure since f is oriented by o every f si y inherits an orientation oi y we define t f o y i i f y si y i f si y oi y for y u x this definition does not depend on the choice of the local sc section structure since the occurring operators in the formal sum are independent of such choices since for y supp f the operators occurring in the linearization t f y are surjective we obtain an orientation oi y for ker f si y if we vary y in mi y u x f y si y the orientations oi y vary continuously defining an orientation oi for mi now we define t o y i i y mi i ty mi oi note that the right hand sum equals i i f y si y i ker f si y oi y where oi y is the orientation of max ker f si y which can be canonically iden tified with the orientation of det f si 0 via identifying max ker f si y with max ker f si y r det f si 0 15 4 orientations and invariants 537 theorem 15 6 canonical orientation t f o let p w x be a strong bundle over an ep groupoid f o an oriented sc fredholm section functor and w q an sc multisection so that assumption 15 4 holds then with f x q the functor t x gr x has a canonical lift t o x g r x characterized by by t o y i i f y si y i ker f si y oi y where we use the identifications explained above definition 15 7 under assumption 15 4 we call t f o defined in theorem 15 6 the canonical orientation for f next we incorporate differential forms into the picture we obtain the following result which is a consequence of the preceding discussion theorem 15 7 let p w x be a strong bundle over the tame ep groupoid x and f o an oriented sc fredholm section of fredholm index k so that s f is compact assume that n is an auxiliary norm and u a saturated open neighborhood of s f so that n u controls compactness we assume that w q is an sc multisection functor with domain support in u satisfying 1 n x 1 for x x 2 t f x is onto for all x supp f 3 t f x for x x supp f is in good position to x then f is a compact tame branched ep subgroupoid which is naturally oriented by o via theorem 15 6 and definition 15 7 and has an induced orien tation definition 9 11 then for every sc differential form on x of degree k 1 it holds that o d o in view of corollary 15 1 and the previous theorem we obtain the following result whose easy proof is left to the reader corollary 15 2 let p w x be a strong bundle over an ep groupoid x with paracompact orbit space and dx 0 assume that f is an sc fredholm section with s f being compact and o is an orientation for f then there exists a well defined map f o h dr x r 538 15 transversality and invariants uniquely characterized for a homogenous element by f o f o where n u is a regular perturbation and f is oriented via the canonical orientation coming from f o also denoted by o remark 15 8 there is another way to associate invariants to sc fredholm functors with compact moduli space namely for carefully chosen perturbations it is possible to triangulate the weighted solution set and to produce a chain with rational coeffi cients this is not carried out here and is left to the reader chapter 16 polyfolds we start by defining the notion of a polyfold which is the generalization of an orbifold with boundary and corners to the sc smooth framework all the results follow from the ep groupoid case and the study of the concepts which behave well under generalized isomorphisms as a consequence we allow our arguments to be quite brief 16 1 polyfold structures this section capitalizes on the nice transformation properties of previously intro duced objects under equivalences and on the compatibility with the localization process this allows to collect several results using a general formalism here is the basic definition definition 16 1 let z be a topological space a polyfold structure for z is a pair x consisting of a ep groupoid x and a homeomorphism x z the polyfold structure x relates the ep groupoid x with the topological space z via a homeomorphism x z one should view it as a additional structure on a topological space which turns z into some kind of smooth space in some sense x is a generalization of a smooth atlas the orbit space x of an ep groupoid x is a locally metrizable regular hausdorff space section 7 3 and therefore z must have the same properties in order to admit a polyfold structure if we know that z is a paracompact topological space which admits a polyfold structure then it follows via the nagata smirnov theorem that z is metrizable we summarize this in the following proposition 539 540 16 polyfolds proposition 16 1 if a topological space z admits a polyfold structure its topology is locally metrizable and regular hausdorff if a paracompact topological space admits a polyfold structure then its topology is metrizable we distinguish different types of polyfold structures depending on properties of the ep groupoid x the polyfold structure x is called tame if the ep groupoid x is tame the polyfold structure x is called face structured if x is face structured and it is called weakly face structured provided x is weakly face structured see definition 11 1 in order to introduce the notion of equivalent polyfold structures we recall from section 10 3 that a generalized isomorphism f x f a g y x y between ep groupoids induces the canonical homeomorphism f g f 1 x y between the orbit spaces it does not depend on the choice of the diagram from the equivalence class the inverse generalized isomorphism f 1 y g a f x y x is also a generalized isomorphism and f 1 f 1 y x the composition g f x z of two generalized isomorphisms f x y and g y z is again a generalized isomorphism and the induced homeomorphism f g between orbit spaces satisfies g f g f x z in view of proposition 10 6 we also recall theorem 10 7 which asserts that for two generalized isomorphisms f f x y the equality f f implies that f f we define the equivalence of two polyfold structures as follows definition 16 2 equivalent polyfold structures two polyfold structures x and y for the topological space z are equivalent provided there exists a gener alized isomorphism f x y satisfying f as pointed out f is necessarily unique now we can introduce the notion of a polyfold definition 16 3 polyfold a polyfold is a pair z c consisting of a topological space z equipped with an equivalence class c of polyfold structures most of the time we shall suppress c in the notation and talk simply about the poly fold z of course a topological space z might be a polyfold in different ways next 16 1 polyfold structures 541 we shall study properties which behave well with respect to equivalent polyfold structures proposition 16 2 for two equivalent polyfold structures x and y of the topological space z the following holds 1 x admits sc smooth bump functions if and only the same holds for y 2 x admits sc smooth partitions of unity as ep groupoid if and only if the same holds for y proof by assumption there exists a generalized isomorphism d x y taking a representative we obtain the diagram d x f a g y involving only equivalences if x admits sc smooth bump functions there exists by definition a sc smooth bump function in every open set since f is a local sc diffeomorphism the same is true for the ep groupoid a and using that also g is a local sc diffeomorphism this also holds for the image of g if y 6 g a we find using that g is essential surjective a point a a and a morphism g a y in yyy it has a unique extension to a local sc diffeomorphism denoted by the com position g is a local sc diffeomorphism satisfying g a y which allows to construct bump functions in a small neighborhood of y outside of the image of g in order to see 2 assume that x admits sc smooth partitions of unity take any open covering of the object space y by saturated open sets say u denote by f x y the generalized isomorphism satisfying f and by v the covering of x by saturated open subsets defined by f v u by assumption we can pick a subordinate sc smooth partition of unity for v define by by y x where f x y it is an easy exercise that each is sc smooth and that is an sc smooth partition of unity subordinate to u sc smooth bump functions or sc smooth partitions of unity are important for con structions in view of the proposition the following definitions can be made definition 16 4 we consider the polyfold z c 1 the polyfold z is called paracompact if the underlying topological space z is paracompact 2 the polyfold z is said to admit sc smooth bump functions provided there exists a polyfold structure x c whose ep groupoid x admits sc smooth bump functions note that also the equivalent polyfold structures y c will have this property 542 16 polyfolds 3 the polyfold z is said to admit sc smooth partitions of unity provided this is true for a model x c then this is true for the other models in c as well our next aim is to construct a category p whose objects are polyfolds z c and whose morphisms are what we shall call sc smooth maps between them the defini tion of the morphisms needs some preparation for this let us first consider another category called the category of polyfold structures and denoted by ps the ob jects in ps are the polyfold structures x this means that x is an ep groupoid and x z is a homeomorphism to the topological space z the morphisms f f x y consist of pairs f f in which f z z is a continuous map and f x y is a generalized sc smooth map between ep groupoid i e f is an equivalence class of diagrams d x f a y where f is an equivalence of ep groupoids and a sc smooth functor moreover f f we can visualize the structure by the following diagram where the left hand side stands for the diagram on right hand side of course the top part does not make sense as a commutative diagram of maps since f is only a generalized isomorphism f establishes locally a correspondence up to isomorphism between open subsets in the object spaces x and y so that one has to interpret the upper part of the diagram accordingly f f x y x f y x y y y x f y y y z f z the upper diagram is the part which defines the sc smooth structure the composi tion of two morphisms is defined by f f g g f g f g 16 1 polyfold structures 543 and the identity elements have the form 1 x 1 1 x idz the isomorphisms in ps are the pairs f f x y in which f z z is a homeomor phism and f x y a generalized isomorphism between the ep groupoids satisfying f 1 f as a consequence of theorem 10 7 the generalized isomorphism f is uniquely determined by f of course not every homeomorphism f is induced by such a f we now consider a polyfold z c and choose a polyfold structure x c then c consists of all objects y in ps for which there exists an isomorphism f f x y between the polyfold structures of the special form f idz roughly speaking we consider for a given x all the diagrams of the form below where f is a generalized isomorphism x f y x y y y z z the diagram has to be understood in the sense that there exists a generalized iso morphism for which f fits into the obvious commutative diagram since f is com pletely determined we obtain as already mentioned before the uniqueness of f we might identify c with this particular subcategory which is not full this al lows us given polyfolds z c and w d to define the notion of equivalence of morphisms f f x y between the polyfold structures x c and y d definition 16 5 equivalence of morphisms let z c and w d be polyfolds and assume that x x are two polyfold structures in c and y y two polyfold structures in d the two morphisms f f x y and f f x y in ps are equivalent if there exist two isomor phisms h idz x x and k idw y y in ps satis fying f f h idz k idw f f as illustrated in the diagram x f f y h idz y k idw y x f f y an equivalent pair f f f f necessarily satisfies f f z w if z c and w d are two polyfolds and x c and y d two polyfold structures then a morphism f f x y determines for two other polyfold structures x c and y d the equivalent morphism k 1 f h f x 544 16 polyfolds y where h idz x x and k idw y y are mor phisms between the polyfold structures remark 16 1 if f z w is a homeomorphism between polyfolds and x and y are polyfold structures then there is at most one generalized isomorphism f x y satisfying f f however if f is just a continuous map there might be none or perhaps many generalized sc smooth map f x y such that f f so the uniqueness is special for homeomorphisms this is also a known fact in the orbifold world definition 16 6 sc smooth maps a sc smooth map f z c w d between two polyfolds is an equivalence class f f f of morphisms between representa tives of the structures c and d remark 16 2 from a practical perspective one can think of a sc smooth map f z c w d as a morphism f f x y consisting of a continuous map f z w and a generalized sc smooth map f x y satisfying f f 1 since f z w is independent of the elements f f in f we shall often identify f f however the actual overhead over f is important for constructions because only on the level of the ep groupoids the sc smoothness is captured definition 16 7 composition the composition g f z c v e of the sc smooth maps f z c w d and g w d v e between polyfolds is defined via representatives as the equivalence class g f g f g f in which f f x y and g g y u are representatives of f and g respectively the definition does not depend on the choices involved we are ready to introduce the polyfold category p definition 16 8 polyfold category p the polyfold category p has as objects the polyfolds z c and as morphisms the sc smooth maps f z c w d fur ther 1 z c 1 x idz where x c the degeneracy index d x z c n of the polyfold structure x c is defined by d x z dx x z z where x x satisfies x z since s and t are local sc diffeomorphisms the definition does not depend on the choice of x as long as x z even more is true 16 1 polyfold structures 545 lemma 16 1 if x and x are two equivalent polyfold structures on z then d x d x proof by the definition of equivalence there exists a generalized isomorphism f x x satisfying f let z z and choose points x x and x x satisfying x z x we can represent f by a diagram of equivalences x f a f x using that f and f are equivalences we find a point a a and morphisms f a x and f a x this implies the equalities d x z dx x dx f a da a dx f a dx x d x z and the proof is complete as a consequence we can define the degeneracy index map for a polyfold definition 16 9 degeneracy index for polyfolds for a polyfold z c there exists a well defined map dz z n called degeneracy index which has the property that for every polyfold structure x c the identity dz z dx x holds provided x z similarly as we defined sub m polyfolds we define sub polyfolds definition 16 10 sub polyfold a subset b z of a polyfold z c is called a sub polyfold of z c if there exists a polyfold structure x c such that the saturated subset a of x defined by a 1 b is an ep subgroupoid here x x is the usual projection onto the orbit space remark 16 3 if y is another representative of c then there exists a generalized isomorphism f x y satisfying f let x x and y y be the quotient maps if the saturated subset a 1 b of x is an ep subgroupoid of x then a is a sub m polyfold of the object space x and as we have shown the associated full subcategory is in a natural way an ep groupoid if the diagram x f c g y represents f the preimage of a under f is an ep subgroupoid of c and the saturation of its image in y is an ep subgroupoid as well let us denote the latter by a then obviously 546 16 polyfolds a 1 b hence in the above definition the choice of a representative in c does not matter we note that the generalized isomorphism f x y induces a generalized isomorphism fa a a between the ep groupoids satisfying a fa a therefore with a a and a a it follows that a a and a a are equivalent polyfold structures on b this shows that a subpolyfold inherits in a natural way a polyfold structure having the degeneracy index dz we shall define the boundary of z definition 16 11 the boundary of a polyfold z denoted by z is the collection of all points z satisfying dz z 1 in general the boundary of a polyfold is just a set without any obvious meaningful geometric structure this changes for tame polyfolds a concept we will introduce below example 16 1 if x r 2 we have the group action of g z 2 where the nontrivial element acts by x y x y we obtain the translation groupoid gnr 2 which is an ep groupoid even tame the degeneration index vanishes identically we can identify the orbit space homeomorphically with z r 0 via x y x y hence x defines a polyfold structure on z the boundary of z as a polyfold is empty though as a manifold it would be non empty hence one has to be somewhat cautious talking about boundaries since the geometric intuition might be misleading in order to introduce tame polyfolds we first prove the following simple lemma lemma 16 2 we assume that the polyfold structures x and y for z are equivalent if the ep groupoid x is tame so is y proof by definition of the equivalence of polyfold structures there is a generalized isomorphism f x y between ep groupoids satisfying f the generalized isomorphism f can be represented by a diagram x f a g y 16 2 tangent of a polyfold 547 on the object level f and g are local sc diffeomorphisms if any of the three ep groupoids is tame then all the others are as well the lemma allows to define a tame polyfold definition 16 12 tame polyfold a polyfold z c is said to be tame if at least one and then all of the defining polyfold structures x c has x as a tame ep groupoid if f x y is an equivalence between tame ep groupoids or more generally a gen eralized isomorphism we know from remark 11 2 that if one of the ep groupoids is face structured so is the other this has an immediate consequence for generalized isomorphisms for which the same result holds definition 16 13 a polyfold z c is said to be face structured provided it is tame and for an admissible polyfold structure x c the ep groupoid x is face structured a face a of z is by definition the image of a face f of x under the map x z for a point z z the degeneracy index dz z equals precisely the number of faces z belongs to we call z c weakly face structured if it is tame and if for x c the ep groupoid x has the property that the underlying object m polyfold is face structured the following result is a consequence of a previous result saying that the property of being face structured behaves well under generalized isomorphisms proposition 16 3 every face a of a face structured polyfold z c has a natural polyfold structure a c a 16 2 tangent of a polyfold let us show next that a polyfold z c has a tangent space which again is a polyfold denoted by t z c t z t c and equipped with a sc smooth map p t z z the tangent space at a point will not be a vector space but a quotient of a vector space by a linear group action we need some preparation and note that if z x is a polyfold we can employ the degeneracy index dz z n to define the subsets zi by zi z z dz z i for i n clearly z 0 z and zi 1 zi z 0 z the subsets zi have nat ural polyfold structures ci defined as follows if x c then the homeomor phism x z defines a bijection i x i zi and we can equip zi with the 548 16 polyfolds unique topology making i a homeomorphism since x i is an ep groupoid we see that x i i defines a polyfold structure on zi if x y c it follows that x i i and y i i are equivalent polyfold structures for zi we shall write zi for the set zi equipped with the polyfold structure ci and refer to the polyfold zi ci or zi for short we shall call it the polyfold obtained from z c by raising the index by i z c i zi ci now we are in the position to carry out the tangent construction applying the tan gent functor t to the ep groupoid x we obtain the tangent ep groupoid t x the tangent t f t x ty of a generalized isomorphism f x f a h y between ep groupoids is defined as the generalized isomorphism t f t x f a h y t x t f ta t h ty between the tangent ep groupoids t f t x ty since t f and t h are equiv alences between ep groupoids in view of theorem 10 1 the generalized map t f t x ty is indeed a generalized isomorphism in view of theorem 11 1 it is independent of the choice of the representative in the equivalence class f of dia grams the following lemma is a trivial consequence of theorem 10 7 lemma 16 3 if the two morphisms f f and g g x y between poly fold structures of z satisfy f g idz then f g and t f tg proof we assume that the diagram d x f a g y represents f and d x f b g y represents g from f g we conclude f g 16 1 which implies in view of theorem 10 7 that f g and therefore t f tg we fix an admissible polyfold structure x of the polyfold z c and take the tan gent t x of the ep groupoid x if y is an equivalent polyfold structure meaning there exists the isomorphism f idz x y lemma 16 3 tells us that f and therefore t f t x ty between the tangent ep groupoids are well defined and unique now we shall define the tangent space t z c of the polyfold z c for a point z z on level 1 i e z z 1 and a polyfold structure x c we introduce equivalence 16 2 tangent of a polyfold 549 classes of tuples z x h in which h txx and x z the equivalence is defined as follows if z x k with k tyx is another such tuple we call z x h equivalent to z x k if there exists a morphism x y satisfying t h k the linear map t is defined since x 1 we denote the collection of these equivalence classes by t x z c z z 1 z z x h associated with the generalized isomorphism f x y satisfying f we obtain the uniquely determined canonical bijection t x z c t y z c z x h z y t f h identifying the points via the canonical bijections we obtain a set which we denote by t z c this set is by definition the tangent space of z c as a set its elements are equivalence classes of equivalence classes z x h for every x c we have a natural map t t x t z c defined by t h z x h where h txx and x x 1 with x z this map is a bijection and fits into the commutative diagram t x t t z c x y z y x 1 z 1 given x and y in c there exists a unique f x y satisfying f defining t f t x ty we note that t t f t from these facts and the paracompactness discussion of ep groupoids the following result follows immediately lemma 16 4 the set t z c has a unique natural topology t for which for every x the map t t x t z c is a homeomorphism the topology is regular and hausdorff in particular if z c is paracompact the same holds for t 550 16 polyfolds next we define the polyfold structure on the topological space t z c with the polyfold structure x for z c we associate a polyfold structure t x t for the topological space t z c by taking the tangent t x of the ep groupoid x and the homeomorphism t t x t z c the pair t x t defines a polyfold structure on the topological space t z c indeed if y c and if f x y is the generalized isomorphism satisfying f then t f t x ty satisifies t t f t therefore the polyfold structures t x t for t z c associated with the polyfold structures x for z c are all equivalent definition 16 14 tangent of z c by t c we denote the equivalence class of all polyfold structures for the topological space t z c equivalent to those of the form t x t for t z c associated with the polyfold structures x of the polyfold z c then the pair t z c t c is a polyfold called the tangent of the polyfold z c and abbreviated by t z c the continuous canonical projection map p t z c z 1 c 1 is defined for x c by p z x h z the map p comes from the sc smooth map p x p t z c z 1 c 1 between the two polyfolds indeed if t x t is the polyfold structure of t z c associated with the polyfold structure x of z c the generalized sc smooth map p x t x x 1 between the ep groupoids is the equivalence class p x t x 1 t x t x p x 1 where p t x x 1 is the canonical sc smooth functor defined by p h x if h txx and x c it satisfies p t p x hence the sc smooth map p x p t z c z 1 c 1 between the polyfolds induces on the topological level the continuous projection p it is the canonical sc smooth bundle projection to which we refer to sometimes as p t z z 1 if c is understood 16 2 tangent of a polyfold 551 theorem 16 1 in the polyfold category p introduced in definition 16 8 there exists a natural functor t called the tangent functor which associates with the polyfold z c its tangent t z c and with a sc smooth map f z c w d between polyfolds according to definition 16 6 its tangent t f t z c t w d proof we have already constructed t on the objects of p and now consider a sc smooth map f z c w d between polyfolds by definition f f f where f z w is a continuous map and f x y is a generalized map between ep groupoids satisfying f f for the polyfold structures x c and y d we define its tangent map t f t f t f t z c t w d by t f z x h f z y k where k t f h one easily verifies that t is a functor next we study sc differential forms on the polyfold z c and choose a polyfold structure x in c so that x z is a homeomorphism if x c is an other polyfold structure for z c then there exists a unique sc smooth generalized isomorphism h x x between ep groupoids satisfying h 16 2 if ep x is a sc form on x then the push forward sc form h ep y is well defined and by theorem 11 2 does not depend on h provided 16 2 holds the same is true for the pull back of a form ep y as a consequence of the previous discussion we shall define the notion of a sc differential form on a polyfold z definition 16 15 a sc differential form on the polyfold z c is an equivalence class x where x is a polyfold structure in c and ep x a sc differential form on x the equivalence is defined as follows x y for x and y in c if there exists a generalized isomorphism h x y between ep groupoids satisfying h and h we denote by sc z c the collection of sc differential forms on z c this is a vector space with the operations defined by x x x the exterior differential d dz is defined as 552 16 polyfolds d x d x if f z c z c is a sc smooth map between the two polyfolds and if x c and x c are polyfold structures then there exists a representative f f where f z z is a continuous map and f x x a generalized map between ep groupoids and we define the pull back of x sc z c by f x f x by construction dz f f dz we can summarize the discussion which reduces it to the already discussed ep groupoid case in the following theorem theorem 16 2 given a polyfold z c there is an associated derham complex sc z c d a sc smooth map f z c z c between polyfolds induces the co chain map f sc z c sc z c satisfying dz f f dz moreover the usual functorial properties hold 16 3 strong polyfold bundles we shall introduce the notion of a strong polyfold bundle the basic building blocks are again equivalence classes of strong bundles over ep groupoids quite in the spirit of the previous discussions since there are no new ideas needed we allow ourselves to be somewhat sketchy the polyfold z c is a topological space z equipped with an equivalence class c of polyfold structures x similarly we are going to define the strong polyfold bundle p y z c over the polyfold z c as a continuous and surjective map p between the topological spaces equipped with an equivalence class c of strong polyfold bundle structures for p definition 16 16 strong polyfold bundle structures let y and z be two topo logical spaces and let p y z be a continuous and surjective map a strong polyfold bundle structure for p y z is a tuple 16 3 strong polyfold bundles 553 p w x consisting of a strong bundle p w x over the ep groupoid x a the home omorphism w y covering the homeomorphism x z so that p p as illustrated in the diagram w w y p y p y yp x x z where the horizontal arrows on the left are the maps passing to orbits the smoothness properties of p y z are described by p w x in general the latter is only taken up to some notion of equivalence which is explained now definition 16 17 equivalence of strong polyfold bundle structures two strong polyfold bundle structures p w x and p w x for the map p y z are equivalent if there exists a generalized strong bundle isomorphism f w w covering the generalized isomorphism f x x between ep groupoids and satis fying f and f the situation is illustrated in the diagrams w w x x f p p f y w w x x z f p p f 554 16 polyfolds an equivalence class c of strong bundle structures for p y z induces an equiva lence class c of polyfold structures for the polyfold z c definition 16 18 a strong polyfold bundle p y z c consists of a surjective continuous map p y z between topological spaces and an equivalence class c of strong polyfold bundle structures for p definition 16 19 the strong polyfold bundle p y z c is called 1 tame if the polyfold z c is tame 2 weakly face structured if z c is weakly face structured 3 face structured if z c is face structured next we introduce the category s pbs of strong polyfold bundle structures the objects of the category are the tuples s p w x consisting of a strong bundle p w x over an ep groupoid and homeomor phisms w y and x z where y and z are topological spaces depend ing on s we note that p 1 y z is a surjective continuous map and we shall denote it by p so that p y z view this as a kind of bundle situation we note that y ys z zs and p ps the following discussion essentially is parallel to the discussion in the polyfold case we shall call s a strong polyfold bundle structure on ps i e p y z it is sometimes convenient to view s p w x as s p w x p where p is of course redundant information definition 16 20 a morphism in the category s pbs between two objects s and s with s p w x and s p w x is a 4 tuple a a a a in which a y y and a z z are continuous maps between topological spaces satisfying ps a a ps i e a y y is a bundle map covering the map a z z here ps y z and ps y z is the data associated to s and s respectively moreover a w w is a generalized strong bundle map covering the generalized map a x x between the underlying ep groupoids and satisfying the compatibility conditions a a and a a 16 3 strong polyfold bundles 555 the morphism a a a a is invertible i e an isomorphism if the continuous maps a y y and a z z are homeomorphism and a w w is a generalized strong bundle isomorphism covering the generalized isomorphism a x x be tween ep groupoids the definition is illustrated by the following diagrams w a w p y p y x a x w a w y y y a y x a x y y z a z the composition of two morphisms is defined by a a a a a a a a a a a a a a a a to simplify the notation we shall abbreviate the morphism a a a a a a keeping in mind the underlying maps a a generalizing the polyfold map we next introduce the notion of a sc smooth strong bundle map between two strong poly fold bundles p y z c and p y z c starting with the strong polyfold bundle p y z c the equivalence class c of polyfold structures consists of all the objects s p w x of the category s pbs for which there exists an isomorphism a a between them of the special form a idy where p p 1 we now proceed as in the polyfold case take two morphisms a 0 a 0 and a 1 a 1 in the category s pbs where a 0 a 0 p 0 w 0 x 0 0 0 0 p y z p 0 w 0 x 0 0 0 0 p y z and a 1 a 1 p 1 w 1 x 1 1 1 1 p y z p 1 w 1 x 1 1 1 1 p y z for two polyfold polyfold bundle structures for p y z and two polyfold bundle structures for p y z definition 16 21 equivalence of morphisms in s pbs the two morphisms a 0 a 0 and a 1 a 1 are equivalent if there exists an isomorphism h idy be 556 16 polyfolds tween the polyfold bundle structures of p and an isomorphism h idy between the polyfold bundle structures of p satisfying a 1 a 1 h idy h idy a 0 a 0 from the definition it follows that a 1 a 0 y y we also have that a 1 a 0 z z in particular the following diagram holds w 0 0 y 1 w 1 a 0 y a y a 1 y w 0 0 y 1 w 1 in addition the generalized isomorphisms h w 0 w 1 and h w 0 w 1 satisfy a 1 h h a 0 these diagrams induce similar diagrams for the base spaces definition 16 22 strong polyfold bundle maps a sc smooth strong polyfold bundle map f p y z c p y z c is an equivalence class a a of morphism in s pbs definition 16 23 auxiliary norm on strong polyfold bundles an auxiliary norm n of a strong polyfold bundle p y z c over the polyfold z is a con tinuous map n y 0 1 0 with the property that for every strong bundle structure m p w x there exists an auxiliary norm n w 0 1 0 satisfying n e n e for every e e 0 1 here the subset y 0 1 y is given by y 0 1 w 0 1 it is inde pendent of the choice of the strong bundle structure m c used we assume that the polyfold structure p w x c possesses the auxiliary norm n then every equivalent polyfold structure p w x c possesses in view of theorem 11 6 the auxiliary norm n d n which is de fined as follows we choose a representative diagram w w w for d fix ing e w we find using that is an equivalence a point e w and morphism e e and define 16 3 strong polyfold bundles 557 n e d n e n e where e e since n w r is a functor the definition does not depend of the choice of the representative diagram from d e 1 e e e and d we conclude that n e n e n e n e therefore the auxiliary norm n on the strong polyfold bundle p is well defined if one of the strong polyfold structures in c possesses an auxiliary norm according to theorem 12 1 this happens if p y z is a paracompact polyfold z proposition 16 4 existence of an auxiliary norm a strong polyfold bundle p y z c over a paracompact base polyfold z possesses an auxiliary norm n y 0 1 r remark 16 4 we should remark that an auxiliary norm n is in general not a norm on a fiber which is not necessary a vector space definition 16 24 reflexive 1 fibers a strong polyfold bundle p y z is said to have reflexive 1 fibers if there exists a strong polyfold structure m p w x in which the fibers w 0 1 are reflexive banach spaces the equivalent strong polyfold bundle structures then have also reflexive 1 fibers definition 16 25 reflexive auxiliary norm a reflexive auxiliary norm of strong polyfold bundle p y z c possessing reflexive fibers is an auxiliary norm n y 0 1 r for which there exists a reflexive auxiliary norm n wo 1 r in a model m p w x c satisfying n w n w for all w w 0 1 definition 16 26 mixed convergence for p let p y z c be a strong poly fold bundle having reflexive 1 fibers a sequence yk y 0 1 is called mixed con vergent to y y 0 1 if there exists a reflexive auxiliary norm n w 0 1 r in the model m c such that the sequence 1 yk w 0 1 and the point 1 y have representative wk resp w in w 0 1 for which wk m w in w 0 1 from theorem 12 4 we deduce the following result theorem 16 3 let p y z be a strong polyfold bundle over the paracompact polyfold z if p has reflexive 1 fibers then the following holds 1 the bundle p admits a reflexive auxiliary norm n 2 for every auxiliary norm n for p there exist reflexive auxiliary norms n 1 and n 2 for p satisfying n 1 n n 2 558 16 polyfolds the theorem guarantees a large supply of reflexive auxiliary norms for p let us collect some of the properties of such an auxiliary norm proposition 16 5 if p y z c is a strong polyfold bundle over the paracom pact polyfold z possessing reflexive 1 fibers then the following holds for a reflexive auxiliary norm n for p 1 if yk y 0 1 satisfies p yk z and n yk 0 then yk 0 z in y 0 1 2 if yk is mixed convergent to y y 0 1 then n y liminf k n yk in the case that the polyfold z is paracompact and hence as we have pointed out metrizable an extension results for auxiliary norms defined on the boundary z to the whole of z are available these results are based on theorem 12 3 and theorem 12 5 in the case of reflexive auxiliary norms and use the fact that auxiliary norms behave well under generalized strong bundle isomorphisms pullbacks and push forwards under the latter also preserve the relexiveness property theorem 16 4 let p y z c be a strong polyfold bundle over the tame para compact polyfold z and assume that n y 0 1 z r is an auxiliary norm then the following holds true 1 then there exists an auxiliary norm n y 0 1 r which extends n 2 if n is reflexive the extension n be be taken to be reflexive as well a strong polyfold bundle p y z c possesses a canonical zero section z 7 0 z induced from the zero sections of the strong bundles p w x in the overhead c in view the discussion of the behavior of sc smooth section of strong bundles over ep groupoids under generalized strong bundle maps in section 10 4 we can define sc smooth sections of strong polyfold bundles the constructions turn out to be compatible with sc fredholm sections and sc sections we start with the strong polyfold bundle p y z and choose a strong polyfold bundle structure p w x where p w x is a strong bundle over the ep groupoid x and w y is a homeomorphism covering the homeomor phism x z satisfying p p in this bundle structure a sc smooth section is by definition a pair f f in which f z y is a continuous section of the strong polyfold bundle p and f x w is a sc smooth functor of the strong bundle p such that 16 4 branched finite dimensional orbifolds 559 f f on x we represent these data as a tuple f w f if we take a different strong polyfold bundle chart p w x for p we obtain the tuple f w f and introduce the equivalence relation f w f f w f defined by the requirement f f and there exists a generalized strong bundle iso morphism a w w satisfying a and a f f we recall that if a w w w then a this defines an equiv alence relation definition 16 27 a sc smooth section of the strong polyfold bundle p y z consists of an equivalence class f w f where w is an admissible strong bundle structure for p f is a sc smooth section functor of the strong bundle p y x over the ep groupoid x and f is a continuous section of p satisfying f f any admissible strong bundle structure p w x of a strong polyfold bun dle p y z defines a bi level structure ym k with 0 k m 1 on y in particular y 0 1 is a topological space with a surjective continuous map p p 0 1 y 0 1 z definition 16 28 a sc smooth section of the strong polyfold bundle p y z consists of an equivalence class f w f where w is an admissible strong bundle structure for p f is a sc smooth section functor of p w x and f is a continuous section of p y 0 1 z satisfying f f 16 4 branched finite dimensional orbifolds the definition of a polyfold utilizes the notion of a generalized isomorphism our aim is to introduce the concept of a branched weighted suborbifold of z as well as related notions that this is possible is rooted in the fact that a branched ep 560 16 polyfolds subgroupoid is well behaved under generalized isomorphisms this allows to com bine the discussions in chapters 9 and 11 the following results are easily reduced to already established facts assume that z c is a polyfold and x c a polyfold structure as shown in theorem 11 3 a generalized isomorphism f x x can be used to push forward or pull back branched ep subgroupoids moreover the operations f and f pre serve many of the properties such a branched ep subgroupoid may have namely being closed or compact being of manifold type or being of orbifold type as well as the dimensional decomposition see definition 9 2 closed or compact defini tion 9 3 manifold type or orbifold type and proposition 9 2 dimensional decom position moreover if is tame this property is preserved under pull backs and push forwards definition 16 29 a branched weighted suborbifold of z c is an equivalence class x where x c and x q is a branched ep subgroupoid here x and x are equivalent provided there ex ists a generalized isomorphism f x x satisfying 1 f 2 f given and two representatives x and x we note that f which implies that 1 f 1 1 this means that we obtain a well defined map z q again denoted by by defining using a representative x 1 of course there is a lot of overhead associated to this map definition 16 30 let be a branched suborbifold of z c and let x be a representative of 1 is called closed provided is closed 2 is called compact provided is compact 3 is said to be of manifold type provided is of manifold type 4 is said to be of orbifold type provided is of orbifold type 5 is said to be tame provided is tame 16 4 branched finite dimensional orbifolds 561 as a consequence of previously established results we obtain the following propo sition proposition 16 6 if is a branched suborbifold of the polyfold z c let a supp be the subset of all z z with z 0 which is a topological subspace of z if is of manifold type then a has a natural smooth manifold structure and if is of orbifold type then a has a natural smooth orbifold structure both these structures are induced from the overhead of z c proof this follows from proposition 9 1 and theorem 11 3 we can also define orientations for branched suborbifolds using theorem 11 4 definition 16 31 let z c be a polyfold an oriented branched suborbifold of z c is given by an equivalence class t x where x c and t is an oriented branched ep subgroupoid the equivalence t x t x is defined by requiring the existence of a generalized isomorphism f x x satis fying f t t and f we shall simplify notation by setting t x next we introduce the notion of differential form on a polyfold z c definition 16 32 given x c a sc differential form is given by an equiva lence class x where ep x here x x provided there exists a generalized isomorphism f x x satisfying f and f given an sc smooth map g z c z c the pull back g x is de fined by g x g x one easily verifies that this is well defined next we introduce the exterior deriva tive definition 16 33 the exterior derivative d is defined by d x d x 16 3 562 16 polyfolds in view of theorem 11 2 this is well defined and d z c g x g d z c x 16 4 as we have seen in section 9 2 proposition 9 4 a branched ep subgroupoid x q has a well defined boundary x q in general does not have pleasant properties unless lies in a sufficiently nice position to the boundary for example if is tame in the case that is tame we not only can define but it also makes sense to talk about its orientation namely of given the tame oriented branched ep groupoid t the boundary has an induced orientation t and we define t t in view of theorem 11 7 this data behaves well with respect to generalized iso morphisms and this will allow us ultimately to state a version of stokes theorem indeed we can define for an oriented tamed branched ep groupoid t x t x and this definition is compatible with the notion of our equivalence relation which one easily derives employing theorem 11 7 with other words the following defini tion makes sense definition 16 34 let z c be a polyfold and t x an oriented tame branched sub orbifold i e is an oriented tame branched ep subgroupoid then the boundary is defined by t x where t is defined in definition 9 11 finally we use the constructions and results in section 11 4 to formulate the stokes theorem recall remark 11 3 and assume that z is a polyfold t x is an oriented tame compact branched sub polyfold of dimension n and x an sc differential form of degree n 1 in order to simplify notation we put t x and x we can define d d x and t x these are all ob jects associated to z but one needs the overhead to describe the structures we can define branched integration as follows let s z be the support of defined as the subset consisting of points z z with 1 z 0 this definition is inde pendent of the representative for we denote similarly by s the support of pushing forward the lebesgue algebras for supp and supp we obtain the corresponding algebras for s and s respectively the definition of the latter does not depend on the representative which was taken 16 5 sc multisections 563 given a n form on z and an oriented tame compact branched sub orbifold of dimension n we define supp the definition does not depend on the choice of the representatives to define it there is a similar definition for a n 1 form for the boundary case supp on the ep groupoid level stokes theorem holds and consequently it holds in the polyfold context as well theorem 16 5 stokes given a polyfold z c a differential n 1 form x with x c and an oriented tame compact branched sub orbifold t x of dimension n the stokes type formula d holds 16 5 sc multisections in this section we shall employ previously established results concerning sc multi section functors see section 13 3 from theorem 13 3 and theorem 13 4 we know that structurable sc multisection functors are well behaved under pullbacks and push forwards the previously established fact that structurability behaves well un der generalized strong bundle isomorphisms follows immediately consequently we obtain a notion of sc multisections for strong polyfold bundles as we shall see also the pullback of a structurable sc multisection by a proper strong polyfold bundle covering is structurable definition 16 35 let p y z c be a strong polyfold bundle an sc multisec tion z q is given by an equivalence class w where w is an admissible strong bundle structure w y p y p y x z 564 16 polyfolds and w q a sc multisection functor having the property w w for all w w here w is equivalent to w provided and there ex ists a generalize strong bundle isomorphism f w w covering the generalized isomorphism f x x fitting into the commutative diagram w f w p y p y x f x and satisfying f in definition 13 5 we introduced the notion of the domain support for a sc multi section functor and we can introduce a related notion here definition 16 36 for the sc multisection y q the domain support is de fined by dom supp clz z z y p 1 z with z 0 remark 16 5 incidentally if we consider a representative w then in duces a homeomorphism dom supp dom supp given an auxiliary norm n y 0 we can measure the point wise size of a sc multisection y q by defining n z max n y y p 1 z y 6 0 16 5 then n z r is a continuous map since structurability is well behaved under generalized strong bundle isomorphisms the following definition makes sense definition 16 37 let p y z c be a strong polyfold bundle and z q a sc multisection we say that is structurable if one and therefore all of its representatives w q are structurable assume that we are given a a strong polyfold bundle p y x with a tame para compact base x an auxiliary norm n y 0 1 r and a functor y z q in a first step we define what is means that is a sc multisection 16 5 sc multisections 565 definition 16 38 a sc multisection of of y z is an equivalence class w where p w x is an sc smooth local model for p y z and w x q an sc multisection functor satisfying w w for all w w p w x two tuples w and w are said to be equivalent provided and the there exists a generalized strong bundle isomorphism w f w p y p y x f x the diagram interpreted with the usual care such that f and f using definition 14 4 and proposition 14 1 we can define structurable sc multi sections over z definition 16 39 let p y z be a strong bundle over the tame paracompact poly fold z assume that y z q is an sc multisection over the boundary z we say that is structurable provided one of its representative w has a structurable w x q using theorem 14 2 we can state an extension theorem for structurable sc multi sections theorem 16 6 let p y z c be a strong polyfold bundle over the tame para compact polyfold z we assume that z admits sc smooth partitions of unity de note by n y 0 an auxiliary norm and y z q a structurable sc multisection assume that u z is an open neighborhood of dom supp and f z 0 a continuous map with support in u satisfying n z f z for z dom supp then there exists a structurable sc multisection y q with the following properties 1 n z f z for all z z 2 dom supp u 3 y z 566 16 polyfolds as a corollary of theorem 13 5 and the study of proper coverings up to equivalences in section 11 6 one is able to define the pull back of a sc multisections by a proper covering we leave the details to the reader in practice when one uses the theory to define invariants via sc fredholm theory it is usually easier to work in an ep groupoid model one producea the invariants in this context and then concludes from the transformation properties of generalized isomorphisms that the invariants are independent of the choices particularly invari ants involving proper coverings need the fine structure provided by the ep groupoid description 16 6 fredholm theory in this section we develop the sc fredholm theory for sc smooth sections of strong polyfold bundles essentially this is an exercise about the sc fredholm theory in ep groupoids and its behavior with respect to equivalences with p y z being a strong polyfold bundle recall that an sc smooth section is given by an equivalence class f w f where w is a strong bundle structure for p i e w y p y p y x z f is an sc smooth section of p w x and f is a continuous section of p such that f f here and are homeomorphisms assume that f w f is a representative of the equivalence class and that f is an sc fredholm section if f w f is another representative we can conclude that f is an sc fredholm section of p w x in order to see this note that f and f are related by a strong bundle isomorphism w f w p y p y x f x where one has to exercise the usual caution when interpreting this diagram we have already seen that sc fredholm sections transform well under push forwards 16 6 fredholm theory 567 and pull backs of strong bundle maps since the action of f on f can be represented as a pull back followed by a push forward and since f f f it follows that f is sc fredholm see theorem 10 8 and theorem 10 9 for the necessary background material as a consequence of this discussion we can give the definition of an sc fredholm section of a strong polyfold bundle definition 16 40 a sc smooth fredholm section of the strong polyfold bundle p y z consists of an equivalence class f w f where w is an admissible strong bundle structure for p f is a sc smooth fredholm section functor of the strong bundle p w x and f is a continuous section of p satisfying f f the following compactness definition is basic definition 16 41 let f f w f be an sc fredholm section of the strong polyfold bundle p y z then f is said to have a compact solution set provided the collection of all z z such that f z 0 is a compact subset of z due to the fact that for an sc fredholm section in the ep groupoid setting differ ent compactness notions are equivalent we obtain the following stability result as a consequence of theorem 12 9 theorem 16 7 let f f w f be an sc fredholm section of the strong poly fold bundle p y z where z is paracompact suppose that n y 0 1 r is an auxiliary norm and f has a compact solution set then there exists an open neigh borhood u of s f z z f z 0 such that the closure of the set of all z u with n f z 1 is compact proof we take a model p w x which by assumption will be a strong bun dle over the ep groupoid x by assumption x has a paracompact orbit space x moreover we are given an sc fredholm section functor f of p which fits into the commutative diagram w y f x fx x z where and define the strong polyfold bundle structure the auxiliary norm n is represented in the model by n w 0 1 r employing theorem 12 9 we conclude that not only sf x x f x 0 has a compact orbit space sf but that also there exists a saturated open neighborhood u of sf so that the closure of the orbit space of x u n f x 1 is compact then u u has the desired properties 568 16 polyfolds we can consider oriented sc freholm sections of strong polyfold bundles since ori entations of sc fredholm section also behave well under generalized strong bundle isomorphisms we begin by reviewing the orientation discussion in the ep groupoid setting assume that p w x is a strong bundle over the tame ep groupoid x and f an sc fredholm functor as constructed in section 12 5 there is a well defined orientation bundle see definition 12 11 associated to f and denoted by of x here of is a topological space is a local homeomorphism and the map is a 2 1 covering as discussed in section 12 5 given a point x x there exist precisely two local continuous section germs denoted by o x of course there is no preferred local choice the value at x is denoted by ox given a smooth morphism xxx i e xxx we obtain a local germ of sc diffeomorphism u s u t between small open neighborhoods in x and this germ can be lifted to a local strong bundle isomorphism w u s w u t which can used to push o x forward in particular defines a push forward ox recall that f is orientable provided of x admits a global continuous section o with the property that os ot for all morphisms in xxx with other words o is a continuous section functor of the choice of a specific section functor o is called an orientation for f and denoted by of if x is con nected we see that there is at most one orientation and if f is orientable there are precisely two possible orientations relevant for our orientation discussion in the polyfold framework is theorem 12 12 which we recall for convenience we have adapted the notation to the current situa tion theorem 12 12 assume p w x and p w x are strong bundles over tame ep groupoids and f w w is a generalized strong bundle isomor phism covering the generalized isomorphism f x x we assume that f is an sc fredholm section functor of p and denote by f the push forward sc fredholm section 1 with and being the orientation bundles the generalized strong bundle iso morphism induces a fiber preserving homeomorphism f fitting into the follow ing commutative diagram of f of y y x f x 16 6 fredholm theory 569 the construction of f is functorial 2 assume that o is a continuous section functor of so that in particular the isotropy groups gx x x act trivially on 1 x then f defines naturally a push forward o f o which is a continuous section functor of of x now we are ready for the discussion of orientations for sc fredholm sections of strong bundles over tame polyfolds from proposition 12 4 we can conclude the following let p w x be a strong bundle over a tame ep groupoid with a para compact orbit space and f is a sc fredholm section we denote by of x the orientation bundle then f is orientable provided the following two conditions hold 1 the continuous map of x has above every class x precisely two preimages 2 of x admits a global continuous section a choice of section of then by definition is an orientation of f an orientation for f w f can be defined as a choice of orientation for a representative w f if we take another representative w f we obtain via theorem 12 12 an induced orientation hence we see that there is a well defined notion of orientation definition 16 42 an orientation if it exists for a sc fredholm section f of the tame strong polyfold bundle p y z consists of the choice of an orientation for a representative w f as a simple application we note the following result where we use generic pertur bations of f by sc multisections for such a the maps f z q defines branched suborbifold of z and if f is oriented has a natural orientation this follows from the discussion in section 15 4 see in particular theorem 15 6 and the subsequent definition 15 7 theorem 16 8 let p y z be a strong polyfold bundle over the paracompact polyfold z with z 0 assume that f is an oriented sc fredholm section of p with compact solution set suppose the fredholm index is k let n z 0 1 r be an auxiliary norm and u an open neighborhood of s f z z f z 0 so that n u control compactness then for given sc multisection controlled by n u so that f is in general position the integral for given closed sc differential k form on z is well defined and independent of the perturbation moreover the integral only depends on the cohomology class here is f equipped with the inherited orientation from f we leave it to the reader to bring more of the results from part iii into the current context we just note that that as along as the definitions and results are invariant un der generalized strong bundle isomorphisms a result in the polyfold context can be 570 16 polyfolds obtained in application it is usually advantageous to work in the ep groupoid con text however sometimes the polyfold formulation allows for more compact state ments in particular if the overhead is suppressed in the statements part iv fredholm theory in groupoidal categories in this part we shall bring the ep groupoid theory into the more general framework of groupoidal categories first we shall develop the theory of sc smooth structures on a certain class of groupoidal categories this is followed by a theory of sc fredholm section functors finally we develop in chapter 19 useful ideas to construct polyfold structures in applications for example the papers 14 15 are build on this frame work in 32 an application of the ideas to gromov witten theory is outlined chapter 17 polyfold theory for categories in this part we shall develop a theory of fredholm functors for certain categories the hard work has already been done in the previous parts the resulting theory is very convenient in applications since it provides a transparent language with a large body of results the construction of symplectic field theory is an excellent example for the use of this categorical polyfold theory we refer the reader to 14 for the illustration of the methods in this highly nontrivial example the motivated reader is also invited to turn the gromov witten gw example into the categorical framework the reference 32 gives an outline of such a theory the paper 43 gives a complete and detailed construction of gw however the motiva tion of this paper was to discuss the issues and to show how they can be phrased and dealt with in the polyfold framework the aim was not to give an abstract stream lined proof in which important issues might not be as visible since they are taken care of by the machinery of course once one has enough experience and knows the inner workings of the machinery it perfectly makes sense to use the technol ogy in a slick and stream lined way which is the approach to sft in 14 using ideas from 14 for example the construction functors for polyfolds and some of the technical work in 43 the theory in the current book allows a rather fast and complete construction of the gromov witten invariants in the following we assume the reader familiar with the material of part i to part iii and we allow ourselves at time to be sketchy if the constructions and arguments are straight forward 17 1 polyfold structures and categories the starting point is a category c with additional structures usually we shall denote the object class associated to c by obj c and the morphism class by mor c how 573 574 17 polyfold theory for categories ever we sometimes find it convenient to abbreviate c obj c and ccc mor c if the context is clear we shall consider categories where every morphism is an iso morphism in this case we can consider for every object the class of objects isomorphic to the orbit space c of c is the class consisting of all isomorphism classes of objects definition 17 1 a gct where gc stands for groupoidal category and t for topol ogy is given by a pair c t where c is a category having the following three properties 1 the orbit space c of the category c is a set 2 the set of morphisms between any two objects is finite 3 all morphisms are isomorphisms in addition t is a topology on the orbit set c which is metrizable instead of say ing c t is a gct we sometimes say it is groupoidal category with metrizable topology where it is understood that the topology is defined on the orbit space we also sometimes refer to the gct c and suppress the topology in the notation our main goal is to define the notion of an sc smooth structure on c t it will turn out that this is the starting point for a very rich theory which is a mixture of a generalized differential geometry blended with nonlinear functional analysis and category theory definition 17 2 given a m polyfold o a finite group g and a group homomor phism g diffsc o denote the associated group action by sc diffeomorphisms by g o o g x g x where g x g x the translation groupoid g n o associated to o g is the category with obj gno o and mor gno g o the source and target maps are defined by s g x x and t g x g x so that g x is viewed as a morphism g x x g x one easily verifies that gno is an ep groupoid for the following we note that g o gno is a metrizable space namely take any metric d on o and average to obtain the metric d defined by d q q 1 g g g d g q g q then define d on the quotient by d q q ming g gd g q g q 17 1 polyfold structures and categories 575 the building blocks for our upcoming theory are given in the following definition definition 17 3 let c be a gct and an object in c a local uniformizer for c at is a covariant functor gno c such that the following holds 1 gno is a translation groupoid associated to the m polyfold o equipped with an sc smooth action by a finite group g i e the data o g 2 o is paracompact and hence metrizable 3 the functor is injective on objects and there exists q 0 o with q 0 moreover is full and faithful i e fully faithful 4 the induced map g o c is a homeomorphism onto an open neighbor hood u of in c associated to a local uniformizer we have its footprint defined by footprint o which is an open subset of c if o is tame we shall refer to as a tame local uniormizer denote local uniformizers at objects and by and definition 17 4 the transition set mmm is defined as the weak fibered product associated to the diagram o c o it consists of all tuples q q o ccc o so that q q we first note that given three objects we have the following structure maps for associated local uniformizers and 1 the source and target maps s mmm o q q q and t mmm o q q q 2 the 1 map or unit map o mmm q q 1 q q 3 the inversion map mmm mmm q q q 1 q 4 the multiplication map mmm s tmmm mmm defined by m q q q q q q denote the category of sets by set we shall write c for the category obtained from c by keeping all objects but only allowing the identities as morphisms definition 17 5 a uniformizer construction is given by a functor f c set which associates to an object a set of local uniformizers f at 576 17 polyfold theory for categories remark 17 1 here are some remarks about functors f and the way they occur in applications a a unformizer construction appears in application usually as a well defined recipe for a construction involving for a given object set many choices resulting in the set f b in many circumstances we have more structure namely f is in fact a functor f c set reflecting the often occurring feature that given an isomorphism one can establish a bijective correspondence between the choices available for and resulting in a bijection f f f c in many cases f even has a geometric interpretation and the following de scribes the additional structures which one might see a frequent situation is as follows given f and define f by construction gno c and g no c assume there exists a well defined group isomorphism g g and an equivariant sc diffeomorphism o o defining an sc diffeomorphic functor n gno g no having the functors and defined on gno we assume that there is a natural construction of a natural transformation in particular for q o the object q and the object q are isomorphic via q for g g the morphism g q which induces g q q g q corresponds to g q q g q the latter comes from the commutative diagram q g q g q q y g q y q g q g q in many cases the constructions and satisfy the following compatibilities 1 f 2 f 3 f q q q for q o definition 17 6 a polyfold structure for the gct c consists of two constructions 17 1 polyfold structures and categories 577 1 a uniformizer construction f c set 2 a construction of a m polyfold structure for every transition set mmm where f and f these two constructions satisfy the following compatibility conditions a the source and target maps o s mmm t o are local sc diffeomorphisms b the unit map u o mmm and the inversion map mmm mmm are sc smooth c the multiplication map mmm s tmmm mmm is sc smooth we shall refer to f mmm as a polyfold structure if all local uniformizers associated to f are tame we shall call it a tame polyfold construction a polyfold c consists of a gct c together with a polyfold structure f mmm we can draw the following consequences from this definition lemma 17 1 given gno s in f with q the map gno mmm g p p g p g p 17 1 is a sc diffeomorphism moreover for given q g q mmm g g g there exists an open neighborhood u q g q characterized by the property that s u q g q o is an sc diffeomorphism further it holds that u q g q u q g q 0 for g 6 g and mmm g g u q g q in addition it holds that t u q g q o is given by t p p g p proof by assumption g n o s is injective on objects and fully faith ful if g g and p o then g p p g p which implies that p g p g p mmm moreover the map in 17 1 is injective since is in jective on objects and is faithful given p p o and p p mmm the fact that is full implies that there exists g p with g p which also implies that g p p this shows that the map in 17 1 is a bijection from s g p p we conclude that is a local sc diffeomorphism since s has this property of course with being a bijection we conclude that it is a sc diffeomorphism since g o is open in g o we see that the map 578 17 polyfold theory for categories o mmm p p g p g p is an sc diffeomorphism onto some open subset which we shall denote by u q g q we note that q g q u q g q it is clear that by construction u q g q and u q g q are disjoint if g 6 g and further that mmm g g u q g q clearly s u q g q o has the form s p p p from g p p g p g p it follows that t g p g p implying that if p p u q g q we must have p g p and consequently t p p g p assume we are given a polyfold structure f mmm for c we can connect this struc ture to the theory of ep groupoids as follows using that c is a set and t a metriz able topology we can pick a set of uniformizers covering the orbit set of c i e c footprint recall that the footprints are open subsets we shall refer to as a covering set of uniformizers or just simply as a covering set by definition g no c and we associate to this family the m polyfolds x o and xxx mmm we define source and target maps s t xxx x by associating to q q the objects s q q q and t q q q these maps are local sc diffeomorphisms since f mmm defines a polyfold structure it follows immediately that the global inversion map xxx xxx q q q 1 q is an sc diffeomorphism and the unit map u x xxx is sc smooth since s and t are local sc diffeomorphisms xxx s txxx has a natural m polyfold struc ture and it follows that the multiplication map is sc smooth in summary the family defines a small category x x where the object and morphism set carry m polyfold structures for which the standard structure maps are sc smooth and s and t are local sc diffeomorphisms however more is true theorem 17 1 let f mmm be a polyfold construction for the gct c then the small category x associated to the covering set of uniformizers has the structure of an ep groupoid if f mmm is tame then x is a tame ep groupoid 17 1 polyfold structures and categories 579 proof it suffices to verify the properness property we find an open neighborhood v v q o so that v admits the natural action of the stabilizer group gq of g and gq v v is a homeomorphism since c is metrizable it is in particular normal and we find an open neighborhood w of q with cl c w v define u o to consist of all p satisfying p w then u is an open neighborhood of q in o and we shall show that it has the desired properties assume that qk k pk is a sequence of elements in xxx such that qk clx u and pk belongs to a compact subset k in x after per haps taking a subsequence we may assume that pk o and pk p 0 since qk pk p 0 it follows that p 0 cl c w v using that gq v v is a homeomorphism we conclude that a subsequence of qk is convergent in view of the theorem we can associate to a covering set of uniformizers an ep groupoid x in addition we can define a functor x c by associating to q o the object q and to a morphism q q the morphism lemma 17 2 the functor x c is an equivalence of categories and x c is a homeomorphism proof since the footprints cover c it follows that is essentially surjective i e for every object in c there exists x x and ccc satisfying x given two objects q q the map xxx q q c q q is trivially a bijection this shows that is an equivalence of categories from this it follows immediately that is a bijection since the are uniformizers we infer that is a homeomorphism given a polyfold structure f mmm for the gct c the above discussion shows that we can construct an sc smooth small category x with some additional features i e an ep groupoid and an equivalence of categories to c the construction of x involved choices however as we shall see next the results of two different choices 580 17 polyfold theory for categories are sc smoothly morita equivalent in a canonical way i e there exists a canonical generalized isomorphism f x x compatible in some sense with the equivalences and in order to see this assume that and are two covering sets of uniformizers associated to f mmm then the union also has footprints covering the orbit space we obtain natural inclusion functors x a x and x a x one readily verifies that a and a are sc smooth equivalences between ep groupoids we also note that a and a we take the weak fibered product x x x associated to the diagram x a x a x this is an ep groupoid and the projections onto the factors give equivalences of ep groupoids resulting in the diagram d x 1 x x x 2 x 17 2 this diagram d defines a generalized isomorphism d x x one also verifies easily that d and we can summarize the discussion as follows where we appeal to the definition of a polyfold structure on a topological space as given in definition 16 1 theorem 17 2 the construction associating to a covering set of uniformizers the ep groupoid x produces for different families and ep groupoids and a natural generalized isomorphism f x x which is the identity if if f is associated to and f to then f f is associated to the generalized isomorphism f x x associated to 17 2 satisfies f consequently the pairs x define equivalent polyfold structures on the metrizable space c and consequently c is naturally a paracompact polyfold in view of this theorem we can associate to a polyfold structure for the gct c a polyfold structure for the underlying metrizable space c with other words we have a forgetful functor gct polyfold c paracompact topological polyfold c 17 1 polyfold structures and categories 581 this procedure loses the algebraic knowledge of the underlying category structure but keeps some information about it in the form of the morita equivalence class of ep groupoids theorem 17 2 is important for constructions in the categorical context since it allows to transfer any notion which behaves well with respect to generalized isomorphisms since the arguments are usually straight forward we allow ourselves to be sketchy at times remark 17 2 assume that x and x are ep groupoids constructed from covering families and we denote by x the ep groupoid associated to the union of the two covering families the weak fibered product x x x has as objects the tuples q q q q where q is an object in o q o and q q is a morphism in x between q and q we define x x x ccc q q q q which associates to an object in x x x a morphism in c it turns out that is a natural transformation between 1 and 2 which define equivalences x x x c in the following we shall carry over parts of the discussion of ep groupoids and the concepts which are compatible with generalized isomorphisms with c being equipped with a polyfold structure we obtain a filtration ci for i n namely we can pick for an object a uniformizer f and writing q with q o we can say that has regularity i n provided q oi of course if i k and q ok it also has regularity i usually for constructions it only matters that an object has a sufficient amount of regularity or is smooth i e belongs to all oi we can define reg n as the maximal i including such that has this regularity this all is well defined independent of the choice of f if and are isomorphic they have the same regularity this follows from the fact that s and t are local sc diffeomorphisms as a consequence we obtain a regularity filtration c ci ci 1 c 0 c which also descends to isomorphism classes as in the case of m polyfolds or ep groupoids the full subcategory ci for a i n has a natural polyfold structure as well to see this we start with the equivalence x c which induces the homeomorphism x c as we already have seen x is metrizable and in particular paracompact this implies that x i is paracompact and therefore metrizable and consequently ci has a natural metrizable topology see section 7 3 for the relevant discussion in particular c 1 is a gct define 582 17 polyfold theory for categories f 1 c 1 set by associating to the collection f 1 of all 1 g n o 1 c 1 here 1 is obtained from by lifting the index by 1 we define for 1 and 1 the m polyfold mmmf 1 1 1 as follows mmmf 1 1 1 mmm 1 with the natural identification observing that the right hand side has a natural m polyfold structure the following result is obvious theorem 17 3 given the polyfold structure f mmm for c the full subcategory c 1 is in a natural way a gct and moreover has the natural polyfold structure f 1 mmmf 1 if c is equipped with a polyfold structure we shall write c 1 for the category c 1 equipped with the induced natural polyfold structure we also define c i 1 c i 1 definition 17 7 assume c is equipped with a polyfold structure the degeneracy functor d c n is defined by d do q where f and q here do is the de generacy index on o where gno c the boundary c of c is the full subcategory associated to objects of degeneracy at least 1 17 2 tangent construction in this section we shall introduce the tangent construction which associates to a gct c a gtc tc together with a projection functor p tc c 1 and equips tc c 1 with the structure of a so called polyfold bundle which in duces the already given structure on c 1 a polyfold bundle is a weaker notion than that of a strong bundle in the categorical context introduced later in section 17 6 given an object in c 1 we pick f written as gno c and gno c 17 2 tangent construction 583 and consider tuples h with h tqo and q and similarly h with h tq o where by q o we denote the point satisfying q we shall define a notion of equivalence for two such tuples h and h in order to do so we fix the tuple q 1 q mmm and using that the source and target maps s and t are local sc diffeomorphisms we find open neighborhoods u q u q and u q 1 q such that s u q 1 q u q and t u q 1 q u q are sc diffeomorphisms defining an sc diffeomorphism u q u q by p t s u q 1 q 1 p we declare h and h to be equivalent i e h h provided t q h h lemma 17 3 defines an equivalence relation on the tuples h proof clearly h h since for q 1 q the local sc diffeomorphism is the identity the symmetry of the relation i e h h implies h h follows from the fact that the local sc diffeomorphisms as sociated to q 1 q and q 1 q are inverse to each other for the transitivity property consider h h and h h then with corresponding to q 1 q and to q 1 q we have h t q h and h t q h this implies h t q t q h we note that for p near q it holds that p t s u q 1 q 1 t s u q 1 q 1 p t s u q 1 q 1 p p which implies that h t q h and proves our assertion we shall write h for the equivalence class containing h definition 17 8 let c be a gct equipped with a polyfold structure given an object in c 1 we call an equivalence class h where f say gno c and h tqo with q a tangent vector at note that needs to be of regularity one in order to be able to talk about tangent vectors 584 17 polyfold theory for categories definition 17 9 given a gct c equipped with a polyfold structure we define for an object of regularity 1 the tangent space t c as the set of equivalence classes h the set t c carries the structure of a real vector space by setting h k h k we can equip t c with the structure of a banach space by requiring that the linear bijection s t c tqo h h is a topological linear isomorphism the banach space structure on t c does not depend on the choice of f since s s 1 h t q h is a topological linear isomorphism we also note that for smooth objects t c is naturally a sc banach space hence we obtain the following result proposition 17 1 given a gct c equipped with a polyfold structure f mmm there exists for every in c 1 a natural associated banach space t c called the tangent space at in case that is smooth t c has a natural sc structure at this point we have a construction which starting with a gtc c equipped with a polyfold structure associates to every objects c 1 a banach space t c we shall show that this extends to a functor c 1 ban where ban is the category of banach spaces with the morphisms being topological linear isomorphisms for this assume that is an isomorphism belonging to level 1 and let h be an element in t c we consider the transition m polyfold mmm and pick q 0 o satisfying q 0 and q 0 with q 0 take open neigh borhoods u q 0 u q 0 q 0 and u q 0 such that s u q 0 q 0 u q 0 and t u q 0 q 0 u q 0 are sc diffeomorphisms then u q 0 u q 0 defined by q t s u q 0 q 0 1 q is an sc diffeomorphism satisfying q 0 q 0 we define t t c t c by t h t q 0 h assume next that and pick f then with the obvious nota tion t t h t t q 0 h t q 0 t q 0 h t q 0 h summarizing we obtain the following result proposition 17 2 given a gct c equipped with a polyfold structure f mmm there exists a well defined functor 17 2 tangent construction 585 c c 1 ban which associates to an object on level 1 the banach space t c and to a morphism the linear isomorphism t as we shall see next the tangent spaces t c fit in some sense sc smoothly together the category tc which we are going to define will have as objects all the equiva lence classes h where varies over c 1 we shall use the functor c to carry out the construction as obvious data we have the projection functor p tc c 1 which for the moment is only defined on the object level by p h 17 3 as morphisms we take the tuples h t h where is an object in c 1 h t c and is a morphism in c with s and t we view the morphism as h t h h t h so that s h t h h t h t h t h for convenience of notation we shall often write a tangent vector h as h and a morphism h h as or h h or h h or h t h which depends on the situation we define p on morphisms as p h h which together with 17 3 defines a functor p tc c 1 17 4 consider any object belonging to c 1 and pick f which we write as gno c we define with to o 1 being the sc smooth bundle projection the tangent t say t gnto tc 17 5 by t h h t h here f h and is the local sc diffeomorphism associated to the element h 1 h q mmm where q h the definition involves 586 17 polyfold theory for categories the choice of a for every p h but as we shall see it is independent of such a choice since it is compensated for by which changes with given a morphism g h h g h in gnto say h tqo we define t h t g q t h by t g h t h g q t g q t h note that the morphism g q q g q for q o 1 has the associated tangent operator t g q t q c t g q c introduced in proposition 17 2 lemma 17 4 t gnto tc is well defined proof assume p o 1 is fixed and pick f p with g being the isotropy group of p and writing g no c and g no c consider the points q o and q o satisfying q q p the local sc diffeomorphism with p q is associated by the usual construction to p 1 p q mmm and with p q to p 1 p q mmm consider with p the tuples t p h and t p h these tuples are equivalent since with associated to q 1 q mmm we have that near p hence t q t p t p which implies that t p h t p h therefore t is well defined assume that 1 f and 2 f which can be written as 1 gno c and 2 g no c are given for o o mmm 1 2 we can pick open neighborhoods u o u o o and u o such that s u o o u o and t u o o u o are sc diffeomorphisms there exists a well defined map u o 3 q q such that 17 2 tangent construction 587 s u o o 1 q q q q where q t s u o o 1 q the existence of this well defined map is of course a consequence of having a polyfold structure on c hence we have the assignment q 1 q q 2 q for q u o using this assignment we lift it to the tangent level by defining k t 1 k t q t 2 t k for k tqu o q u o 1 17 6 we note that all the ingredients are well defined and the diagrams which depend on q make sense we record 17 6 as having the family of morphisms in tc given as k k t 1 k k t 2 t k for k tu o the tuples k k t k belong to mmm t 1 t 2 and we obtain the map tu o mmm t 1 t 2 k k k t k 17 7 lemma 17 5 the following holds 1 the construction of a map as in 17 7 can be done for all o o mmm 1 2 on level 1 and consequently every element in mmm t 1 t 2 lies in the image of such a map 2 consider two such maps tu o mmm t 1 t 2 k k k t k and tu o 1 mmm t 1 t 2 k k 1 k t k if the images of these maps in tersect nontrivially the transition map has the form k k proof 1 is obvious in order to prove 2 assume the images intersect in this case we find k 0 tu o tu o such that k 0 k 0 t k 0 k 0 1 k 0 t k 0 underlying is the identity q 0 q 0 q 0 q 0 q 0 q 0 where q 0 k 0 this implies that the data near q 0 coincides as well using the properties of a poly fold structure on c and the definitions consequently the transition map is the identity as a consequence we can view the maps k k k t k as inverses of charts which are sc smoothly compatible there is a uniquely defined topology t on mmm t 1 t 2 making these maps homeomorphisms onto open sets definition 17 10 let i f i for i 1 2 then the topology t defined on mmm 1 2 is called the natural topology 588 17 polyfold theory for categories the natural topology has very good properties proposition 17 3 the natural topology t on mmm t 1 t 2 is metrizable the source and target maps are local homeomorphisms the inversion maps are home omorphisms and the unit maps as well as the multiplication maps are continuous proof we first shall proof that t is metrizable using the nagata smirnov theo rem it suffices to show that t is hausdorff regular locally metrizable and para compact hausdorff for j 1 2 let k j j k j be two different points in mmm t 1 t 2 we find two natural maps tu oi mmm t 1 t 2 k k ik t i k for i 1 2 if the images are disjoint we obtain immediately disjoint open neigh borhoods if the images intersect the transition map is of the form k k and we may assume that the two natural maps coincide since k 1 6 k 2 we find disjoint open neighborhoods in tu o and the images of these neighborhoods provided us with disjoint open neighborhoods local metrizibility since mmm t 1 t 2 is locally homeomorphic to a m polyfold via the source map s it is locally metrizable regularity take a point k k and a closed subset a of mmm t 1 t 2 not con taining this point we find an open neighborhood u k k and an open neighbor hood u k so that s u k k u k is an sc diffeomorphism since to is metrizable we can find an open neighborhood w k to with clto w k u k and we can take a continuous function u k 0 1 which takes the value 0 at k and the value 1 on u clto w if h h u k k we define h h h and otherwise it takes the value 1 this map is continuous paracompactness consider the local homeomorphism s mmm 1 2 o for ev ery q o there exist only a finite number of points lying above it hence we find finitely many open sets u 1 uk q in mmm 1 2 and an open neighborhood u q so that s ui u q is an sc diffeomorphism since o is metrizable and therefore paracompact we find a locally finite covering k of o consisting of closed sets so that k u q then we take the preimages and obtain k i where varies in and i 1 k q then the k i are paracompact closed subsets of mmm t 1 t 2 the whole collection k i is a covering of mmm t 1 t 2 by closed sets the cov ering is also locally finite hence the hausdorff topological space mmm t 1 t 2 has 17 2 tangent construction 589 been written as a locally finite covering of closed paracompact sets this implies paracompactness of mmm t 1 t 2 since it is hausdorff and regular the verification of the properties of the structure maps is straight forward having the topology in place we can equip mmm t 1 t 2 with a m polyfold struc ture proposition 17 4 the metrizable spaces mmm t t have natural m polyfold structures for which the maps s mmm t t to and t mmm t t to are local sc diffeomorphisms the inversion map mmm t t mmm t t is an sc diffeomorphism and the unit map and multiplication maps are sc smooth proof we use the maps tu o mmm t 1 t 2 k k k t k as charts and since the transition maps are identities we obtain a m polyfold structure with this definition all source maps are sc smooth and local sc diffeomorphisms a target map t in local coordinates has the form k t k and this expression is sc smooth and a local sc diffeomorphism the other maps have also local expressions which are sc smooth we leave the details to the reader starting with a a gct c equipped with a polyfold structure f mmm we described several constructions the first construction defines a groupoidal category tc to gether with a functor p tc c 1 so that the fibers p 1 are banach spaces we shall show soon that tc carries a natural metrizable topology a second construc tion associates to f with c 1 say gno c a functor t gnto tc a third construction associates to and as just described a natural m polyfold structure on mmm t t the canonical map mmm t t mmm 1 1 k t k t k k k k is sc smooth since in suitable local coordinates it takes the form k k this is a bundle situation for which we have a natural system of charts pick o o on level 1 then we find open neighborhoods u o o and u o in mmm and o such that s u o o u o is an sc diffeomorphism we lift the level by one 590 17 polyfold theory for categories and obtain the sc diffeomorphism s u o o 1 u o 1 which we may take as m polyfold valued chart then we obtain the commutative diagram mmm t t u o o 1 s tu o y y u 0 o 1 s u o 1 which defines a bundle chart we also have the commutative diagram gnto t tc y y gno 1 1 c 1 where on the bottom we have a unformizer for the polyfold c 1 in order to see this diagram as a bundle uniformizer we need to equip tc with a metrizable topology the collection of isomorphism classes in tc is a set and as we shall see next the orbit space tc carries a natural metrizable topology proposition 17 5 the orbit space tc carries a natural metrizable topology in particular tc is in a natural way a gct moreover p tc c 1 is continuous recall that c 1 is a gct proof pick a covering family and construct the associated ep groupoid x x together with the natural equivalence x c which induces a homeomorphism between the orbit spaces then x is a metrizable ep groupoid implying that t x is a metrizable ep groupoid see section 8 1 we define t t x tc 17 8 as follows recall that the object m polyfold is the disjoint union of o and q o is mapped by to the object q with q pick f and assume that is on level one assuming that q we obtain the element q 1 q mmm and as before the sc diffeomorphism u q q u q q then we define for h tq o t h q t q h 17 2 tangent construction 591 passing to orbit spaces we obtain the bijection t t x tc the orbit space t x has a natural metrizable topology since x is metrizable see theorem 8 4 and consequently defines a metrizable topology on tc it is easily verified that the definition of the topology on tc does not depend on the choice of the covering family hence starting with f mmm for the gct c we have constructed a gct tc together with p tc c 1 which induces a continuous map between orbit spaces we also constructed a functor t f c 1 set which associates to the set t f con sisting of all t with f these we view as the commutative diagrams gnto t tc y p y gno 1 1 c 1 the top horizontal map is fiber wise a topological linear isomorphism passing to orbit spaces t and 1 become homeomorphisms onto open sets in addition we have a construction mmm which associates to t 1 and t 2 the structure of a bundle over an m polyfold mmm t 1 t 2 mmm 1 1 2 1 we associate to the collection t f of all t where varies in f in this way we keep track of the bundle structure and we obtain the construction t f mmm for the diagram tc c 1 between gct s and equip this with a polyfold bundle structure then t f c 1 set is a functor a slightly weaker construction produces the functor t fp t f p tc set here we forget about the bundle structure and just consider the gct tc the poly fold structure t fp associates to k t c the set t f p k consisting of all t where varies over f hence if k k t c it holds that t f p k t f p k and consequently t fp tc set summarizing the construction we obtain the following result theorem 17 4 let c be a gct equipped with a polyfold structure f mmm then there exists a natural construction of a category tc called the tangent category and a simultaneous polyfold structure for tc c 1 denoted by t f mmm we can visualize the two different constructions as follows c tc this associates to a polyfold another one 592 17 polyfold theory for categories the bundle view point is represented by the following diagram c tc p y c 1 this associates to a polyfold a polyfold bundle remark 17 3 there are many constructions and notions we can carry over from the m polyfold or ep groupoid situation let c be a polyfold and a smooth object then the tangent t c is an sc banach space we can define the partial cone c c t c and the reduced tangent space t r c following definition 2 15 these can be defined in the obvious way for an sc smooth model x and pushed forward via t where x c is the associated equivalence in the case that c is tame the partial cone will be a partial quadrant and we can define what it means that a finite dimensional linear subspace is in good position to c c 17 3 subpolyfolds let the gct c be equipped with a polyfold structure f mmm definition 17 11 a subpolyfold a of c is a saturated full subcategory such that for an object in a and f say gno c the set of all objects a o with a a is a sub m polyfold of o although the definition seems to require to check the properties of a with respect to all a collection which is not even a set in general this is not true in fact it only has to be checked with respect any covering family in this spirit we give an alternative definition definition 17 12 alternative definition of subpolyfold let the gct c be equip ped with a polyfold structure f mmm a saturated full subcategory a is subpoly fold provided for a suitable sc smooth local model x with natural equivalence x c the preimage a under is an ep subgroupoid in the sense of defini tion 7 10 remark 17 4 note that the choice of x in the definition does not matter we leave it to the reader to verify that the two given definitions of a subpolyfold are equiva lent given a subpolyfold a of c we shall show next that it inherits from the structure on c a natural polyfold structure for every object and f 17 3 subpolyfolds 593 gno c define a gna a as the restriction of cleary a is injective on objects and fully faithful moreover we have the commutative diagram gna a a y y gno c where the horizontal maps are homeomorphic maps onto the open images and the vertical maps are topological embeddings which in fact is even true level wise hence every c is a uniformizer we obtain a functor fa a set which associates to an object the set of unifomizers fa consisting of all a where varies in f given two uniformizers a and a associated to objects and in a we consider the associated transition set mmm a a which is a subset of mmm lemma 17 6 mmm a a is a sub m polyfold of mmm proof for o o mmm a a we find open neighborhoods u o o in mmm and u o in o such that s u o o u o is an sc diffeomorphism then a u o is a sub m polyfold of u o and also of o and the preimage of u o a under s is precisely u o o mmm a a this implies that mmm a a is a sub m polyfold of mmm since the mmm a a are sub m polyfolds it follows that the associated structural maps are sc smooth since they are restrictions of the ambient structural maps for the mmm summarizing we obtain a polyfold construction fa mmm for the sub polyfold a hence we have proved proposition 17 6 given a gct c with polyfold structure f mmm and a subpolyfold a the full subcategory a as stand alone gct inherits a natural polyfold structure fa mmm a typical example of subpolyfolds are local faces or faces if the category is face structured first we introduce the notion of faces into the current context definition 17 13 assume the gct c is equipped with a tame polyfold structure a face of c is the full subcategory c associate to the closure in c of a connected component in z c d c z 1 we say that c is face structured provided every z c belongs to precisely d z many assume that x is an sc smooth model of c and x c the natural equiva lence passing to orbit spaces we obtain the homeomorphism 594 17 polyfold theory for categories x c which preserves the induced degeneracy index hence the closures of connected components in the subspaces defined by d x and d c correspond in view of def inition 11 1 the faces of x and c correspond in particular the tame c is face structured if and only if any of its sc smooth models x is face structured this follows from the discussion after definition 11 1 proposition 17 7 assume the gct c is equipped with a tame polyfold structure f mmm if c is face structured every face is a subpolyfold 17 4 branched ep subcategories the branched ep subcategories are important since they appear as the solution spaces for sc fredholm section functors assume that c is a gct equipped with a polyfold structure definition 17 14 a functor c q is called a branched ep subcategory pro vided for an object and f the functor gno q is a branched ep subgroupoid in the sense of definition 9 1 again the property of being a branched ep subcategory only has to be checked for a covering set of uniformizers more precisely if is a covering set of uniformizers and for every the functor is a a branched ep subgroupoid the same property holds for an arbitrary coming from f consider x c where and x are associated to the covering family given c q we define the pull back by which defines a functor x q given x q we can also define a push forward c q as follows given an object of c pick an object x x so that there exists a mor phism x and define x this is possible since as an equivalence is essentially surjective one easily verifies that this is well defined the following facts are obvious proposition 17 8 assume x is a sc smooth model for c equipped with f mmm and x c is the canonical equivalence then the following holds 1 if x q is a branched ep subgroupoid then is a branched ep subcategory 17 4 branched ep subcategories 595 2 if c q is a branched ep subcategory then is a branched ep subgroupoid given two covering families and with associated equivalences x c and x c denote by f x x the canonical generalized isomorphism recall that we can use f to push forward or pull back branched ep subgroupoids the reader will easily verify the identities f and f for c q and x q definition 17 15 assume that c is a polyfold and c q a branched ep subcategory 1 we say is compact provided the orbit space supp is a compact subset of c 2 we say is tame if for a suitable covering family with associated x c the pull back which is a branched ep subgroupoid is tame we note that this is well defined since for two different choices of covering family the generalized isomorphism f x x via pull back or push forward of branched ep subgroupoids preserves tameness in view of proposition 17 8 we can define following definition 9 3 branched ep subcategories which are of manifold type or orbifold type definition 17 16 let c be a polyfold and c q a branched ep subcategory 1 we say that is of manifold type provided between any two objects and in supp there is at most one morphism and in addition only takes the values 0 and 1 2 is said to be of orbifold type provided only takes the values 0 and 1 3 we say is tame provided for being in the support of and f the functor gno q is a tame branched ep subgroupoid equivalently for an sc smooth model x the functor x q is tame branched ep subgroupoid as a consequence of proposition 9 1 we obtain the following result proposition 17 9 let the gct c be equipped with a polyfold structure f mmm and assume that c q is a branched ep subcategory 596 17 polyfold theory for categories 1 if is of manifold type then s supp has in a natural way the structure of a smooth finite dimensional manifold the m polyfold version 2 if is of orbifold type then s supp has a natural smooth orbifold struc ture the m polyfold version see remark 9 3 concerning our notion of smooth manifold or orbifold proof we reduce the consideration to proposition 9 1 let be a covering set of uniformizers and x x be the associated ep groupoid and x c the corresponding equivalence if follows from the definition that is of manifold or orbifold type in the ep groupoid sense see definition 9 3 if and only if is of the corresponding type defined in definition 17 16 assume that is a second covering set defining x and x c there exists a natural generalized isomorphism f x x satisfying f 17 9 and f in the case that is of manifold type the generalized isomorphism f induces a classically smooth diffeomorphism supp f supp there exists a unique manifold structure on supp for which supp supp is a diffeomorphism and this structure is independent of the choice of the covering family in view of 17 9 in the case of being of orbifold type the argument is similar and f is a smooth orbifold maps details are left to the reader as we shall see a branched ep subcategory c q has as in the ep subgroupoid case a tangent functor t tc q as well as the associated sec tion functor t which is being used to define orientations via suitable lifts see definition 9 6 and theorem 9 1 the tangent t tc q is defined as follows we pick a covering family and obtain the associated equivalence x c we can take the tangent t which is a branched ep subgroupoid t t x q then we use t t x tc to push it forward to obtain t t tc q this construction might depend a prior on the choice of but this turns out to be not the case namely with f x x being the canonical generalized isomorphism 17 4 branched ep subcategories 597 it follows that t f t x t x is the canonical isomorphism for the uniformizer construction for tc using that f it follows that t f t t pushing forward by t we obtain t t t t f t t t definition 17 17 let c be a polyfold and c q a branched ep subcategory the well defined t tc q given via a covering set and x c by t t t is called the tangent of next we introduce t starting with the polyfold c we define a functor on the full subcategory associated to the smooth objects denoted by c set we associate to the set consisting of finite formal sums l l where l 0 is a rational number and for almost all l the number is zero moreover l t c is a smooth finite dimensional linear subspace if we define l l l l where l t l and t t c t c is the sc operator associated to as sociated to we have the category l whose objects are the pairs l with l this category fibers over c l c l in order to stay consistent with the notation introduced in the ep groupoid case we set gr c l so that gr c c to a given branched ep subcategory c q we can associate a section func tor t of gr c c as follows take an sc smooth model x associated to a covering family and the canonical equivalence x c 598 17 polyfold theory for categories with associated tangent functor t t x tc see 17 8 then is a branched ep subgroupoid which has an associated section functor t of gr x x since is a functor and has near a point x in the support a particular local repre sentation it follows that t x is invariant under all t where gx i e with l l t x it holds t l l l l for all gx 17 10 observe that for a smooth x x with x a smooth finite dimensional sub space l of txx is mapped by t to a finite dimensional linear subspace of t c this also defines a map for the finite sums l l hence we can transport for smooth x x the finite combination via t to a finite combination of smooth finite dimensional subspaces of t c we also have to make a definition for an arbitrary smooth which might not lie in the image of here the fact that is essentially surjective will be important assume that x x is smooth and is an object in c and x x such that there exists a morphism x then the image of the finite sum t x under first applying t and then t is not depending on the choice of since the formal sum is invariant under the action of the isotropy group therefore there is a well defined push forward operation t t which defines a section of gr c c proposition 17 10 let the gct c be equipped with the polyfold structure f mmm and let c q be a branched ep subcategory then there exists a well defined section t of gr c c uniquely defined as follows given a covering family with associated ep groupoid x and equivalence x c the identity t t t holds the straight forward proof is left to the reader next we introduce the important notion of an orientation again the basic constructions needed are those carried out in the ep groupoid context see section 9 3 we assume that the gct c has been equipped with a polyfold structure f mmm for a smooth object in c we consider the tangent space t c and consider finite sums l l l where all l are non negative rational numbers and almost all of these numbers are zero and l are smooth oriented finite dimensional subspaces of the sc banach space t c the collection of such finite formal sums associated to is denoted by g r and the union of all such objects is denoted by g r c where the objects vary over all smooth ones we obtain g r c c there is a forgetful functor f g r c gr c which just forgets the orientations given a covering set with associated equivalence x c and section functor t of g r c c we can define a pull back denoted by t t as follows if x x 17 5 sc differential forms and stokes 599 is smooth first evaluate t on the image x giving the formal sum l l and then taking the preimages under the linear sc operator t x txx t x c we define accordingly t t x t x 1 t x definition 17 18 let c be a polyfold and c q be a branched ep subcategory with the section functor t of gr c c an orientation for is a section functor t of g r c c such that f t t having the additional property that for a covering set with associated x c the pull back t t is an orientation for in the ep groupoid sense according to definition 9 8 remark 17 5 the part of definition 17 18 requiring that he pull back t t is an orientation for can be replaced by requiring that for an object in supp and f the pull back t t is an orientation for 17 5 sc differential forms and stokes let c be a polyfold our next goal is the definition of sc differential forms on c and the associated de rham complex denote by p tc c 1 the tangent bundle on the categorical level we can build the k fold whitney sum ktc c 1 proposition 17 11 if c is a polyfold the k fold whitney sum has a natural structure as polyfold bundle ktc c 1 proof pick an object in c 1 and f say gno c then t fits into the commutative diagram to t tc p y p y o 1 1 c 1 600 17 polyfold theory for categories the collection of such t defines the polyfold bundle structure for tc c 1 in ducing the existing structure on c 1 given a morphism g h in gnto where g g and h tqo we have that t g h t h g q t g q t h here t g q is the tangent of g q q g q the k fold whitney sum kto has the structure of a m polyfold bundle over o 1 see section 4 4 we shall define kt covering 1 so that this data defines the structure for ktc c 1 these functors kt gn kto ktc are given as follows on objects h 1 hk where hi tqo kt h 1 hk t h 1 t hk a morphism g h 1 hk h 1 hk g h 1 g hk is mapped as kt g h 1 hk t h 1 g x t g x t h 1 t hk g x t g x t hk given an object of regularity 1 we can associate to it the set consisting of all kt where varies over f these cover 1 and fit into the commutative diagram kto kt ktc k p y kp y o 1 1 c 1 the transition sets mmm kt kt can be identified with a k fold whitney sum of mmm t t mmm 1 1 which allows to define the bundle structure this equips mmm kt kt mmm 1 1 with the structure of a m polyfold bundle and metrics for the orbit spaces it follows immediately that the source and target maps are sc smooth local bundle isomorphisms clearly ktc is a gct and it is easily verified that the kt together with the 1 have the polyfold bundle uniformizer properties next we consider functors ktc r which are skew symmetric so that for t the functor t t is sc smooth to to r notationally we shall use the abbreviation kt 17 5 sc differential forms and stokes 601 if is such that is sc smooth for a covering set of uniformizers then the smoothness holds for any uniformizer coming from f definition 17 19 assume a functor ktc r which is skew symmetric and linear in each argument is given we say that is sc smooth provided there exists a covering set of uniformizers so that is sc smooth for every we denote by k c the real vector space consisting of the functors just defined if c is equipped with a polyfold structure the same is true for c i where i 0 1 and the inclusion functors c i 1 c i are sc smooth indeed for a uniformizer we obtain the commutative diagram oi 1 i 1 c i 1 incl y incl y oi i c i from which we see that the local representative for the inclusion incl is an sc smooth inclusion oi 1 oi we can pass to tangents giving us t oi 1 t i 1 t c i 1 y y t oi t i t c i here the vertical maps are inclusions given on kt c i we can pull it back to kt c i 1 hence we obtain k c k c 1 and can pass to the direct limit denoted by k c this can be done for every integer k 0 and we define c to be the direct sum of all the k c an element is denoted by we shall call homogeneous provided it belongs to some k c an element k c has representatives defined on k c i which are of class sci recall from section 4 4 that the exterior derivative d k oi 1 k 1 oi is well defined and as a consequence we obtain d k o k 1 o by having d act on via d d using this fact we can define d on c via uniformizers as d where assuming the homogeneous case for a rep resentative in k c i 1 the representative d k 1 c i is given by 602 17 polyfold theory for categories d k 1 t d kt 17 11 for every uniformizer or equivalently viewed on the right i level d d again one only needs a covering set of unifomizers as a consequence alternatively we can defined d by taking a covering set of uniformizers and assume that is a homogeneous element in k c associated to the covering set we have the sc smooth model x and equivalence x c we can represent a homogeneous for a i 2 by some k c i then kt is at least sc 1 and defined on t x i t x i x i 1 on the ep groupoid we can apply the exterior derivative to obtain d and we can push the result forward then the definition d d is independent of the choices involved and it follows that d d 0 since it holds for ep groupoids definition 17 20 let c be a gct equipped with a polyfold structure f mmm then c d is called the de rham complex associated to the polyfold c having introduced sc differential forms on polyfolds and oriented branched ep subcategories we can introduce which is the integration of an sc differential form over an oriented tame branched ep subcategory provided the latter has a sup port with a compact orbit space the definition of such an integration is being done via the use of an sc smooth model so that we can employ the results from section 9 5 theorem 17 5 assume that k c and c q is a tame oriented branched ep subcategory so that supp has a compact orbit space given a covering set with associated sc smooth model x and equivalence x c in troduce the oriented t abbreviated by and the sc smooth differential form then the branched integral in the ep groupoid sense has a value which is independent of the choice of the covering family in partic ular the definition is independent of the choice of proof the basic input comes from section 11 4 where the compatibility of the relevant notions with respect to equivalences was discussed in depth assume that 17 5 sc differential forms and stokes 603 we have taken two different covering sets of uniformizers and resulting in two sc smooth models and equivalences x c and x c denote by f x x the associated natural generalized isomorphism considering t and t we note that f similarly with and being the pull back forms it holds hat f f applying theorem 11 8 we compute with k supp 1 k f f f 1 k 1 k in view of this argument we can define by picking a covering set of uni formizers and setting 17 12 the definition of the integral is reduced to the computation of an integral in the ep groupoid setting where we know that stokes theorem holds hence it is not unreasonable to expect that in our more general set up a stokes theorem holds as well which turns out to be true in order to formulate the result we need to define a boundary integral based on a similar construction for ep groupoids first we need to introduce the boundary of c q we start given a branched ep subcategory c q defined on the polyfold c we take a covering set of uniformizers with associated sc smooth model x and equivalence x q then x q is a branched ep subgroupoid and following definition 9 7 there is an associated functor x q with support in x we define c q the definition does not depend on the choice of if is a second covering family defining x c we obtain the natural generalized isomorphism f x x which satisfies as we recall f since f in view 604 17 polyfold theory for categories of theorem 11 6 it follows that definition 17 21 assume that c q is a branched ep subcategory where c is a polyfold then c q defined via a covering family and associated x c by is well defined and independent of the choices and called the boundary of as already explained in the context of ep groupoids although is well defined it usually does not have very good differential geometric properties one needs to impose additional requirements to make sure that is sufficiently nice we recall that for a branched ep subcategory c q the notions of being compact tame and oriented are well defined as a consequence of theorem 9 3 and using that our relevant notions are well behaved under generalized isomorphisms we ob tain the following theorem by arguments similar to those in the proof of theorem 17 5 theorem 17 6 consider a polyfold c and c q which is an oriented tame compact branched ep subcategory of dimension n let the orientation of be given by t c g r c denote by the boundary of equipped with the induced orientation t given n 1 c there is a well defined inte gral this integral is defined by taking a covering set with associated x c via and the definition does not depend on the choice of the covering family having theorem 17 5 and theorem 17 6 in place we can state the stokes theorem the proof is immediate since the statement is equivalent to the the ep groupoid version theorem 17 7 stokes theorem let c be a polyfold and c q a tame compact oriented branched ep subcategory of dimension n for n 1 c the following identity holds d 17 13 the stokes theorem plays an important role when defining invariants of moduli spaces obtained as from solution categories of sc fredholm section functors after a slight perturbation by an sc multisection functor 17 6 strong bundle structures 605 17 6 strong bundle structures the strong bundles over polyfolds which we are going to consider arise in the following way we denote by c a gct equipped with a polyfold structure f mmm and we assume we are given a functor c ban we shall abbreviate and consider a category e e whose objects are pairs e where e a morphism in e is a pair e where e s and e is seen as e s e t e covering the underlying s e e t e y y s t we shall denote by p e c the natural projection functor which on objects takes the form p e and on morphisms p e the preimage of an object is a banach space where the vector space operations are defined e e e e we also note that for a given morphism the preimage p 1 is a banach space where the operations are defined similarly by e e e e definition 17 22 vector bundle gct let c be a gct a vector bundle gct over c consists of a functor c ban and a metrizable topology t on e such that the following holds 1 for every object the natural map p 1 e is continuous 2 the map p e c is surjective continuous and open we would like to equip p e c with what we shall call the structure of a strong bundle over a polyfold for which the sc smooth models are strong bundles over ep groupoids which have been introduced previously to explain this we consider as the building blocks the strong local bundles k o equipped with an action by strong bundle isomorphisms of a finite group g hence we obtain translation groupoids fibering over each other 606 17 polyfold theory for categories p gnk gno then p is a functor which on objects maps h kx to x and maps the morphism g h to the morphism g x given an object in c we are interested in functors gnk e where p k o is a strong bundle over the m polyfold o and the g action on o lifts to an action by strong bundle maps k k moreover is injective on objects fully faithful and fiberwise a topological linear isomorphism in addition we require that for a suitable q o we have that 0 q 0 by mapping q o first to 0 q kq and then to p 0 q we obtain a functor gno c which is injective on objects and fully faithful we obtain the commutative diagram gnk e p y p y gno c recall that by assumption we have a polyfold construction f mmm for c we can therefore say that is compatible with the polyfold structure for c provided the underlying belongs to f definition 17 23 let p e c be a vector bundle gct which is associated to a polyfold c a functor c ban and a topology t on e a strong bundle uniformizer for p at the object consists of a covariant functor gnk e covering a f that the following holds 1 gnk is the translation groupoid associated to the strong bundle p k o equipped with the action of a finite group by strong bundle isomorphisms 2 the functor is fully faithful and fiberwise a topological linear banach space isomorphism i e for every q o the map kq p 1 k k is a banach space isomorphism 3 the induced map k e is a homeomorphism onto an open subset of the form p 1 u covering the homeomorphism o u the footprint of is p 1 u and it covers the base footprint u of the underlying 17 6 strong bundle structures 607 definition 17 24 let c by a gct equipped with a polyfold construction f mmm and assume p e c is a vector bundle gct associated to c ban and the topology t a compatible strong bundle uniformizer construction is given by a functor f c set which associates to an object a set f of strong bundle uniformizers gnk c so that 0 is in the image and the induced gno c belongs to f it is clear that given two strong bundle uniformizers and we can form the tran sition set mmm defined as a the weak fibered product associated to the diagram k e k hence an element takes the form k k k with p k p k being a morphism in c and k k with and being the under lying uniformizers we obtain a natural map mmm mmm k k k p k p k where the fibers are banach spaces in a natural way we leave it to the reader to write down all the usual structural maps which are assumed to be fiberwise linear for example the source maps fit into the commutative diagram mmm s k y p y mmm s o finally we can define what it means to have a strong bundle construction definition 17 25 let p e c be a vector bundle gct which is associated to a polyfold c and a functor c ban and a topology t on e a strong polyfold bundle construction for p e c compatible with the polyfold structure f mmm for the gct c consists of a functor f c set associating to an object a set of strong bundle uniformizers gnk e at so that the underlying functors gno c belong to f in addition we are given a strong bundle construction for every mmm mmm where the structure on the base is the already existing one coming from the poly fold structure for c the data f mmm has the property that for the strong bundle structures all structural maps are strong bundle maps and have the usual properties 608 17 polyfold theory for categories listed below for the reader otherwise we shall call f mmm a strong polyfold bun dle structure for p e c compatible with the polyfold structure f mmm for c assume we are given the polyfold c the functor c ban and the topology t for e if f mmm is the strong polyfold bundle construction covering f mmm we are in the following situation every transition set mmm comes equipped with a strong bundle structure for mmm mmm with the induced structure on the base being the already existing one the source and target maps form sc smooth strong bundle maps which are local strong bundle isomorphisms k s mmm t k p y y p y o s mmm t o the inversion map defined by k k k k 1 k k covers the inversion map on the base and is an sc smooth strong bundle isomorphism mmm mmm y y mmm mmm the unit map u is an sc smooth strong bundle map fitting into the diagram k u mmm p y y o u mmm finally the multiplication map is an sc smooth strong bundle map fitting into the commutative diagram mmm s tmmm m mmm y y mmm s tmmm m mmm 17 7 proper covering constructions 609 17 7 proper covering constructions in applications the covering construction is important and is closely related to the construction for ep groupoids given in section 11 6 definition 17 26 let a and b be two gct s we say that the functor p a b is a proper covering functor of gct s provided the following holds 1 p a b is continuous and surjective 2 p on objects is finite to one and surjective 3 for every z b and the points y 1 yk p 1 z there exists an open neigh borhood u z and mutually disjoint open neighborhoods u yi such that p 1 u z k i 1 u yi 4 the map aaa bbbs pa p s is a bijection here aaa and bbb stand for the morphism classes and a for the object class our aim is to equip p a b with an sc smooth structure which reflects the covering property and in addition defines polyfold structures for a and b remark 17 6 recall that a uniformizer construction for a gct c can be viewed as follows given an object we obtain the associated category having this single object and as morphisms the isotropy group g g we write it as gn then the uniformizer construction consists of a method of associating to the object a m polyfold o and to the morphisms a representation in diffsc o together with a functor from the associated translation groupoid gno into c the construction mmm then certifies the compatibility of the various uniformizers the construction we need for p generalizes this picture and the basic building blocks have already been described in definition 8 9 with the basic idea of a geometric lift starting with p a b we pick an object in b and note that p 1 consists of finitely many objects 1 k consider the associated full subcategory denoted by a with object set a 1 k the functor p induces the covering functor p a g n 17 14 in order to define the uniformizers we have to describe the type of domains we would like to have the domains should be geometric lifts of the covering functor p in 17 14 in the sense of definition 8 9 the only difference is that we shall use pointed spaces as objects 610 17 polyfold theory for categories definition 17 27 we denote by diff sc the category whose objects are m polyfolds together with a distinguished point and the morphisms are sc diffeomorphisms pre serving the distinguished points more precisely an object in diff sc is a pair o o with o being a m polyfold and o o a morphism f o o o o is an sc diffeomorphism f o o with f o o the relevant domains for our upcoming functor constructions are associated to the following functorial data i a choice of functors a a diff sc and b g n diff sc ii a natural transformation a b p the functor b associates to the single object a pointed m polyfold o o with distinguished point o o to a morphism g g it associates an sc diffeomorphism g o o o o q g q preserving o the functoriality guarantees that g h q g h q this data will define the ep groupoid g no which contains the distinguished object o associated to an object in a we have a pointed m polyfold o oa and asso ciated to a morphism an sc diffeomorphism o o o o o o again functoriality implies if s t that q q for q os the natural transformation a b p defines an sc diffeomorphisms for every object in a o o o o so that we obtain for every morphism in a a commutative diagram of sc diffeomorphisms o o o o y y o o p o o we can take the disjoint union of the o denoting it by e i e e p 1 o 17 15 and view it as the object m polyfold of an ep groupoid where the morphisms are pairs o aaa with o os s o o and t o o i e o o o 17 7 proper covering constructions 611 we denote the morphism set by eee it is the disjoint union of all os where varies over the morphisms in a eee aaa os 17 16 each of the sets os carries a natural m polyfold structure coming from the identification with os hence eee has a natural m polyfold structure it is a trivial exercise to equip e e eee with the structure of an ep groupoid the source map is given by s o o and the target map by t o o we have the natural local sc diffeomorphism on the object level e o 17 17 mapping o o to o the preimages of the distinguished point o in o are the distinguished points o o for a p 1 then we can view as a map e a o the morphisms o are mapped by eee g o o p o 17 18 which obviously is a local sc diffeomorphism this together with 17 17 shows that defines a functor e e eee g no 17 19 finally we note that the map eee mor g no s e o p o o is an sc diffeomorphism with other words e g no is a proper covering map between ep groupoids of a particular form and it can be considered as a ge ometric lift of p a g n the previous discussion motivates the next definition definition 17 28 a proper ep groupoid covering model consists of a translation groupoid gno associated to a finite group g acting by sc diffeomorphisms on a m polyfold o a distinguished point o o which is fixed by g an ep groupoid e and a sc smooth functor e gno having the following properties 1 e o is a surjective local sc diffeomorphism on the object level 2 for every y 1 o there exists an open neighborhood u y such that the u y are mutually disjoint and 612 17 polyfold theory for categories 1 o y 1 o u y and for every such y the map u y o is an sc diffeomorphism 3 the map eee gno s e given by s is an sc diffeomorphism remark 17 7 compare the previous definition with definition 8 8 and the structural results theorem 8 5 and theorem 8 6 let us show that the definition describes the previously discussed model in the case that the base m polyfold is connected let e gno be a proper ep groupoid covering model in the sense of definition 17 28 with distinguished point o suppose further that o is connected we consider the category gn o and denote by ao the full subcategory of e associated to the object set ao 1 o denote by p ao gn o the restriction of using that o is connected we infer that every u y is connected we associate to a morphism eee the pair ys yt a 2 o so that s u ys and t u yt lemma 17 7 the map eee a 2 o ys yt is locally constant i e continu ous proof the maps s and t are continuous and the sets u y are open hence the set of all with s t u y u y is open recall that the map eee g o s e s is a sc diffeomorphism for the following denote by y u y o the restriction of we obtain a map ao mor diff sc y y for aaao denote by eee the connected component of eee containing lemma 17 8 if aaao are two different elements then eee eee 0 further we have the identity eee aaao eee 17 7 proper covering constructions 613 proof take eee with s u y and t u y the map e gn o s e s is a sc diffeomorphism and denote the image of by g s s take a continuous path 0 1 o connecting s at time a 0 with o at time 1 and consider the continuous path 0 1 g o u y a g a 1 y a then we obtain the continuous path 0 1 eee a 1 g a 1 y a starting at and ending at the element 1 g o y this shows that every belongs to some eee assume next that ao belong to the same path component take a continuous path connecting them then a ga oa qa clearly ga has to be independent of a and we write g ga then g o y and g o y which implies the maps ys yt and g are constant on eee hence if y y then ys y yt y and g g where g o y lemma 17 9 the following identity holds on eee where y y t 1 y g y s proof if eee where y y then g s and consequently y t t t g s g y s this implies t 1 y g y s given aaao we define the sc diffeomorphism u s u t q 1 t g s q if aaao with t s we compute q q using that g o g g o we define the functor a a diff sc by y u y y and the functor b associates to o the 614 17 polyfold theory for categories pointed m polyfold o o the natural transformation a b p associates to y a the sc diffeomorphism y it is an easy exercise that the proper covering func tor f gno associated to the data a b is isomorphic to the e gno we started with next we are in the position to define the notion of uniformizer in the current context definition 17 29 let p a b be a proper covering functor between two gct s a proper covering uniformizer at the object in b with isotropy g g consists of a pair of functors e a and gno b where e gno is a proper ep groupoid covering model see definition 17 28 such that the following holds 1 the distinguished point o o is mapped by to and the distinguished points o o with p 1 are mapped bijectively by to the points in p 1 2 and are fully faithful injective on objects and fit into the commutative functor diagram e a y p y gno b 3 on the object level the preimage of o under p is the image of 4 there exists an open neighborhood u of in b such that gno u and e p 1 u are homeomorphisms we note that passing to orbit spaces we obtain the commutative diagram e p 1 u y p y gno u here the horizontal arrows are homeomorphisms the local singularity structure of p is that given by remark 17 8 let us also note that gno b is a uniformizer in the usual sense but that is not in fact the latter is defined on a special ep groupoid note 17 7 proper covering constructions 615 however that the restrictions of to g no for p 1 are uniformizers nevertheless we shall refer to also as a uniformizer definition 17 30 let p a b be a proper covering functor between two gct s a proper covering uniformizer construction for p consists of a functor f b set which associates to an object a set f of proper covering uniformizers see definition 17 29 e a y p y gno b with o given a proper covering uniformizer construction for p a b we consider as usual the associated transition sets in our case since a uniformizer is a pair we obtain the diagram mmm p mmm 17 20 here the set mmm consists of all tuples e e where is a morphism in a between e and e mmm e e e e e e mor e e the set mmm is defined as usual and the map p is defined as follows p e e e p e 17 21 definition 17 31 let p a b be a proper covering functor between two gct s a proper polyfold covering structure for p consists of a pair f mmm where f is a proper covering uniformizer construction and mmm is a construction of m polyfold structures for the transition sets mmm and mmm so that a and b for the induced structures become polyfolds and the map p defined in 17 20 becomes a local sc diffeomorphism a proper polyfold covering functor consists of a proper covering functor between two gct s say p a b equipped with a proper polyfold covering structure next we shall study properties of p mmm mmm in more detail lemma 17 10 assume we are given a proper covering uniformizer construction f mmm for p a b for uniformizer pairs and and the associ ated transition sets we have a well defined bijective map 616 17 polyfold theory for categories mmm mmm s e 17 22 mapping e e to p e e s e e e p e e here e g no with e a and g no b and similarly for proof to see that the map defined in 17 22 is bijective let us first show that it is injective assume that e e and e 1 1 e 1 are mapped to the same point implying e p e e e 1 p 1 e 1 e 1 this implies that e e 1 and moreover s e e 1 s 1 and p p 1 since p is a proper covering map between categories it follows from these latter identities that 1 since is injective on objects it follows that e e 1 and injectivity is established in order to establish surjectivity assume that e e e mmm s e is given then e e and e e hold from definition 17 30 we deduce that p e e e implying s e p e since p is a proper covering functor there exists a unique morphism with s e so that p the object t satisfies p t t p t e in view of property 3 in definition 17 29 t belongs to the image of the objects e under and consequently for a uniquely determined e e with e t we obtain the object e e in mmm which satisfies e e p e e e e e e the surjectivity has been established in view of lemma 17 10 the map mmm mmm s e is a bijection however more is true proposition 17 12 assume that p a b is a proper polyfold covering functor then for two uniformizers the map 17 7 proper covering constructions 617 mmm mmm s e is an sc diffeomorphism proof from the sc smoothness of p it follows that the above map is sc smooth since p is a local sc diffeomorphism and the same holds for it follows that our map has to be a local sc diffeomorphism which of course is together with the other properties only possible if the map is a global sc diffeomorphism given a proper polyfold covering functor p a b a covering family of uni formizers for p is a family such that is a covering fam ily for b associated to a such a family we have the covering of ep groupoids e g no fitting into the diagram e a y p y g no b denote by e the disjoint union of all the object m polyfolds e and similarly by x the union of the o i e e e and x o then we obtain a surjective local sc diffeomorphism e x by setting e e for e e we can turn e and x into ep groupoids and into a proper covering functor of ep groupoids by defining eee and xxx as follows eee mmm and xxx mmm then as previously seen e e e and x x x are ep groupoids one easily verifies that extends naturally to a proper covering functor denoted by be tween these ep groupoids of course a different covering family produces a dif ferent proper covering functor and the different choices are related by some kind morita equivalence we leave it to the reader to work out the straight forward but somewhat lengthy details we call e x an sc smooth model for the proper polyfold covering functor p a b of course it comes with a natural pair of equivalences 618 17 polyfold theory for categories e a y p y x b 17 23 next we consider the behavior of branched ep subcategories with respect to proper polyfold covering functors proposition 17 13 assume that p a b is a proper polyfold covering functor and b q a branched ep subcategory view a and b with the induced structures as polyfolds the pull back functor p a q defined by p p is a branched ep subcategory moreover the following holds 1 if is of manifold type also p is of manifold type 2 if is of orbifold type also p is of orbifold type 3 if is tame also p is tame 4 if is compact also p is compact proof we take a sc smooth model e x as in 17 23 then by definition is a branched ep subcategory if and only if is a branched ep subgroupoid it is an easy exercise that the pull back of a branched ep subgroupoid by a proper covering functor e x between ep groupoids is a branched ep subgroupoid of e consequently is a branched ep subgroupoid of e which implies that is a branched ep subcategory of a from the identity p we obtain the desired result that p is a branched ep subcategory all the pro cedures in the proof of the previous result preserve the tameness property which yields 3 assume that only takes the values 0 1 then the same is true for p this proves 2 in order to show 1 assume that and are two objects with p 1 and p 1 consider two isomorphisms then p p p p and it follows from the fact that is of manifold type that p p define the element 1 in g and note that p 1 p since p is a proper covering functor the map aaa bbbs pa p s is a bijection as we have shown it holds that is mapped as 17 7 proper covering constructions 619 p s 1 p since 1 is also mapped to 1 p we conclude that 1 or equivalently this proves 1 by the assumption in 4 supp is compact consider supp p and take a sequence z k in the latter and define zk p z k there is no loss of gener ality assuming the zk z supp we take a proper covering uniformizer around with z and we can represent the sequences after perhaps pass ing to subsequences by ok ob with o and ok o moreover we find ek e with ek ok we may assume that ek lies in a connected component sc diffeomorphic to o from which it follows that ek converges finally we shall briefly discuss the situation of strong bundles in the covering con text assume that p a b is a proper polyfold covering functor we have to consider strong bundles over a and b and in order that they fit into our covering scheme we need to impose some additional structure as before we denote by ban the category whose objects are banach spaces and the morphisms are topological linear isomorphisms we assume we are given functors b ban and a ban together with a natural transformation p this implies that for every object in a we are given banach spaces and p together with a linear topological isomorphism p so that a morphism produces a topological linear isomorphism and p p p fitting into the commutative diagram y y p p p associated to we can define as before w having as objects w defining the functor p w a the base is already equipped with a polyfold structure asso ciated to we obtain p w b where again the base has a polyfold structure we define p w w on objects by e p e and on morphisms by w p s w with these definitions we obtain the commutative functor diagram 620 17 polyfold theory for categories w p a p y p y w p b 17 24 where the vertical arrows are proper covering functors and p already is a proper polyfold covering functor one needs to introduce structures which turn the first vertical arrow into a proper strong bundle covering functor this necessary struc ture is indicated by the following diagram where in the bottom plane we have the diagram 17 24 w e w x w a w b and the vertical arrows stand for uniformizers the right hand face depicts the proper polyfold covering structure where the uniformizers are defined on e x in the top plane we need to pick strong bundles w x and w x over ep groupoids and a strong bundle map which is also is covering map but isomorphic between the fibers since the data in the vertical face on the right is induced by data on the left we only have to explain the requirements for the diagram w w f y p y w w 17 25 with the objects introduced previously we are given the gct w whose objects are pairs w with an object in a and w the morphisms have the form w with w s similarly w has as objects w with w and morphisms w satisfying w s the proper covering functor p w w is defined on objects by w p w and on morphisms by w p s w we note that for fixed the map w p w is a linear topological isomorphism between banach spaces we would like to model the situation with strong bundles over ep groupoids denoted by w and w hence w and w are strong bundles over ep groupoids and a w w is a proper strong 17 7 proper covering constructions 621 bundle covering functor in the sense of definition 8 10 where we suppress here the underlying base data a uniformizer construction for our current situation gives for an object in the base of w a functor w w which maps a uniquely determined object o 0 to 0 and is a linear isomorphism between fibers similarly w w the other requirements are similar to those explained in the case of proper covering functors in our context all occurring maps in the transition sets have to be in addition strong bundle maps we leave the remaining details to the reader chapter 18 fredholm theory in polyfolds this chapter is concerned with the sc fredholm theory which is the main topic of this book we have discussed sc fredholm section functors in great detail in the context of strong bundles over ep groupoids and we shall carry the ideas over to the categorical context we assume we are given a gct c equipped with a polyfold structure f mmm and a functor c ban defining the bundle p e c suppose that e is equipped with a strong bundle structure f mmm inducing the previously defined polyfold structure on c recall that c and e have as consequence of the definition of a gct metrizable topologies and p e c is continuous we shall study sc fredholm section functors of p and we shall describe how some of the material developed in the ep groupoid context can be generalized to the cat egorical context many of the concepts can be carried over just using an sc smooth model x and the natural equivalence of categories x c together with the bundle version w e p y p y x c alternatively we can study more locally the diagrams gnk e p y p y gno c where f covering f if f c e is a section functor we ob tain for every choice a local representative f o k which is g equivariant the properties relevant for our studies are those which can be defined by imposing 623 624 18 fredholm theory in polyfolds requirements on f where is a covering family and where the definition does not depend on the covering family which has been chosen the sc fredholm property is of this kind 18 1 basic concepts assume that p e c is a strong bundle over a polyfold with the structure defined by f mmm definition 18 1 a section functor f of p e c is called an sc fredholm section functor provided for any object and f a strong bundle uniformizer gnk c covering the representative f o k is sc fredholm in the sense of definition 3 8 remark 18 1 a assume we are given a covering family for p i e the underlying is a covering family for c if f is a section functor such that all f are sc fredholm sections it follows that for an arbitrary object and f the representative f is sc fredholm this is an easy exercise so the sc fredholm property is checkable with a covering family as a consequence the pull back of f by w e denoted by f is an sc fredholm section of a strong bundle over an ep groupoid if and only if f is sc fredholm b if f is an sc fredholm section functor it follows that f is regularizing indeed if is an object in cm and f em m 1 then cm 1 c a definition which is equivalent to definition 18 1 requires f to be regularizing as described in b and being sc smooth which can be checked by a covering family moreover it stipulates that for every smooth z c there exists an object with z and f with underlying satisfying q so that f q is an sc fredholm germ in the sense of definition 3 7 assume that f is an sc fredholm section functor and an object satisfying f 0 the tangent t c is an sc banach space and there is a well defined linearization f t c e which is an sc fredholm functor it is defined as follows take f covering and consider a tangent vector h the linearization is defined by f h q 0 f h 18 1 where f q 0 tq 0 o kq 0 is the linearization of f at q 0 which satisfies q 0 the definition does not depend on the choice of 18 1 basic concepts 625 definition 18 2 the sc fredholm operator f t c e which via 18 1 is well defined is called the linearization of the sc fredholm section functor f at the solution object note that we can also define a set of linearizations at smooth objects which are not necessarily solution objects for this we take a uniformizer at and obtain f o k denote by q 0 the point which satisfies q 0 for every local sc section s defined near q satisfying s q 0 f q 0 we can take the linearization f s q 0 tq 0 o kq 0 the collection of all f s h q 0 f s q 0 h consists of linear sc fredholm operators which all differ by sc operators and therefore have the same index the collection is independent of the choice of at definition 18 3 the set of linearizations of the sc fredholm section functor f of p e c at the smooth object is denoted by lin f the index ind f is the fredholm index of any of its elements in lin f we note that if is a zero object the set of linearizations consists of one element namely the one defined in definition 18 2 if is a morphism between two smooth objects and f 0 then f 0 as well moreover with t t c t c and being the lift by c ban it holds that f f t given between smooth objects we obtain an induced map lin f lin f l l t 1 clearly and 1 id as we have seen in the discussion of sc fredholm section functors in the context of ep groupoids the set of linearizations is important when discussion orientation questions let us state a version of the implicit function theorem in the categorical context which is based on results on ep groupoids we denote for a polyfold c and an open subset u of c by cu the full subcategory associated to objects with u theorem 18 1 let p e c be a strong bundle over a tame polyfold and f an sc fredholm section functor assume that the smooth object satisfies f 0 and the linearization f t c e is surjective and the kernel ker f is in good position to the boundary see remark 17 3 then there exists an open neighborhood u of in c so that the following holds 626 18 fredholm theory in polyfolds 1 the functor cu 0 1 defined by 1 if f 0 0 if f 6 0 is a tame orbifold type ep subcategory 2 for every object in cu with 1 the linearization f is surjective and the kernel lies in good position to the boundary note that supp is in a natural way a smooth orbifold with boundary with cor ners that means that the local model is smooth manifold with boundary with cor ners divided out by a finite group action proof the result is a consequence of theorem 15 2 theorem 15 3 and proposition 9 1 remark 18 2 define e 0 1 by associating to the zero vectors the value 1 and to other vectors the value 0 then as we shall see later on is an sc multisection functor and f will be in good position at with this definition it holds that f and the good position of f at implies that is an ep subcategory on a suitable cu as we already have seen in the ep groupoid case it holds more generally that for a pair f in sufficiently generic position to be made precise the associated f is a branched ep subcategory next we import the notion of an auxiliary norm from the ep groupoid context into the categorical framework we assume that we have a strong polyfold bundle p e c recall that e has double filtration em k for 0 k m 1 definition 18 4 let p e c be a strong bundle over a polyfold an auxiliary norm is a functor n e 0 having the following properties 1 if e e e 0 1 then n e 2 n defines on each fiber of e 0 1 a complete norm 3 given a sequence hk c 0 1 satisfying p hk and n hk 0 it holds hk 0 in e 0 1 an easy lemma whose proof is left to the reader gives an alternative description of an auxiliary norm lemma 18 1 assume that p e c is a strong bundle over a polyfold and n c 0 a functor then n is an auxiliary norm if and only if for a covering subset of strong bundle uniformizers the functor n n w 0 is an auxiliary norm for the strong bundle over the ep groupoid w x 18 1 basic concepts 627 in order to introduce the notion of a reflexive auxiliary norm we distinguish a par ticular class of strong polyfold bundles p e c definition 18 5 we say that p has reflexive 0 1 fibers provided for every object the fiber p 1 0 1 is a reflexive banach space we note that this can be checked on the orbit space in the following sense if z c take an representing z if the 0 1 fiber over is reflexive the same will hold for any other isomorphic to if p w x is a local model for p w e p y p y x c and x it follows that wx 0 1 is a reflexive banach space with other words any sc smooth model has reflexive 0 1 fibers following definition 12 5 we introduce the notion of mixed convergence definition 18 6 let p e c be a strong polyfold bundle with reflexive 0 1 fibers we say a sequence yk e 0 1 is mixed convergent to y e 0 1 provided p yk p y on level 0 and for a choice of uniformizer covering at a representative for p y say gnk e p y p y gno c with x we can pick for large k representatives ek k with ek yk and e with p e x and e y such that ek m e mixed convergent see definition 12 5 having defined mixed convergence we introduce the notion of a reflexive auxiliary norm definition 18 7 let p e c be a strong polyfold bundle with reflexive 0 1 fibers and n an auxiliary norm for p we say that n is a reflexive auxiliary norm if besides the usual properties of an auxiliary norm given in definition 18 4 the following property holds if yk e 0 1 is mixed convergent to y e 0 1 then for suitable representatives ek and e for yk and y it holds n e liminfk n ek alternatively we could require n y liminfk n yk 628 18 fredholm theory in polyfolds we can transport all results about auxiliary norms in the ep groupoid context over to the categorical case where p e c is a strong polyfold bundle for this we just take an sc smooth local model w e p y p y x c and note that given an auxiliary norm n for p the push forward n n is an aux iliary norm for p if n is reflexive so is n since c is by definition paracompact and therefore metrizable it follows that x is metrizable and therefore paracom pact the choice of local sc smooth model does not matter since the notions around auxiliary norms are well behaved under generalized strong bundle isomorphisms in the ep groupoid context consequently we can apply theorem 12 4 and obtain the existence of an reflexive auxiliary norm on p provided it has reflexive 0 1 fibers applications of theorem 12 3 and theorem 12 5 provide extension theorems theorem 18 2 let p e c be a strong polyfold bundle then the following holds 1 p admits an auxiliary norm 2 if p has reflexive 0 1 fibers there exists for every auxiliary norm n for p two reflexive auxiliary norms n 1 and n 2 satisfying n 1 n n 2 3 if p is defined over a tame polyfold an auxiliary norm defined on e c can be extended to p in the case that p has reflexive 0 1 fibers a reflexive auxiliary norm on e c can be extended as a reflexive auxiliary norm we leave it to the reader to transport other interesting results around auxiliary norms into the categorical context 18 2 compactness properties the starting point is a strong polyfold bundle p e c and an sc fredholm section functor f of p given an sc smooth model associated to a covering family we obtain p w x and the sc fredholm section f which fit into the commutative diagram 18 2 compactness properties 629 w e f x fx x c many compactness properties are statements which can be formulated in terms of orbit spaces we note that and are homeomorphisms fitting into the commu tative diagram w e f x f x x 1 c resulting in the relationship f f 1 18 2 which allows us to carry over compactness concepts discussed in the ep groupoid context in section 12 4 if f is an sc fredholm section functor of p we define the associated solution category s f to be the full subcategory of c associated to objects satisfying f 0 since f is regularizing a solution object is smooth definition 18 8 we say that the sc fredholm section functor f of p defines a com pact moduli space provided the orbit space s f of the solution category is compact we refer to s f as the coarse moduli space associated to f having a compact moduli space for an sc fredholm section functor implies the seemingly stronger properness property which follows from theorem 12 9 theorem 18 3 stability of compactness let f be an sc fredholm section func tor of the strong polyfold bundle p e c having a compact coarse moduli space s f then given an auxiliary norm n e 0 there exists an open neighbor hood u of s f in c such that the closure of the set z u n f z 1 on level 0 is compact this result is important since as a consequence compactness is not being destroyed by small perturbations and prompts the following definition definition 18 9 let p e s be a strong polyfold bundle n e 0 be an auxiliary norm and f an sc fredholm section functor for which s f is compact given an open neighborhood u f s f we say that n u controls compactness for f provided cl c z u n f z 1 is compact in many applications a stronger form of compactness holds with important addi tional properties which were discussed in the ep groupoid context in section 12 4 630 18 fredholm theory in polyfolds we first discuss a version of the reflexive local compactness property as given in definition 12 10 we note that definition 12 10 could have formulated equivalently in terms of orbit spaces and the following definition is a straight forward general ization of such a reformulation definition 18 10 let p e c be a strong polyfold bundle with reflexive 0 1 fibers and f an sc fredholm section functor we say that f has the categorical reflexive local compactness property provided for every reflexive auxiliary norm n c 0 and every point z c there exists an open neighborhood u z in c such that the closure of the set y u z n f y 1 is compact in c remark 18 3 note that z c is not required to satisfy f z 0 for exam ple if z c 0 c 1 then f z 6 e 0 1 since otherwise by the regularizing prop erty we conclude that z c 1 consequently we infer that n f z using the reflexive local compactness property we see that for a suitable open neighborhood u z it holds that n f y 1 for y u z indeed other wise there exists a sequence zk z with n f zk 1 from this we deduce that n f z liminfk n f zk 1 giving a contradiction consequently cl c y u z n f z 1 0 which is compact from theorem 12 10 we obtain the following extension theorem which frequently appears in inductive constructions for moduli spaces with some floer theoretic structure theorem 18 4 assume that p e c is a strong polyfold bundle over the tame c with reflexive 0 1 fibers and f an sc fredholm section functor assume that n c 0 is a reflexive auxiliary norm and f has a compact moduli space and also the reflexive local compactness property let s f be the solution category associated to f f c and u c an open neighborhood of the compact s f in c such that the closure of z u n f z 1 is compact in c then there exists an open neighborhood u of the coarse moduli space s f with the following properties 1 u c u 2 the closure of z u n f z 1 in c is compact i e n u controls compactness for f remark 18 4 in applications a situation where n at the beginning is only defined for e c arises frequently in this case we can make statements about compactness properties of f involving n in a next step one would apply theorem 18 2 3 to extend n over e theorem 18 4 then allows to extend u by keeping track of compactness properties 18 3 sc multisection functors 631 18 3 sc multisection functors at this point we consider strong polyfold bundles p e c we shall use auxiliary norms and if p has reflexive 0 1 fibers we may assume the auxiliary norm to be reflexive in this section we shall derive important results about sc multisections since the relevant notions behave well under generalized isomorphisms all results which are available in the ep groupoid context are also available in the categorical context we shall exploit this for the main notions and leave it to the reader to deal with the remaining concepts definition 18 11 a sc multisection functor for p e c is a functor e q such that for a sc smooth model p w x and associated equivalences and the functor w q is an sc multisection functor in the ep groupoid sense see definition 13 4 remark 18 5 the definition does not depend on the choice of sc smooth model which follows from the behavior of sc multisection functors in the ep groupoid context under generalized strong bundle isomorphisms given an auxiliary norm n e 0 we can describe the size of an sc multisection functor by the functor n c 0 which we call the point wise norm of it is defined for an object by n max n e e p 1 e 0 of course n c 0 provides the same information and we shall also refer to it as the point wise norm for applications the structurable sc multsection functors are important and they are defined as follows definition 18 12 let p e c be a strong polyfold bundle a sc multisection functor e q is said to be structurable provided for a suitable sc smooth model p w x the pull back is structurable as we have seen in section 13 4 in the ep groupoid context the notion of being structurable is being preserved by pull backs and push forwards by strong bundle maps and therefore also by generalized strong bundle isomorphisms therefore it does not matter in definition 18 12 which sc smooth model is being taken if i e q i 1 2 we define the functor 1 2 by 1 2 e e e e 1 e 2 e where e e e for a functor c r we define f e q by 632 18 fredholm theory in polyfolds e 1 e if 6 01 if 0 e 0 0 if 0 e 6 0 from the results in section 13 3 we obtain the following theorem theorem 18 5 let p e c be a strong polyfold bundle if 1 2 e q are structurable sc multisection vectors and c r is an sc smooth functor then 1 2 and 1 are structurable sc multisection functors structurability is preserved by pull backs via proper covering functors this gives the following result which is a consequence of theorem 13 5 theorem 18 6 let p w w be an sc smooth strong bundle proper covering functor between the strong polyfold bundles p w c and p w c or more precisely w p w p y p y c p c if w q is a structurable sc multisection functor then also p is a struc turable sc multisection functor at this point we have discussed the basic results about sc multisections and specif ically structurable ones in the next section we discuss the construction of sc multisection functors as well as extension theorems 18 4 constructions and extensions in order to construct sc mulisection functors we need sc smooth partitions of unity or at least sc smooth bump functions definition 18 13 we say that the polyfold c admits sc smooth partitions of unity or sc smooth bump functions provided it holds for an sc smooth model remark 18 6 the existence of sc smooth partitions of unity or sc smooth bump functions is being preserved under generalized isomorphisms between ep groupoids and therefore the specific sc smooth model occurring in the previous definition does 18 4 constructions and extensions 633 not matter if the sc smooth model x which has a metrizable orbit space x admits as a m polyfold sc smooth partitions of unity then it admits an sc smooth partition of unity in the ep groupoid sense i e the maps are functors see the discussion in subsection 7 5 2 for the next consideration we assume that we are given a strong polyfold bundle p e c admitting sc smooth bump functions consider a smooth object with isotropy group g and let be a strong bundle uniformizer in f this gives us the diagram gnk e p y p y gno c denote by q o the unique point satisfying q since c is metrizable we can pick an open neighborhood v of q in o which is invariant under the g action such that cl c v o assume that e is a smooth vector in e and let h be the preimage in k under 1 using sc smooth bump functions we can construct an sc section s 1 on o which vanishes outside of v and satisfies s 1 q h applying the g action we obtain sg o k defined by sg g q g s 1 q for q o then s 1 g s 1 and sg g g is a symmetric sc section structure which vanishes outside of v define c q as follows for h with h k we define h 1 g g g sg p h h if e is an object in e and there exists e e t e with t o we define with h t e e h where we note that the right hand side has been previously defined the definition also does not depend on the choice of as long as t o in the remaining cases there does not exists t with t o in this case we define e 1 if e 0 0 otherwise proposition 18 1 the previous construction defines an sc multisection functor e q with e 0 in a suitable sc smooth model p w x the pull back is atomic and consequently structurable hence is a structurable sc multisection functor for p 634 18 fredholm theory in polyfolds proof the easy proof is left to the reader and follows immediately from the the ory in chapter 13 discussing sc multisection functors in the ep groupoid context specifically theorem 13 6 the previous result shows how we can construct global structurable sc multisec tions using one uniformizer of course we could apply the procedure at a finite number of objects producing 1 k which could be summed up to produce 1 k more generally using an sc smooth model w e p y p y x c we can construct for p e c sc multisection functors with a variety of proper ties by just making the appropriate constructions for p w x in the ep groupoid context and pushing the data forward by chapter 13 demonstrated in detail the wealth of possibilities we leave the details to the reader and only mention the fol lowing extension result which is the categorical version of theorem 14 2 and can be proved by using an sc smooth model theorem 18 7 let p e c be a strong polyfold bundle over a tame poly fold and assume that c admits sc smooth partitions of unity and n e 0 is a given auxiliary norm assume that e c q is a structurable sc multisection functor with domain support dom supp let v be an open neigh borhood of dom supp c in c and c 0 a continuous functor with supp v and satisfying n for belonging to dom supp then there exists a structurable sc multisection functor e q such that 1 n on c 2 dom supp v 3 e c 18 5 orientations in order to use the moduli space s f associated to an sc fredholm section func tor to produce invariants we need to perturb it in general by a small generic sc multisection functor to obtain a branched ep subcategory f from which 18 5 orientations 635 we are going to extract invariants unless is single valued one cannot expect to obtain meaningful invariants unless we also have an orientation for as discussed in the ep groupoid case such orientations for f are naturally induced by an ori entation for f in this section we import the ideas from the ep groupoid setting to the categorical set up see section 15 4 for the ep groupoid situation define for a smooth object the set g rf to consist of finite non negative ratio nal formal sums l l l l where l l o is an oriented sc fredholm operator and l t c e with e p 1 that means that only a finite number of the l are non zero and in this case positive rational numbers the collection of all l defines the objects of a category denoted by g rf c which fibers over the full subcategory c associated to smooth objects in c g rf c c l the morphisms in g rf c are pairs l where is a smooth morphism in c and s l here s l s l and t l t l where l l l l l l l with l o l o and l l t 1 so that l s l t l in a next step we define the notion of an orientation for an sc fredholm section functor of a strong polyfold bundle p e c for a smooth object we can consider the convex set of linearizations lin f consisting of previously defined sc fredholm operators l t c e just viewing the operators as classical lin ear fredholm operators between the banach spaces on level 0 we obtain a con tractible convex space of fredholm operators so that the associated determinant bundle has two possible orientations following the ep groupoid case see defini tion 12 11 and properly translated into our set up we can build a category whose objects are det f o where det f stands for the topological line bundle det f lin f and o for an orientation of the latter if we have picked an orientation o the only other possible orientation is then o the class of all such objects is denoted by o f and it fibers over c via o f c det f o the morphisms have the form det f o with s where we view such a morphisms as 636 18 fredholm theory in polyfolds det f o det f o t det f t o definition 18 14 let p e c be a strong polyfold bundle and f an sc fredholm section functor the category o f c fibering over the smooth object category is called the orientation category associated to f we note that a smooth morphism lifts to a bijection between two point sets det f o det f o det f o det f o if has nontrivial isotropy it can in principle happen that for a suitable g g it holds that g det f o det f o which obstructs orientability of f next we introduce the notion of an orientation which defined by several properties we shall begin with the more algebraic requirements an orientation if it exists associates in particular to a smooth object one of the two possible orientations for det f i e it is a section functor o of and can be written as o det f o moreover o is assumed to be a functor so that the choice of orientations is compat ible with morphisms ot os for smooth morphisms besides these purely functorial properties one needs a version of local propagation i e local continuity as in the ep groupoid case see section 6 5 and specifically def inition 6 10 we need some preparation given f for a smooth object we obtain the commutative functor diagram g nk e f x fx g no c for a smooth element q o the map l tqo kq l t q c e q l q l t q 1 defines a bijection between sc operators and preserves several types of maps for example sc fredholm operators are mapped to sc fredholm operators and sc operators are mapped to sc operators given an sc fredholm operator l above q an orientation o for det l is mapped canonically to an orientation q o of det l 18 5 orientations 637 using the linear isomorphisms t q and q which establish correspondences between the kernels and co kernels hence we have a push forward operation for orientations which we denote by and its inverse is the pull back as a conse quence given a section functor o for o f c we can consider the associated o o which associates to det f q an orientation o q given a smooth morphism f and f we obtain asso ciated to q q where q q a local sc diffeomorphism u q q u q q this local sc diffeomorphism together with its lift to the bundles allows to pull back the germ of o near q and we obtain near q the following identity of germs o o near q the pull back operation has clearly a continuity property definition 18 15 let p e c be a strong polyfold bundle and f an sc fredholm section functor denote by o f c the associated orientation category let o be a section functor of we say that o has the continuity property provided for every class z c representative z of z and gnk c f z where p k o o o with o the following holds if f o k is the local representative of f equipped with the orientations o then the orientations near o are related by continuation remark 18 7 the above definition requires an orientation check for a set of objects z z c where we pick for every z a z f z if we take now an arbitrary in some f the sc smoothness of the associated strong transition bundle guar antees that also with respect to we have local continuity this follows from the previous discussion definition 18 16 orientation for f let p e c be a strong polyfold bundle and f an sc fredholm section functor an orientation for f is given by a section functor o of o f c which has the continuity property if such a section o exists we call f orientable remark 18 8 we leave the verification of the following to the reader if f is an orientable sc fredholm section functor of p then o f c when passing to orbit spaces defines a z 2 1 1 bundle over c which we denote by o f c an orientation o defines a continuous section o of moreover f is orientable provided o f c is a 2 1 map and admits a continuous section see also proposition 12 4 for the ep groupoid case assume that f is an sc fredholm section of the strong polyfold bundle p e c given two different covering families and we obtain 638 18 fredholm theory in polyfolds w e f x fx x c w e f x fx x c the following holds true proposition 18 2 assume that f is an sc fredholm section functor of the strong polyfold bundle p e c 1 the orientability of f is equivalent to the orientability of f 2 an orientation for f pulls back to an orientation for f and an orientation for f 3 given orientations o for f and o for f they correspond to the same ori entation for f provided the natural generalized strong bundle isomorphism f w w covering f x x pulls back o to o proof the proof goes along the lines of the proof of theorem 12 12 and is left to the reader 18 6 perturbation theory we assume that p e c is a strong polyfold bundle over a tame c and n e 0 an auxiliary norm we study sc fredholm section functors f of p which have compact moduli spaces s f we can fix an open neighborhood u of s f so that cl c z u n f z 1 is compact we shall use the latter fact to show that there are many structurable sc multisection functors e q which are small with respect to n u which controls com pactness so that c q defined by f is a ep subcategory with the standard properties 1 supp u 2 is compact 3 f t c p 1 is surjective for every belonging to the support of 4 in addition we can force good boundary behavior for example is in general position or in in good position both implying that is tame 18 6 perturbation theory 639 in applications depending on the situation we might be able to take a which only takes the values 0 1 to achieve the above in this case supp has nat urally the structure of a compact orbifold with boundary and corners if we know in addition that between any two objects in the support of there is at most one morphism it follows that supp has naturally the structure of a smooth compact manifold with boundary with corners if in addition f is oriented via t f it follows that supp is naturally oriented either as an orbifold or manifold of course as in the ep groupoid case a general perturbation for which is a branched ep subcategory is always possible the following results are immediate corollaries of results proved in the ep groupoid context theorem 18 8 assume that p e c is a strong polyfold bundle over a tame c admitting sc smooth bump functions and f is an sc smooth section functor of p with compact s f assume that n e 0 is an auxiliary norm and u an open neighborhood of s f so that n u controls compactness let h c 0 1 be a continuous functor then there exists an sc multisection functor c q with the following properties 1 n h for all objects in c 2 the domain support of is contained in cu 3 t f is surjective for objects in supp f 4 for an object in supp f the kernels of the operators t f are in general position to c in particular f c q is a compact tame branched ep subcategory fur ther the perturbation can be taken structurable proof follows directly from theorem 15 4 by studying the question in a smooth model we can also easily bring theorem 15 5 into the polyfold context as an exercise the reader might also prove a version of theorem 5 7 for the ep groupoid case and its polyfold generalization another good and useful exercise is the generalization of theorem 5 8 to an ep groupoid as well as a categorical context chapter 19 general constructions in this chapter we shall describe several basic constructions which are very useful in applications i e the construction of moduli spaces in concrete situations in 14 we shall describe new tools in the context of symplectic geometry which focus on developing a modular approach to the construction of moduli spaces in symplectic geometry the procedure leads to polyfold structures on certain groupoidal cate gories s strong bundle structures for p e s and a fredholm theory for cer tain section functors of p the theory in chapters 17 and 18 then allows to construct moduli spaces 19 1 the basic constructions we start with a familiar definition definition 19 1 a category s is said to be a groupoidal category provided the following holds 1 every morphism is an isomorphism 2 between any two objects there are at most only a finite number of morphisms 3 the class of isomorphism classes of objects is a set we shall obtain the polyfold structure on s and later on similarly the strong bundle structure on p e s as a consequence of a particular kind of construction which we shall introduce now this type of construction will produce in the case of a groupoidal category s the following at the same time 641 642 19 general constructions a natural topology t on the orbit space s in case t is metrizable the pair s t is a gct see definition 17 1 a structure for the gct s t which is a polyfold structure provided t is metrizable that t is metrizable has to be studied in any given context by an adhoc method it will turn out that t is always locally metrizable i e every point in s will have an open neighborhood on which the topology is metrizable this of course does not imply that the topology is hausdorff there are criteria which we shall describe later which are easy to apply in practice and which guarantee that t is hausdorff and completely regular if one can show that in addition the topology is second countable urysohn s metrizability theorem implies that t is metrizable urysohn s metrization theorem a second countable regular hausdorff space is metrizable in many applications this is not too difficult to show alternatively if t is paracompact rather than second countable in addition to being regular and hausdorff the nagata smirnov theorem implies metrizability as well nagata smirnov metrization theorem a topological space is metrizable if and only if it is regular hausdorff and has a countably locally finite basis i e the topology has a basis which is a countable union of sets of open sets which are locally finite in particular a paracompact regular hausdorff space which is locally metrizable is metrizable see 64 we need the following definition definition 19 2 let s be a groupoidal category and an object with isotropy group g we shall call a functor gno s a uniformizer at provided it has the following properties 1 gno is the translation groupoid consisting of the m polyfold o with g acting by sc diffeomorphism 2 is injective on objects and fully faithful 3 there exists o o with o we denote by s the category which has the same objects as s but only has the identities as morphisms the first part of the data is given by a functor f s set associating to every object with automorphism group g a set f consisting of uniformizers at 19 1 the basic constructions 643 definition 19 3 given a groupoidal category s a functor f s set which associates to an object a set of uniformizers f at is called a uniformizer construction remark 19 1 in most applications f is in fact a functor defined on s that means that given a morphism we obtain a bijection f f f as part of the constructions in many cases even more is true and f will have a geometric meaning see for example remark 17 1 once f is given we can consider the transition sets mmm associated to the functors and for f and f the transition set mmm is given as the weak fibered product associated to the diagram o s o more precisely mmm o o o o o o o o this construction comes with several maps called structure maps namely s mmm o o o o the source map t mmm o o o o the target map u o mmm o o 1 o o the unit map mmm mmm o o o 1 o the inversion map m mmm s tmmm mmm m o o o o o o the multiplication map given f we have for every object a set of fully faithful functors gno s having in the image of course there is at this point no compatibility require ment between different uniformizers also note that we cannot talk about continuity properties of since s is not even equipped with a topology yet the second set of data denoted by f consists of a construction involving the tran sition sets it associates to h o o mmm a germ of map fh o o o mmm h having the following properties were we abbreviate fh t fh which is a germ of map fh o o o o o o we can think of fh as a map defined on an open neighborhood of o a diffeomorphism property the germs fh o o o o o o are local sc diffeomorphisms and s fh q q for q near o if and h o g o g o then fh q q g q g q for q near o so that fh q g q 644 19 general constructions b stability property ffh q p fh p for q near o s h and p near q c identity property fu o q u q for q near o d inversion property f h fh q fh q for q near o s h e multiplication property if s h t h then fh fh q fm h h q for q near o s h and m fh fh q fh q fm h h q for q near o s h f mmm hausdorff property for different h 1 h 2 mmm with o s h 1 s h 2 the images under fh 1 and fh 2 of small neighborhoods o are disjoint definition 19 4 the construction f is called a transition construction associated to the uniformizer construction f usually in applications the constructions f and f are natural and the listed prop erties are consequences of this naturality definition 19 5 given a groupoidal category s we shall refer to f f where the functor f s set is a uniformizer construction and f is an associated transition construction as a basic construction remark 19 2 the properties a and d say that there exist for h mmm with h o o open neighborhoods v o and v o with the property that fh v o o v o o is an sc diffeomorphism and f h fh q fh q for q v o of course if the transition set mmm has a special form and consists of all q g q g q with q o and g g in this special case a requires that on a suitable open neighborhood v o it holds f o g o g o q g q and f o g o g o q q g q g q the property c stipulates the existence of v o with fu o q u q for q v o from the multiplication property with h o o we have the existence of three open neighborhoods v o v o and v o such that fh v o o v o o and fh v o o v o o are sc diffeomorphisms and the following holds fh fh q fm h h q for q v o and m fh fh q fh q fm h h q for q v o these are given the underlying structures natural properties all these properties persist if we pass to smaller neighborhoods the properties we have discussed allow us to consider fh q as an element close to h in mmm provided q is close to s h the stability property b then says that the map fh for h near h is the same as fh i e a stability property of the constuction more precisely b guarantees given h o o mmm an open neighborhood again denoted by v o such that ffh q p fh p for q v o provided p v o and p is close to q the hausdorff property just says that two different elements h 1 and h 2 with the same source should be considered as far apart given our notion of nearness coming from fh 19 2 the natural topology t for s 645 in the following we shall derive the important properties of a basic construction the two important facts are that a basic construction defines a natural topology t on the orbit space s this topology in general does not need to be well behaved and its properties in concrete situation have to be investigated moreover a basic construction defines also a metrizable topology on every mmm 19 2 the natural topology t for s the starting point is a groupoidal category s and a basic construction f f as sociated to the basic construction there is a natural topology t on s which we shall construct now definition 19 6 assume s is a groupoidal category and f f a basic construc tion the collection t of subsets of s consists of all subsets u of s so that for every point z u there exists an object z with z z f z and an open neighborhood v o where o z such that v o u the basic topological result is given by the following theorem theorem 19 1 assume that we are given for the groupoidal category s a basic construction f f then the following holds 1 the set t defined in definition 19 6 defines a topology on s 2 with f say gno s and an open subset v of o the set v is open in s 3 with as above g o s is a homeomorphism onto an open neighbor hood of 4 for the topology t every point has a countable neighborhood basis 5 every point in s has for t an open neighborhood which is metrizable 5 implies 4 remark 19 3 there is in general no reason that t is hausdorff we shall address this question and the related metrizability question for t later on proof 1 by the definition of t it is clear that 0 and s belong to s if u is a family of sets in t it follows immediately from the construction that u u belongs to t let u 1 uk be a finite family of elements in t and z u k i 1 ui for z ui we find i gi noi s with i o i i and i z so that for a suitable open neighborhood v i of o i we have 646 19 general constructions i v i ui we find hi o 1 i o i mmm 1 i and take the associated germs fhi o o 1 o 1 o oi o i by replacing v 1 by a possibly smaller open neighborhood v 1 of o 1 we may assume that all vi fhi v 1 are open and contained in v i in addition we may assume that fhi is defined on v 1 since fhi t fhi it follows that i fhi v 1 v for v v 1 and consequently 1 v 1 u which completes the proof that t is a topology 2 assume that o let v o be open and consider the set v take z v and an object with z pick f with o for a suitable o v we find an element h o o mmm take the associated germ fh we find an open neighborhood v of o which is sc diffeomorphically mapped onto an open neighborhood of o which we may assume to be contained in v this shows that z v v using that fh q q h q fh q implying fh q q 3 in view of 2 the set u g o o is an open neighborhood of consider g o u this map is a bijection since is fully faithful we first show the continuity pick a point g o in g o and define z g o pick an open neighborhood v around z we find representing z and f so that o and w v for a suitable open neighborhood w of o we find an element h o o and take the corresponding fh for a sufficiently small open neighborhood w of o the open image fh w is contained in w moreover for w w s fh w w and t fh w fh w where fh has the form fh w w w fh w therefore w w fh w and w fh w implying w w then g w v this proves continuity since for an open subset a in o the image a is open we conclude that is open and this completes the proof of 3 4 for given z s pick an object satisfying z and f let o and note that o has a countable neighborhood basis in o say v 1 v 2 v 3 in view of 2 every vi is an open neighborhood of z pick any open neighbor hood u of z we have to show that for sufficiently large i it holds vi u we find f with z and an open neighborhood v of o where o with v u since we have a morphism o o can take fh where h o o we find i such that fh vi v this proves that z vi u 5 for z s pick an object with z and f then gno s 19 3 the natural topology for m 647 with o then gno o is an open neighborhood of z in view of 3 since the m polyfold o is metrizable we can pick a metric d and average this metric with respect to g to obtain an invariant metric d for o this induces a metric for g o from which we conclude that the open neighborhood o of z is metrizable remark 19 4 starting with a groupoidal category s and a basic construction f f we obtain a natural locally metrizable topology t for the orbit space s if by an adhoc method one can verify that t is hausdorff regular and second count able it follows that s t is a gct and the theory developed in chapters 17 and 18 is applicable the metrizability question will be investigated in more depth in section 19 4 19 3 the natural topology for m as before we assume that we are given a basic construction f f for the groupoidal category s we have shown that s carries a natural topology t which is lo cally metrizable we shall show next that the transition sets mmm carry natural topologies as well definition 19 7 let t be the set consisting of subsets w of mmm having the following property given h o o w there exists an open neighborhood v of o in o such that fh v w the basic result is the following theorem 19 2 let f f be a basic construction for the groupoidal category s then the set t is a topology on mmm this topology is metrizable further more the following properties hold 1 the source map s mmm o is a local homeomorphism 2 the target map t mmm o is a local homeomorphism 3 the unit map u o mmm is continuous 4 the inversion map mmm mmm is a homeomorphism 5 the multiplication map m mmm s tmmm mmm is continu ous the proof of theorem 19 2 requires some preparation and will be a consequence of the following discussion 648 19 general constructions proposition 19 1 the collection of subsets t of mmm is a topology and the following holds 1 given h o o there exists an open neighborhood v of o in o so that for every open subset w of v the image fh w belongs to t 2 if w is as in 1 the map fh w mmm is continuous 3 the topology t is hausdorff proof by construction 0 mmm and any union of elements in t belong to t let w 1 wk be a finite collection of elements in t assume that h o o w k i 1 wi for every i we find an open neighborhood vi of o such that fh vi wi consequently fh k i 1 vi w this proves the assertion that t is a topology on mmm 1 we note that there exist open neighborhoods v of o and v of o so that fh v v is an sc diffeomorphism mapping o to o and in addition ffh q p fh p for q v p v we also have that s fh q q and t fh q fh q for all q v let w v be an open subset and consider fh w take any h fh w and note that there is a unique way to write it as fh q h recall that ffh q p fh p for all p near q hence the image of a small open neighborhood of q is contained in fh w this proves that fh w is open 2 we start with fh v o mmm where o s h and consider for q w v the element k fh q assume an open neighborhood p of k is given we can take a small open neighborhood of k of the form fk u where u is a sufficiently small open neighborhood of o s k such that fk u p and fk p fh p for p close to o hence fh u p and this proves continuity 3 assume next that hi oi i o i for i 1 2 are two different elements in mmm using the mmm hausdorff property and the previous discussion we con clude that these points have disjoint open neighborhoods given a basic construction for the groupoidal category s we have just shown that every transition set mmm carries a natural hausdorff topology we shall show next that the structural maps have the required continuity homeomorphism proper ties which will complete the proof of theorem 19 2 with the exception that the metrizability of the topology t still has to be shown 19 3 the natural topology for m 649 proposition 19 2 let and be three objects and f f and f the following holds 1 the source map s mmm o is a local homeomorphism 2 the target map t mmm o is a local homeomorphism 3 the unit map u o mmm is continuous 4 the inversion map mmm mmm is a homeomorphism 5 the multiplication map m is continuous remark 19 5 a assuming that the proposition holds we note that the unit map u is a homeomorphism onto its image which is an open subset of mmm indeed the map u o mmm is an injection pick o o and recall that fu o maps a small open neighborhood of o to an open neighborhood of u o since fu o q u q for q near o we infer that the image of u is open then s u o o as a bijective local homeomorphism is a homeomorphism and the inverse to u o u o b the multiplication is a local homeomorphism indeed assume that we are given h mmm and h mmm with s h t h and define h m h h we find an open neighborhoods u s h of s h u t h of t h u h of h u h of h so that the following maps are homeomorphisms s u h u s h t u h u t h fh u s h u t h s u h u t h then the fibered product mmm s tmmm near h h is homeomorphically parametrized by the map q s u t h 1 fh q s u s h 1 q where q u s h then s m s u t h 1 fh q s u s h 1 q q which implies the assertion proof 1 let h o o mmm then s h o and s fh q q for q near o given a sufficiently small open neighborhood u of o we know that v fh u is an open neighborhood of h and trivially s v u this proves continuity of s next consider s fh u u we also know that fh u fh u is injective in view of s fh q q for q u and by construction the map is surjective and hence a bijection clearly fh u fh u is a continuous inverse for s 2 since t s the assertion 2 follows from 4 650 19 general constructions 3 let o o and h u o take a sufficiently small open neighborhood v around o then fu o v q 1 q q q v is open and u v fu o v implying continuity 4 clearly is a bijection if h mmm let h h pick a small neighborhood around h we may assume that it has the form fh v with v an open neighborhood of o s h t h if v is small enough we find v v o so that fh v v is an sc diffeomorphism using that fh q fh fh q for q near o it follows that fh v fh v showing continuity interchanging the role of and we see that the inverse of is also continuous 5 consider m mmm s tmmm mmm and fix h o o and h o o so that m h h o o h assume we are given an open neighborhood of h we may assume that it has the form w fh u for a suitable open neighborhood u of o if we take u small enough we may assume that fh u w is a homeomorphism we also may assume that fh u o u o is a homeomorphism for a suitable open neighborhood u of o so that in addition defining w fh u and w fh u fh u w and fh u w are homeomorphisms given an element k k w s tw we find a unique u u such that fh u k and t k t fh u fh u s k fh fh u this implies k k fh fh u fh u fh u w the desired metrizability property is proved in the next proposition proposition 19 3 for every pair f and f the topology t on the transition set mmm is metrizable proof first of all we note that mmm is locally metrizable since it is locally homeomorphic to a metrizable space we have already proved that it is hausdorff it suffices to show that the space is paracompact then the nagata smirnov metriza tion theorem implies that the space is metrizable let v be an open covering of mmm we have to show that it admits a subordinate locally finite open cover given an element o o there are at most g many h mmm with s h o denote them by ho 1 h o ko we find a sufficiently small open neighborhood v o of o and u hoi so that 19 4 metrizability criterion for t 651 i s u hoi v o is a homeomorphism ii the u hoi are mutually disjoint iii for every i there exists a i such that u hoi v i since o is metrizable we find a locally finite subcover subordinate to v o o o we find a subset k o and nonempty open sets wo for o k so that wo o k covers o wo v o and the cover is locally finite we do not require wo to be an open neighborhood of o we define v o i s u hoi 1 wo for o k i 1 ko then v o i which is indexed by o k and i 1 ko consists of open sets and is subordinate to v if h mmm consider q s h we find o k such that q wo and h belongs to one of the v o i this shows that v o i is an open covering of mmm subordinate to the original v let us show that the covering is locally finite pick h mmm and define q s h we find an open neighborhood a of q which only intersects finitely many of the wo taking a small enough we find an open neighborhood b of h so that s b a is a homeomorphism assume v o i intersects b then s v o i and s b intersect implying that wo and a intersect this implies that there are only finitely many v o i intersecting b this shows that mmm is paracompact remark 19 6 given a groupoidal category s and a basic construction f f for s we have shown that the orbit space s carries a natural topology t which is locally metrizable and every transition set mmm carries a natural metrizable topology so that all structure maps are continuous s and t are local homeomor phisms and is a homeomomorphism we investigate the metrizability properties for t in the next section 19 4 metrizability criterion for t next we consider the metrizability question for t which we have mentioned before for this we introduce a useful criterion called the properness property we recall that the mmm are metrizable topological spaces definition 19 8 assume that the groupoidal category s admits the basic construc tion f f 1 we say that properness property v 1 holds provided for f and given o o there exists an open neighborhood u u o in o so that for any f g no s the metrizable space mmm has the property that 652 19 general constructions every sequence hk in mmm with s hk u and t hk o convergent in o has a convergent subsequence in mmm 2 we say that properness property v 2 holds provided for every uniformizer the following holds with respect to t given o o there exists an open neigh borhood u u o in o so that cl s u o o 3 we say that properness property v 3 holds provided for every gno s the following property holds true given o o there exists an open neighborhood u u o o such that for a sequence qk u o the convergence of qk in s t to some z implies that a suitable subsequence of qk converges to an element in clo u o o the following proposition shows that the three formulations of a properness prop erty are equivalent in the future if f f satisfies one of the properties and there fore all three we shall say that the properness property holds proposition 19 4 assume that f f is a basic construction for the groupoidal category s and let t be the associated topology for s then the three properness properties formulated in definition 19 8 are equivalent proof 1 implies 2 by assumption given o o there exists an open neigh borhood u o o which satisfies the properness property v 1 we shall show that u o satisfies v 2 assuming that 2 does not hold arguing indirectly we may assume that cl s u o 6 o this implies that there exists a se quence qk u o such that qk z s where z 6 o we pick with z and f and find for large k an element hk mmm with s hk qk and t hk pk o with o in view of 1 we may assume after perhaps taking a subsequence that hk h in mmm the element h satisfies s h clo u o and t h o hence z o which is a contradiction 2 implies 3 we take the open neighborhood u u o guaranteed by 2 and show that u has the properties stated in 3 pick any sequence qk u and as sume that qk z with respect to t then in view of 2 we deduce that z cl s u o hence we can find q o satisfying q z since gno o is a homeomorphism we find a sequence gk g satisfying gk qk q after perhaps taking a subsequence we may assume that gk is a constant sequence associated to g g and therefore without loss of generality qk g 1 q hence qk converges to an element in clo u o 3 implies 1 given gno s let o o be a given point by assumption we find an open neighborhood u u o in o such that iii holds assume 19 4 metrizability criterion for t 653 g no s and hk mmm is a sequence satisfying qk s hk u and pk t hk is a convergent sequence in o say converging to p then t hk converges to some element z s in view 3 we may assume without loss of generality that qk q in o where q clo u hence hk mmm has the property that s hk q o and t hk p o consider the set of morphisms in s having source q and target in o this collection is a finite set and contains at most g many elements denote them by 1 we find with h i q i 1 t i open neighborhoods u q and u h i for i 1 such that s u h i u q is a homeomorphism we know that for large k the point qk s hk belongs to u q fix a sufficiently large k so that s hk qk u q we fix i and we find an element h k u h i satisfying s hk s h k write h k qk k rk where rk t k we note that t hk and t h only differ by the action of a suitable g k i e hk m rk g k rk g k rk h k after perhaps taking a subsequence we can replace the g k by a constant sequence g and obtain hk m rk g rk g rk h k since h k s u h i 1 qk s u h i 1 q and therefore rk r we find that rk g rk g rk r g r g r from the continuity of m we conclude the convergence of hk next we consider the ramifications of the properness condition proposition 19 5 assume that f f is a basic construction for the groupoidal category s and t is the natural topology for s which is locally metrizable if the construction satisfies the properness property then t is hausdorff and com pletely regular proof for 6 we pick f and f so that o and o around the points o and o we pick monotonic neighborhood bases uk uk o and u k u k o then uk and uk are neighborhood bases for and respectively we show that they do not intersect for large k arguing indirectly we find sequences ok o with ok uk and o k u k with o k o such that ok o k hence we find hk mmm with s hk ok and t hk o k using the properness property we may assume without loss of generality that hk h which implies that which contradicts our initial assumption this proves that t is hausdorff 654 19 general constructions next we show that t is completely regular for this take a point z and a closed subset a of s not containing z we pick with z and f then gno s and o for a suitable o we can pick an open g invariant neighborhood u of o such that u a 0 and moreover we can pick the g invariant v v o with clo v u so that v satisfies cl s v u then clo v u o and we can take a continuous map o 0 1 with o 0 and o v 1 also perhaps using an averaging procedure we map assume that is invariant with respect to the g action then descends to a con tinuous function o 0 1 which we extend by the value 1 this map s 0 1 is continuous and has the desired properties indeed we can ar gue using sequences since every point has a countable neighborhood basis let z s and assume that zk z if z o we see that for large k it holds that zk o we can pick qk q o with qk q qk zk and q z then zk z qk q 0 if z 6 o we find an open neighbor hood w w z such that v w 0 this immediately implies the conti nuity assertion since for large k we must have zk w so that zk 1 z if we cannot find such a w there exists a sequence qk v with qk z applying the properness property we may assume without loss of generality that qk q clo v u o and therefore z q implying that z o giving a contradiction this shows that the topology t is completely regular the main result in this section is given by the following theorem which summarizes the essence of the previous discussion recall that the natural topology is always locally metrizable and the properness assumption implies in addition that it is haus dorff and completely regular theorem 19 3 let s be a groupoidal category and f f a basic construction for which the properness assumption holds 1 if t is second countable then it is metrizable 2 if t is paracompact then it is metrizable proof 1 by urysohn s metrization theorem a topological space which is haus dorff completely regular and second countable is metrizable 2 a locally metrizable space which in addition is hausdorff completely regular and paracompact is metrizable by the nagata smirnov metrization theorem finally we note the following result proposition 19 6 let s be a groupoidal category and f f a basic construc tion denote by t the natural topology on s then the following statements are equivalent 1 t is metrizable 2 f f satisfies the properness property and t is paracompact 19 5 the polyfold structure for s t 655 proof 2 implies 1 this follows from the previous discussion 1 implies 2 a metrizable space is paracompact we have to show that the metriz ability of t requires the basic construction to satisfy one of the properness con ditions let g n o s be a uniformizer at denote by o o the ele ment mapped to we know that g o o is a homeomorphism and o since t is metrizable we can pick an open neighborhood v of such that cl s v o denote by u o the preimage of v under which is a g invariant open subset we verify that v 3 holds assume that qk u and qk z in s by con struction qk v so that z cl s v o hence we find q o with q z since g o o is a homeomorphism we find a sequence gk g such that gk qk q after perhaps taking a subsequence we may assume that gk is a constant sequence and without loss of generality qk g 1 q q this completes the proof 19 5 the polyfold structure for s t we assume that s is a groupoidal category and f f a basic construction the associated natural topology for the orbit space s is denoted by t we have seen that every mmm has a natural metrizable topology for every pair for this topology the source and target maps are local homeomorphisms and the other structure maps are continuous we also equipped s with a topology t so that every point has a countable neighborhood basis of open sets recall that for every object and f the map on orbit space g o s is a homeomorphism onto an open neighborhood of in s using this fact and the previous discussion we can prove the following theorem theorem 19 4 the metrizable space mmm has a natural m polyfold structure for which s and t are local sc diffeomorphisms proof as we shall see there is a sc smooth atlas for mmm which has tran sition maps of a simple form that this is the case is immediate apparent in the case mmm in this case we have a bijection g o mmm g o o g o g o the sc smooth atlas for mmm will define a m polyfold struc ture for which the bijection is an sc diffeomorphism and g o is equipped with the natural m polyfold structure coming from o and the trivial structure on the finite set g 656 19 general constructions recall that with h o g o g o the germ fh as the form fh q q g q g q and for a small open neighborhood u of o the map fh u fh u is a homeomor phism and fh u t we see that sh fh u u sh o g o g o o is precisely the inverse of fh we also note that if fh u fh u 6 0 the transition map sh s 1 h has the form sh s 1 h q q this shows that the system sh is an sc smooth atlas moreover sh g q q proving that is an sc diffeomorphism we next consider the general case and as before we shall show that the source maps define an sc smooth atlas again it will turn out that the transition maps take an easy form pick h mmm and pick open neighborhoods u h u o where o s h with the following properties i s u h u o is a homeomorphism denoted by sh ii fh u o u h is the inverse of sh iii t fh q fh q for q u o we shall show that the collection sh where h varies over mmm has sc smooth overlaps i e sh s 1 h sh u h u h sh u h u h is sc smoth this of course will imply that mmm has a natural m polyfold structure assuming q sh u h u h we compute sh s 1 h q sh fh q s fh q q this shows that mmm has a tame m polyfold structure and by construction s is a local sc diffeomorphism the same holds for t to see this fix h mmm and consider sh u h u s h then t s 1 h q t fh q fh q which is sc smooth and a local sc diffeomorphism corollary 19 1 given associated to the objects consider mmm mmm and mmm with their natural m polyfold structures then all structure maps are sc smooth proof we begin with the unit map u o mmm then s u o o and since s is a local sc diffeomorphism we conclude that u is sc smooth 19 5 the polyfold structure for s t 657 next we consider the inversion map mmm mmm fix h o o and let h o 1 o h then fh u o u h for suitable open neighbor hoods is an sc diffeomorphism and for q near o we compute t fh q t fh fh q since t fh and fh are local sc diffeomorphisms we see that the left hand side is sc smooth since t and fh are local sc diffeomorphisms we concluded that is sc smooth finally we consider the multiplication map m assume that h mmm and h mmm satisfying t h s h using that for q near o s h we have the relationship m fh fh q fh q fm h h q we see that the right hand side is a local sc diffeomorphism which implies the same for the expression on the left we note that q fh fh q fh q m fh q fh q fm h h q q q fh q is the inverse of a local chart in the fibered product mmm s tmmm hence m is sc smooth in view of the discussion in this section we can conclude the following theorem 19 5 given a basic construction f f for s which satisfies the proper ness property and for which the natural topology t is either second countable or paracompact there is an underlying natural polyfold structure f mmm for s if the uniformizers gno s associated to f have tame domains o the polyfold structure is tame remark 19 7 in applications the category s very often is constructed having a ge ometric purpose in mind and more often than not there is a natural uniformizer construction f and a transition construction f in a first step one obtains the nat ural topology t for s as well as the metrizable topologies for the transition sets mmm in fact the latter even carry natural m polyfold structures we recall that t is locally metrizable after checking that f f has indeed the properness property one concludes that t is locally metrizable hausdorff and completely regular these facts imply that for a given compact subset k of s there exists an open neighborhood u u k which is paracompact and hence metrizable given the already established properties of t this sometimes is all what one needs in applications in case that t is also second countable we note that t is metrizable and for such basic constructions f f we have just shown that there is an asso ciate polyfold construction f mmm the same holds if t is paracompact we also note that if all uniformizers associated to f are tame i e the domains are tame the resulting polyfold construction is tame 658 19 general constructions 19 6 a strong bundle version in order to equip p e s with a strong bundle structure there is a similar scheme as in the s case and we allow ourselves to be somewhat sketchy here s and e are groupoidal categories so that in addition the fibers p 1 are equipped with banach space structures the morphisms in e are assumed to be linear lifts associ ated to the underlying morphisms in s more precisely for two objects and in s and an isomorphism there exists a well defined topological linear isomorphism p 1 p 1 we shall call the lift of and we assume that the procedure has the obvious properties i 1 idp 1 ii if s t then a morphism in e is assumed to be of the form e with s p e so that s e e and t e e of course there is no difference if the morphisms are taken as tuples e e where e e since the two descriptions are canonically isomorphic we take the shorter one i e the first one hence e e e or e e e provided e e having these assumptions on e there is an alternative description of our data which is the most useful we have seen this already in the ep groupoid context denote by ban the category whose objects are banach spaces and where the morphisms are linear topological isomorphisms then p e s with the structures described above gives a covariant functor s ban indeed on objects p 1 and on morphisms the original p e s can be up to natural isomorphism reconstructed from s given a groupoidal category s and a functor s ban we can define a category e as follows the objects are the pairs e with e and the morphisms are the pairs e with e s viewed as morphisms 19 6 a strong bundle version 659 e e e in view of this discussion we study p e s associated to a functor s ban and abbreviated by p e s definition 19 9 consider s where s is a groupoidal category and s ban a functor denote the associated functor diagram by p e s a strong bundle uniformizer at the object is a functor gnk e with the following properties 1 p k o is a strong bundle over a m polyfold and g acts by strong bundle diffeomorphisms moreover gnk is the associated translation groupoid the functor is a topological linear isomorphism between fibers in addition there exists a uniformizer at denoted by gno s fitting into the commutative diagram gnk e idnp y p y gno s note that is completely determined by 2 is injective on objects and fully faithful 3 there exists 0 o ko with o and 0 o 0 remark 19 8 we can also require more generally that p w e is a strong bundle over an ep groupoid and that and are fully faithful functors which both are injective on objects and fit into the commutative diagram w e p y p y e s and that a distinguished point e e is mapped to the given object and conse quently 0 e 0 e of course we also assume that is fiber wise a topo logical linear isomorphism hence rather than taking gnk gno as local mod els one could take w e from the definition it follows that a strong bundle uniformizer gnk e at induces a strong bundle uniformizer gno s 660 19 general constructions definition 19 10 a strong bundle unformizer construction is a functor f s set associating to every object a set of strong bundle uniformizers f associated to f we have the underlying uniformizer construction f for s given f we can build for f and f the transition set mmm associated to the functor diagram k e k which covers o s o the elements in the transition set have the form a e a where e s a s e and a t e since e is determined by a via and acts as a linear map i e we just write a a instead of a e a there exists a natural map mmm mmm mmm defined by mmm a a p a p a the fibers of mmm are banach spaces indeed with o o being the base point the elements above it consist of all a 1 a where a p 1 o the structure maps associated to strong bundle unifomizers are given as follows and are linear on the fibers and cover those for the underlying unifomizer construction the source map mmm s k mmm y p y mmm s o a a a y y p a p a p a the target map mmm t k mmm y p y mmm t o a a a y y p a p a p a the unit map k u mmm p y mmm y o u mmm a a 1 p a a y y p a p a 1 p a p a 19 6 a strong bundle version 661 the inversion map mmm mmm mmm y mmm y mmm mmm a a a 1 a y y p a p a p a 1 p a the multiplication map where o p a o p a o p a mmm s tmmm m mmm mmms t mmm y mmm y mmm s tmmm m mmm a a a a a a y y o o o o o o next we need a construction f which extends f in the s case recall that f associates to h o o mmm a germ of map fh o o o mmm h we can write fh as fh u u u fh u where u u fh u this morphism lifts to the linear isomorphism u p 1 u p 1 fh u and suggests to define f h as follows f h a a p a a a where a a is uniquely determined by a a p a a the germ f h is defined on k o o o and covers fh 662 19 general constructions k o o o f h mmm p y mmm y o o o fh mmm we observe that mmm f h a fh p a so that the definition of f h is a natural way to lift fh we can define f h k o o o k o o o covering fh by f h a t f h a we require the following properties definition 19 11 the following properties imposed on f and f are referred to as transition requirements for strong bundles a diffeomorphism property the germs f h t f h k o o o k o o o are local strong bundle isomorphisms covering fh k o o o f h k o o o p y p y o o o fh o o o and s f h a a for a k with p a near o if and h o g o g o it holds f h a a g p a g a if p a is near o in particular f h a g a covering fh p a g p a p g a b stability property f fh q a f h a for q near o s h and a such that p a is near q c identity property f u o a a 1 p a a u a for p a near o d inversion property f h f h a f h a for a such that p a is near o s h e multiplication property if s h t h then f h f h a f m h h a for p a near o s h and m f h f h a f h a f m h h a for p a near o s h f mmm hausdorff property the fh underlying f h has the property that for different h 1 h 2 mmm with o s h 1 s h 2 the images under fh 1 and fh 2 of small neighborhoods o are disjoint definition 19 12 given a pair s where s is a groupoidal category and s ban is a covariant functor with associated p e s we shall refer to the 19 6 a strong bundle version 663 construction f f where f is a strong bundle uniformizer construction and f is an associated strong bundle transition construction as as basic strong bundle construction for s at this point we can run through the construction in the s case and equip p e s with a strong bundle structure provided the underlying basic construction for s induces a polyfold construction for s natural topology t for the following discussion we assume that starting with s we have a basic bundle construction f f for p e s covering f f in a first step we define a topology t for e definition 19 13 a subset u of e belongs to t provided for every z u there exists an object in s with z p z f gnk e a point a k with a z and an open neighborhood v of a in k such that v u the underlying basic construction f f defines the topology t for s the fol lowing is easily verified using the continuity of the strong bundle maps p k o the following result is an analogue to theorem 19 1 theorem 19 6 assume we are given a basic bundle construction f f for s with underlying basic construction f f then the following holds 1 the set t is a topology on e 2 for f gnk e and w k open the set w is open in e 3 with as in ii the induced gnk e is a homeomorphism onto an open set 4 for every point z s there exists an open neighborhood v of z in s so that p 1 v with the induced topology from t is metrizable 5 the map p e s is continuous the metrizability of t only depends on the metrizability of the underlying t on s 664 19 general constructions proposition 19 7 assume we are given a basic bundle construction f f for s with underlying basic construction f f if the natural topology t for s is metrizable the topology t for e is metrizable as well natural strong bundle structures for mmm under the same assumptions as before we can equip mmm with a metrizable topology definition 19 14 for f and f denote by t the collection of subsets w of mmm having the following property given h a a there exists an open neighborhood v of h in k such that f h v w the basic topological results are stated in the following theorem theorem 19 7 assume we are given a basic bundle construction f f for s with underlying basic construction f f the set t defines a topology on mmm the topological spaces mmm t are metrizable and have the following properties 1 the source map s mmm k is a local homeomorphism 2 the target map t mmm k is a local homeomorphism 3 the unit map u k mmm is continuous 4 the inversion map mmm mmm is a homeomorphism 5 the multiplication map m mmm s tmmm mmm is continuous 6 mmm mmm mmm for the natural topologies is continuous in addition the projection map mmm mmm mmm is continuous strong bundle structure for p e s given f f it follows that mmm mmm mmm has in a natural way the structure of a strong bundle over a m polyfold 19 7 covering constructions 665 theorem 19 8 assume we are given a basic bundle construction f f for s with underlying basic construction f f then with the spaces equipped with their natural topologies mmm mmm mmm admits a natural structure of a m polyfold bundle where the structure on the base coincides with the previously defined natural m polyfold structure for this structure the structural maps s and t are locally diffeomorphic strong bundle maps the unit map and multiplication are strong bundle maps and the inversion map is a strong bundle isomorphism from this we deduce the following basic result theorem 19 9 assume we are given a basic bundle construction f f for s with underlying basic construction f f assume that the natural topology t for s is metrizable then the natural topology t for e is metrizable further for objects in s and f f mmm mmm has in a natural way the structure of a strong bundle over a m polyfold hence there is an associated strong bundle construction f mmm for p e s remark 19 9 the results in chapter 19 allow to construct polyfold structures on certain groupoidal categories s as well as certain bundles over them p e s once p is equipped with the structure as a strong bundle over a polyfold we can study section functors s of p of particular interest are sc fredholm functors which can be studied by the methods introduced in this book see in particular chapters 17 and 18 19 7 covering constructions the main point in this section is the description of a basic type of construction which provides a given finite to one covering functor p a b defined below with an adapted uniformizer construction where the uniformizers respect the struc ture functor p and in addition are sc smoothly compatible as such this is a gen eralization of the ideas in section 19 1 and quite close to the corresponding strong bundle version given in section 19 6 recall definition 19 1 for the notion of a groupoidal category we shall denote by a the class of objects associated to a and by aaa the class of morphisms similarly for b they are denoted by b and bbb definition 19 15 a finite to one covering functor p a b is a functor be tween two groupoidal categories which has the following properties 1 p is surjective on objects and the preimage of every object is finite 2 the assignment aaa bbbs pa which maps to p s is a bijection 666 19 general constructions remark 19 10 note that there is no topology in play and compare with defini tion 17 26 essentially the above definition reflects the properties ii and iii from 17 26 we shall discuss constructions which shall also define topologies on a and b these additional structures will turn under suitable assumptions the groupoidal categories a and b into gct s and p into a proper covering functor next we shall introduce the notion of uniformizer but for the lack of having a topol ogy on the orbit spaces the definitions will not involve a topology for the moment definition 19 16 given a finite to one covering functor p a b a proper covering uniformizer or uniformizer for short for p at the object in b with isotropy g consists of a pair of functors e a and gno b where e gno is a proper ep groupoid covering model see definition 17 28 so that the following holds 1 the distinguished point o is mapped by to 2 the functors and are fully faithful and injective on objects and fit into the commutative diagram e a y p y gno b 19 1 3 the diagram 19 1 is cartesian see the next definition definition 19 17 the functor diagram 19 1 is cartesian provided on the object level the image of the functor pair e o a precisely consists of all pairs o a such that p a o on the morphism level the following is required if belongs to aaa and p g o then there exists eee with g o and e let us make the following observations concerning definition 19 16 recalling def inition 17 28 we see that on the object level e is the disjoint union of finitely many open subsets o a where a varies in 1 o so that oa a o o is an sc diffeomorphism this implies that on the object level ob b is determined by via o p o a 1 19 7 covering constructions 667 moreover is determined on morphisms as follows since is a proper ep groupoid covering model the map eee mor gno s e s is an sc diffeomorphism given a morphism g o g o we can fix a point o o a satisfying o o we find a unique eee such that g o and s o then by commutativity of the functor diagram g o p hence we have proved the following lemma lemma 19 1 let e gno be a proper ep groupoid covering model p a b a finite to one covering functor and e a having the property that there exists a uniformizer gno b so that is a proper covering uniformizer then is uniquely determined by remark 19 11 as a consequence rather than referring to definition 19 16 we shall just refer to a uniformizer for p this then implicitly implies that there exists a fitting into the obvious commutative diagram as shown such a is unique if it exists as before we can introduce the notion of a uniformizer construction which fits the current context definition 19 18 given a finite to one covering functor p a b a proper cov ering uniformizer construction or simply just a uniformizer construction is given by a functor f b set which associates to an object a set f of unifomiz ers for p at in the sense of definition 19 16 or the remark after lemma 19 1 remark 19 12 the construction associates to a set of uniformizers for p and from this data we can construct the associated as already pointed out in previous discussions f usually has more structure and very often is a functor on b in a next step we note that given f there are transition sets associated and since this data also determines and we obtain transition data for the latter the sets mmm and mmm are naturally related by the map p p mmm mmm p e e e p e 19 2 we note that the map p is surjective and the preimage of each point is a finite set using the same arguments as in lemma 17 10 we obtain the following result 668 19 general constructions lemma 19 2 the map mmm mmm s e defined by e e p e e s e e e p e e is a bijection we shall list the various transition sets which we can build the source and target maps fit into the following diagram e s mmm t e y p y y o s mmm t o the inversion maps and unit maps give the following two diagrams mmm mmm p y p y mmm mmm e u mmm y p y o u mmm finally the multiplication is compatible with the structural p maps mmm s tmmm m mmm ps tp y p y mmm s tmmm m mmm as in section 19 1 we can consider transition constructions f see definition 19 4 for the transition sets mmm and mmm of course since we have the struc tural maps p these constructions should be in some sense p compatible and we shall introduce the needed compatibility requirements definition 19 19 assume p a b is a finite to one covering functor and f is a uniformizer construction for p given transition constructions f for sets of the form mmm and f for sets of the form mmm we say that they are p compatible if the following holds given h mmm we have a germ f h o e s h mmm h u f h u and for h mmm fh o o s h mmm h u fh u we require that given h mmm the following holds 19 7 covering constructions 669 p f h u fp h u for u near to s h 19 3 each of these transition constructions f and f satisfy a list of properties which are stated before definition 19 4 the fact that a and b are related by the covering functor p requires us to demand a compatibility between f and f which we stated above recall that e gno on the object level is a local sc diffeomorphism and it maps sc diffeomorphically the neighborhood germs o e s h o o s p h hence it relates with h p h the germ f h with the germ fh recall that f h and fh can be written as follows fh u u h u fh u and f h u u h u f h u 19 4 we explore the equality given in 19 3 and infer that for u near o s h with fh t fh and f h t f h p u u and f h u fh u 19 5 this also implies that the germs of sc diffeomorphisms fh are uniquely determined by the f h indeed for a 1 o the restriction a oa a o o of is a sc diffeomorphism hence picking an a 1 o we can write fh u f h 1 a u for u near s h where h p h moreover we must have h u p h 1 a u for u near s h 19 6 and therefore the germ fh is given by fh u u p h 1 a u f h 1 a u 19 7 having the transition construction for p we obtain a natural topology t for a and a natural topology t for b see section 19 2 further mmm and mmm obtain natural metrizable topologies as discussed in section 19 3 and natural m polyfold structures as shown in theorem 19 4 of section 19 5 proposition 19 8 considering mmm and mmm with their natural m poly fold structures the map p mmm mmm is sc smooth and a surjective local sc diffeomorphism moreover the map 670 19 general constructions mmm mmm s e o o p o o o 19 8 is a sc diffeomorphism proof we already know that p is surjective pick any h mmm and define h p h defining o s h and o s h we find an open neighborhoods u o and u o so that the following holds 1 u o u o is a sc diffeomorphism 2 f h u o mmm is a sc diffeomorphism onto an open neighborhood u h 3 fh u o mmm is a sc diffeomorphism onto an open neighborhood u h from the property p f h u fh u we see that p k fh f 1 h k k u h this implies that the image of p equals u h and that as a composition of sc diffeomorphisms the map p u h u h is a sc diffeomorphism since s mmm o is a local sc diffeomorphism it follows that mmm s e has a natural m polyfold structure which is obtained from the fact that mmm s e is a sub m polyfold of mmm e the map in 19 8 is a bijection and since s mmm e is sc smooth and p is sc smooth we infer that the map in 19 8 is sc smooth to complete the proof it suffices to show that this map is a local sc diffeomorphism pick h mmm and define h p h introducing o s h and o s h we find sufficiently small open neighborhoods u o u h u o and u h such that u o u o fh u o u h and f h u o u h are sc diffeomorphisms we note that the following map is a local sc diffeomorphism u o mmm s e u u fh u 1 u then 1 u f h 1 u which shows that 1 near h o is sc smooth this completes the proof in order to obtain polyfold structures for a and b it is important that the natural topologies satisfy the properness property and that the topologies are paracompact since the data for a and b is intertwined it follows that the properness property for t and t are equivalent requirements and the same holds for the paracompactness property lemma 19 3 let a and b be equipped with the natural topologies then the map p is continuous and open proof let b be given take a representative and a proper covering uni formizer giving the diagram 19 7 covering constructions 671 e a y p y gno b 19 9 passing to orbit spaces we obtain the following commutative diagram where the horizontal maps are topological embeddings e a y p y g o b take an open neighborhood u contained in the image of and let u o be the preimage under since is continuous we see that p 1 u 1 u o which is an open set this proves continuity in order to obtain the openness we just need to show that is open indeed if a we can take a representative and define p we need to show that the image of an arbitrarily small open neighborhood of is open we take a proper covering uniformizer which as usual is with underlying we take a e with a and take a small open neighborhood u a e so that u a u b is an sc diffeomorphism for a suitable open neighborhood u o by a standard fact u a and u o are open now we notice that p u a u o which follows from the commutative diagram 19 9 we shall need some more information about p lemma 19 4 for every z b and given open neighborhoods u z and u of p 1 z there exists a proper covering model e gno with o z so that the following holds 1 there exists an open g invariant neighborhood v o in o having the proper ness property and satisfying v o u z 2 there exist points a 1 ak 1 o and open neighborhoods v ai invariant under the gai action and having the properness property so that the v ai are mutually disjoint and 672 19 general constructions p 1 v z k i 1 v ai u 19 10 proof given z we pick an object representing it and a proper covering model pick a maximal collection of points a 1 ak e with ai b so that any two of them are not connected by an isomorphism then denote by ak 1 ak the other preimages we can find for i 1 k arbitrarily small open neighborhoods v ai invariant under the gai action so that the restrictions of are sc diffeomorphisms onto suitable open neighborhoods of o we can arrange by taking possibly smaller sets that their images are all the same and using the properness property for e that there are no morphisms starting in v ai and ending in v a j for i 6 j where i j 1 k denote the common image of these sets by u o then we have the sc diffeomorphisms v ai u o and the sets v ai are mutually disjoint perhaps passing to smaller sets we may assume that v ai u for i 1 k and u o u z it holds for every i 1 k that p v ai v ai u o v z 19 11 with the definitions of v ai and v z in 19 11 it follows that p 1 v z k i 1 v ai u next we are ready to give a result relating the paracompactness for the natural topologies on a and b as well as the properness properties proposition 19 9 assume that p a b is a proper covering functor and we are given a uniformizer construction f as well as a transition construction f with underlying f and f then for the natural topologies it holds that t has the proper ness property if and only t has the properness property proof assume first that t has the properness property take any uniformizer e a for p recall that the object space e is a disjoint union of finitely many oa 1 oak each of which admits the natural gai action part of the struc ture are morphisms which relate the different oai in any case we can consider a oai by assumption given o oai there exists an open neighborhood u o such that a sequence q u o with q z in a t must have a converging subsequence in oai say without loss of generality q q with q z by taking u o small enough and assuming that o oai we find an open neighbor hood u o o o such that u o u o is a sc diffeomorphism it suffices 19 7 covering constructions 673 to show that cl b u o o take a sequence z j u o converging to some z b we can pick b j u o with b j z j and find b j u o i with b j b j it holds p b j b j z if we can show that b j has a convergent subsequence say without loss con verges to some z a it follows from the assumption that z oai this would imply that z o and the proof would be completed we take a proper cover ing model around a representing z and for large j we can express the given data with respect to this model employing lemma 19 4 we infer that a subsequence of b j converges and the proof of the first part of the assertion is complete assume next that t has the properness property given a proper covering model and uniformizers we find for given o o an open neighborhood u o such that cl b u o o we can take u o so small that we have for ev ery a 1 o an open neighborhood u a so that u a u o is an sc diffeomorphism we show that given such a u a it holds that cl a u a e assuming that a j u a and a j z in a we see that a j p a j p z z by assumption z o and it follows from lemma 19 4 that for large j the points a j belong to an arbitrary neighborhood of p 1 z this implies our asser tion since then a subsequence of the a j has to converge to an element a e with a z this completes the proof of the properness assertion proposition 19 10 assume that p a b is a proper covering functor and we are given a uniformizer construction f as well as a transition construction f with underlying f and f then t is paracompact if and only t is paracompact proof the basic input we shall need is lemma 19 4 assume first that t is para compact we start with an open covering u of a in a first step we take a suitable refinement which has the following property for every z b the preim age p 1 z is given by finitely many points z 1 z k a applying the lemma we find v z and vz z i v ai such that p 1 v z tki 1 vz z i and every vz z i is contained in one of the sets u then collection of all vz z i with z varying in b and i 1 kz is an open covering of b and a refinement of u the collection v z z b is an open covering of b and since its topology t is paracompact we find a locally finite open covering with the same index set many sets may be empty denoted by vz such that vz v z taking the preimage 674 19 general constructions by p we obtain vz z i with i 1 kz this collection is clearly a refinement of u let us first show that vz z i is an open covering the openness is clear and moreover a p 1 b z p 1 vz z z i vz z i next let us show that the covering is locally finite for this let o a and define o p o we find an open and sufficiently small neighborhood w o such that there are only finitely many z with vz w o 6 0 take w o p 1 w o as the open neighborhood of o if vz z i w o 6 0 then w o vz 6 0 this implies that there are finitely many such sets this shows that t is paracompact next assume that t is paracompact let u be an open covering of b again we apply lemma 19 4 and find v z z b which is a refinement of u and has the property p 1 v z tkzi 1 vz z i then the collection of all vz z i is an open covering of a using the same index set we find open vz z i vz z i such that the new collection vz z i is locally finite then for every z and i 1 kz the sets p vz z i v z are open define wz i p vz z i z b i 1 kz then the whole collection wz i is an open covering and refines u z we finish the proof by showing that the collection is locally finite for any point o b we find an open neighborhood w w p 1 o which is only intersected by finitely many vz z i and denote by w the image of w under p if for some z i it holds that wz i w 6 0 it holds that vz z i w 6 0 however there are only finitely many indices z i for which the latter holds this completes the proof of the second part finally we show among other things that p is a sc smooth functor theorem 19 10 assume that p a b is a proper covering functor and f and f are a uniformizer construction as well as a transition construction for p suppose further that the natural topology for a or for b has the properness property and is paracompact then a and b have natural polyfold structures the local representatives of p with respect to a proper covering model e gno is hence p is an sc smooth functor moreover for and with mmm aaa e e and mmm bbb o o the natural maps we have the commutative diagram 19 8 covering constructions for strong bundles 675 aaa p s bbbs pa x x mmm p s mmm s e where the image of p s restricted to the image of is the image of hence p s aaa bbbs pa is an sc smooth functor proof we have shown that the paracompactness for t is equivalent to that of t the same holds for the properness property hence the assumption implies that our data equips a as well as b with a polyfold structure the proper covering functor p a b is with respect to any and the underlying in the local proper covering model e gno represented by which follows immediately from the commutative diagram e a y p y gno b hence p is an sc smooth functor locally with respect representable by a proper covering functor between ep groupoids given consider aaa p s bbbs pa x x mmm p s mmm s e where the first vertical arrow maps e e to and the second vertical ar row maps o o e to e here the bottom horizontal arrow is a sc diffeomorphism which implies that the top arrow is sc smooth represented on the image of 19 8 covering constructions for strong bundles we shall finish this chapter by discussing strong bundle constructions associated to p a b the different ingredients have already been discussed in previous sections and the main point of our consideration is to point out the compatibility requirement between these different constructions when they have to fit together the starting point is a finite to one covering functor p a b and ban valued functors 676 19 general constructions a a ban and b b ban recall that ban is the category of banach space with the morphisms being topolog ical isomorphisms we assume these functors to be related via a natural transforma tion a b p 19 12 the natural transformation provides us for every object in a with a topological linear isomorphism a b p 19 13 in addition for every morphism in a say we obtain the commutative diagram a b p a y b p y a a p denote by ea the obvious bundle category with objects v where v a and is an object in a the morphisms in ea are the pairs v with v a s and is a morphism in a s v v t a v similarly we define eb to consist of the objects v with morphisms v s v v t b v we define a functor p ea eb covering p a b by p v p v 19 14 p v p s v pa v pb v this fits into the following commutative diagram abbreviated by e e ea p eb pa y pb y a p b v p p v pa y pb y p p 19 15 19 8 covering constructions for strong bundles 677 where we note that for fixed the map a 3 v v b p is a topological linear isomorphism the morphisms are mapped as follows v p p s v pa y pb y p p definition 19 20 a bundle covering square is given by the diagram e in 19 15 associated to the finite to one covering functor p a b between groupoidal categories and the natural transformation a b p where a a ban and b b ban are functors in section 19 6 we discussed how a general construction will provide pa ea a and pb eb b with the structure of strong bundles over polyfolds previously we also discussed a general construction to equip p a b with the structure of a proper covering functor if these three constructions show a certain compatibility we obtain a general construction of proper strong bundle covering functors our aim is to describe a procedure which would equip e with a uniformizer as well as a transition construction since we have to consider a certain number of sym bols at the same time we use a notation which differs somewhat from the previous sections it should not cause any confusion the local sc smooth models for our situation abbreviated by k take the form k w w q y q y e e 19 16 here q w e and q w e are strong bundles over an ep groupoids we assume that e gno where o contains the distinguished point o which is mapped to the object moreover e e is a proper covering functor of ep groupoids induced by the strong covering functor w w between strong bundles the functor w w in 19 16 defines a topological linear isomorphism q 1 e q 1 e w e w a morphism w w e w is mapped by to w w e w in diagram form this looks as follows 678 19 general constructions w w e w y y w w e w since the following identity holds e w e w 19 17 so that we can rewrite the diagram as w w e w y y w w e w definition 19 21 we shall refer to the diagram k described in 19 16 and with the properties just listed as a strong bundle covering model next we can introduce the notion of a uniformizer for e definition 19 22 given a bundle covering square e let be an object in b a uniformizer for e at the object written as k e consists of a strong bundle covering model k and four uniformizers e b and e a 19 18 w eb and w ea such that is in the image of and the following holds 1 is a uniformizer for the finite to one covering p a b 2 is a bundle uniformizer for pb eb b 3 is a bundle uniformizer for pa ea a moreover the uniformizers described by fit into the commutative diagram 19 8 covering constructions for strong bundles 679 w ea e a w eb e b where the horizontal arrows represent the uniformizers we explain the form of the uniformizers next is defined on the special ep groupoid e g n o and maps an object e o to an object e in b and a morphism to the functor w eb maps w w to w which has the form w e ae w where e q w and ae q 1 e p 1 b e is a topological linear isomorphism a morphism in w has the form w with q w s w w e w and is mapped as w ae w the functor e a maps an object e to e and a morphism to the functor maps w w to w a morphism w w e w is mapped to an element of the form w a e w where a e q 1 e p 1 a is a linear topological isomorphism and q w e the following commutative diagram lists the relevant maps on the object level w e a e w e q w e w w e ae w p e a e w e e e 680 19 general constructions there are the following relationships p e e for e e 19 19 e a e w ae w for w w q w q w and w w on the morphism level we obtain the diagram w a e w w ae w and we have the following relationship p for e 19 20 next we consider the transition construction we already assume that we have tran sition constructions as described before for the covering and strong bundle situa tions the main point here is to emphasize the necessary compatibility associated to k e k we can take the weak fibered products which produces the diagram mmm mmm ppp mmm m mm y mmm y mmm ppp mmm from the previous discussions we already understand separately mmm ppp mmm covering section 19 7 mmm m mm mmm strong bundle section 19 6 mmm mmm mmm strong bundle section 19 6 19 8 covering constructions for strong bundles 681 the new ingredient is the top horizontal arrow for each of the four ingredients we assume that we have transition constructions which are related in a way we shall describe next we begin with the bottom part of the diagram mmm ppp mmm recall that the morphisms in a are written as and in b as given h o o mmm let h o o ppp h o o and require that f h o e s h mmm h u f h u is related to fh o e s h mmm h u fh u via ppp f h u fh u for u near s h 19 21 since is a local sc diffeomorphism fh is determined by f h we note that this re quirement is precisely the one used in the proper covering construction discussed in a previous section next we consider the strong bundle mmm mmm mmm the transition map we shall denote by fffh which is a germ fitting into the commu tative diagram w o e o fffh mmm q y mmm y o e o fh mmm h and the following relationship holds mmm fffh w fh q w with q w near o 19 22 finally we consider mmm m mm mmm then the relevant germ is f ff h is w o e o f ff h mmm q y m mm y o e o f h mmm h 682 19 general constructions and the compatibility condition is given by m mm f ff h w f h q w with q w near o 19 23 so far the discussion is governed by the material from previous sections the additional requirement is a compatibility of fffh and f ff h namely we have to require with h ppp h ppp f ff h w fffh w for q w near o 19 24 since is a local sc diffeomorphism it follows that fffh is determined by f ff h from the previous discussion we already know that fffh determines fh and f ff h determines f h definition 19 23 let p a b be a finite to one covering construction and a a ban and b b ban and a b p a natural transformation denote the associated bundle cov ering square by e a uniformizer construction for e is given by a functor fff b set which associates to an object a set of uniformizers fff at the object and where k e are defined on strong bundle covering models k finally given a uniformizer construction f ff for e we define a transition construction definition 19 24 let fff b set be a uniformizer construction for the bundle covering square e a transition construction mmm for fff associates to the four transition sets associated to mmm the transition constructions fh f h fffh and f ff h with the compatibilities previously described we obtain the following result theorem 19 11 assume that fff is a uniformizer construction and mmm a transition construction for the bundle covering square e suppose further that the natural topology t for b satisfies the properness condition and it is paracompact then he natural topologies for a b ea and eb are all metrizable further 19 8 covering constructions for strong bundles 683 ea p eb pa y pb y a p b obtains the structure of proper strong bundle functor as described at the end of section 17 7 references 1 p albers a simple example of an m polyfold relevant to morse theory ias video 2 j p aubin and i ekeland applied nonlinear analysis wiley 1984 3 a adem j leida and y ruan orbifolds and stringy topology cambridge tracts in math ematics 171 cambridge university press cambridge 2007 xii 149 pp 4 f bourgeois y eliashberg h hofer k wysocki and e zehnder compactness results in symplectic field theory geometry and topology vol 7 2003 pp 799 888 5 v borisovich v zvyagin and v sapronov nonlinear fredholm maps and leray schauder degree russian math survey s 32 4 1977 p 1 54 6 h cartan sur les re tractions d une varie te c r acad sc paris t 303 serie i no 14 1986 p 715 7 k cieliebak i mundet i riera and d a salamon equivariant moduli problems branched manifolds and the euler class topology 42 2003 no 3 641 700 8 s donaldson and p kronheimer the geometry of four manifolds oxford mathematical monographs oxford science publications the clarendon press oxford university press new york 1990 9 j dungundji topology allyn and bacon 1966 10 d ebin the manifold of riemannian metrics 1970 global analysis proc sympos pure math vol xv berkeley calif 1968 pp 11 40 amer math soc providence r i 11 y eliashberg a givental and h hofer introduction to symplectic field theory geom funct anal 2000 special volume part ii 560 673 12 h eliasson geometry of manifolds of maps j differential geometry 1 1967 169 194 13 o fabert j fish r golovko and k wehrheim polyfolds a first and second look ems surveys vol 3 issue 2 2016 pp 131 208 14 j fish and h hofer the polyfolds of symplectic field theory in preparation 15 j fish and h hofer construction of symplectic field theory in preparation 16 a floer and h hofer coherent orientations for periodic orbit problems in symplectic geom etry math z 212 1993 no 1 13 38 17 r fry and s mcmanus smooth bump functions and the geometry of banach spaces epos tiones mathematicae 20 2002 143 183 18 k fukaya and k ono arnold conjecture and gromov witten invariants topology vol 38 no 5 1999 pp 933 1048 19 k fukaya y g oh h ohta and k ono lagrangian intersection floer theory anomaly and obstruction i and ii ams ip studies in advanced mathematics vol 46 amer math soc international press 2009 20 c godefry s troyanski j h m whitfield and v zizler smoothness in weakly compactly generated banach spaces j func anal 52 1983 344 352 685 686 references 21 p gabriel and m zisman calculus of fractions and homotopy theory ergebnisse vol 35 springer 1967 22 m gromov pseudoholomorphic curves in symplectic geometry inv math vol 82 1985 307 347 23 a haefliger structures feuillete es et cohomologie a valeur dans un faisceau de groupo des comment math helv 32 1958 248 329 24 a haefliger homotopy and integrability in manifolds amsterdam 1970 133 163 springer lecture notes in math 197 1971 25 a haefliger groupo des d holonomie et classifiants aste risque 116 1984 70 107 26 a haefliger groupoids and foliations contemp math 282 2001 83 110 27 j heinonen lectures on lipschitz analysis report university of jyva skyla department of mathematics and statistics 100 university of jyva skyla jyva skyla 2005 ii 77 pp 28 m hirsch differential topology graduate texts in mathematics vol 33 springer 29 h hofer pseudoholomorphic curves in symplectizations with applications to the weinstein conjecture in dimension three invent math 114 1993 no 3 515 563 30 h hofer mini course on polyfolds ias video 31 h hofer a general fredholm theory and applications current developments in mathe matics edited by d jerison b mazur t mrowka w schmid r stanley and s t yau international press 2006 32 h hofer polyfolds and fredholm theory in lectures on geometry edward witten martin bridson helmut hofer marc lackenby and rahul pandharipande general editor n m j woodhouse oxford university press 2017 33 h hofer k wysocki and e zehnder the dynamics on three dimensional strictly convex energy surfaces ann of math 2 148 1998 no 1 197 289 34 h hofer k wysocki and e zehnder finite energy foliations of tight three spheres and hamiltonian dynamics ann of math 2 157 2003 no 1 125 255 35 h hofer k wysocki and e zehnder deligne mumford type spaces with a view towards symplectic field theory lecture note in preparation 36 h hofer k wysocki and e zehnder a general fredholm theory i a splicing based dif ferential geometry jems volume 9 issue 4 2007 841 876 37 h hofer k wysocki and e zehnder a general fredholm theory ii implicit function theorems geometric and functional analysis volume 19 2009 206 293 38 h hofer k wysocki and e zehnder a general fredholm theory iii fredholm functors and polyfolds geometry topology 13 2009 2279 2387 39 h hofer k wysocki and e zehnder integration theory on the zero set of polyfold fred holm sections math ann 346 2010 no 1 139 198 40 h hofer k wysocki and e zehnder erratum integration theory on the zero set of polyfold fredholm sections preprint 41 h hofer k wysocki and e zehnder finite energy cylinders with small area ergodic theory dynam systems 22 2002 no 5 1451 1486 42 h hofer k wysocki and e zehnder sc smoothness retractions and new models for smooth spaces dynamical systems volume 28 number 2 october 2010 pp 665 788 43 h hofer k wysocki and e zehnder applications of polyfold theory i the polyfolds of gromov witten theory memoirs of the american mathematical society volume 248 num ber 1179 218 pages 44 c hummel gromov s compactness theorem for pseudo holomorphic curves progress in mathematics vol 151 birkha user verlag 1997 45 s lang introduction to differentiable manifolds second edition springer new york 2002 46 g liu and g tian floer homology and arnold conjecture j differential geom 49 1998 no 1 1 74 47 j li and g tian virtual moduli cycles and gromov witten invariants of general symplectic manifolds topics in symplectic 4 manifolds irvine ca 1996 first int press lect ser i int press cambridge 1998 47 83 references 687 48 k mackenzie lie groupoids and lie algebroids in differential geometry london mathemati cal society lecture note series 124 cambridge university press cambridge 1987 xvi 327 pp isbn 0 521 34882 x 49 y manin frobenius manifolds quantum cohomology and moduli spaces ams colloquium publications volume 47 50 d mcduff groupoids branched manifolds and multisections j symplectic geom 4 2006 no 3 259 315 51 d mcduff and k wehrheim the fundamental class of smooth kuranishi atlases with triv ial isotropy to appear journal of analysis and topology 52 d mcduff and k wehrheim smooth kuranishi atlases with isotropy to appear in geometry topology 53 d mcduff and k wehrheim the topology of kuranishi atlases to appear in proceedings of the london mathematical society 54 d mcduff and k wehrheim kuranishi structures for spherical gromov witten moduli spaces in preparation 55 e michael a note on paracompact spaces proc am math soc vol 4 no 5 oct 1953 pp 831 838 56 i moerdijk orbifolds as groupoids an introduction in orbifolds in mathematics and physics madison wi 2001 contemp math 310 amer math soc 2002 205 222 57 i moerdijk and j mrc un introduction to foliation and lie groupoids cambridge studies in advanced mathematics vol 91 2003 58 h omori infinite dimensional lie transformation groups lecture notes in mathematics vol 427 springer verlag berlin new york 1974 xi 149 pp 59 j pardon an algebraic approach to virtual fundamental cycles on moduli spaces of j holomorphic curves geom topol 20 2016 no 2 779 1034 60 j rosenberg applications of analysis on lipschitz manifolds miniconferences on harmonic analysis and operator algebras canberra 1987 269 283 proc centre math anal austral nat univ 16 austral nat univ canberra 1988 61 w rudin functional analysis second edition mcgraw hill new york 1991 62 j sacks and k uhlenbeck the existence of minimal immersions of 2 spheres ann of math 2 113 1981 no 1 1 24 63 h schaefer topological vector spaces graduate texts in mathematics vol 3 springer verlag new york berlin 1971 xi 294 pp 64 r schultz partitions of unity and a metrization theorem preprint 65 yu m smirnov a necessary and sufficient condition for metrziability of a topological space doklady akad nauk sssr n s 77 1951 197 200 66 j t schwartz nonlinear functional analysis gordon and breach new york 1969 67 s smale an infinite dimensional version of sard s theorem american journal of mathe matics vol 87 no 4 pp 861 866 68 s suhr and k zehmisch polyfolds cobordisms and the strong weinstein conjecture adv math 305 2017 1250 1267 69 h triebel interpolation theory function spaces differential operators north holland ams terdam 1978 70 k wehrheim fredholm notions in scale calculus and hamiltonian floer theory arxiv 1209 4040 71 k wehrheim introduction to polyfolds ias video 72 d yang a complete theory of kuranishi structures and the polyfold kuranishi correspon dence nyu ph d thesis 2013 73 d yang the polyfold kuranishi correspondence i a choice independent theory of kuranishi structures arxiv 1402 7008 74 e zeidler nonlinear functional analysis and its applications i fixed point theorems springer 1993 75 a zinger the determinant line bundle for fredholm operators construction properties and classification math scand 118 2016 no 2 203 268 index t r br 19 k c f e f 45 o c e 16 19 p 271 u c e 7 u f i 44 v o c e 20 x d 150 ce 35 cx 28 cxo 29 cxx 38 d w w w 364 e f 5 ei 28 ee 35 ei 28 ei e 3 gnu 232 h sc x 150 hi 28 k i 45 km k 45 mu 299 n 418 n x 454 sb 300 sg 300 s h 0 303 s f 527 t o c e 16 19 t u c e 7 t z c 549 t r r 18 tc 585 t 227 t t c t c 584 t z t kz m 315 t rx x 38 txo 22 t rx o 29 t 198 t f 17 t f to c 0 t f 58 to c 0 58 u f 44 x y z 342 xm 21 x 377 xu 334 y 0 1 151 x f z y 350 a b 149 d w w 364 u s 462 h 583 d x y 350 i 302 231 p 65 p 274 p 65 p 275 1 u p 162 m p s p st p 462 457 k x 149 ep x 269 x 149 x x 150 k ep x 269 eee 186 t 189 689 690 index eee 188 z 501 z 501 457 uuu g 231 uuu x 231 uuu x x 446 det t det s det t s natural isomorphism 200 p t 193 p t det t det pt 193 p qt det qt det pt 193 q t det t det qt 193 ind t 6 e e 185 det t det t 199 e 184 184 e 184 br 19 s br 46 cbasic 80 j x x 459 u 446 t 298 t f 523 309 supp 454 supp x 454 mor e p 333 ban 584 det f x 205 det e f 203 diffsc 279 diff sc 610 fred p 65 fred p 275 lin f x 182 det t 189 dom supp 454 ind f x 182 ml x 227 cone around h 0 303 o x x d 491 o x x 491 658 227 g rf x 535 a 457 d x v o c e 27 d ix ix 459 d x f z y 348 dc 11 dx 27 dz 545 d x 544 f o c 0 f 58 n dimensional 292 p k o 45 e 333 347 epc 410 f 364 eee exact sequence 186 eee t p 192 eee t p exact sequence 192 n 27 b s 323 b s 327 e p 228 e p e 1 350 fx 516 fx x 516 l s 323 l s 327 m s l s 323 m s l s 327 o c 0 58 p 544 ph 191 px f o f 213 ps 542 r 18 s e p f 1 364 e p 333 347 e p e 1 347 pc 410 s e p 364 grf x 519 sc germ of neighborhoods 57 allowable sc sections 162 allowable sc sections 1 u p 162 base footprint 606 basic construction 644 biregularity 0 1 151 boundary of 307 bundle inversion map 661 bundle multiplication map 661 bundle source map 660 bundle target map 660 bundle unit map 660 c characterization of do for tame o 41 c classical smoothness properties of solution germs 79 index 691 c computation of dxc 33 c dependence of f 388 c dependence of f 388 c equivalences and forms 382 c equivariant extension 433 c germ solvability ii 95 c global implicit function theorem 71 c local compactness and regularity 65 c metrizability criterion 247 c partitions of unity 256 c pull back of forms 385 c stability of surjectivity 87 c weak stability of basic germs 83 cartan s last theorem 15 category s pbs 554 category of banach spaces ban 584 category of polyfold structures 542 category of strong bundle structures 554 class of equivalences 333 class of strong bundle equivalences 364 closed 293 common refinement 349 compact 293 compact solution set 567 compact solution set ep groupoid case 435 compatibility of strong bundle charts 47 cone 29 coordinate wise ck embedding 178 covering family of uniformizers 617 covering set of uniformizers 578 d 1 map 226 d sc multisection 453 d sc section over x 432 d trivial over v 454 d p transtion construction 668 d sc polyfold section 559 d ck bump function 174 d y equivalence 318 d z arc 498 d z equivalent 498 d z loop 497 d e tale 227 d admissible perturbation 527 d admitting sc smooth bump functions 632 d admitting sc smooth partitions of unity 632 d atomic sc multisection 475 d auxiliary norm 151 626 d auxiliary norm for p 418 d auxliary norms for srong polyfold bundles 556 d basic class 80 d basic construction 644 d basic germ 61 d basic strong bundle construction 662 d bi action on j x x 460 d boundary 604 d boundary of 309 d boundary of a polyfold 546 d boundary of a tame oriented branched orbifold 562 d boundary of an m polyfold 27 d branched ep subgroupoid 292 d branched suborbifold 560 d bundle covering square 677 d bundle map 19 d bundle model 19 d bundle retraction 19 d canonical algebra l s 327 d canonical algebra l s 323 d canonical orientation for f 537 d cartesian diagram 666 d category s b f 1 366 d category diff sc 610 d category e p e 1 354 d category of ep groupoids 228 d category of strong bundles 364 d classes m p s p st p 462 d closed or compact 293 d coarse moduli space 629 d commensurable sum 474 d common refinement 349 410 d common refinements as equivalence relation 350 d compact 595 d compact homotopy 167 d compact moduli space 629 d compact polyfold fredholm section 567 d compact sc fredholm problem 167 d compact solution set 155 d compactness control n u 527 d compactness notions 435 d compatibility for f 517 d component compact subset 247 d composition of sc smooth polyfold maps 544 d continuity property of o 637 d continuous orientations 212 d contraction germs 76 d controls compactness 629 d correspondence 460 d correspondence from ix to ix 459 d covering functor 279 d de rham complex 602 d decorated sc multisection 457 d degeneracy index 11 545 d degeneracy index dx 27 692 index d determinant 189 d dimensional decomposition of 297 d domain support of 454 d domain support of 564 d effective 239 d effective ep groupoid 239 d ep groupoid 226 d ep groupoid admitting sc smooth bump functions 426 d ep groupoid with paracompact orbit space 249 d ep groupoid properness 227 d ep subgroupoid 237 d equivalence 335 d equivalence between proper coverings 404 d equivalence of u s 462 d equivalence of diagrams 459 d equivalence of morphisms in ps 543 d equivalence of strong polyfold bundle structures 553 d equivalences 333 d equivalent polyfold structures 540 d equivalent manifold structure 131 d essential points 315 d face 39 d face of c 593 d face of a tame ep groupoid 377 d face of an m polyfold 39 d face structured 554 d face structured ep groupoid 377 d face structured polyfold 547 d filled version 61 d filling 59 97 d filling of a sc smooth section germ 59 d finite to one covering functor 665 d functor between proper coverings 404 d gct 574 d general position 528 d general position of f x 164 d generalized isomorphism 352 d generalized map 352 d generalized strong bundle isomorphism 366 d geometric lift 280 d good complement 69 d good left projection 189 d good neighborhood of x x 483 d good point 299 d good position 69 98 d good position at a a 141 d good position of f 525 d good structured version 489 d good system 446 d good system of neighborhoods x case 485 d groupoid 225 d groupoidal category 641 d induced degeneracy index 228 d induced map 351 d inverse map 226 d isotropy group 226 d linearization f 624 d linearization of f 523 d local uniformizer 237 575 d locally finite family 458 d m polyfold 146 d m polyfold 21 d measure zero 317 322 d minimal linear subspace 35 d mixed convergence 154 424 627 d multiplication map 225 d natural bi action on uuu x x 447 d natural equivalence 362 d natural isomorphism for det t s 200 d natural representation of y 236 d natural topology on mmm t 1 t 2 587 d natural transformation 266 363 d non effective part 241 d non essential points 315 d orientability of 311 d orientable neighborhood 212 d orientable sc fredholm section functor 637 d orientable sc fredholm section ii 213 d orientable sc fredholm section i 213 d orientation bundle o f 441 d orientation for m 313 d orientation for 314 d orientation for 311 d orientation for f 569 637 d orientation for sc fredholm section functor 441 d orientation of t 189 d orientation of an sc fredholm section 214 d orientations of det f x 205 d oriented branched suborbifold 561 d paracompact polyfold 541 d partial cone 29 d partial quadrant 7 d partial quadrant ce 35 d partition py 318 d partitions of unity on ep groupoids 418 d pointwise norm n 454 d polyfold 540 577 d polyfold admitting bump functions 541 d polyfold admitting partions of unity 542 d polyfold category 544 index 693 d polyfold fredholm section 567 d polyfold structure 539 d polyfold structure for c t 576 d product a 457 d proper 155 d proper covering functor 275 609 d proper covering model 611 d proper covering uniformizer 614 d proper covering uniformizer construction 615 d proper polyfold covering structure 615 d properness property 251 651 d pseudo inverse 459 d push forward of forms 382 d push forward of sc differential form 382 d pushforward and pullback of 389 d reduced linearization 528 d reduced morphisms 241 d reduced tangent space 29 38 d refinement of d 348 d refinement of a good system 446 d reflexive 0 1 fibers 153 d reflexive 1 fibers 153 d reflexive auxiliary norm 154 424 627 d reflexive local compactness property 159 d reflexive local compactness property category context 629 d reflexive local compactness property ep groupoid context 436 d regular point 239 d regularizing section 65 d sc de rham complex 270 d sc mulisection functor 631 d sc multisection 563 d sc multisection over x 484 d sc multisection over z 565 d sc operator 4 d sc retract 133 d sc retraction 132 d sc section 46 48 d sc section functor 275 d sc section over x 172 d sc charts 20 d sc differentiability 7 d sc differential form 268 d sc fredholm functor 417 d sc fredholm germ 63 98 d sc fredholm operator 6 d sc fredholm section 65 d sc fredholm section functor 275 d sc isomorphism 4 d sc mapping germ 58 d sc operator 4 d sc section germ 59 d sc smooth atlas 21 d sc smooth map 21 d sc smooth map between polyfolds 544 d sc smooth partitions of unity for ep groupoids 250 d sc smooth retraction 15 d sc smooth section 48 d sc structure 3 d sc subspace 4 d section 46 d section functor 274 d set of bad points 300 d set of good points 300 d set of lineraizations 625 d smooth retract 16 d smooth submanifold 139 d source map 225 d space of linearizations 182 d splicings 36 d strong bundle 47 d strong bundle chart 47 d strong bundle covering model 678 d strong bundle equivalence 357 d strong bundle functor 273 274 d strong bundle isomorhism 45 d strong bundle map 44 d strong bundle over an ep groupoid 271 d strong bundle section 559 d strong bundle unifomizer 659 d strong bundle uniformizer construction 660 d strong local bundle 45 d strong polyfold bundle 554 606 d strong polyfold bundle structure 552 608 d strong polyfold bundle with reflexive 1 fiber 557 d structurable sc multisection x case 486 d structurable sc multisection 461 564 d structurable sc multisection functor 631 d structurable sc multisection over z 565 d structured sc multisection x case 485 d structured ac multisection 462 d sub m polyfold 25 d submanifold in general position 143 d subordinate good system 446 d subpolyfold 545 592 d sum of sc multisections 457 d support of 454 d symmetric sc section structure 456 484 d system of symmetric sc section structures 456 d tame 595 d tame branched ep subgroupoid 314 694 index d tame ep groupoid 228 d tame local strong bundle retract 45 d tame local unifomizer 575 d tame m polyfold 38 d tame polyfold 547 d tame sc smooth retraction 35 d tame strong bundle retraction 45 d tame strong polyfold bundle 554 d tame submanifold 142 d tangent t 306 d tangent germ property 71 d tangent map 17 d tangent of 227 d tangent of 597 d tangent of o c 0 57 d tangent of a polyfold 550 d tangent of a retract 16 d tangent space 22 d tangent space t c 584 d tangent tuple 7 d tangent vector at 583 d target map 225 d the category s pbs 554 d tightly structured 466 d topology t 664 d topology t 647 d transformation of 394 d transition requirements for strong bundles 662 d transition set 575 d translation groupoid 574 d transversal at x 523 d transversal pair f 523 d transversal to the zero section 163 d transversality 523 d types of 294 d types of branched suborbifolds 560 d uniformizer at 642 d uniformizer construction 575 643 d uniformizer for a bundle covering square 678 d vector bundle gct 605 d weak fibered product 342 d weakly face structured 554 d weakly face structured polyfold 547 d weakly proper 155 double filtration 45 equivalence between categories 334 equivalence of diagrams 350 equivalence relation i i 302 equivalent polyfold structure 396 essentially surjective 579 essentially surjective functor 333 face structured polyfold structure 540 faithful functor 232 333 footprint 575 606 full functor 232 333 general position of f x 166 generalized strong bundle map 364 good points 299 good position of f x 166 good position to c c 592 homogeneous element 601 index of sc fredholm germ 182 induced degeneracy map 376 inversion map 575 l da versus dx 28 l basic germ criterion iii 105 l basic germ criterion ii 104 l basic germ criterion i 104 l characterization of dm x 0 307 l characterization of effectiveness 239 l characterization of equivalences 334 l characterization of paracompactness 51 l common refinements 349 l comparison of auxiliary norms 152 l continuity and openness of p 670 l derivative of a basic germ 62 l differential forms ii 383 l differential forms i 380 l equivalence relation 583 l fragmentation 334 l good points 299 300 l hausdorffness of orbit spaces 245 l higher regularity of solution germ 77 l image of sc retraction 133 l induced map by a diagram 351 l local closedness of 293 l local metrizability of orbit spaces 244 l local property of dx 27 l measure zero 322 l morphism invariance 326 l openness of regular set 239 l properties of z and z 501 l properties of tame r 40 l reduced tangent 29 l refinements of d 348 l regularity of orbit spaces 246 l restriction of u 326 l sc retractions 132 l sc sections i 161 l scalar product 457 l structure of f 1 x i 286 l structure of f 1 x ii 287 index 695 l structure of f 1 x iii 287 l tameness of splicings 36 l well definedness of u 323 l well definedness i i i 458 l well definedness of eee 187 level m points 21 lift of 658 lift of morphism 272 linearization 181 local branching structure 292 local determinant bundle 202 local representation of 453 local section structure 453 local uniformizer 575 locally closed 140 293 locally equidimensional 292 manifold type 294 measure zero 327 multiplication map 575 nagata smirnov metrization theorem 642 natural equivalence 266 natural representation 231 orbifold type 294 orbit space 226 574 ordered face structured 378 orientability 311 orientation 311 oriented 310 oriented lift t 311 p auxiliary norms 399 p banach space t c 584 p basic construction for orientation ii 209 p basic construction for orientation i 205 p basic equality for tame retracts 37 p basic properties of submanifolds 140 p boundary of face structured x 378 p characterization of sc retractions 133 p closedness property 251 p composition and induced maps 353 p composition of coverings 276 p correspondence of faces 380 p countable neighborhood basis 229 p criteria for orientability 442 p density result 240 p dependence on f 386 p diffeomorphism invariance of dx 27 p effectiveness of xr 244 p ep subgroupoids 238 p equivalence of properness criteria 652 p equivalences ii 336 p equivalences i 336 p exactness of eee t p 192 p existence of bump functions under equivalence 541 p existence of continuous partitions of unity on ep groupoids 419 p existence of local uniformizers 236 p extension of 468 p extension of sc sections 432 p fibered products 43 p finite dimensional sc subspaces 5 p finiteness of gx 230 p fredholm property of basic germs 62 p geometric lift 281 p good position and partial quadrants 69 p index lifting 247 p intrinsic geometry of retracts 16 p invariance of tangent germ property 72 p lie bracket 149 p line bundle structure for det f x 205 p line bundle structure of det e f 204 p local closure relation 229 p local equivalence of auxiliary norms 153 p metrizability characterization 654 p metrizability for t 664 p mixed convergence in polyfold bundles 558 p natural representation of y 233 p naturality of 185 p number of local faces 41 p openness of 229 p paracompactness 51 p paracompactness under lifts 249 p properties of t x 23 p properties of a filler 60 p properties of faces 41 p properties of sub m polyfolds 25 p properties of tame r 39 p properties of tame retractions 36 p pull back of strong bundles 48 p pullback p 617 p push forward and pull back of sc multi sections 401 p reduced ep groupoid 242 p regularizing property 6 p restrictions of retracts 20 p sc perturbations 7 p sc differentiability 9 p sc differentiability under lifts 9 p sc quotients 5 p sc smoothness versus ck 9 p smooth structures from types 294 p stability of ind f x 183 p strong bundle equivalences ii 360 696 index p strong bundle equivalences i 358 p structure of f 1 x 288 p tangent map 17 p tangent of a natural transformation 267 p the functor c 584 p well definedness of 308 p well definedness of eee 188 p whitney sum polyfold bundle structure 599 paracompact 249 partial cone 29 31 38 partial cone c c t c 592 partial ordering on t 190 partial quadrant 31 point wise norm of 631 points of regularity m 4 polyfold 397 polyfold structure 577 polyfold structure on z 396 principal part of a section 46 proper ep groupoid case 435 pull back of the sc multisection 400 pull back 594 push forward of a sc multisection 400 quotient topology 229 r compactness control 161 r remark on how to transport notions and results over to the categorical setting 592 r t x as ep groupoid 264 r atomic perturbations 475 r bump functions or geometric perturbations 527 r comment on polyfold constructions 657 r comment on proposition 2 10 147 r comment on solution regularity 84 r comments on the notion of sc fredholm germ 64 r controlling compactness 160 r extensions of sc sections 431 r face structured and generalized isomor phisms 379 r functoriality of uniformizer constructions 643 r good position 143 r important remark about non continuity of d f x 8 r important remark about correspondences 496 r invariants by triangulations 538 r on det t 190 r on o i 65 r on being face structured 378 r on being structurable 461 r on corresponences 461 r on fibered products of sc multisection functors 528 r on finite dimensional branched ep subgroupoids 292 r on finite dimensional submanifolds 291 r on general position 166 r on good points 300 r on good position and general position 528 r on hausdorffness 645 r on homotopies 164 r on linearizations 520 r on mixed convergence 424 r on orientations 441 r on orientations for sc fredholm sections 214 r on points with dm x 0 307 r on polyfolds 355 r on proper coverings 277 r on sc fredholm section functors 624 r on sc smooth partitions of unity 632 r on sc smoothness partitions of unity 251 r on strong polyfold bundles 412 r on tameness 183 r on the categorical reflexive local compactness property 630 r on the constructions of auxiliary norms 425 r on the continuity property of o 637 r on the definition of sc fredholm section 68 r on the equivalence of subpolyfold notions 592 r on the formalism for orientations 525 r on the functor 310 r on the interpretation of certain diagrams 365 r on the notion of finite dimensional manifold 140 r on the notion of basic class 62 r on the properties of solution germs 79 r on the sc implicit funtion theorem 65 r on topological questions 647 r on transitions 649 r on transversality theory using sc multisections 524 r on uniformizer constructions 576 r on uniformizer constructions for gct s 609 r other notions of differentiability ssc smoothness 8 r philosophy of perturbations 626 r possible generalizations of domains 8 19 index 697 r question concerning stokes theorem 328 r questions about branched ep subgroupoids 327 r questions on non tame branched ep groupoids 315 r remark concerning extensions 484 r remark concerning proposition 10 4 340 r remark on cxo 29 r remark on 39 310 r remark on auxiliary norms 557 r remark on chain rule 10 r remark on good position 99 r remarks on polyfold structures 396 r remarks on transition constructions 644 r sc smoothness of natural transformations 362 r tameness and partial quadrants 31 38 r topological content and orientations 534 r transversality versus functoriality 431 r unions of covering families 581 raising the index of x 21 reduced ep groupoid 243 reduced tangent 31 reduced tangent t r c 592 refinement xu 334 reflexive 1 fibers 424 reflexive auxiliary norm 557 regular part of an ep groupoid 239 regular topological space 246 regularity filtration of c 581 regularity of an object 581 saturated 458 saturated subset 250 sc germs 58 sc differential k form on the ep groupoid 268 sc smooth section 46 sc splitting 5 small category 225 solution category s f 527 629 source map 575 strong bundle map 273 strong bundle retraction 45 structure maps 575 643 sub polyfold 545 surjectivity of t f x 523 t extension theorem 487 t global implicit function theorem 102 t atomic decomposition 480 t basic germ criterion 103 t basic properties of do 31 t basic structure of ep groupoids 231 t boundary integration 604 t boundary local perturbation 525 t boundary operation and equivalences 395 t branched ep subgroupoids under generalized isomorphisms 390 t bump functions 427 t canonical boundary measures 328 t canonical orientation t f o 537 t category associated to 578 t chain rule 10 t characterization of generalized inverse 353 t characterization of smooth manifolds 132 t characterization of subsets with tangent germ property 73 t characterization of tame submanifolds 142 t compactness properties 158 t composition for d 352 t construction of 477 478 t continuous partitions of unity 250 t controlled atomic sc multisection 480 t controlled extension of neighborhoods 630 t corner recognition 11 t equivalence of compactness notions 155 t existence of sc sections 429 t existence of a good system 450 t existence of auxiliary norms 418 628 t extension of a good partial system 448 t extension of auxiliary norms 422 426 558 t extension of controlling u n 159 t extension of controlling u n ep groupoid context 437 t extension theorem for sc sections 173 t extensions for compatible f 518 t extensions of sc functors 434 t faces as sub m polyfolds 43 t fibered families and sard 147 t fredholm homotopy morse type 167 t functor t 298 t functoriality of t on ep groupoids 266 t general position 529 t generalized bundle isomorphisms 367 t generalized sc smooth maps and forms 380 t germ implicit function theorem 79 t global implicit function theorem 102 t good neighborhood 419 t implicit function theorem 68 99 t implicit function theorem ii 70 t inherited paracompactness of t x 268 t integration associated to 323 t interior local perturbation 523 t invariants for oriented proper sc fredholm sections 215 t local compactness 64 158 t local germ solvability i 90 t local regularity and compactness 84 698 index t local solution germ 77 t local structure of submanifolds 144 t localization 354 t main orientation result 213 t metrizability of xm 22 t morita equivalence 580 t natural polyfold structure for c 1 582 t natural strong bundle structure for mmm 665 t natural topology t 663 t naturality properties of o f 442 t orientation bundle 441 t orientation of solution set 214 t parameterized perturbations 67 t partitions of unity 251 t perturbation general position 164 t perturbation good position 167 t perturbation interior case 162 t polyfold stokes 563 t propagation of orientation 212 t proper covering ii 283 t proper covering i 277 t pull back of structurable 467 t pullback by proper covering functors 472 t push forward of structurable 471 t reflexive auxiliary norms 425 557 t regularity of solution germ 77 t smirnov s metrizability theorem 51 t stability of compactness 629 t stability of sc fredholm sections 65 t stokes 150 t stokes theorem 328 t stokes theorem in polyfolds 604 t strong bundle equivalences and sections 361 t structurability 475 t tangent functor for polyfolds 551 t tangent functor in e p e 1 375 t tangent of an equivalence 337 t tangent of ep groupoids 258 t tangent of functors 265 t tangent representation 134 t the functor on e p e 1 355 t topological properties 244 t topological properties of mmm 664 t transformation of canonical boundary measures 397 t transformation of canonical measures 396 t transformations and boundaries 395 t transformations of t 395 t transformations of orientation 393 t transversal extension 533 t uniqueness result for generalized strong bundle isomorphisms 367 t uniqueness theorem for generalized isomorphisms 355 t weak fibered product 343 t weak stability of basic germs 80 t well defined t f 520 tame polyfold construction 577 tame polyfold structure 540 tangent category 591 tangent functor 18 tangent functor for polyfolds 551 tangent map 23 tangent of 306 tangent space of a polyfold 549 target map 575 transition construction 644 transition set 643 translation groupoid 232 574 trivial near a point 464 trivially acting element in gx 241 unit map 575 urysohn s metrization theorem 642 weakly face structured polyfold structure 540 weight 292 weights 453 part i basic theory in m polyfolds 1 sc calculus 1 1 sc structures and differentiability 1 2 properties of sc differentiability 1 3 the chain rule and boundary recognition 1 4 appendix 1 4 1 proof of the sc fredholm stability result 1 4 2 proof of the chain rule 1 4 3 proof lemma 1 1 2 retracts 2 1 retractions and retracts 2 2 m polyfolds and sub m polyfolds 2 3 degeneracy index and boundary geometry 2 4 tame m polyfolds 2 5 strong bundles 2 6 appendix 2 6 1 proof of proposition 2 1 2 6 2 proof of theorem 2 2 2 6 3 proof of proposition 2 5 3 basic sc fredholm theory 3 1 sc fredholm sections 3 2 subsets with tangent structure 3 3 contraction germs 3 4 stability of basic germs 3 5 geometry of basic germs 3 6 implicit function theorems 3 7 conjugation to a basic germ 3 8 appendix 3 8 1 proof of proposition 3 3 3 8 2 proof of lemma 3 9 3 8 3 proof of lemma 3 10 3 8 4 diffeomorphisms between partial quadrants 3 8 5 an implicit function theorem in partial quadrants 4 manifolds and strong retracts 4 1 characterization 4 2 smooth finite dimensional submanifolds 4 3 families and an application of sard s theorem 4 4 sc differential forms 5 fredholm package for m polyfolds 5 1 auxiliary norms 5 2 compactness results 5 3 perturbation theory and transversality 5 4 remark on extensions of scpiy sections 5 5 notes on partitions of unity and bump functions 6 orientations 6 1 linearizations of sc fredholm sections 6 2 linear algebra and conventions 6 3 the determinant of a fredholm operator 6 4 classical local determinant bundles 6 5 local orientation propagation 6 6 invariants 6 7 appendix 6 7 1 proof of lemma 6 1 6 7 2 proof of proposition 6 5 part ii ep groupoids 7 ep groupoids 7 1 ep groupoids and basic properties 7 2 effective and reduced ep groupoids 7 3 topological properties of ep groupoids 7 4 paracompact orbit spaces 7 5 appendix 7 5 1 the natural representation 7 5 2 sc smooth partitions of unity 8 bundles and covering functors 8 1 the tangent of an ep groupoid 8 2 sc differential forms on ep groupoids 8 3 strong bundles over ep groupoids 8 4 proper covering functors 8 5 appendix 8 5 1 local structure of proper coverings 8 5 2 the structure of strong bundle coverings 9 branched plusplus subgroupoids 9 1 basic definitions 9 2 the tangent and boundary of plu 9 3 orientations 9 4 geometry of local branching structures 9 5 integration and stokes 9 6 appendix 9 6 1 questions about mpol polyfolds 9 6 2 questions about branched objects 10 equivalences and localization 10 1 equivalences 10 2 the weak fibered product 10 3 localization at the system of equivalences 10 4 strong bundles and equivalences 10 5 localization in the strong bundle case 10 6 appendix 10 6 1 proof of theorem 10 3 10 6 2 proof of theorem 10 4 11 geometry up to equivalences 11 1 ep groupoids and equivalences 11 2 sc differential forms and equivalences 11 3 branched epep subgroupoids and equivalences 11 4 equivalences and integration 11 5 strong bundles up to equivalence 11 6 coverings and equivalences part iii fredholm theory in ep groupoids 12 sc fredholm sections 12 1 introduction and basic definition 12 2 auxiliary norms 12 3 sssc section functors 12 4 compactness properties 12 5 orientation bundle 13 sccc multisections 13 1 structure result 13 2 general bss multisections 13 3 structurable scpp multisections 13 4 equivalences coverings and structurability 13 5 constructions of scyuo multisections 14 extension of scpl multisections 14 1 definitions and main result 14 2 good structured version of lam 14 3 extension of correspondences 14 4 implicit structures and local extension 14 5 extension of the scppl multisection 14 6 remarks on inductive constructions 15 transversality and invariants 15 1 natural constructions 15 2 transversality and local solution sets 15 3 perturbations 15 4 orientations and invariants 16 polyfolds 16 1 polyfold structures 16 2 tangent of a polyfold 16 3 strong polyfold bundles 16 4 branched finite dimensional orbifolds 16 5 scpl multisections 16 6 fredholm theory part iv fredholm theory in groupoidal categories 17 polyfold theory for categories 17 1 polyfold structures and categories 17 2 tangent construction 17 3 subpolyfolds 17 4 branched epplll subcategories 17 5 sc differential forms and stokes 17 6 strong bundle structures 17 7 proper covering constructions 18 fredholm theory in polyfolds 18 1 basic concepts 18 2 compactness properties 18 3 scqq multisection functors 18 4 constructions and extensions 18 5 orientations 18 6 perturbation theory 19 general constructions 19 1 the basic constructions 19 2 the natural topology t for s 19 3 the natural topology for mpp 19 4 metrizability criterion for tt 19 5 the polyfold structure for st 19 6 a strong bundle version 19 7 covering constructions 19 8 covering constructions for strong bundles references index