energy optimal point to point motion profile optimization energy optimal point to point motion profile optimization nick van oosterwyck a d foeke vanbecelaere b e 1 ferre knaepkensc michael monteb e kurt stockmanb e annie cuytc f stijn derammelaerea d adepartment of electromechanics cosys lab university of antwerp groenenborgerlaan 171 2020 antwerp belgium bdepartment of electrical energy metals mechanical constructions and systems ghent university campus kortrijk 8500 kortrijk belgium cdepartment of mathematics and computer science university of antwerp middelheimlaan 1 2020 antwerpen belgium dansymo cosys flanders make the strategic research center for the manufacturing industry eflandersmake ugent core lab eedt mp fcollege of mathematics and statistics shenzhen university shenzhen guangdong 518060 china abstract position controlled systems driving repetitive tasks are of significant importance in industrial machinery the elec tric actuators used in these systems are responsible for a large part of the global energy consumption indicating that major savings can be made in this field in this context motion profile optimization is a very cost effective solution as it allows for more energy efficient machines without additional hardware investments or adaptions in particular mono actuated mechanisms with position dependent system properties have received considerable attention in liter ature however the current state of the art methods often use unbounded design parameters to describe the motion profile this both increases the computational complexity and hampers the search for a global optimum in this pa per chebyshev polynomials are used to describe the motion profile moreover the exact bounds on the chebyshev design parameters are derived this both seriously reduces the computational complexity and limits the design space allowing the application of a global optimizer such as the genetic algorithm experiments validate the added value of the chosen approach in this study it is found that the energy consumption can be reduced by 62 9 compared to a standard reference motion profile keywords motion profile optimization point to point motion energy efficiency validation cad model 2020 msc 49 1 introduction in the last decades economic considerations and stricter government regulations have driven engineers to come up with new techniques to reduce the energy consumption of industrial machinery statistics indicate that electric motors are generally responsible for about 2 3 of the industrial electricity consumption which in dicates that major savings are to be made in this field 1 corresponding author email addresses nick vanoosterwyck uantwerpen be nick van oosterwyck foeke vanbecelaere ugent be foeke vanbecelaere ferre knaepkens uantwerpen be ferre knaepkens michael monte ugent be michael monte kurt stockman ugent be kurt stockman annie cuyt uantwerpen be annie cuyt stijn derammelaere uantwerpen be stijn derammelaere 1 equal contribution in this context several technologies and methods have been developed to reduce the electrical energy con sumption of mechatronic systems so called motion profile optimization starts from the idea that in many industrial applications only part of the motion is con strained by the process requirements hence an opti mization potential rises in the non constrained part of the position function t in between the start and end point of the point to point ptp motions fig 1 figure 1 motion profile of a ptp movement with constraints a b ta and tb 1 ar x iv 2 20 1 01 59 5 v 1 ee ss s y 5 j an 2 02 2 by modifying the position function t between a fixed start ta a and endpoint tb b it is possible to minimize one or several design objectives such as energy 2 motion time 3 4 machine cost 5 and vibrations 6 moreover since these industrial ap plications often involve repetitive movements the mo tion profile optimization effect will be perceptible every machine cycle thus making it an indispensable step in modern energy efficient machine design 1 1 related work dedicated machines with single axis servo mecha nisms are omnipresent in industrial production pro cesses especially given the tendency to evolve towards dedicated actuators for each machine movement 7 in this context several approaches have been presented in the past literature to optimize the motion profiles of these one dof systems in 3 6 8 9 10 optimal motion profiles are ob tained for mechanical systems with constant load pa rameters such as the inertia j nevertheless as indicated in literature 11 7 12 it is essential to consider varying loads to cover the majority of machine applications however in those cases obtaining an analytic de scription of the position dependent system properties is a challenging task for industrial machine designers for instance 12 13 14 15 use hamilton s principle and lagrange multipliers to obtain the differential algebraic equations of the system in 16 a method of virtual work is described to obtain the system matrix while 17 determines the inertia profile using the method of ki netic energy such approaches are cumbersome com plex and error prone and are not easily applicable es pecially given the trend indicated in 18 that there is a demand for methods that take into account the ease of implementation fortunately machine builders often already design their machines in 3 d cad multibody software which can be used to extract crucial information hence in 19 and 7 the authors of this paper describe a tech nique to derive the position dependency of critical pa rameters inertia j and load torque l based on only three cad motion simulations if the load model is known optimization algorithms can iterate on it to minimize energy usage for what concerns these optimization algorithms several approaches are possible on the one hand 8 and 20 use an indirect approach such as pontryagin s maximum principle to obtain the best possible control however this method tends to be abandoned recently due to the small convergence area and difficulties incor porating constraints 21 on the other hand direct approaches recast the opti mization into a nonlinear optimization problem which can be solved with different numerical methods in par ticular 2 and 11 use gradient based methods such as sequential quadratic programming sqp or quasi newton methods that are known to have very low solve times and good scalability however these algorithms can only deliver local optimal solutions and are not suited for problems with multiple minima as indi cated in 22 the optimum obtained with gradient based methods is greatly influenced by the selected starting points which are to be chosen arbitrarily to avoid this problem heuristic optimization algo rithms 19 14 12 7 such as generalized pattern search gps or genetic algorithms ga are of interest in contrast to gradient based algorithms that do not search the entire design space derivative free algorithms like ga often sample a wide part of the design space in or der to be successful 23 nevertheless because these heuristic solvers do not exploit gradient information they are not computationally competitive with gradient based methods 24 regarding the motion profile function several papers rely on piecewise position functions 11 7 where ei ther cubic quintic or trigonometric splines are used however the objective functions in these works are characterized by many local minima causing the risk of getting stuck in a suboptimal solution for instance in 25 the usage of cubic splines resulted in a savings dif ference of 18 between the global and local optimum on the other hand continuous motion profile func tions such as classic polynomials 19 14 12 9 6 are also popular because they do not introduce high jerk peaks into the system which increases the wear of the components however the resulting optimiza tion problem is known to be badly conditioned for example in 19 the coefficients reached values up to 1 8 1020 therefore the authors of this paper proposed chebyshev polynomials and rescalings in 2 to obtain a more numerically stable problem formulation and to in crease the robustness against getting stuck in local min ima moreover in contrast to the classical polynomial descriptions the design variables of chebyshev polyno mials can be bounded as is shown in this paper 1 2 method in light of the considerations mentioned above a cad based method for computing energy optimal ptp point to point motion profiles of single dof mech anisms using chebyshev polynomials has been previ ously presented by the authors in 2 however due 2 to the numerous symbolic calculations involved in con structing the objective function solve times of almost 2 hours were reported in addition the solutions in 2 were obtained using gradient based solvers which have a high risk of getting stuck in local minima finally only theoretical reductions were reported thus leaving the feasibility of the proposed motion profiles undeter mined this paper builds upon these previous results by providing five critical improvements in order to reduce the computational burden a dis crete approach is presented which eliminates the use of symbolic operations to do so the dis crete system property data which originates from the cad motion simulations have to be properly rescaled and interpolated as an accurate model of the system dynamics is crucial for a correct optimization the dynamics of the mechanism are extended by including damping and friction into the optimization routine in ad dition a new identification procedure is described which is validated on an industrial case a derivation for exact bounds of the chebyshev polynomial coefficients is introduced this allows limiting the feasible design space the latter is es sential for heuristic optimizers to reduce their com putation time and the chances that the global opti mum remains unidentified to check the robustness of the proposed method against getting stuck in local optima the result ing optimization problem is solved with both a fast gradient based and a global heuristic solver i e ga experimental tests have been carried out on an in dustrial pick and place unit to quantify the actual measured energy savings 2 system modeling the complete mechatronic system can be divided into two subsystems fig 2 on the one hand there is the mechanical subsystem which describes the dynamics of a generic single axis system for high dynamical ap plications these systems usually consist of slider crank mechanisms and four bar linkages 7 nevertheless the approach is valid to any position controlled system where the mechanism is driven by a single actuator on the other hand there is the actuation subsystem which converts the electrical energy into mechanical energy and drives the mechanism for the envisaged position controlled systems pmsms are becoming the industry standard for rotary applications whereas linear motors are used for fast and precise linear movements 26 in fig 2 the pmsm actuator is represented by an equivalent dc model r l mu e i mechanical subsystemactuation subsystem load figure 2 schematic of the q axis of a single axis mechanism 2 1 mechanical subsystem the dynamics of a single axis dof mechanism can be described by means of the torque equation 11 27 m t l j a 1 2 dj d 2 v f 1 with reference to fig 2 and equation 1 let us de fine t as the lagrangian coordinate which de scribes the angular position of the main driving axis as a function of time t the motor torque m is defined as the driving torque generated by the motor the load torque l contains both gravitational forces as well as external process powers that act on the mechanism furthermore all inertias of the mechanism s compo nents are related to the main driving axis resorting to the concept of reduced moment of inertia therefore the reduced inertia of the complete system j is de fined as a combination of the reduced load inertia jl and inertia of the motor shaft itself jm note that the position dependent inertia of the system j results in two torque components when it is reduced to the motor side the acceleration torque a represents the part of the motor torque responsible for the motor acceleration forces that arise during the movement while the varia tion torque v compensates for the variation of inertia in the system finally the frictional torque f is defined as the result of frictional forces such as for instance viscous brush friction or dry bearing friction in the motor bear ings and mechanical system a commonly used model of friction shows three components of force coulomb sliding friction viscous damping and static friction 3 28 regarding the pmsm as indicated in 29 p 175 the only appreciable friction effect in operation is vis cous friction thus coulomb and static frictions can be neglected in the pmsm model for what concerns the mechanical model only the viscous damping is mod eled since the other friction components are constant and will not have an effect on the optimal motion pro file f v 2 with v the equivalent viscous friction coefficient the key benefit of the formulation in 1 is that it per mits to model every possible mechanism with a known geometry and allows to define a generic optimization approach 2 2 actuation subsystem concerning the dynamics of the pmsm as depicted in fig 2 represented by an equivalent dc model the electromechanical behavior can be easily described by the following basic laws 30 p 843 m kti 3 u ri l di dt e ri l di dt pkv 4 with electric back emf e resistance r back emf con stant kv motor torque constant kt and number of pole pairs p which can be found in the motor data sheet in equation 4 the voltage drop l didt due to the ar mature inductance is omitted as the mean value of its reactive power will be zero and therefore does not con tribute to the system s energy need 11 depending on whether the electric power flows from the drive unit to the pmsm s or vice versa the pmsm operates in respectively motor or generator mode in this latter condition depending on the capabilities of the drive unit the generated electric power can be ei ther stored in a capacitor dissipated as heat on a brak ing resistance or transferred back to the energy source recent commercial pmsm drives are sized so that no electric power is actually dissipated during normal func tioning so that the braking resistance is actually acti vated only under emergency conditions 7 therefore in what follows it is assumed that all the generated en ergy is returned to the grid and no losses occur in the process for a correct model of the actuation subsystem and prediction of the energy usage it is important to model other losses such as cooling fans and drive circuitry as well nevertheless the power consumption of these de vices is generally considered constant and is therefore not affected by the motion profile 31 in order to minimize the total energy need e of the application it is crucial to quantify the input energy of the complete system therefore similar to 7 a formu lation of the input electrical energy e is derived and a torque based design objective is obtained which allows minimizing the energy solely based on the mechanical parameters starting from equations 3 and 4 the instantaneous power pe is defined as pe u i r k 2 t 2 m pkv kt m 5 the motion profile is defined on the time interval t ta tb and must have zero initial and final speed and acceleration i e ta tb ta tb 0 the total energy can be expressed as e tb ta pe dt tb ta r k 2 t 2 m pkv kt m dt 6 then by incorporating the torque equation from 1 the total energy of the motion is given by e pkv kt tb ta a v dt ek pkv kt tb ta l dt ep tb ta r k 2 t 2 m pkv kt f dt el 7 here the first term ek represents the kinetic energy of the moving masses in the system due to the rest to rest motion of the envisaged applications this term reduces to zero further the term ep represents the potential en ergy stored in the system as this term ep only depends on the fixed start a and end position b it is disregarded in the optimization routine 7 the final term el repre sents the energy that is lost due to the coil resistance and frictional forces and is the only term that is affected by optimizing the motion profile t nevertheless in many industrial applications the frictional forces f are negligible 8 especially if the inertial loads are pre dominant thus the energy losses el can be expressed as el tb ta r k 2 t 2 mdt r t k 2 t 2 rms 8 4 where rms is the rms value of the motor torque m this proves that the rms torque rms can be effectively used as an optimization objective to minimize the total energy usage of the system this is very useful in situ ations where the motor coil properties are unknown or where parameters are missing 7 3 identification 3 1 inertia and load torque identification of all the position varying parameters in the highly nonlinear differential torque equation 1 is not straightforward fortunately machine builders design their machines in 3 d cad multibody software for this reason 7 and 19 describe a technique to de rive the position dependency of critical parameters in ertia j and load torque l based on three cad motion simulations fig 3 gravity off driver gravity off driver gravity on driver cad motion simulations figure 3 schematic overview of the procedure for extracting position dependent properties j and l based on three different cad motion simulations 19 in this paper the identification routine is illustrated by applying it to an industrial pick and place unit fig 4 that performs repetitive movements between start point a with angular position a 0 and endpoint b with angular position b 173 6 the resulting iner tia j and load torque l profiles are presented in fig 5 because of the machine position limits a and b only the green shaded part of the system properties is relevant during operation 3 2 viscous friction coefficient once the system properties j and l are deter mined the only indefinite term in eq 1 is the friction torque f and more specifically k in the previous de scription of the energy flows the friction torque f was neglected leading to a simple objective i e rms to quantify the energy consumption however it is im portant to verify this statement for the intended setup therefore this section describes a method to quantify the frictional forces f figure 4 experimental set up left and schematic overview right of the pick and place unit figure 5 values of system properties inertia j and load torque l since the viscous friction coefficient k parameter is highly dependent on the practical setup it is often only possible to determine this parameter experimen tally therefore a first measurement is carried out by using an arbitrary motion profile t as a set point and recording the resulting actual motor torque em t and po sition e t the arbitrary motion profile t can be de termined by using a default motion law such as a trape zoidal or s curve profile after this measurement a least squares fit can be used to determine the experimental value of k by fitting the torque model m e t k with the measured torque em however using the measured position e and its time derivatives e e in the torque equation 1 leads to un feasible results since the derivatives amplify any noise that is present in the measurement therefore the mea sured position e t is fitted with an n th degree polyno mial p t n i 1 ait i and differentiated symbolically to smooth out any noise the friction parameter v is thus determined by com paring the measured torque em t with virtual model and fitted motion profile m p t minimize v r em t m p t v 2 9 for the pick and place unit a viscous damping co efficient of 0 0157 nms rad was found in fig 6 a comparison of the measured em t and virtual m p t 5 torque is presented the difference between the virtual torques with and without friction is minimal which in dicates that the friction can be neglected for the present case the graph also shows a close correlation between the virtual and measured torque which indicates that the virtual model can be effectively used to minimize the rms torque rms and by extension the energy con sumption e figure 6 comparison of the virtual m p t and measured torque em t with and without friction 4 optimization approach 4 1 motion profile definition rescaling in this paper a chebyshev polynomial n i 0 piti x is used to define the position profile t where t ta tb in between the start ta a and endpoint tb b of the motion task the sequence of orthogonal chebyshev polynomials tk x tk cos defined on the interval x 1 1 is obtained from the recurrence relation t 0 x 1 t 1 x x tk 1 x 2 xtk x tk 1 x 10 alternatively the polynomials can be derived from the trigonometric definition which gives exactly the same results tk x tk cos cos k 11 to use tn x as a representation for the position pro file a linear transformation from t into the range 1 1 of x is required 32 t 1 2 tb ta x 1 2 tb ta ax b 12 where scale factors a and b are defined for the pur pose of the following paragraphs in addition the po sition a b is also rescaled to the interval 1 1 which makes it possible to obtain strict bounds on the design space in 32 thus the rescaled motion profile description x of degree n with optimizable co efficients p p 0 p 1 pn t is obtained x n i 0 piti x x 1 1 13 the output of the motion simulations in the previous section deliver ns samples of inertia j j 1 jns t load torque l l 1 l ns t and corresponding an gle query points 1 ns t due to the posi tion rescaling of the motion profile x the angle query points have to be rescaled accordingly 2 b a b a b a c d 14 moreover as the property description is now defined on the rescaled interval 1 1 the following re lationship holds with regard to the derivative properties such inertia variation dj d dj d 1 2 b a dj d e dj d 15 when using the rescaled position profile x it is im portant to rescale the torque equation 1 as well oth erwise the resulting values of the torque profile x are distorted which results in different objective values i e rms and solutions to preserve the motor torque s ab solute values the following rescaled torque equation is introduced m x l 1 2 dj d 1 e a c 2 j a 2 c k a c 16 an overview of the position and torque rescalings is presented in fig 7 the new system equation 16 en sures the system dynamics are equally scaled and the minima are not altered for what concerns the constraints the rest to rest mo tion requires zero speed and acceleration in the start and endpoint 1 1 1 0 1 0 1 1 1 0 1 0 17 referring to 13 and by incorporating the motion profile constraints 17 the lower degree coefficients 6 t b a b t x 1 b a 1 1 1 x 1 b a 1 1 1 1 1 a b a ta tb ta tb x x figure 7 original t and rescaled position profiles x x with their corresponding torque equations p 0 p 5 t can be written as a function of the remain ing coefficients p 6 pn t such that n 5 degrees of freedom dof are kept available for the optimization algorithm 12 thus the energy optimal motion profile problem is formulated as the following minimization problem with design variable vector o p 6 pn t minimize o rn 5 rms 1 2 1 1 m x o 2 dx 18 in some applications an additional constraint of zero jerk in the begin and endpoint can be imposed to limit the vibrations 1 0 1 0 19 because of these two extra equations the dof is re duced to n 7 and the design variable vector can be expressed as o p 8 pn t 4 2 initialization design space in this paper the resulting optimization problem is solved with both a fast gradient based solver the bfgs broyden fletcher goldfarb shanno quasi newton method 33 and a global heuristic solver the genetic algorithm 34 for gradient based optimization a starting point needs to be defined the use of the chebyshev ba sis ti x in representation 13 allows initializing the optimization parameter vector at zero since the coeffi cients in a convergent chebyshev series development of the motion profile function x would converge to zero 35 here we can safely assume some similar behavior for the coefficients pi in 13 for what concerns the genetic algorithm a similar ap proach is used for the initialization of the population however because a ga often samples a wide part of the design space 23 it is beneficial to determine the exact bounds on the design vector o by doing so the solver can cover a large part of the design space and reveal the global optimal solution in the following paragraphs thanks to the rescaled chebyshev motion profile x strict bounds on the design vector o can be derived to define these bounds we take a look at the pro jection of the position profile x onto the orthogo nal chebyshev polynomial basis tl x given that x cos we introduce the inner product f f x tl x 1 1 x tl x 1 x 2 dx 2 0 cos tl cos d 20 then by taking into account the position function definition 13 we find the following result f 2 0 n k 0 pktk cos tl cos d n k 0 pk 2 0 tk cos tl cos d 21 here the integral i 2 0 tk cos tl cos d can be further simplified by using the chebyshev polynomial orthogonality properties which are rederived here for the sake of readability because of eq 11 and by using the inverse simpson rule of trigonometry the integral i can be written as i 2 0 cos k cos d 1 2 2 0 cos k d 1 2 2 0 cos k d 22 7 this integral can be split into three cases 1 k 0 i 2 23 2 k 0 i 24 3 k i 0 25 thus by taking into account 25 only the term for which k l remains in the summation f f p 2 0 cos 2 d 26 this can be split into two cases for 0 and by making use of 23 and 20 we find p 0 1 2 2 0 cos d 27 and for 0 by making use of 24 and 20 p 1 2 0 cos cos d 28 for 0 2 cos lies in interval 1 1 because of the position rescalings of the motion profile x the image cos also lies in the interval 1 1 thus we find p 0 1 2 2 0 cos d 1 2 2 0 d 1 29 and p 1 2 0 cos cos d 1 2 0 cos d 30 to calculate this last integral we use the periodic ity of the function cos this function has a period of 2 so goes times up and down on the interval 0 2 so after taking the absolute value of this func tion we find 2 times the integral over the positive part of a period for example the interval 2 2 1 2 0 cos d 2 2 2 cos d 4 31 thus the following bounds for the coefficients pi are obtained p 0 1 and p 4 1 n 32 these constraints on the design space simplify the subsequent optimization 5 results 5 1 motion profile optimization in order to assess the performance of the proposed method a set of optimizations has been performed on the industrial pick and place unit depicted in fig 4 the mechanism is required to move between its start position a of 0 and end position b of 173 6 and has a motion time t of 73 5 ms as for the constraint two different cases are considered namely jerk free jf only the boundary constraints of 17 are taken into account the corresponding rescaled chebyshev position profile x of degree n is hereafter referred to as cheb n a 5 th degree polynomial hereafter indicated as poly 5 is taken as the reference motion profile for comparison pur poses this is the smallest degree polynomial that satisfies the constraints jerk zero j 0 in addition to the constraint of a jerk free optimization a zero jerk constraint is added in the start and endpoint 19 is added to the motion profile definition the resulting n th degree position profile x is referred to as cheb n j 0 the reference motion profile is in this case a 7 th degree polynomial hereafter referred to as poly 7 j 0 for every case the resulting optimization problem is solved in a matlab environment for degrees n 7 9 11 and 13 the results are presented in fig 8 and tables 1 2 where for every motion profile the corre sponding rms torque rms and solve time tsol are dis played savings up to 54 4 are obtained in under 0 77 8 table 1 results of the motion profile optimization jerk free gradient based genetic algorithm jf rms nm tsol s rms nm tsol s poly 5 ref 22 48 22 48 trap 17 16 23 7 17 16 23 7 cheb 7 13 78 38 7 0 21 13 78 38 7 3 28 cheb 9 12 47 44 5 0 32 12 47 44 5 40 33 cheb 11 12 33 45 2 0 51 12 33 45 2 67 05 cheb 13 12 29 45 4 1 06 12 29 45 4 142 34 s the results clearly converge towards a minimal value for increasing degree n in general the motion profiles which include the jerk constraint 19 have slightly big ger rms values which is to be expected due to the fact that this extra constraint limits the acceleration near the endpoints while it is desirable to have high accelerations here since the inertia is low in table 1 the rms values of a conventional trape zoidal 1 3 motion profile are presented as well which accelerates during 1 3 rd of the time moves at a constant speed during 1 3 rd and decelerates at the last 1 3 rd 8 what is interesting in this table is that the torque de mand can already be significantly reduced by selecting an adequate default motion law notwithstanding that the greatest savings are realized after optimization it is worth noting that for the jerk free motion pro files the same solution was found for both the genetic algorithm and gradient based solver however the cal culation times with ga are considerably higher when including the jerk constraint the ga comes close but does not completely reveal the full optimization poten tial therefore for what concerns the present study gradient based optimizations algorithms are preferable since the ga did not obtain a better solution for any mo tion profile in the bounded search space we can expect that the results obtained with the gradient based method are global optimal solutions although only the forward motion is considered here similar results can be obtained for the return motion by simply changing the position constraints table 2 results of the motion profile optimization jerk 0 gradient based genetic algorithm j 0 rms nm tsol s rms nm tsol s poly 7 j 0 ref 28 44 28 44 cheb 9 j 0 16 12 43 3 0 27 16 12 43 3 6 15 cheb 11 j 0 13 61 52 2 0 38 14 11 50 4 175 23 cheb 13 j 0 12 98 54 4 0 77 13 15 53 8 195 02 figure 8 results of the motion profile optimization for different de grees n 5 2 measurements the theoretical results are validated against experi mental measurements on the pick and place unit fig 4 the setup comprises a beckhoff cx 5140 plc a beckhoff ax 5901 motor drive and a beckhoff am 3064 pmsm which is connected to the shaft of the mechanism in order to measure the input electrical en ergy a tektron pa 4000 power analyzer is used to ana lyze the power supply fig 9 motor am 3064 plc cx 5140 pick and place unit power drive ax 5901 figure 9 schematic overview of the experimental setup the theoretical savings potential of the motion profile optimization is only fulfilled when the motor is capable of following the optimized position setpoint therefore a performant motion controller needs to be designed in order to keep the tracking error as low as possible here similar to 19 a cascade controller with torque and speed feedforward is employed as it has proven to 9 table 3 experimental results with energy measurement jerk free jf rms nm rms meas nm emeas wh poly 5 22 48 19 59 312 2 trap 17 16 23 7 15 88 18 98 215 1 31 1 cheb 7 13 78 38 7 13 40 31 6 181 7 41 8 cheb 9 12 47 44 5 12 07 38 4 152 3 51 2 cheb 11 12 33 45 2 11 93 39 1 150 1 51 9 cheb 13 12 29 45 4 11 83 39 6 148 2 52 5 be successful for high dynamic systems the look up table for the feedforward torque is determined using the torque equation 16 p pi cascade control loops speed feedforward torque feedforward lookup table position lookup table torque sys tem virtual axist figure 10 schematic overview of the cascade motion controller with feedforward 19 in tables 3 and 4 the results of both the measured rms torque rms and measured input electrical energy e for different motion profiles are presented as ex pected from the simulations the lowest absolute energy consumption is obtained when using jerk free motion profiles when the jerk constraint is active a decrease of 62 9 in energy consumption can be achieved by op timizing the motion profile while a relative saving of 52 5 is possible if no extra constraint on the jerk is imposed the measured rms meas and calculated rms motor torque rms show a very high similarity which confirms that the present system model is valid 6 conclusion this study proposes a novel approach for motion profile optimization of ptp motions with chebyshev table 4 experimental results with energy measurement jerk zero j 0 rms nm rms meas nm emeas wh poly 7 j 0 28 44 25 30 458 5 cheb 9 j 0 16 12 43 3 15 81 37 5 222 9 51 4 cheb 11 j 0 13 61 52 2 13 08 48 3 170 3 62 9 cheb 13 j 0 12 98 54 4 12 72 49 7 170 8 62 7 polynomials at first system properties have been ex tracted from both cad motion simulations and mea surements to obtain an accurate virtual twin of the sys tem a chebyshev motion profile with scaling laws is presented especially novel in this paper is the deriva tion of the boundary conditions of this profile which en ables to define bounds for the design variables the lat ter allows to use an optimizer that is designed to obtain globally optimal solutions i e genetic algorithm in addition the solutions are validated with fast gradient based optimization algorithms finally experimental optimization results have been considered to verify the feasibility of the proposed solutions the numerical results achieved on an exemplary model clearly show that large rms savings of up to 53 8 can be achieved in addition it is shown that by employing chebyshev polynomials for the motion profile a fast gradient based optimization can be effec tively employed with solve times under 0 8 s at last the validation measurements show that similar savings are obtained on the real machine with a maximum energy reduction of 62 9 due to the straightforward implementation of both the optimization itself and integration of the result ing motion profiles in the motor drive the proposed method can be easily adopted in any existing configu ration where the cad is data available therefore the proposed method is expected to have a beneficial impact on the energy usage of the envisaged ptp applications acknowledgements research funded by a phd grant of the research foundation flanders fwo 1 s 88120 n references 1 h bo electric motors alignment of standards and best prac tice programmes with apec final report 2008 10 2 n van oosterwyck a ben yahya a cuyt s deram melaere cad based trajectory optimization of ptp mo tions using chebyshev polynomials in 2020 ieee asme in ternational conference on advanced intelligent mechatronics aim ieee boston 2020 pp 403 408 3 d richiedei a trevisani analytical computation of the energy efficient optimal planning in rest to rest motion of con stant inertia systems mechatronics 39 2016 147 159 doi 10 1016 j mechatronics 2016 05 004 4 d ceulemans n van oosterwyck j demetsenaere j de vi aene j steckel s derammelaere time optimal stepper motor motion profile through a novel load angle based step command optimization in 2021 ieee international electric machines drives conference iemdc ieee hartford 2021 pp 1 7 doi 10 1109 iemdc 47953 2021 9449522 5 s derammelaere m haemers j de viaene f verbe len k stockman a quantitative comparison between bldc pmsm brushed dc and stepping motor technologies 19 th international conference on electrical machines and systems 2017 6 d lee c w ha optimization process for polynomial mo tion profiles to achieve fast movement with low vibration ieee transactions on control systems technology 28 5 2020 1892 1901 doi 10 1109 tcst 2020 2998094 7 g berselli f balugani m pellicciari m gadaleta energy optimal motions for servo systems a comparison of spline interpolants and performance indexes using a cad based ap proach robotics and computer integrated manufacturing 40 2016 55 65 doi 10 1016 j rcim 2016 01 003 8 j s park motion profile planning of repetitive point to point control for maximum energy conversion efficiency under accel eration conditions mechatronics 6 6 1996 649 663 doi 10 1016 0957 4158 96 00012 8 9 g carabin r vidoni energy saving optimization method for point to point trajectories planned via standard primitives in 1 dof mechatronic systems international journal of ad vanced manufacturing technology 2021 doi 10 1007 s 00170 021 07277 y 10 c botan m ratoi f ostafi v horga minimum energy control of servo drive systems with pmsm in speedam 2010 international symposium on power electronics electri cal drives automation and motion 2010 pp 19 23 doi 10 1109 speedam 2010 5542403 11 m pellicciari g berselli f balugani on designing optimal trajectories for servo actuated mechanisms detailed virtual prototyping and experimental evaluation ieee asme trans actions on mechatronics 20 5 2015 2039 2052 doi 10 1109 tmech 2014 2361759 12 y l hsu m s huang r f fung energy saving trajec tory planning for a toggle mechanism driven by a pmsm mechatronics 24 1 2014 23 31 doi 10 1016 j mechatronics 2013 11 004 13 y l hsu adaptive tracking control of a pmsm toggle sys tem with a clamping effect international journal of mechanical engineering and applications 4 1 2016 1 doi 10 11648 j ijmea 20160401 11 14 m s huang y l hsu r f fung minimum energy point to point trajectory planning for a motor toggle servomechanism ieee asme transactions on mechatronics 17 2 2012 337 344 doi 10 1109 tmech 2010 2103366 15 j l ha r f fung k y chen s c hsien dynamic modeling and identification of a slider crank mechanism journal of sound and vibration 289 4 5 2006 1019 1044 doi 10 1016 j jsv 2005 03 011 16 k sollmann m jouaneh d lavender dynamic modeling of a two axis parallel h frame type xy positioning system ieee asme transactions on mechatronics 15 2 2010 280 290 doi 10 1109 tmech 2009 2020823 17 f vanbecelaere s derammelaere n nevaranta j de online tracking of varying inertia using a sdft approach mechatron ics 2020 18 h walsch i kolmanovsky m steinbuch l del re op timization and optimal control in automotive systems vol 455 of lecture notes in control and information sciences springer international publishing cham 2014 doi 10 1007 978 3 319 05371 4 19 n oosterwyck f vanbecelaere m haemers d ceulemans k stockman s derammelaere cad enabled trajectory op timization and accurate motion control for repetitive tasks in ieee international conference on control and automation icca vol 2019 july ieee edinburgh 2019 pp 387 392 doi 10 1109 icca 2019 8899728 20 z shiller time energy optimal control of articulated systems with geometric path constraints journal of dynamic systems measurement and control 118 1 1996 139 143 doi 10 1115 1 2801134 21 t chettibi h lehtihet m hadda s hanchi minimum cost trajectory planning for industrial robots european journal of mechanics a solids 23 4 2004 703 715 doi 10 1016 j euromechsol 2004 02 006 22 j huang p hu k wu m zeng optimal time jerk trajectory planning for industrial robots mechanism and machine the ory 121 2017 530 544 doi 10 1016 j mechmachtheory 2017 11 006 23 g wenzhong s k porandla design optimization of a paral lel hybrid electric powertrain 2005 ieee vehicle power and propulsion conference vppc 2005 2005 530 535 doi 10 1109 vppc 2005 1554609 24 j t betts a survey of numerical methods for trajectory op timization journal of guidance control and dynamics 21 2 1998 193 207 doi 10 2514 2 4231 25 a piazzi a visioli global minimum time trajectory plan ning of mechanical manipulators using interval analysis in ternational journal of control 71 4 1998 631 652 doi 10 1080 002071798221713 26 e kiel drive solutions springer 2008 27 h dresig f holzwei ig dynamics of machinery theory and applications springer berlin heidelberg 2010 28 g ellis nonlinear behavior and time variation in control system design guide butterworth heinemann 2012 pp 235 260 doi 10 1016 b 978 0 12 385920 4 00012 6 29 l c westphal handbook of control systems engineering springer us 2001 doi 10 1007 978 1 4615 1533 3 30 g rizzoni j kearns principles and applications of electrical engineering mcgraw hill london 2003 31 m gadaleta m pellicciari g berselli optimization of the energy consumption of industrial robots for automatic code generation robotics and computer integrated manufacturing 57 december 2018 2019 452 464 doi 10 1016 j rcim 2018 12 020 url https doi org 10 1016 j rcim 2018 12 020 32 w j thompson chebyshev polynomials after the spelling the rest is easy computers in physics 8 2 2013 161 doi 10 1063 1 4823278 33 j nocedal s wright numerical optimization 2 nd edition springer science business media 2006 34 j h holland adaptation in natural and artificial systems an introductory analysis with applications to biology control and artificial intelligence mit press cambridge ma usa 1992 35 h majidian on the decay rate of chebyshev coefficients ap 11 https doi org 10 1016 j mechatronics 2016 05 004 https doi org 10 1109 iemdc 47953 2021 9449522 https doi org 10 1109 tcst 2020 2998094 https doi org 10 1016 j rcim 2016 01 003 https doi org 10 1016 0957 4158 96 00012 8 https doi org 10 1016 0957 4158 96 00012 8 https doi org 10 1007 s 00170 021 07277 y https doi org 10 1007 s 00170 021 07277 y https doi org 10 1109 speedam 2010 5542403 https doi org 10 1109 speedam 2010 5542403 https doi org 10 1109 tmech 2014 2361759 https doi org 10 1109 tmech 2014 2361759 https doi org 10 1016 j mechatronics 2013 11 004 https doi org 10 1016 j mechatronics 2013 11 004 https doi org 10 11648 j ijmea 20160401 11 https doi org 10 11648 j ijmea 20160401 11 https doi org 10 1109 tmech 2010 2103366 https doi org 10 1016 j jsv 2005 03 011 https doi org 10 1016 j jsv 2005 03 011 https doi org 10 1109 tmech 2009 2020823 https doi org 10 1007 978 3 319 05371 4 https doi org 10 1007 978 3 319 05371 4 https doi org 10 1109 icca 2019 8899728 https doi org 10 1115 1 2801134 https doi org 10 1115 1 2801134 https doi org 10 1016 j euromechsol 2004 02 006 https doi org 10 1016 j euromechsol 2004 02 006 https doi org 10 1016 j mechmachtheory 2017 11 006 https doi org 10 1016 j mechmachtheory 2017 11 006 https doi org 10 1109 vppc 2005 1554609 https doi org 10 1109 vppc 2005 1554609 https doi org 10 2514 2 4231 https doi org 10 1080 002071798221713 https doi org 10 1080 002071798221713 https doi org 10 1016 b 978 0 12 385920 4 00012 6 https doi org 10 1007 978 1 4615 1533 3 https doi org 10 1016 j rcim 2018 12 020 https doi org 10 1016 j rcim 2018 12 020 https doi org 10 1016 j rcim 2018 12 020 https doi org 10 1016 j rcim 2018 12 020 https doi org 10 1016 j rcim 2018 12 020 https doi org 10 1016 j rcim 2018 12 020 https doi org 10 1063 1 4823278 https doi org 10 1063 1 4823278 plied numerical mathematics 113 2017 44 53 doi 10 1016 j apnum 2016 11 004 12 https doi org 10 1016 j apnum 2016 11 004 https doi org 10 1016 j apnum 2016 11 004 1 introduction 1 1 related work 1 2 method 2 system modeling 2 1 mechanical subsystem 2 2 actuation subsystem 3 identification 3 1 inertia and load torque 3 2 viscous friction coefficient 4 optimization approach 4 1 motion profile definition rescaling 4 2 initialization design space 5 results 5 1 motion profile optimization 5 2 measurements 6 conclusion