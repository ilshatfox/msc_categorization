generators of koszul homology with coefficients in a g weak complete intersection module rachel n diethorn abstract we discuss a class of modules which we call g weak complete intersection mod ules inspired by the weak complete intersection ideals studied by rahmati striuli and yang and we present explicit formulas for the generators of koszul homology with coefficients in a g weak complete intersection module this generalizes work of herzog and of corso goto huneke polini and ulrich we use these explicit for mulas to study connections between g weak complete intersection ideals and weak complete intersection ideals 1 introduction let q be a commutative noetherian k algebra where k is a field of characteristic zero and let g g 1 gs be a regular sequence in q in this paper we study a class of ideals which we call g weak complete intersection ideals inspired by the weak complete intersection ideals studied by rahmati striuli and yang in their recent paper 11 weak complete intersection ideals in a local ring are the ideals i such that the differentials in the minimal free resolution f of the quotient q i land in if given a regular sequence g in a local ring q we define g weak complete intersection ideals to be the ideals i such that the differentials in the minimal free resolution of q i land in g f we define the more general notion of a g weak complete intersection module in a similar way expanding the allowed range for the differentials allows additional flexibility which as we show in this paper becomes useful in studying weak complete intersection ideals of course when q is regular and x is a regular system of parameters that is it minimally generates the maximal ideal then any ideal is an x weak complete intersection ideal but even under less restrictive hypotheses interesting examples are abundant we observe that for a given regular sequence g the intersection of the class of g weak complete intersection ideals and the class of weak complete intersection ideals lies inside the the class of complete intersection ideals although neither class of ideals is contained in the other we find other connections between them to accomplish this we study the koszul homology h g r where r q i is the quotient by a g weak complete intersection ideal one approach to understanding koszul homology is to find explicitly its generators in his 1991 paper 6 see also 8 herzog gives explicit formulas for generators of the homology h x r of the koszul complex on the minimal generators of the of the irrelevant maximal ideal m x 1 xn of a finitely generated graded k algebra r where k is a field of characteristic zero recently the authors of 2 provided explicit formulas for generators of koszul homology in a more general setting namely they studied the homology of the koszul complex on a sequence xa 11 x an n with m coefficients where m is what we call a g weak complete intersection module throughout this paper with g xa 11 x an n in this paper we further generalize to the setting where g is any full regular sequence and m is a g weak complete intersection module one of the main tools we use to obtain these explicit formulas is the classical perturbation lemma from homological algebra we also utilize theory developed in 4 on the formulation of a sort of partial derivative 1 ar x iv 1 90 4 08 35 0 v 1 m at h a c 1 7 a pr 2 01 9 with respect to our regular sequence g and the de rham contraction built from it the formulas we provide are given in terms of these partials the explicit formulas for generators of koszul homology given in this paper become useful in studying the connections between g weak complete intersection ideals and weak complete intersection ideals where g is any full regular sequence in particular we study the question of when g is a weak complete intersection ideal in the quotient by a g weak complete intersection ideal and we give a sufficient condition involving the partials with respect to g mentioned above this provides a new family of examples of weak complete intersections we now outline the contents of this paper in section 2 we introduce the notion of g weak complete intersection modules and ideals and give some examples in proposition 2 5 we show that for a given regular sequence g the intersection of the class of g weak complete intersection ideals and the class of weak complete intersection ideals lies inside the the class of complete intersection ideals in the remainder of section 2 we introduce the main tools we use to obtain formulas for the generators koszul homology including the perturbation lemma and the formulation of the de rham contraction from 4 in section 3 we provide explicit formulas for the generators of koszul homology h g m where m is a g weak complete intersection module the formulas can be found in theorem 3 8 and corollaries 3 10 and 3 11 in section 4 we utilize the explicit formulas from the previous section to study the question of when g is a weak complete intersection ideal in the quotient r q i where i is a g weak complete intersection ideal we give a sufficient condition in proposition 4 5 and show it is not necessary in example 4 7 2 preliminaries in this section we introduce the notion of g weak complete intersection ideals and modules we then discuss the main tools used throughout the paper including the per turbation lemma and a version of the de rham contraction developed in 4 2 1 g weak complete intersection ideals and modules in this section we introduce a class of ideals which we call g weak complete in tersection ideals inspired by the weak complete intersection ideals defined in 11 we also introduce the related notion of g weak complete intersection modules let q be a commutative noetherian k algebra and let g g 1 gs be a regular sequence in q definition 2 1 a finitely generated q module m is a g weak complete intersection module if there is a free resolution f ofm which satisfies the property im i g fi 1 for every i we call an ideal i q a g weak complete intersection ideal if q i is a g weak complete intersection module in the local case we note that it suffices to consider the minimal free resolution we now give some examples of g weak complete intersection ideals example 2 2 the complete intersection ideal g q is a g weak complete intersection ideal indeed q g is minimally resolved by the koszul complex on g whose differentials certainly land in the ideal g more generally any embedded complete intersection ideal f g is also a g weak complete intersection ideal for the same reason in a regular ring every module is an x weak complete intersection where x is a minimal set of generators for the maximal ideal the next example gives a large class of non complete intersection ideals 2 example 2 3 let q be a polynomial ring and fix a regular sequence g in q then any ideal generated by monomials in g is a g weak complete intersection ideal indeed q i is resolved possibly non minimally by the taylor resolution for monomials in a regular sequence the entries in the differentials are either monomials in g or units after change of bases the minimal free resolution splits off the entries in the differentials of the minimal resolution are still contained in g as the appropriate row and column operations do not disturb this property the next example shows that a g weak complete intersection ideal need not be a monomial ideal example 2 4 let q k x y z be a polynomial ring and take g to be the regular sequence g x 2 y 3 z 5 let i x 2 y 4 y 3 z 7 y 6 x 4 y 2 according to macaulay 2 a free resolution of q i over q is given by 0 q 3 q 3 2 q 3 1 q q i 0 where the differentials are given by the following matrices 3 z 7 x 2 y x 4 y 3 2 y 4 0 yz 7 x 2 y 2 x 4 z 7 x 2 y 0 0 y 3 x 4 1 x 4 y 2 y 6 x 2 y 4 y 3 z 7 it is easy to see that i is a g weak complete intersection ideal although the definition of g weak complete intersection ideals was inspired by the def inition of weak complete intersection ideals for a fixed regular sequence g the two classes of ideals are distinct and neither one is contained in the other in fact the intersection of the two classes is contained in the class of complete intersection ideals as shown in the following proposition proposition 2 5 let q be a local or graded ring and let g be a homogeneous regular sequence in q 1 every finitely generated g weak complete intersection module has finite projective dimension 2 a weak complete intersection ideal is a g weak complete intersection ideal if and only if it is a complete intersection ideal embedded in g proof we give a proof of the local case the graded case is similar 1 let m be a finitely generated g weak complete intersection module and let f be its minimal free resolution over q then we have h g m h k g q qm tor q q g m h q g q f q g q f where the second equality follows from the fact that g is a regular sequence and the last equality follows directly from definition 2 1 note that h g m 0 for all s where g g 1 gs then q g q f 0 by above and hence f 0 for all s by 3 nakayama s lemma thus pdqm 2 let i be a weak complete intersection ideal and suppose it is also a g weak complete intersection ideal note that the minimal generators of i are contained in the ideal g since they are the entries in the first differential of the minimal free resolution f of q i over q and by 1 pdqq i thus i is a complete intersection ideal by 11 remark 2 4 the other direction is clear in section 3 we study the homology of the koszul complex on g with coefficients in a g weak complete intersection module and in section 4 we investigate further the connection between g weak complete intersection ideals and weak complete intersection ideals 2 2 the perturbation lemma in this section we discuss the classical perturbation lemma which we will use in sec tion 3 as the main tool for providing explicit formulas for the generators of the homology of the koszul complex on g with coefficients in a g weak complete intersection module we begin with the relevant definitions which can be found in 3 definition 2 6 a deformation retract datum f f p i g g h consists of the following i complexes f f and g g ii quasi isomorphisms p and i iii a homotopy h between ip and idg ie gh h g ip idg such that pi idg a special deformation retract datum is a deformation retract datum which also satisfies hi 0 ph 0 and h 2 0 given a deformation retract datum one can define a small perturbation of the datum as follows definition 2 7 a perturbation of a deformation retract datum is a map g g of the same degree as g such that g 2 0 the perturbation is small if idg h is an invertible map now we state the perturbation lemma see for example 3 2 4 theorem 2 8 perturbation lemma if is a small perturbation of the deformation retract datum f f p i g g h then the perturbed datum f f p i g g h 4 with f f pai p p pah i i hai h h hah where a idg h 1 is a deformation retract datum in particular i is a homotopy equivalence in section 3 we modify a deformation retract datum constructed in 4 and apply the perturbation lemma to provide explicit formulas for generators of koszul homology 2 3 the de rham contraction in this section we utilize theory developed in 4 on connections to formulate a sort of partial derivative with respect to the elements of a regular sequence g we use these partial derivatives to give explicit formulas for the generators of the homology of the koszul complex on g with coefficients in a g weak complete intersection module throughout this section we assume that k a field of characteristic zero and q is a noetherian k algebra we let g be a regular sequence in q such that q g is a finite dimensional k vector space and q is complete 1 in the g adic topology we note that q is an algebra over the polynomial ring k g via the inclusion map we let 1 k g k be the module of kahler differentials namely 1 k g k s i 1 k g dgi and we denote by k g k the exterior algebra over 1 k g k with differential induced by the euler map 1 k g k k g sending dgi to gi then the koszul complex on g over q is given by q k g k g k indeed q k g k g k q k g 1 k g k q k g k g dg 1 dgs dgi gi q dg 1 dgs dgi gi let q q g be the usual quotient map and fix a k linear splitting q g q of the following lemma is a well known see for example 4 appendix b or 9 lemma 3 1 1 as a proof is not given in either source above we include a proof here to clarify the constructions in this section lemma 2 9 for every element q q there exist unique residue classes q n q g such that q n ns q n g n where gn gn 11 g ns s 1 as in 10 we use the term complete to mean complete and separated 5 proof we begin by noting that q q q q q q 0 where the second equality follows from the fact that is a splitting and where q q hence q q g let i g i g i g i 1 be the usual quotient maps since g is a regular sequence we have that g i g i 1 is a free q g module we now use induction on i we know that g 1 g s is a basis for g g 2 over q g thus we can write 1 q q s i 1 q ig i n n 1 ns n 1 ns 1 q n g n for q i q g now we suppose that q n n 1 ns n 1 ns m 1 q n g n g m 1 and m 1 q n n 1 ns n 1 ns m 1 q n g n n n 1 ns n 1 ns m 1 q ng n we note that m 1 n n 1 ns n 1 ns m 1 q n g n n n 1 ns n 1 ns m 1 q n g n m 1 q n n 1 ns n 1 ns m 1 q n g n where the first equality follows from the fact that is a splitting and the second follows from the inductive hypothesis thus q n n 1 ns n 1 ns m 1 q n g n g m again since g is a regular sequence we have that g m g m 1 is a free q g module with basis g 1 i 1 g sis i 1 is m so m q n n 1 ns n 1 ns m 1 q n g n n n 1 ns n 1 ns m q n g n thus by induction we have q n ns q n g n n 0 g n 0 6 since q is complete and thus separated in g adic topology thus q n q n g n as desired to show uniqueness we suppose that n q n g n q n r n g n then we have that n qn rn gn 0 and thus 0 n qn rn gn q 0 r 0 giving us the equality q 0 r 0 now suppose that qn rn for all n n 1 ns with s i 1 ni m 1 to show that this equality holds for n such that s i 1 ni m we note that n n 1 ns n 1 ns m qn rn gn 0 and thus 0 m n n 1 ns n 1 ns m qn rn gn n n 1 ns n 1 ns m qn rn g n but g 1 n 1 g sns n 1 ns m is a basis for g m g m 1 so we get that qn rn for n n 1 ns with s i 1 ni m which completes induction by writing elements of q in this way dyckerhoff and murfet in 4 give an explicit k linear connection on q namely 0 q q k g 1 k g k given by 0 q s i 1 n ni qn g n ei dgi where ei zs are the standard basis vectors and where for a tuple n involving negative integers gn is defined to be zero by connection we mean a k linear map satisfying the leibniz rule by means of this connection one can define gi to be the k linear map given by the composition gi q 0 q k g 1 k g k dgi q 7 remark 2 10 we note that in order for the partial gj to be well defined it is important to fix a splitting otherwise one cannot write elements of q uniquely as sums of monomials in g with coefficients in q and different representations of an element would produce different partials using the map gj one defines to be the k linear map q k g k g k q k g k g k given by q s i 1 dgi r dgi q d by our assumption that char k 0 we have that is invertible in nonzero degrees so one can make the following definition see 4 definition 8 8 definition 2 11 let h be the k linear map h q k g k g k q k g k g k h 1 this map is called the de rham contraction in 4 dyckerhoff and murfet show that h is a homotopy on the koszul complex furthermore they prove the following result theorem 2 12 4 under the assumptions of section 2 3 the following is a special deformation retract datum q g 0 q k g k g k h we modify this datum in the next section and apply the perturbation lemma to provide explicit formulas for generators of koszul homology in the context of g weak complete intersections 3 generators of koszul homology let k be a field of characteristic zero and q a noetherian k algebra let g be a regular sequence in q such that q g is a finite dimensional k vector space and let m be a finitely generated g weak complete intersection q module in this section we study the homology of the koszul complex on g with coefficients in m which we denote as h g m in particular we provide explicit formulas for generators of each hi g m of course this setting includes the case where m q i and i is a g weak complete intersection ideal now we fix some notation to be used throughout the section let f f be a free resolution of m over q such that im f g f as in definition 2 1 let q q g be the usual quotient map and fix a k linear splitting q g q in order to obtain explicit generators for the koszul homology h g m we consider the isomorphisms h g m h m q k g q torq m q g h f q q g f q q g 1 8 of q g modules thus the koszul homology we are interested in is isomorphic to the homology of the double complex f k g q we begin by giving a modification involving a related double complex of the special deformation retract datum of theorem 2 12 we apply the perturbation lemma to this datum to yield the desired formulas in theorem 3 8 we utilize lemmas 3 3 3 4 and 3 6 in the proof of this theorem and the following corollaries lemma 3 1 let q be complete in the g adic topology the following is a special deformation retract datum f q q g 0 1 1 tot f q q k g k g k 0 1 h before the proof we make the following remark about the maps appearing in the lemma remark 3 2 here we denote by k the koszul complex k q k g k g k we note that and h are only k linear maps so to define the maps 1 and 1 h we first fix a basis h 1 h b for each module f in the resolution f giving the isomorphisms f qb now we have the isomorphisms f q k 0 qb q k 0 kb 0 and f q q g qb q q g q g b we define 1 f q q g f q k 0 by applying to each of the b summands we extend this to a map f q q g tot f q q k g k g k and abusing notation slightly we again call this map 1 similarly given our fixed basis of f above we have isomorphisms f q ki qb q ki kb i and f q ki 1 qb q ki 1 kb i 1 and so we define 1 h by applying h to each of the b summands throughout the remainder of this section we use the notation 1 and 1 h with the understanding that the maps are defined with respect to the fixed bases above also we note that for i 0 1 sends elements of f q ki to zero we will see that in order to give a basis for the koszul homology it is enough to find a k linear map which agrees with the q linear isomorphism 1 and apply this map to our fixed bases above we use the k linear maps 1 and 1 h to produce such a map now we give a proof of lemma 3 1 9 proof we note that tensoring with the complex of free modules f preserves the quasi isomorphisms and it is also clear that 1 h 1 0 1 1 h 0 and 1 h 2 0 since the deformation retract datum from theorem 2 12 is special so we need only check that 1 h is a homotopy between 1 1 and idtot f q q k g k g k it suffices to check this equality on simple tensors so for aj fj and bj kj we calculate 1 1 ai b 0 a 0 bi 1 ai b 0 ai b 0 0 0 thus we have 1 1 id ai b 0 a 0 bi ai b 0 b 0 ai 1 b 1 a 0 bi ai id b 0 a 0 id bi ai h h b 0 a 0 h h bi 1 h 1 h ai b 0 a 0 bi which completes the proof in order to formulate explicit generators of koszul homology we need the following lemmas lemma 3 3 for every element q of q gj gi q gi gj q proof this follows directly from the definition of gj and the fact that is k linear the next lemma is a version of the product rule for gj lemma 3 4 the map gj satisfies the rule gj qr gj q r gj r q m n gj q n rm gm n where gm n gm 1 n 11 g ms ns s and q n q n g n and r m rm g m are elements of q proof we begin by noting that qr m n q n rm g m n and writing q n rm p s p g p now we compute gj qr gj m n p s p g m n p m n p mj nj pj s p g m n p ej m n p mj nj s p g m n p ej m n p pj s p g m n p ej m n mj nj p s p g p gm n ej m n p pj s p g p ej gm n m n mj nj q n rm g m n ej m n gj q n rm gm n 10 and we see that m n mj nj q n rm g m n ej m n mj q n rm g m n ej m n nj q n rm g m n ej m mj rm g m ej n q n g n n nj q n g n ej m rm g m gj q r gj r q which completes the proof remark 3 5 we see from the lemma that gj satisfies the usual product rule namely gj qr gj q r q gj r whenever either q or r can be written as n q n g n where the coefficients q n are elements of the field k indeed in this case gj q n rm 0 in particular we have that gj qgk gj q gk q j k gj q gk j 6 k however examples which do not satisfy the usual product rule are plentiful for example consider the regular sequence g 1 x 2 g 2 y 3 g 3 z 5 in k x y z we have that g 1 xy 3 xz 5 g 1 x 2 y 3 z 5 y 3 z 5 but g 1 xy 3 xz 5 g 1 xz 5 xy 3 0 note however that g 1 x x y 3 z 5 y 3 z 5 which illustrates the lemma the next lemma says that the map 1 applied to elements of q k g k 1 k g k is given in each degree by multiplication by the inverse of the sum of the internal and external degrees of that homogeneous piece lemma 3 6 let be the koszul differential and be the k linear map defined in 2 3 then 1 n q n g n dgi 1 dgik n 1 n k q n g n dgi 1 dgik where n n 1 ns and n n 1 ns 11 proof let q n q n g n we begin by computing n q n g n dgi 1 dgik s j 1 gj q dgjdgi 1 dgik q k 1 1 1 gi dgi 1 d gi dgik s j 1 gj q dgjdgi 1 dgik k 1 1 1 qgi dgi 1 d gi dgik s j 1 gj q gjdgi 1 dgik k m 1 1 mgimdgjdgi 1 d gim dgik k 1 1 1 s p 1 gp qgi dgpdgi 1 d gi dgik s j 1 gj q gj dgi 1 dgik s j 1 k m 1 1 m gj q gim dgjdgi 1 d gim dgik k 1 s p 1 1 1 gp q gi dgpdgi 1 d gi dgik k 1 1 1 q dgi dgi 1 d gi dgik where the last equality follows from remark 3 5 we note that the middle two sums cancel with each other and we are left with the equality n q n g n dgi 1 dgik s j 1 gj q gj dgi 1 dgik kq dgi 1 dgik but we have that s j 1 gj q gj s j 1 n nj q n g n ejgj n s j 1 nj q n g n n n q n gn and thus we get n q n g n dgi 1 dgik n n k q n gn dgi 1 dgik hence by the above equality and the fact that is k linear we have 1 n q n g n dgi 1 dgik 1 n n k n k q n g n dgi 1 dgik 1 n n k q n n k gn dgi 1 dgik 12 n q n n k gn dgi 1 dgik n 1 n k q n g n dgi 1 dgik as desired based on the lemma we establish some notation which we will use throughout the rest of the section definition 3 7 let q n q n g n be an element of q we define gj by gj q n nj n q n g n ej we are now ready to express explicit formulas for the generators of koszul homology theorem 3 8 let q be a noetherian k algebra where k is a field of characteristic zero and let g be a regular sequence in q such that q g is a finite dimensional k vector space if m is a finitely generated g weak complete intersection module over q with free resolution f f as in definition 2 1 then a q g basis of h g m is given by the homology classes of the elements z j 1 s k 1 1 s k 1 b 1 j 2 1 b 1 j 1 gk f 11 j gk 1 f 2 j j 1 gk 2 f 1 j 3 j 2 gk 1 f j 2 j 1 dgk 1 dgk for j 1 1 b where h i 1 h i bi is a basis for fi and f h i p bi 1 m 1 f i m ph i 1 m proof we first reduce to the case where q is complete with respect to the g adic topology suppose that we can find such a basis for h g m g over the completion q g g thus we have such a basis for h g m g h g m q g h g m q g h g m g by flatness but h g m g lim t h g m g th g m h g m where the last equality follows from the fact that g annqh g m thus we get the desired basis of h g m now we may assume that q is complete and thus by lemma 3 1 we get a special deformation retract datum f q q g 0 1 1 tot f q q k g k g k 1 h we note that f 1 tot f q q k g k g k tot f q q k g k g k which we write as f for ease of notation is a perturbation of the special deformation retract datum above indeed the degree of f is 1 which is the same as the degree of and f 2 0 since it is the differential on the total complex also since by the proof of proposition 13 2 5 f q g is a finite complex say fi q g 0 for all i r we have the following equalities 1 f 1 h 1 f 1 h f 1 h 2 f 1 h r 1 f 1 h f 1 h 2 f 1 h r f 1 h f 1 h 2 f 1 h r 1 1 f 1 h r 1 1 hence we have that 1 f 1 h 1 1 f 1 h f 1 h 2 f 1 h r is invertible and thus f is small by the perturbation lemma the perturbed datum is a deformation retract datum in particular we have the homotopy equivalence f q q g 0 1 1 tot f q q k g k g k f we note that f is the usual differential on the total complex and that the perturbed map 0 0 1 a 1 1 1 f 1 h f 1 h 2 f 1 h r f 1 1 f 1 where the last equality follows from the fact that 1 composed with f 1 h i for i 0 is zero now since im f g we get that composed with f is zero thus 0 0 which gives the homotopy equivalence f q q g 1 tot f q q k g k g k where 1 1 1 h a 1 1 1 h 1 f 1 h f 1 h 2 f 1 h r f 1 1 1 h f 1 h f 2 1 h f r we also note that 1 is just the q linear map 1 since it sends all elements to zero except ones lying in the first row of the double complex thus the induced map on homology f q q g torq r q g h r q k g q h g r is an isomorphism whose inverse is induced by the q linear map 1 and hence agrees with the q linear isomorphism 1 as a result a basis for h g r is given by first applying 1 to the basis elements of f q g and then taking homology classes of the results modulo i 14 to this end we compute 1 h f h j 1 1 1 1 h f 1 1 h b 1 j 2 1 f j 2 j 1 h 1 j 2 1 1 b 1 j 2 1 1 h f 1 1 h h 1 j 2 f j 2 j 1 1 b 1 j 2 1 1 h f 1 h 1 j 2 s k 1 1 gk 1 f j 2 j 1 dgk 1 s k 1 1 b 1 j 2 1 1 h f 1 h 1 j 2 gk 1 f j 2 j 1 dgk 1 applying this procedure 1 more times we get that 1 h f h j 1 1 1 s k 1 1 s k 1 b 1 j 2 1 b 1 j 1 1 gk f 11 j gk 1 f 2 j j 1 gk 1 f j 2 j 1 dgk 1 dgk which completes the proof we now give useful versions of these formulas for some special cases of interest for this we establish some notation we denote by f 1 fi gk 1 gki the determinant of the i i matrix gkj f j definition 3 9 we call fki j a homogeneous polynomial in g with coefficients in q if there is an integer n such that fki j n fki jn gn for n n 1 ns ns satisfying n 1 ns n in this case we call n the g degree of fki j and we denote it by d k i j corollary 3 10 let q be a noetherian k algebra with k a field of characteristic zero and let g be a regular sequence in q such that q g is a finite dimensional k vector space if m is a g weak complete intersection q module with free resolution f f such that the entries in the matrices f are homogeneous polynomials in g with coefficients in q then a q g basis of h g m is given by the homology classes of the elements z j 1 b 1 j 2 1 b 1 j 1 dj 1 j 1 k 1 k s f 11 j f 2 j j 1 f j 2 j 1 gk 1 gk s k 1 1 s k 1 m 2 n m 1 gkn f n 1 jn 1 jn m n gkm f m 1 jm 1 jmm y m 1 j 1 n gm n dgk 1 dgk for j 1 1 b where z m 1 j 1 s k 1 1 s km 1 1 bm 2 j 2 1 b 1 jm 1 1 dj 1 jm 1 y m 1 j 1 dgk 1 dgkm 1 15 and where dj 1 j 1 d j 2 j 1 1 d 1 j 3 j 2 d j 2 j 1 1 1 d 11 j d 2 j j 1 d j 2 j 1 1 proof we first note that for a g homogeneous polynomial fki j we have that gj fki j 1 dki j gj fki j thus since gj reduces the g degree of its argument by one whenever it is nonzero the formulas from theorem 3 8 become z j 1 s k 1 1 s k 1 b 1 j 2 1 b 1 j 1 dj 1 j gk f 11 j gk 1 f 2 j j 1 gk 1 f j 2 j 1 dgk 1 dgk 2 where we omit the bar for ease of exposition it is now clear that we have the desired formula for z 1 j 1 to obtain the desired formula for z j 1 we apply the product rule from lemma 3 4 to 2 to get s k 1 1 s k 1 b 1 j 2 1 b 1 j 1 dj 1 j gk f 11 j gk 1 f 2 j j 1 gk 1 f j 2 j 1 f 11 j gk gk 1 f 2 j j 1 gk 1 f j 2 j 1 m n gk f 11 j m gk 1 f 2 j j 1 gk 1 f j 2 j 1 n gm n dgk 1 dgk but by lemma 3 3 we have that s k 1 1 s k 1 gk gk 1 f 2 j j 1 gk 1 f j 2 j 1 dgk 1 dgk 0 which gives the following formula for z j 1 s k 1 1 s k 1 b 1 j 2 1 b 1 j 1 dj 1 j gk f 11 j gk 1 f 2 j j 1 gk 1 f j 2 j 1 m n gk f 11 j m gk 1 f 2 j j 1 gk 1 f j 2 j 1 n gm n dgk 1 dgk now we apply the product rule repeatedly simplifying at each step as above to obtain s k 1 1 s k 1 b 1 j 2 1 b 1 j 1 dj 1 j gk f 11 j gk 1 f 1 j j 1 gk 1 f j 2 j 1 m 2 n m 1 gkn f n 1 jn 1 jn m n gkm f m 1 jm 1 jmm y m 1 j 1 n gm n dgk 1 dgk 16 where y m 1 j 1 gkm 1 f m 2 jm jm 1 gk 1 f j 2 j 1 we observe that the first part of the above formula can be written as a determinant thus giving the desired formulas we now give formulas in the case that the entries in the matrices given by f are homogeneous polynomials in g with coefficients in k rather than q corollary 3 11 let q be a noetherian k algebra with k a field of characteristic zero and let g g 1 gs be a regular sequence in q if m is a g weak complete intersection module over q with free resolution f f such that the entries in the matrices f are homogeneous polynomials in g with coefficients in k then a q g basis of h g m is given by the homology classes of the elements z j 1 b 1 j 2 1 b 1 j 1 dj 1 j 1 k 1 k s f 11 j f 2 j j 1 f j 2 j 1 gk 1 gk dgk 1 dgk for j 1 1 b proof this follows immediately from corollary 3 10 and the fact that gj satisfies the usual product rule in the case that the coefficients involved in the product are elements of k as discussed in remark 3 5 remark 3 12 taking g x 1 xn to be the minimal generators of the maximal ideal the corollary recovers the formulas given by herzog in 6 we finish this section by giving an example which illustrates our results example 3 13 let q k x y z g be the regular sequence g 1 x 2 yz g 2 y 3 g 3 z 5 and let i x 2 y 4 y 5 z xz 10 y 6 x 4 y 2 x 2 y 3 z let us compute the generators of h g r where r q i we begin by fixing a k linear splitting of q q g one can find the following basis for q g as a k vector space either by hand or using macaulay 2 1 x xy xy 2 xy 2 z xy 2 z 2 xy 2 z 3 xy 2 z 4 xyz xyz 2 xyz 3 xyz 4 xz xz 2 xz 3 xz 4 y y 2 y 2 z y 2 z 2 y 2 z 3 y 2 z 4 yz yz 2 yz 3 yz 4 z z 2 z 3 z 4 we choose the splitting a a for every basis element a according to macaulay 2 a free resolution of r over q is given by 0 q 3 q 3 2 q 3 1 q r 0 where the differentials are given by the following matrices 3 z 10 xy 4 y 4 x 3 xyz 2 y 4 z 10 xy 4 0 x 4 x 2 yz x 3 yz xy 2 z 2 xz 10 x 2 y 4 y 5 z 0 x 3 y 2 xy 3 z y 6 1 x 4 y 2 x 2 y 3 z y 6 x 2 y 4 y 5 z xz 10 17 we now write the entries in the differentials as in lemma 2 9 note for example that the first entry in 1 can be written as follows x 4 y 2 x 2 y 3 z x 2 y 2 g 1 but note that x 2 y 2 is not in the image of our splitting map so we write x 4 y 2 x 2 y 3 z x 2 y 2 g 1 g 1 yz y 2 g 1 y 2 g 21 y 3 zg 1 y 2 g 21 zg 1 g 2 and we can see that the coefficients are now in the image of using a similar procedure on the other entries we obtain the following matrices 3 xyg 2 g 23 yg 2 xg 1 2 yg 2 xyg 2 g 23 0 g 21 yzg 1 xyzg 1 yg 1 g 2 xg 23 0 xy 2 g 1 g 2 2 1 y 2 g 21 zg 1 g 2 g 22 yg 1 g 2 xg 23 applying theorem 3 8 we get the following set of elements whose homology classes gen erate h 1 g r h 11 y 2 g 1 zg 2 dg 1 1 2 zg 1 dg 2 x 2 ydg 1 1 2 x 2 z yz 2 dg 2 h 12 g 2 dg 2 y 3 dg 2 h 13 1 2 yg 2 dg 1 1 2 yg 1 dg 2 xg 3 dg 3 1 2 y 4 dg 1 1 2 x 2 y y 2 zdg 2 xz 5 dg 3 where h j i is the generator which corresponds to the the basis element h j i of fj we get the following generators for h 2 g r h 21 1 2 y 4 zdg 1 dg 2 h 22 1 2 xy 4 z 1 3 z 11 dg 1 dg 2 1 3 y 3 z 6 dg 1 dg 3 1 3 x 2 z 6 yz 7 dg 2 dg 3 h 23 1 3 y 7 dg 1 dg 2 and for h 3 g r h 31 1 6 x 2 y 3 z 5 2 3 y 4 z 6 1 9 x 2 z 5 1 18 yz 6 dg 1 dg 2 dg 3 4 applications to weak complete intersection ideals let q be a noetherian k algebra with k a field of characteristic zero and let g g 1 gs be a regular sequence in q in this section we use the explicit formulas for generators of koszul homology given in the previous section to study the ideal g of the quotient r q i where i is a g weak complete intersection ideal of q in particular we are interested in answering the following question 18 question 4 1 when is the ideal g of r a weak complete intersection ideal in proposition 4 5 we provide a general condition under which g is a weak complete intersection ideal in r which expands the class of known examples of weak complete intersection ideals however there are examples of ideals g which are not weak complete intersection ideals in quotients by g weak complete intersection ideals we discuss one example in the following remark remark 4 2 the ideal g ofr q i in example 2 4 is not a weak complete intersection ideal one can verify this by looking at the beginning of the minimal free resolution of r g over r on macaulay 2 there are entries in the differentials which are not elements of g for example y 2 is one such entry in order to study this question further we will need the following definition see for example 11 definition 2 7 or 1 remark 5 2 1 definition 4 3 let r be a local ring and assume h g r is a free r g module for all we say that k g r admits a trivial massey operation if for some basis b h of h 1 g r there is a function n 1 bn k g r such that h z is a cycle with cls z h and k h 1 h p p 1 j 1 h 1 h j h j 1 h p 3 where a 1 a 1 a now we establish some notation definition 4 4 let i be an ideal in q we define g i to be the ideal generated by the elements gj f f i j 1 s the following result sheds some light on the question stated above see 5 theorem 3 5 and 7 theorem 1 1 for similar results regarding golod rings and modules proposition 4 5 let q be a local noetherian k algebra with k a field of characteristic zero and let g be a regular sequence in q such that q g is a finite dimensional k vector space if i is a g weak complete intersection ideal of q and g i 2 i then g is a weak complete intersection ideal in r q i proof since g g 2 is a free q g module and h g r is a free q g module for every i it suffices to show that k g r admits a trivial massey operation by 11 theorem 2 9 we take b to be the basis of h g r given in theorem 3 8 and lift these basis elements to cycles z using the formulas in the theorem we define h 1 h p 0 for all p 2 and h i b by theorem 3 8 we see that every z has coefficients in g i since the elements f 11 j are the entries in the first differential in the minimal free resolution of r and hence are elements of i thus the coefficients of h i h j are elements of g i 2 i for all i and j so the products are zero in k g r it is now easy to see that our definition of satisfies k h 1 h p p 1 j 1 h 1 h j h j 1 h p thus is a trivial massey operation on k g r as desired 19 the following example illustrates proposition 4 5 and shows that it produces new examples of weak complete intersection ideals example 4 6 let q k x y with char k 0 and let g be the regular sequence g 1 x 2 y 2 g 2 y 3 we consider the ideal i g 21 g 2 g 4 1 g 3 2 q a free resolution of q i is 0 q 2 2 q 3 1 q r 0 with differentials 2 g 21 g 22 g 2 0 0 g 21 1 g 21 g 2 g 41 g 32 so i is a g weak complete intersection ideal the ideal g i is generated by the elements g 1 g 2 g 2 1 g 2 2 indeed elements of i are of the form f ag 2 1 g 2 bg 4 1 cg 3 2 for a b c q and g 1 f 2 ag 1 g 2 4 bg 3 1 g 1 c g 32 g 2 f ag 21 g 2 b g 41 3 cg 2 2 which are both elements of the ideal g 1 g 2 g 2 1 g 2 2 it is easy to check that g i 2 i thus by proposition 4 5 g is a weak complete intersection ideal in r q i one can also verify this fact by looking at a free resolution for r g over r the converse of proposition 4 5 is not true in general as shown by the following example example 4 7 let q k x y z with char k 0 and let g be the regular sequence g 1 x 2 g 2 y 3 g 3 z 5 the ideal i x 2 y 8 y 8 z 9 x 3 z 14 x 5 y 5 q is a g weak complete intersection ideal a free resolution of r q i being 0 q 2 2 q 3 1 q r 0 with differentials 2 z 9 x 3 y 5 x 2 x 3 z 5 0 y 8 1 x 2 y 8 y 8 z 9 x 3 z 14 x 5 y 5 by theorem 3 8 the homology classes of the elements h 11 h 12 h 13 h 21 h 22 where h 11 1 3 y 8 dg 1 2 3 x 2 y 5 dg 2 h 12 2 3 y 5 z 9 dg 2 1 3 y 8 z 4 dg 3 h 13 1 3 xz 14 2 x 3 y 5 dg 1 1 3 x 5 y 2 dg 2 2 3 x 3 z 9 dg 3 h 21 2 3 y 5 z 9 dg 1 dg 2 2 3 x 2 y 5 z 4 dg 2 dg 3 h 22 1 6 x 3 y 10 dg 1 dg 2 1 6 x 2 y 8 z 4 dg 1 dg 3 1 3 x 3 y 5 z 9 dg 2 dg 3 20 is a basis for h 1 g r to obtain a trivial massey operation on k g r we first multiply the cycles h 11 h 12 1 9 y 16 z 4 dg 1 dg 3 h 11 h 13 4 9 x 5 y 5 z 9 dg 2 dg 3 h 12 h 13 2 9 xy 5 z 23 dg 1 dg 2 and all multiplications involving h 21 and h 2 2 are zero so we define as follows h 11 h 1 2 1 9 y 13 z 4 dg 1 dg 2 d 3 h 11 h 1 3 4 9 x 3 y 5 z 9 dg 1 dg 2 d 3 h 12 h 1 2 2 9 xy 5 z 18 dg 1 dg 2 d 3 where denotes the homology class and otherwise we define to be zero it is straight forward to check that satisfies 3 thus it is a trivial massey operation therefore by 11 theorem 2 9 g is a weak complete intersection ideal in r however y 8 g i thus y 16 is in g i 2 but not in i this shows that g i 2 i is not a necessary condition for g to be a weak complete intersection ideal in r acknowledgments the author would like to thank her advisor claudia miller for all of her guidance help and support on this project references 1 l l avramov infinite free resolutions mr 1648664 in six lectures on commuta tive algebra mod birkha user class birkha user verlag basel 2010 pp 1 118 2 a corso s goto c huneke c polini and b ulrich iterated socles and integral dependence in regular rings trans amer math soc 370 2018 pp 53 72 3 m crainic on the perturbation lemma and deformations arxiv mathematics e prints 2004 p math 0403266 4 t dyckerhoff and d murfet pushing forward matrix factorizations duke math j 162 2013 pp 1249 1311 5 a gupta ascent and descent of the golod property along algebra retracts j alge bra 480 2017 pp 124 143 6 j herzog canonical koszul cycles in international seminar on algebra and its applications spanish me xico city 1991 vol 6 of aportaciones mat notas in vestigacio n soc mat mexicana me xico 1992 pp 33 41 7 j herzog and c huneke ordinary and symbolic powers are golod advances in mathematics 246 2013 pp 89 99 8 j herzog and r a maleki koszul cycles and golod rings manuscripta math ematica 157 2018 pp 483 495 21 9 j lipman residues and traces of differential forms via hochschild homology vol 61 of contemporary mathematics american mathematical society providence ri 1987 10 h matsumura commutative ring theory vol 8 of cambridge studies in advanced mathematics cambridge university press cambridge second ed 1989 translated from the japanese by m reid 11 h rahmati j striuli and z yang poincare series of fiber products and weak complete intersection ideals journal of algebra 498 2018 pp 129 152 department of mathematics syracuse university syracuse ny 13244 email rngettin syr edu 22 1 introduction 2 preliminaries 2 1 g weak complete intersection ideals and modules 2 2 the perturbation lemma 2 3 the de rham contraction 3 generators of koszul homology 4 applications to weak complete intersection ideals