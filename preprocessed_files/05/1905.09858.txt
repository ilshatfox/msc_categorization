ar x iv 1 90 5 09 85 8 v 2 m at h c o 8 j ul 2 02 0 the distinguishing number and distinguishing chromatic number for posets karen l collins dept of mathematics and computer science wesleyan university middletown ct 06459 0128 kcollins wesleyan edu ann n trenk department of mathematics wellesley college wellesley ma 02481 atrenk wellesley edu june 23 2020 abstract in this paper we introduce the concepts of the distinguishing number and the distinguishing chromatic number of a poset for a distributive lattice l and its set ql of join irreducibles we use classic lattice theory to show that any linear extension of ql generates a distinguishing 2 coloring of l we prove general upper bounds for the distinguishing chromatic number and particular upper bounds for the boolean lattice and for divisibility lattices in addition we show that the distinguishing number of any twin free cohen macaulay planar lattice is at most 2 keywords distributive lattice distinguishing number distinguishing chro matic number birkhoff s theorem 1 introduction the distinguishing number of a graph introduced by albertson and collins 1 is the smallest integer k for which the vertices can be colored using k colors so that the only automorphism of the graph that preserves colors is the identity the distinguishing chromatic number introduced by collins and trenk 9 has the additional require ment that the coloring of the vertices is proper that is adjacent vertices get different colors the distinguishing number of graph g is denoted byd g and the distinguish ing chromatic number by d g these and related topics have received considerable this work was supported by a grant from the simons foundation 426725 ann trenk 1 http arxiv org abs 1905 09858 v 2 attention by many authors in recent years see for example 2 4 10 13 15 16 in this paper we introduce the distinguishing number and the distinguishing chromatic number of a poset there are several challenges in studying these parameters a distinguishing col oring of a graph or poset does not always yield a distinguishing coloring of induced subgraphs or subposets it is possible to have an graph h induced in graph g for which d h d g and the same holds for posets we provide an example of this following definition 7 in addition the structure inherent in posets makes these parameters qualitatively different from the graph versions we end this section with an overview of the rest of the paper in section 2 we provide background material about posets lattices and distributive lattices we in troduce the distinguishing number of a poset in section 3 and prove results about sums of chains distributive lattices and divisibility lattices in section 4 we study the distinguishing chromatic number giving upper bounds for the distinguishing chro matic number of distributive lattices divisibility lattices and boolean lattices we also show that there exist posets p for which the gap between the distinguishing chromatic number of p and that of its comparability graph is arbitrarily large we return to the distinguishing number in section 5 and focus on ranked planar lattices equivalently cohen macaulay that are rank connected we conclude with several open questions 2 preliminaries in this section we provide definitions related to posets and lattices and present birkhoff s classic lattice theorem which we use as a tool in section 3 and section 4 for additional details and background see 18 2 1 general poset definitions the posets we consider are finite and reflexive if p is the poset x we call x the ground set of p and refer to the elements of x which we also call the elements of p as points we write x y if x y and x 6 y if x y or y x we say points x and y are comparable and otherwise they are incomparable we say that y covers x if x y and there is no other point v with x v y an automorphism of poset p x is a bijection from x to x that preserves the relation a set of pairwise comparable points in a poset is called a chain and if the points are pairwise incomparable they form an antichain an r chain is a chain with r points and such a chain has length r 1 the height of a poset is the size of a maximum chain and the width is the size of a maximum antichain if a poset has a unique minimal element we call this element 0 and if it has a unique maximal element we call it 1 we say that a poset with a 0 and 1 is ranked if every maximal chain from 0 to 1 has the same length the rank of a point x in a 2 poset denoted by rank x or r x is the length of a longest chain that has x as its largest element for example in figure 1 each of posets lpq 2 lp 2 q 2 m and lpqr has a 0 and a 1 while poset s 4 has neither and lpq 2 lp 2 q 2 and lpqr are ranked while poset m is not a poset is planar if its hasse diagram can be drawn in the plane with no edges crossing and so that the edge from a to b has strictly increasing y coordinate when a b in figure 1 lpq 2 lp 2 q 2 m and s 4 are planar even though the drawing shown of s 4 has edges crossing we demonstrate in section 5 that poset lpqr is not planar see remark 34 lpq 2 1 q q 2 p pq pq 2 lp 2 q 2 1 q q 2 p pq pq 2 p 2 p 2 q p 2 q 2 m z y x w v lpqr 1 p q r pq pr qr pqr s 4 a b c d a b c d figure 1 examples of posets with distinguishing labelings p q and r are distinct primes 2 2 lattice definitions a point z in poset p is called the meet of x and y in p and denoted by x y if it is the unique largest element in p such that z x and z y thus if x y exists and a x and a y then a x y similarly a point w p is called the join of x and y in p and denoted by x y if it is the unique smallest element w p such that w x and w y thus if x y exists and a x and a y then a x y a poset l is a lattice if x y and x y both exist for all points x and y in l furthermore l is a distributive lattice if and satisfy the distributive laws x y z x z y z x y z x z y z for all x y z l for example all the posets in figure 1 are lattices except for s 4 and all the lattices are distributive except for m a lattice need not be ranked m is not ranked but a distributive lattice is ranked as a consequence of birkhoff s theorem theorem 3 in section 2 3 a point x in a lattice is called join irreducible if in the hasse diagram of the lattice x has exactly one downward edge for example in figure 1 the join irreducible points 3 of lpq 2 are p q and q 2 while there are no join irreducible points in poset s 4 as we will see in birkhoff s theorem the join irreducible points of a distributive lattice generate all the elements in the lattice by the join operation in this way they act like the prime numbers in the prime factorization of an integer 2 3 birkhoff s theorem in this section we present a fundamental theorem due to birkhoff theorem 3 and a corollary both of which will be used as tools in later sections of the paper let poset p x the downset of a point a x is defined as down a x x x a and the downset of a subset a x is defined as down a x x x a for some a a definition 1 let p x be a poset the downset lattice j p has ground set down s s x and the relation is observe that if p is a poset then j p is a distributive lattice in which the meet of elements s and t is s t and the join of these elements is s t example 2 in figure 2 the join irreducible elements of l 150 are a 2 b 3 c 5 and d 25 when these are ordered using the ordering induced by l 150 they produce the poset labeled ql also shown in figure 2 there are 16 subsets of elements of ql producing 12 distinct downsets which are given in the following table when these 12 downsets are ordered by set inclusion we obtain the downset lattice j ql which is isomorphic to the original lattice l 150 s a b c d ab ac ad bc bd cd abc abd acd bcd abcd down s a b c cd ab ac acd bc bcd cd abc abcd acd bcd abcd this example illustrates the following classic theorem due to birkhoff 5 and called the fundamental theorem of distributive lattices in 18 theorem 3 if l is a distributive lattice and ql is the poset induced by the join irreducible points of l then j ql is isomorphic to l indeed the function f l j ql defined by f w y ql y w is an isomorphism the following notation will be helpful as we use theorem 3 repeatedly definition 4 for a distributive lattice l denote by ql the induced poset of all join irreducible points of l birkhoff s theorem is fundamental in several ways first it provides a method for checking whether a poset l is a distributive lattice without having to verify that every pair of points has a meet and a join namely construct the induced poset ql and check whether the mapping f from theorem 3 is an isomorphism additionally any 4 l l 150 1 2 3 5 6 10 15 25 30 50 75 150 ql a b c d j ql a b c ab ac bc cd abc acd bcd abcd a 2 b 3 c 5 d 25 e a c d b figure 2 the lattice l 150 its poset ql of join irreducibles a linear extension e of ql and the downset lattice j ql together with a distinguishing coloring of j ql distributive lattice can be generated by starting with a poset p and constructing j p we utilize theorem 3 in proving that all distributive lattices have distinguishing number at most two theorem 14 and in characterizing those that have distinguishing number one theorem 13 a proof of theorem 3 appears in 18 observe that in lattice l 150 shown in figure 2 the point 75 can be written as the join of all the join irreducibles less or equal to it namely 75 3 5 25 equivalently in j ql b c d b c c d the next corollary shows this holds in general that is every point w l can be written as the join of a unique subset of join irreducibles of l it is a well known consequence of birkhoff s theorem and we provide a proof for completeness corollary 5 let l be a distributive lattice and f l j ql be the isomorphism from theorem 3 if w l then w z f w z proof fix w l and let f w y 1 y 2 yt for each i 1 i t the reflexive property implies that yi f yi and the fact that f w is a downset implies that f yi f w therefore f w f y 1 f y 2 f yt however f is an isomorphism so applying f 1 to both sides yields w y 1 y 2 yt as desired for a distributive lattice l the points of j ql are downsets and the rank of each point is the cardinality of its downset we record this below remark 6 every distributive lattice l is ranked and the rank of a point w is z ql z w 5 3 distinguishing numbers we begin with the definition of the distinguishing number of a poset and some ex amples definition 7 a coloring of the points of poset p is distinguishing if the only auto morphism of p that preserves colors is the identity the distinguishing number of p denoted d p is the least integer k so that p has a distinguishing coloring using k colors distinguishing colorings are shown in figure 1 and the distinguishing numbers are the following d lpq 2 1 d lp 2 q 2 2 d m 1 d lpqr 2 d s 4 2 note that while d m 1 if we remove point x from m the resulting induced subposet m x has d m x 2 thus an induced subposet can have a larger distinguishing number than that of the original observe that antichains are the only posets for which each point must receive a different color in a distinguishing coloring the comparability graph of poset p is the graph gp v e where v is the ground set of p and xy e if and only if x and y are comparable in p any automorphism of a poset p is also an automorphism of its comparability graph gp this justifies the following remark remark 8 d p d gp some automorphisms of the graph gp are not automorphisms of the poset p because they do not preserve the ordering of points in p the following example shows that d p can differ significantly from d gp and d gp if p is an n chain then d p 1 however the comparability graph of p is the complete graph kn and the incomparability graph of p is its complement kn and each of these has distinguishing number n 3 1 sums of chains in the next two results we find the distinguishing number for posets consisting of the sum of chains proposition 9 let p be the poset consisting of the sum of t chains each consisting of r points and let k be the positive integer for which k 1 r t kr then d p k proof first we find a distinguishing coloring of p using k colors there are kr dif ferent ways to color the elements of an r chain when k colors are available coloring the elements of each r chain differently is a distinguishing coloring since any auto morphism of p maps an r chain to an r chain thus d p k we next show d p k 1 for a contradiction suppose there is a distinguishing coloring of p using k 1 colors there are k 1 r ways to color each chain and since t k 1 r 6 two chains have the same coloring the automorphism that swaps those two chains is non trivial a contradiction combining proposition 9 with the following proposition allows us to compute the distinguishing number of any poset that consists of the sum of chains proposition 10 let p be the sum of chains and partition p as p 1 p 2 pm where pi consists of ti chains each consisting of ri points where r 1 r 2 rm are distinct then d p max d pi 1 i m proof the result follows immediately from the fact that any automorphism of p will map pi to itself for each i 3 2 distributive lattices we find the distinguishing number of any distributive lattice in theorems 13 and 14 in showing that a coloring is distinguishing it can be helpful to analyze the points individually or in groups using the following concept of pinning definition 11 let p be a poset with a color assigned to each point we say that a point x is pinned if every automorphism of p that preserves colors maps x to itself note that a coloring of the ground set of a poset p is distinguishing precisely when every point is pinned proposition 12 let be any coloring of a distributive lattice l if restricted to ql pins every point of ql then pins every point of l proof let be a coloring of l so that restricted to ql pins every point of ql by corollary 5 every element of l is the join of a unique set of elements of ql since joins are preserved by isomorphism it follows that every point of l is pinned we now have the tools to determine the distinguishing number of any distributive lattice theorem 14 shows that any distributive lattice has distinguishing number at most two and theorem 13 characterizes those distributive lattices whose distin guishing number is one the proof of theorem 14 is illustrated in examples 15 and 16 theorem 13 if l is a distributive lattice then d l 1 if and only if d ql 1 proof by definition any poset has distinguishing number equal to 1 if and only if it has no non trivial automorphisms let be a coloring of l in which every vertex is colored the same if ql has no non trivial automorphisms then every point in ql is pinned by and by proposition 12 every point in l is pinned conversely if ql has a non trivial automorphism then by corollary 5 can be extended to a non trivial automorphism of l contradicting d l 1 7 theorem 14 if l x is a distributive lattice then d l 2 and d l 2 if and only if d ql 1 proof let l x be a distributive lattice and ql y where y y 1 y 2 yt by theorem 3 l is isomorphic to j ql we will provide a dis tinguishing coloring of j ql using two colors showing d l 2 the remainder of the theorem follows from theorem 13 let f l j ql be the isomorphism defined in theorem 3 and let f y f y 1 f y 2 f yt the property of being join irreducible is preserved under isomorphism thus f y is the set of join irreducible points of j ql let e y 1 y 2 y 3 yt be a linear extension of ql color the following chain of elements of j ql using the color red f y 1 f y 1 f y 2 f y 1 f y 2 f y 3 f y 1 f y 2 f y 3 f yt 1 color the remaining elements green we show this is a distinguishing coloring of j ql by showing that every nontrivial automorphism of j ql preserves colors since poset automorphisms preserve rank and there is at most one red vertex at each rank of j ql we know the red vertices are pinned next we show all green points in f y are pinned for 2 i t 1 each f yi f y is less than a unique lowest red point in the chain of red vertices of j ql in particular f yi f y 1 f y 2 f y 3 f yi but f yi is incomparable to all lower ranked red points hence each is pinned also f yt is the only point in f y that is not less than any red vertex hence it is pinned thus the green points in f y are pinned by corollary 5 every point of j ql that is not in f y is the join of a unique set of elements of f y and hence is pinned thus all points are pinned and the coloring is distinguishing the next two examples illustrate the proof of theorem 14 example 15 for the distributive lattice l l 150 in figure 2 the set of join irreducible points is y a b c d where a 2 b 3 c 5 and d 25 for the linear extension e a c d b of ql the chain of points in j ql colored red in the proof of theorem 14 is a ac acd and the remaining vertices are green observe that each join irreducible point in j ql except b is indeed less than or equal to a unique lowest red point a a rank 1 c ac rank 2 cd acd rank 3 example 16 for the distributive lattice in figure 3 the set of join irreducible points is y a b c d where a w 1 b w 4 c w 5 and d w 2 for the linear extension e d a b c of ql the chain of points in j ql colored red in the proof of theorem 14 is d ad abd and the remaining vertices are green observe that each join irreducible point of j ql except c is indeed less than or equal to a unique lowest red point a ad rank 2 ab abd rank 3 d d rank 1 each point of j ql is the join of a unique set of join irreducible points of j ql for example point acd is the join of a d ac 8 our proof of theorem 14 provides a distinguishing coloring of l for each linear extension of ql we record this in corollary 17 corollary 17 for any distributive lattice l each linear extension of ql leads to a distinguishing coloring of l using two colors one of which appears on exactly ql 1 points l w 0 w 1 w 2 w 4 w 3 w 5 w 6 w 7 w 8 w 9 ql a d b c j ql a d ab adac abd acdabc abcd figure 3 a lattice l its poset ql of join irreducibles and the downset lattice j ql together with a distinguishing coloring of j ql 3 3 divisibility lattices divisibility lattices form a subset of the set of distributive lattices the meet of two integers is their greatest common divisor and their join is their least common multiple for positive integer n the divisibility lattice is the poset ln consisting of the positive integer divisors of n ordered by divisibility figure 1 shows the poset ln for n pq 2 and n p 2 q 2 when p and q are distinct primes as illustrated by this figure the structure of ln is determined by the prime factorization of n let n pa 11 p a 2 2 p ak k where the pi are distinct primes and each ai is a positive integer it is straightforward to check that if f is an automorphism of divisibility lattice ln and f pi pj then ai aj the join irreducible elements of ln are the factors of n of the form pbii when theorem 14 is translated to divisibility lattices we can say precisely when d l 1 and when d l 2 theorem 18 let n be an integer greater than 1 and write n pa 11 p a 2 2 p ak k where pi are distinct primes and ai 1 for each i the divisibility lattice ln has d ln 1 if the ai are distinct and d ln 2 otherwise when d ln 2 the coloring in the proof of theorem 14 does not always use a minimum number of red vertices as seen in the following example 9 example 19 consider the divisibility lattice ln where n 2310 2 3 5 7 11 the join irreducibles of l 2310 are the primes 2 3 5 7 and 11 each of these points has rank 1 thus in the proof of theorem 18 the points colored red are the four in the chain 2 2 3 2 3 5 2 3 5 7 while the remaining vertices are colored green instead we could color the three points 5 7 7 11 3 5 7 red and the remaining points green each of the rank 1 points is pinned as follows 2 is pinned since it is the only rank one point not below any red point 3 is pinned since it below a rank 3 red point and no others 5 is pinned since it is below one rank 2 red point and one rank 3 red point 7 is pinned since it is below all three red points and 11 is pinned since it is below one rank 2 red point and no others 4 distinguishing chromatic number the distinguishing chromatic number d g of a graph g was introduced in 9 and studied further by other authors see for example 3 4 8 12 it is defined as the minimum number of colors needed to properly color the vertices of g so that the only automorphism that preserves colors is the identity we next define an analogous parameter for posets definition 20 a coloring of the points of poset p is proper if comparable points are assigned different colors that is each color class induces an antichain the distinguishing chromatic number of poset p denoted d p is the least integer k for which there is a coloring of p that is both proper and distinguishing for example for the posetm in figure 1 d m 4 and one proper distinguish ing coloring is the following color 1 for z color 2 for y and w color 3 for x and and color 4 for v the fact that any automorphism of a poset p is also an automorphism of its comparability graph gp justifies the following remark remark 21 d p d gp however some automorphisms of the graph gp are not automorphisms of the poset p because they do not preserve the ordering of points in p the following result shows that d p can differ significantly from d gp proposition 22 there exist posets p for which the gap between d p and d gp is arbitrarily large proof let j 3 be a positive integer and p be the poset consisting of 2 j j disjoint j chains the graph gp consists of 2 j j copies of the graph kj and thus d gp 2 j however d p t where t is the smallest integer such that t j t t 1 t 2 t j 1 2 j j we will show that d p j 1 demonstrating that the gap between d gp and d p can be made arbitrarily large 10 it remains to show t j 1 for the initial value j 3 we have j 1 j 4 3 2 24 20 6 3 2 j j so t j 1 observe that 2 j 2 j 1 2 j 1 2 j 1 j 1 2 2 j j 4 2 j j whereas t j 1 j 1 t j so t j grows at a faster rate than 2 j j for j 3 thus t j 1 for j 3 as desired application the definition of d p is related to the following problem of de signing a student s course schedule form a poset p in which the points of p are the courses a student plans to take to complete a major and x y if course x is a prerequisite for course y in a proper coloring if two courses receive the same color neither is a prerequisite of the other and they can be taken in the same semester the minimum number of colors needed for a proper coloring of p is the minimum number of semesters needed to complete the major if the coloring is also distinguishing then p together with its coloring will uniquely identify the courses as well as specify which ones are taken in which semester the next result can be used to determine the distinguishing chromatic number of posets consisting of the sum of chains we denote the falling factorial as k r k k 1 k 2 k r 1 proposition 23 i if p is the poset consisting of the sum of t chains in which each chain contains r elements and k is the positive integer for which k 1 r t k r then d p k ii let p be the sum of chains and partition p as p 1 p 2 pm where pi consists of ti chains each consisting of ri points where r 1 r 2 rm are distinct then d p max d pi 1 i m proof use the arguments given in the proofs of propositions 9 and 10 except here the vertices of a chain must get different colors so there are k r ways to color a chain of r points if there are k colors available an alternate way to properly color the points of a poset is to color two points distinctly if they are incomparable or equivalently so that each color class induces a chain we call this a chain proper coloring a coloring that is both chain proper and distinguishing is related to the following problem of assigning rooms to a set of scheduled events application represent a set of events as a poset p in which the events are the points of p and x y if event x ends before event y begins in a chain proper coloring each color class is a set of events that can be assigned to the same room and thus the minimum number of color classes is the number of rooms needed to schedule all of the events if the coloring is distinguishing as well as proper then the poset 11 together with its coloring will uniquely identify the events as well as specifying which room each would occupy as an example the poset m in figure 1 requires two colors for a chain proper coloring that is distinguishing color x y and z red and color v and w blue the next proposition is a lovely consequence of dilworth s theorem proposition 24 for any poset p the minimum number of colors needed for a chain proper coloring that is also distinguishing is the width of p proof let k be the width of p and let a be an antichain of p with a k coloring the points of a properly requires k colors hence at least k colors are required to show that k colors suffice use dilworth s theorem to partition the points of p into k sets each of which induces a chain in p color all points on chain i using color i for i 1 2 3 k by definition this coloring is proper observe that all chain proper colorings are distinguishing because each point on chain i has a unique height on that chain and height is preserved by automorphisms 4 1 bounds for distributive lattices in our next result we again use birkhoff s theorem this time to relate the distinguish ing chromatic number of a distributive lattice to that of its poset of join irreducibles note that lemma 25 is tight for lpq when p and q are distinct primes lemma 25 if l is a distributive lattice then d l d ql ql proof first color each point of l at rank j using color j for 0 j ql this provides a proper coloring of l and by remark 6 it uses ql 1 colors next recolor the points of ql using a proper and distinguishing coloring with d ql new colors the resulting coloring of l is still proper it is also distinguishing since by corollary 5 any point of l can be written uniquely as the join of elements of ql and automorphisms preserve joins all rank 1 points of l are in ql so the color 1 is never used in the final coloring thus we have a proper and distinguishing coloring of l using d ql ql colors the lattice l in figure 3 has d ql 3 and ql 4 the proof of lemma 25 provides a proper and distinguishing coloring of l using 7 colors we can show that d l 6 as follows at least 5 colors are needed for a proper coloring and any proper coloring using 5 colors assigns the same color to w 4 and w 5 and thus is not distinguishing the reverse inequality d l 6 follows from our next theorem and thus lattice l is an example that shows the bound in theorem 26 is tight theorem 26 if l is a distributive lattice and d ql 3 then d l ql d ql 1 12 proof let d d ql and let be a proper and distinguishing coloring of ql using the colors in the set a a 1 a 2 ad let ai be the set of points in ql with color ai for 1 i d that is ai x ql x ai we use a different set of colors the rank colors for the remaining points of l for each point x in l let r x be its rank in l as before each uncolored point x in l has r x in the set r 0 2 3 4 ql and we color point x using color r x as before this is a proper and distinguishing coloring of l using ql d colors we will construct a new coloring that uses one fewer color by eliminating the color 2 we define three subsets of points of ql as follows s 1 z a 1 r z 3 s 2 z a 2 r z 3 and y a 1 with r y 1 and y z s 3 z a 3 r z 3 and y a 1 and w a 2 with r y r w 1 and y w z define a new coloring on points x of ql as follows x r x if x s 1 s 2 s 3 x otherwise the coloring is proper on the points of ql because gives a proper coloring of the points not in s 1 s 2 s 3 the rank function gives a proper coloring of the points in s 1 s 2 s 3 and the colors in r are different from the colors in a we next show that is a distinguishing coloring of ql let h be an automorphism of ql that preserves the coloring first we show that h s 1 s 1 h s 2 s 2 and h s 3 s 3 that is h preserves membership in each of the sets s 1 s 2 s 3 for z s 1 we have z r z so h z has a color in the set r and thus h z s 1 s 2 s 3 by the definition of s 1 we know z a 1 and because is a proper coloring the point z is incomparable to all other points of color a 1 each point in s 2 s 3 is comparable to a rank 1 point with color a 1 since h preserves coloring we know h z 6 s 2 s 3 hence h z s 1 and h s 1 s 1 for z s 2 we have z r z so h z also has a color in the set r and thus h z s 1 s 2 s 3 however h is an automorphism and h s 1 s 1 hence h z s 2 s 3 each point in s 3 is comparable to a rank 1 point with color a 2 and since h preserves we know h z 6 s 3 hence h z s 2 and h s 2 s 2 similarly each point in s 3 has a color in r and thus h s 3 s 3 as well since h preserves and h si si then h ai si ai si and h ai ai for 1 i 3 we know h ai ai for i 4 because h preserves thus preserves since is a distinguishing coloring of ql we conclude that h is the identity automorphism thus we have shown that is a distinguishing coloring of ql 13 now we extend to l for each pair of distinct rank 1 points x y of ql define g x y a 1 if a 1 6 x y a 2 if a 1 x y and a 2 6 x y a 3 x y a 1 a 2 we now extend to the elements of l that are not in ql by remark 6 each rank 2 point in l that is not in ql covers exactly two rank 1 points of l this allows us to define z when r z 2 and z 6 ql as follows z r z z 6 ql and r z 2 or r z 0 g x y z 6 ql r z 2 and z covers x y observe that uses colors from the set 0 3 4 ql a for a total of d ql 1 colors since is distinguishing on ql it is distinguishing on l we need additionally to show that is proper on l the color j for j 0 3 4 ql is used only on points of rank j so the use of the rank colors is proper we need to show that the set of points of l colored a 1 by form an antichain and similarly for the points colored a 2 and the points colored a 3 we partition the set of z l with r z 2 as t 1 t 2 t 3 as follows where the rank 1 points covered by z are denoted x and y i z t 1 if a 1 6 x y ii z t 2 if a 1 x y and a 2 6 x y iii z t 3 if a 1 a 2 x y then the ai color class of is ti ai si for 1 i 3 since is proper ai is an antichain hence ai si is an antichain since every point in ti has rank 2 ti is an antichain suppose that z ti and w ai si are comparable since w ql r w 6 0 since z covers only x y and neither is in ai then r w 6 1 since r z 2 and points of the same rank are not comparable then r w 6 2 hence r w 3 and w z case 1 let i 1 then z a 1 and w a 1 s 1 so w 6 a 1 by the definition of s 1 therefore z 6 w case 2 let i 2 then z a 2 and w a 2 s 2 thus w is not above any rank 1 point colored a 1 but z t 2 and z x and x a 1 by transitivity of the order relation this contradicts the assumption that w and z are comparable case 3 let i 3 then z a 3 and w a 3 s 3 thus w cannot be above both a rank 1 point colored a 1 and a rank 1 point colored a 2 but z t 3 and z x x a 1 and z y y a 2 by transitivity of the order relation this contradicts the assumption that w and z are comparable thus sets of the points colored a 1 a 2 a 3 respectively are antichains and is proper since we have shown it is distinguishing d l d ql 1 as desired 14 theorem 26 is tight as we will see in section 4 3 4 2 bounds for divisibility lattices in the next theorem we provide an alternative bound in theorem 26 in the instance when the distributive lattice is a divisibility lattice we begin by coloring each point by its rank and then recolor the join irredicuble points using the method in propo sition 23 not all join irredicuble points need to receive new colors so we can use fewer colors than the number needed in proposition 23 recall the falling factorial function is n k n n 1 n 2 n k 1 where n 0 1 theorem 27 let n pa 11 p a 2 2 p ak k where the pi are distinct primes and each ai is a positive integer and let q qln partition q as q 1 q 2 qj where qi consists of ti chains each consisting of ri points where r 1 r 2 rj are distinct for 1 i k let mi be the smallest integer such that ti min ri mi 0 ri mi let m max mi 1 i j then d ln m q 1 proof we begin by coloring each point in ln with its rank there are q 1 ranks in ln we then re color some points in q with m new colors as follows we can choose points on each ri chain to recolor in ri ways and the number of ways to recolor these points with mi colors is mi thus the total number of ways to recolor points of an ri chain is ri mi since two chains with a different number of points recolored will not have the same coloring the total number of ways to recolor the points of qi using mi colors is min ri mi 0 ri mi by our choice of mi we can color the ti chains each containing ri points differently similarly by our choice of m there are enough colors for each value of i chains of different lengths in q can not map to one another under any automorphism hence every point in q is pinned by this coloring by proposition 12 every point in ln is pinned and our coloring is distinguishing as seen from the proof of the theorem chains of different lengths may be consid ered independently let ql have t chains each of length r and let m be the smallest integer such that t min r m 0 r m then the upper bound in theorem 26 for d l is d ql ql 1 and since an r chain needs at least r colors the smallest value of d ql is r the coloring in theorem 27 allows us to use fewer than r new colors and thus can be a better bound when t is not too large for example let r 5 and t 31 then theorem 27 allows us to use only two new colors whereas the proof in theorem 26 uses at least five thus theorem 26 gives an upper bound of 5 5 31 1 159 whereas theorem 27 gives an upper bound of 2 5 31 1 158 the formula min r m 0 r m is a well known formula for the number of ways of placing rooks on an m r chessboard 14 15 4 3 bounds for boolean lattices the boolean lattice bn is the lattice of subsets of 1 2 3 n ordered by inclusion it is a distributive lattice and its join irreducibles are the singletons k 1 k n the number of points in any longest chain of bn is n 1 by theorem 26 d bn n n 2 n the next theorem has a tighter bound theorem 28 let bn be the boolean lattice of 1 2 3 n then d bn n 3 proof let n be odd we initially color each element x with r x for 0 r x n this coloring is proper next we will recolor some of the vertices to obtain a distinguishing coloring using two new colors a and b let si i i 1 i 2 2 i 1 for 1 i n 1 2 for 1 i j n 1 2 we have i si sj and 2 j 1 sj si thus the si form an antichain we change the color of each of the si to a similarly let ti n i 1 n i n i 1 n 2 i 1 for 1 i n 1 2 for 1 i j n 1 2 we have n i 1 ti tj and n 2 j 1 tj ti thus the ti form an antichain we change the color of each of the ti to b for example let n 7 then we color 1 2 3 3 4 5 4 5 6 7 with a and we color 7 6 5 5 4 3 4 3 2 1 with b an alternative description of the red elements is for each 1 i n 1 2 si contains the i smallest elements greater than or equal to i similarly the blue elements are described as for each 1 j n 1 2 tj contains the j largest elements less than or equal to n j we show that the coloring is distinguishing each point of bn colored a is pinned because it is the only point colored a in its rank similarly each point of bn colored b is pinned since qbn is the set of rank 1 points it is enough to show that the rank 1 points are pinned given i 1 i n 1 2 then the highest ranked point colored a that contains i is si for n 1 2 j the highest ranked point colored a that contains j is sn 1 2 thus i is pinned for 1 i n 1 2 similarly given j n 1 2 j n the lowest ranked point colored b that contains j is tj the lowest ranked point colored b that contains i is tn 1 2 for 1 i n 1 2 thus j is pinned for n 3 2 j n now n 1 2 is the only element that is contained in both a point colored a and a point colored b at rank n 1 2 thus n 1 2 is pinned hence all the join irreducibles of bn are pinned and this coloring is distinguishing let n be even then color all the elements by their rank and then alter the coloring using the same red and blue elements as in the case for bn 1 in this coloring n will not appear in any point colored a or b but each of 1 2 n 1 will do so thus n is pinned the other join irreducibles of bn are pinned for the same reasons as in the previous argument the examples in the next two propositions show that the bound in theorem 26 is tight when d ql 3 or 4 proposition 29 the boolean lattice b 3 has d b 3 5 16 proof observe that qb 3 3 and d qb 3 3 so by theorem 28 d b 3 5 the following is a proper and distinguishing coloring of b 3 using five colors is red 1 and 2 3 are blue 3 and 1 2 are green 2 and 1 3 are yellow and 1 2 3 is purple thus d b 3 5 proposition 30 the boolean lattice b 4 has d b 4 7 proof observe that qb 4 4 and d qb 4 4 so by theorem 28 d b 4 7 thus we must show that d b 4 6 suppose for a contradiction that we have a proper and distinguishing coloring of b 4 using 6 colors one color is used for and another for 1 2 3 4 so the remaining points must be colored using four colors red blue yellow and green we consider cases depending on the number of colors used on the rank 1 points case 1 four colors are used on the rank 1 points without loss of generality we may assume 1 is red 2 is blue 3 is green and 4 is yellow since is proper we know 1 2 3 must be yellow and 1 2 4 must be green now no color is available for 1 2 since it is comparable to points that use all four colors case 2 three colors are used on the rank 1 points without loss of generality we may assume 1 is red 2 is blue and 3 and 4 are yellow since is proper the colors are forced on all points except 3 4 namely 1 2 3 and 1 2 4 are green 1 2 is yellow 2 3 is red 1 3 is blue 2 4 is red 1 3 4 and 2 3 4 are green and 1 4 is blue regardless of whether 3 4 is red or blue the automorphism that swaps all instances of 3 and 4 preserves colors contradicting our assumption that is distinguishing case 3 two colors are used on the rank 1 points first consider the instance that the two colors each appear on two rank 1 points without loss of generality we may assume 1 and 2 are red 3 and 4 are blue and 1 3 is green since is proper the colors are forced on all points except 1 2 and 3 4 as follows 1 2 3 and 1 3 4 are yellow 2 3 is green 1 4 is green 1 2 4 and 2 3 4 are yellow and 2 4 is green regardless of the colors of 1 2 and 3 4 the automorphism that swaps 1 and 2 and also swaps 3 and 4 preserves colors contradicting our assumption that is distinguishing now consider the instance that one color appears on three of the rank 1 points and the other appears on one without loss of generality we may assume 1 and 2 and 3 are red 4 is blue and 3 4 is green since is proper the colors are forced on all points except 1 2 1 3 2 3 and 1 2 3 as follows 1 3 4 and 2 3 4 are yellow 2 4 and 1 4 are green and 1 2 4 is yellow the remaining points 1 2 1 3 2 3 must be green or blue and two of them must be the same color without loss of generality 1 2 and 1 3 are the same color but then the automorphism that swaps 2 and 3 preserves colors contradicting our assumption that is distinguishing case 4 the rank 1 points use one color 17 if the rank 3 points use two or more colors then we reach a contradiction using previous cases since is also a proper and distinguishing coloring of the dual of b 4 thus without loss of generality we may assume 1 2 3 and 4 are red and 1 2 3 1 2 4 1 3 4 and 2 3 4 are blue and the rank 2 points are green and yellow any such coloring is proper but not distinguishing coloring the rank 2 points using green and yellow is equivalent to giving a distinguishing coloring to the edges of the k 4 graph using green and yellow we show this is impossible if such a coloring were possible without loss of generality at least three edges are green first suppose there is a triangle of green edges say 1 2 1 3 and 2 3 are green if the remaining edges are yellow the automorphism 123 4 preserves colors if one additional edge is green say 1 4 then the automorphism 23 1 4 preserves colors if two additional edges are green say 1 4 and 2 4 then the automorphism 12 3 4 preserves colors if there is no triangle of green edges then without loss of generality 1 2 2 3 and 3 4 are green and the remaining three edges are yellow in this instance the automorphism 14 23 preserves colors 5 rank connected planar posets in this final section of results we consider rank connected planar lattices in section 2 1 we defined planar posets and ranked posets note that a planar poset is a lattice if it has both a minimal and maximal element definition 31 a ranked poset is rank connected if every pair of consecutive ranks considered as a vertex induced subgraph is connected definition 32 incomparable points x and y are twins if they have the same rela tionship to all other points of the poset a poset is twin free if it has no twins cohen macaulay posets are a well known class of posets in the study of flag f vectors of simplicial complexes for example see 19 although it is difficult to obtain a complete characterization of the set of flag f vectors of cohen macaulay posets many subclasses of this set are lexicographically shellable and thus have an explicit shelling collins 7 has shown that for ranked planar lattices being cohen macaulay is the same as being rank connected in this section we show that the distinguishing number of a rank connected twin free planar lattice is less than or equal to 2 the proof is completely different from the proof of theorem 14 which uses the regular structure of a distributive lattice however the 2 coloring of the points is again a chain in the poset we say that a hasse diagram for ranked planar poset is a standard diagram if it is planar all points at a given rank have the same y coordinate and all edges are straight line segments the following result appears to be part of the folklore of the field 20 we include a proof for completeness 18 proposition 33 if p is a ranked planar poset with 0 and 1 then p has a standard di agram proof partition the points of p by rank so that ri is the set of points of rank i for 0 i n since p is ranked each covering edge in p is between points at consecutive ranks suppose we have a planar hasse diagram for p in which the points of each rank have the same y coordinate for ranks k and lower and every edge between points of rank at most k is a straight line segment if k n we are done so assume k n let w 1 w 2 w 3 wr be the elements of rk listed from left to right in the hasse diagram if n k 1 then rk 1 1 and we can draw a straight line segment from each element of rk to 1 and this completes the proof otherwise n k 2 let lk be the horizontal line containing the points of rk and lk 1 the horizontal line containing the point s of rk 1 with lowest y coordinate in figure 4 the only point of rk 1 with lowest y coordinate is z 2 order the edges between rk and rk 1 from left to right as e 1 e 2 et by their order in the strip between lines lk and lk 1 this order is uniquely determined because the diagram is planar this ordering of edges induces an ordering of the points in rk 1 as follows for any u v rk 1 we order u before v if the leftmost edge ei incident to u is to the left of the leftmost edge ej incident to v the resulting order is z 1 z 2 z 3 zs and this is illustrated by the example in figure 4 for each zi that is above line lk 1 choose an edge ej incident to zi and relocate zi to the point z i where edge ej meets line lk 1 in figure 4 in each case the first such edge was selected for each zi rk 1 let n zi be the set of points in rk covered by zi the points in n zi have consecutive indices for otherwise there would be a point in rk with no upward route to 1 thus we can think of zi and its edges to n zi as forming a cone if n zi wr wr 1 wt then zi is the only member of rk 1 that covers any of the internal points wr 1 wj 2 wt 1 for any other such element in rk 1 would have no upward path to 1 thus cones intersect only at their outermost points indeed if wr 6 wt then no other zj of rk 1 can cover both wr and wt because this would imply that one of zi zj would have no upward path to 1 thus for all zi zj rk 1 with i 6 j we have n zi n zj 1 furthermore if i j and n zi n zj 6 then by the planarity assumption and the way we indexed the zi s the unique point in n zi n zj is the rightmost element of rk incident to zi and also is the leftmost element of rk incident to zj starting with edges incident to z 1 and continuing rightward we can draw the edges between rk 1 and rk as straight line segments from the points z 1 z 2 z s on lk 1 to the points w 1 w 2 wr on lk and by the properties above we know that none of these segments cross this is illustrated in the right portion of figure 4 it remains to reroute the edges between rk 1 and rk 2 for each z i rk 1 form a narrow band from z i to zi along the original edge ej that is incident to z i see figure 4 each edge between zi and rk 2 will now start at z i travel through this band to zi and continue on its original path to its destination in rk 2 the result is a planar hasse diagram for p in which points at each rank are each located on a 19 horizontal line for ranks k 1 and lower and edges between points of ranks at most k 1 are straight line segments the result follows by induction lk lk 1 w 1 w 2 w 3 w 4 w 5 w 6 z 1 z 2 z 2 z 3 z 4 z 1 z 3 z 4 lk lk 1 w 1 w 2 w 3 w 4 w 5 w 6 z 1 z 2 z 2 z 3 z 4 z 1 z 3 z 4 figure 4 an illustration of the induction step in the proof of proposition 33 remark 34 using proposition 33 it is not hard to show that the poset lpqr in figure 1 is not planar the next lemma appears in 7 and is helpful to us in the induction proof of theorem 36 lemma 35 given a standard diagram of a planar rank connected poset that has a 0 and a 1 there exists a rank in which the leftmost element x covers exactly one element a and is covered by exactly one element b furthermore if there is an element immediately to the right of x it also covers a and is covered by b theorem 36 if p is a twin free rank connected planar lattice then d p 2 proof let r be the maximum rank of points in p in any automorphism of p rank is preserved if there exists a point x in p other than 0 and 1 for which x is the only element of its rank then x is pinned thus we need only pin the elements below x and separately the elements above x so without loss of generality we may assume p has at least two points at each rank other the lowest and highest ranks by proposition 33 we may fix a standard diagram of p at each rank there is a leftmost point in the diagram and because the diagram is planar and p is rank connected the union of these points forms maximal chain c 0 from 0 to 1 color the points on chain c 0 red except for its minimal and maximal elements since there is at most one red point at each rank these points are pinned color the remaining points blue we show this coloring is distinguishing we apply lemma 35 repeatedly to obtain a sequence of chains c 0 c 1 cn each from 0 to 1 so that ci and ci 1 are identical except for two points xi ci and xi 1 ci 1 where xi and xi 1 have the same rank in p and xi 1 is immediately 20 to the right of xi in the diagram we know that x 0 is pinned since it is red and we proceed by induction assume the points x 0 x 1 xj 1 are pinned thus the points in cj 1 are pinned if there are no points at xj s rank that lie to the right of xj then xj is pinned since all remaining points at that rank are already pinned otherwise there exists one or more points at xj s rank that lie to the right of xj let a be the point immediately below xj on chain cj and b the point immediately above xj on cj suppose xj is not pinned so thus there exists a nontrivial automor phism of p with xj wj for some wj 6 xj we know wj has the same rank as xj and is located to the right of xj since the points to the left of xj are already pinned since is an automorphism a xj b and since a and b are pinned we have a wj b partition the set of points with b s rank as b 1 b 2 b where the points in b 1 lie to the left of b and the points in b 2 lie to the right of b by planarity wj is not adjacent to any point in b 1 however the points in b 1 b are pinned by our induction hypothesis and xj wj so xj cannot be adjacent to any point of b 1 either also by planarity xj is not adjacent to any points in b 2 thus the only point at b s rank that is adjacent to xj is the point b similarly the only point at a s rank adjacent to xj is a so xj is adjacent only to a and b the same must be true of wj since xj wj and a and b are pinned this means xj and wj are twins in p a contradiction thus xj is pinned and this completes the induction 6 open questions we conclude with some open questions question 6 1 is theorem 28 tight for all n 5 question 6 2 many theorems about 2 distinguishability can be proven using the motion lemma proved by russell and sundaram 17 is there a proof of theorem 14 using the motion lemma question 6 3 hadjicostas 11 has found the generating function for the number of distinguishing 2 colorings of an n cycle given a distributive lattice l what is the generating function of the number of distinguishing 2 colorings of l question 6 4 the cost of 2 distinguishing a graph g is the minimum size of a color class in any 2 distinguishing labeling of g see 6 what is the cost of 2 distinguishing a distributive lattice the cost may be smaller than the minimum sizes of color classes in the 2 labelings we have used in our proofs for example the cost of 2 distinguishing lp 2 q 2 is 1 as can be seen by coloring point p red and the remaining points blue whereas the cost of 2 distinguishing lpqr is 2 because there will still be an automorphism that preserves the colors even if one point is fixed 21 references 1 m o albertson and k l collins symmetry breaking in graphs electron j of combin 3 1996 r 18 2 s alikhani and s soltani the distinguishing number and distinguishing index of the lexicographic product of two graphs discuss math graph theory 38 3 2018 853 865 3 n balachandran and s padinhatteeri distinguishing chromatic number of ran dom cayley graphs discrete math 340 10 2017 2447 2455 4 n balachandran and s padinhatteeri d g aut g and a variant of the motion lemma ars math contemp 12 1 2017 89 109 5 g birkhoff on the combination of subalgebras proc cambridge phil soc 29 1933 441 464 6 d l boutin the cost of 2 distinguishing cartesian powers electron j combin 20 1 2013 paper 74 13 pp 7 k l collins planar lattices are lexicographically shellable order 8 1992 375 381 8 k l collins m hovey a n trenk bounds on the distinguishing chromatic number electron j combin 16 1 2009 research paper 88 14 pp 9 k l collins and a n trenk the distinguishing chromatic number electron j of combin 13 2006 r 16 10 d w cranston proper distinguishing colorings with few colors for graphs with girth at least 5 electron j combin 25 3 2018 paper 3 5 9 pp 11 p hadjicostas on the number of aperiodic chiral bracelets of two colors oeis entry a 032239 link 2019 12 w imrich r kalinowski m pil sniak m h shekarriz bounds for distinguish ing invariants of infinite graphs electron j combin 24 3 2017 paper 3 6 14 pp 13 w imrich s smith t w tucker and m e watkins infinite motion and 2 distinguishability of graphs and groups j algebraic combin 41 1 2015 109 122 14 i kaplansky and j riordan the problem of the rooks and its applications duke math j 13 1946 259 268 22 15 f lehner breaking graph symmetries by edge colourings j combin theory ser b 127 2017 205 214 16 m pil sniak edge motion and the distinguishing index theoret comput sci 678 2017 56 62 17 a russell and r sundaram a note on the asymptotics and computational complexity of graph distinguishability electron j combin 5 1998 r 23 1 7 18 r p stanley enumerative combinatorics vol i second edition cambridge univ press new york ny 2012 19 r p stanley combinatorics and commutative algebra second edition birkha user boston ma 1996 20 w t trotter personal communication 23 1 introduction 2 preliminaries 2 1 general poset definitions 2 2 lattice definitions 2 3 birkhoff s theorem 3 distinguishing numbers 3 1 sums of chains 3 2 distributive lattices 3 3 divisibility lattices 4 distinguishing chromatic number 4 1 bounds for distributive lattices 4 2 bounds for divisibility lattices 4 3 bounds for boolean lattices 5 rank connected planar posets 6 open questions