ar x iv 1 90 1 04 82 8 v 1 m at h c t 1 5 ja n 20 19 metric limits in categories with a flow joshua cruz abstract in topological data science categories with a flow have become ubiquitous including as spe cial cases examples like persistence modules and sheaves with the flow comes an interleaving distance which has proven useful for applications we give simple categorical conditions which guarantee metric completeness of a category with a flow meaning that every cauchy sequence has a limit we also describe how to find a metric completion of a category with a flow by using its yoneda embedding the overarching goal of this work is to prepare the way for a theory of convergence of probability measures on these categories with a flow 1 introduction it is common in applied topology to take a data set and assign to it an object from some category examples include persistence modules 6 multiparameter persistence modules 12 and derived sheaves 10 see 8 for more examples of categories used in this way if this category can be given an interleaving distance we can often treat it as a metric space up to some technical complications a general way to get an interleaving distance is to have a flow as defined in 8 on a category c a flow is a functor t c c for every 0 satisfying certain properties it is natural to ask whether c t is metrically complete 1 i e if every cauchy sequence has a metric limit in particular one might hope that there are categorical conditions we can place on c to ensure it is in this paper we study the issue of metric completeness of categories with a flow we are particularly interested in the connection between categorical properties of c and t and their metric properties the following is an example of the kind of theorem that is proved theorem let c t be a category with a flow then c t is metrically complete if c is categor ically complete and t preserves limits these conditions are in fact stronger than what we actually need see theorem 4 the proof involves constructing a diagram out of a given cauchy sequence then under conditions on t the categorical limit of the diagram is a metric limit of the cauchy sequence we also describe the closure of a subcategory with a strict flow in a larger complete category this gives an analog of cauchy completion using the co yoneda embedding we can use this general framework to study completeness for many specific examples of categories with interleavings generalized persistence modules and derived sheaves are two more new to the literature contexts in which we address completeness 1 it is inconvenient that many terms we would like to use such as limit complete dense and even cauchy complete category have already be defined by category theorists in other contexts see 11 3 we will try to avoid confusion by using the adjective metric or adverb metrically to denote terms related to limits coming from the interleaving distance and by using the adjective categorical to refer to the category theory versions 1 http arxiv org abs 1901 04828 v 1 let s give some indication of the motivation for this work one might try to study convergence of probability measures directly on these categories with interleavings lots of previous work has stud ied stochastic processes at the level of simplicial complexes e g erdo s renyi simplicial complexes and at the level of persistence diagrams persistence landscapes betti numbers and other invariants however working at the intermediate level of categories with interleaving distances would be prefer able in many contexts especially when a sufficiently descriptive and well behaved invariant has not been found multi parameter persistence modules come to mind very little work on the convergence of probability measures has been done at this level in part because there does not yet exist strong foundations for this study what is needed is an understanding at least of metric completion and separability of the category and hopefully also some idea of the precompact subsets 2 prokhorov s theorem is a prime example of these three concepts in play while the majority of this paper is focused around studying the metric completeness of a category with a flow the last section situates this paper in the broader context of polish spaces and their applications to the convergence of probability measures overview section 2 gives background and terminology for categories with a flow heavily influenced by 8 it also introduces the dual notion of categories with a coflow section 3 defines cauchy sequences in categories with flows and gives categorical conditions on when they have metric limits section 4 explains how to use the yoneda embedding to densely embed any category with a strict flow into a metrically complete category section 5 studies some example categories and shows whether they are complete or not section 6 gives some indication of the context and broader interest of these results by giving an application towards finding categories with a flow which are polish spaces acknowledgements i d like to acknowledge and thank the ima and the cmo for hosting conferences this year which gave me access to several very useful conversations in particular the idea for this paper was conceived at the ima s conference bridging sheaves and statistics at both these conferences many people were very helpful in particular justin curry peter bubenik and nikola milicevic all gave important observations and pointers that made this paper much better 2 background on categories with flows the interleaving distance was first defined in the context of persistence modules 6 it has since been generalized in many different ways lesnick 12 defines an interleaving distance on multipa rameter persistence modules bubenik de silva and scott 4 define an interleaving distance for generalized persistence modules which are functor categories p d where d is any category and p is a preordered set kashiwara and schapira 10 define an interleaving distance for constructible derived sheaves on rn de silva munch and stefanou 8 16 make a definition which generalizes all other current examples at least to the author s knowledge they define a category with a flow and show that this induces an interleaving distance with the required properties and that this distance agrees with the proposed distance in many other circumstances further they were able to provide a very general stability theorem using a notion of flow equivariant functors 2 perhaps we should say precompact subcategories 2 2 1 definitions and main results all the definitions and results from this subsection can be found in 8 definition 1 a flow on a category c is an assignment of a endofunctor t c c for every non negative real number 0 along with natural transformations t t t for so that for all the following commutes t t t t t t said another way a flow is a functor t 0 end c from the poset category of non negative reals to the category of endofunctors of c further we require any flow to come with natural transformations t t t and u idc t 0 satifying the following relations t t 0 t t uit 0 t t t 0 t it u 0 t t t t t t t t idt idt t t t t t t t t t a flow is strict if the natural transformations idc t 0 and t t t are identities for all 0 this implies that t 0 idc and t t t 3 a flow is essentially strict if the natural transformations t t t and idc t 0 are natural isomorphisms definition 2 two objects a b c are weakly interleaved if there are maps a t b and b t a and a commutative diagram t 0 a a b t 0 b t a t b t 2 a t t a t t b t 2 b t t and we call such a diagram a weak interleaving of a and b 3 the implication does not go the other way there are non strict flows such that t 0 idc and t t t 3 definition 3 the interleaving distance on a category with a flow c t is d c t a b inf a and b are weakly interleaved when the context is clear we will drop the subscript and simply write d a b remark in the past most contexts with an interleaving distance used standard interleavings not weak ones in fact many contexts rewritten in this framework involve a category with a strict flow for categories with strict flows weak interleavings and the usual interleavings are the same so the interleaving distance is the usual one theorem 1 the interleaving distance has several desirable properties d a b 0 if a and b are isomorphic d a b d b a d a c d a b d b c remark the interleaving distance is not quite a metric distances can be infinite and distances can be zero even if the two objects are not isomorphic definition 4 a strict flow equivariant functor h c t d s between categories with a flow is an ordinary functor h c d so that ht s h and the following diagrams commute h h ht 0 s 0 h ht s h ht s h ht t s s h ht s h note that our terminology differs slightly from 8 4 also while this definition is strong enough for the purposes of this paper 8 defines a more general kind of functor and proves a stability theorem at this level of generality we will content ourselves with using the more specific version stated here theorem 2 soft stability theorem let h be a strict flow equivariant functor between c t and d s then h is 1 lipschitz with respect to the categories interleaving distances 2 2 coflows it is not surprising that a categorical structure like a category with a flow would have a dual struc ture we call this dual structure a category with a coflow there is a duality between categories with a flow and categories with a coflow the following can be thought of as a definition lemma or remark depending on your point of view definition 5 c t is a category with a coflow if and only if c op t op is a category with a flow 4 we do this because flow equivariant can be dualized to coflow equivariant when we talk about categories with coflows the alternative was to call the analogous functors for coflows 0 op equivariant which seemed worse 4 some might prefer the language of actegories then if a category with a flow is a 0 actegory a category with a coflow is a 0 op actegory all of the previous section can be dualized there is a notion of weak interleavings of an in terleaving distance and of strict coflow equivariant functors for categories with coflows likewise the triangle inequality for the interleaving distance and the soft stability theorem are still true for categories with a coflow in general categories with coflows come up in cohomological contexts while categories with flows come up in homological contexts for example persistence modules model persistent homology and form a category with a flow persistent cohomology lives in the opposite category which is a category with a coflow the category of sheaves and the category of derived sheaves are two more examples of categories with interleaving distances which come from a coflow 3 cauchy sequences in categories with interleavings 3 1 definition and basic results we will use the following lemma repeatedly and implicitly in this section lemma 1 the natural transformation t t factors through t t 0 t t t t proof combining two diagrams from section 2 we get the commutative diagram t t t t 0 t t t t u it 0 t 0 t definition 6 let c be a category with a flow define a sequence of objects an to be cauchy if for every 0 there is an n so that for all n m n d an am a is a metric limit of the sequence an if for every 0 there is an n so that for all n n d an a if every cauchy sequence an in c has a metric limit we say c is metrically complete remark this definition is probably not surprising but there is a small reason to include it cauchy sequences are usually defined for sets with metrics and quasi metrics and extended quasi metrics that is to say for sets but in this context we are not guaranteed that the collection of objects of c forms a proper set nonetheless this definition still makes sense remark metric limits of a cauchy sequence of objects of c are not necessarily unique even up to isomorphism however we have the following lemma lemma 2 let a be a metric limit of a cauchy sequence an then b is also a metric limit of the same cauchy sequence if and only if d a b 0 proof say d a b 0 then for all there is an n so that for all n n d an a then d an b d an a d a b d an a so b is a metric limit of an say b is another metric limit of an there is some n so that d an a and d an b for all n n therefore d a b d an a d an b 2 since was arbitrary d a b 0 5 let a n be a cauchy sequence of elements in c let k 2 k let nk be a sequence of natural numbers so that nk nk 1 and for all n m nk d a n a m k 2 k 1 set ak a nk lemma 3 ak is a cauchy sequence and if a is a metric limit of a k if and only if a is a metric limit of ak the proof of this lemma is the same as the proof that a subsequence of a cauchy sequence in a metric space is cauchy with the same limit which can be found in any undergraduate analysis text 3 2 categorical conditions implying metric completeness take a cauchy sequence ak so that d ak an k 1 2 k 1 for all n k for each k 1 choose an k 1 interleaving between ak and ak 1 this gives us a map t k 1 ak 1 t k 1 t k 1 ak 1 t 2 k 1 ak t kak patching these together we get the diagram t k 1 ak 1 t kak t 2 a 2 t 1 a 1 if the categorical limit exists set a lim t k 1 ak 1 t kak t 2 a 2 t 1 a 1 denote the limit maps k a ak theorem 3 let c t be a category with a flow where t preserves categorical limits let ak be a sequence of objects so that d ak an k 1 for all k and n k for all k pick a weak k 1 interleaving between ak and ak 1 so you get a map t k 1 ak 1 t kak let a be a categorical limit of the diagram t k 1 ak 1 t kak t 2 a 2 t 1 a 1 then a is a metric limit of ak proof we will show that d ak a k by exhibiting a weak k interleaving between ak and a this will give us that a is a metric limit of ak we will actually give a strict k interleaving first consider the following commutative diagram ak t kak t 0 t kak t kt kak t k 1 ak 1 t k 1 t k 1 ak 1 t k 1 t k 1 ak 1 t kt k 1 ak 1 t k 1 t k 2 ak 2 t k 1 t k 2 t k 2 ak 2 t k 1 k 2 t k 2 ak 2 t kt k 2 ak 2 t k 1 t k 2 t k 3 ak 3 t k 1 t k 2 t k 3 t k 3 ak 3 t k 1 k 2 k 3 t k 3 ak 3 t kt k 3 ak 3 6 the first triangle we get from the weak k 1 interleaving between ak and ak 1 the second tri angle we get from applying t k 1 to the weak k 2 interleaving between ak 1 and ak 2 and so on the trapezoids we get from the natural transformation t k 1 t k 2 t k m t k form k denote by m ak t kt mam the map which we get from this diagram form k denote by m ak t kt mam the map which makes the rest of the following diagram commute ak t kt m 1 am 1 t kt mam m 1 m the collection of maps m induces a map ak t ka because t ka is the limit of that bottom diagram now we have the following maps k a t ka k this comes from the definition of a as a limit t k k t ka t kt kak this comes from applying t k to i by hypothesis it is also the limit map of t ka lim t kt 2 a 2 t kt 1 a 1 ak t ka which we just defined t k t kak t kt ka this comes from applying t k to we must check that these pentagons commute t 0 ak ak t ka t 2 kak t kt kak t k k a t 0 a t kak t kt kak t 2 kak t k k we will do this by showing the stronger statement that these triangles commute ak t kt kak t ka t k k t kak a t kt ka t k k the first commutes by the definition of the second triangle is harder notice we have the commutative diagram 7 t kak t kak t k 1 t k 1 ak t k 1 t k 1 t k 1 ak 1 t kt k 1 ak 1 t k 1 ak 1 t kt k 1 ak 1 t k 2 t k 2 ak 1 t k 2 t k 2 t k 2 ak 2 t k 1 t k 2 ak 2 t k 2 ak 2 t kt k 1 t k 2 ak 2 da b c the a triangles come from applying the natural transformations t k m 1 t k m 1 t k m to the interleaving maps ak m t k m 1 ak m 1 the b triangles come from the weak k m 1 interleaving between ak m and ak m 1 the horizontal maps are defined so that the c triangles commute lastly we know the d diagrams commute by applying the natural transformations id t kt k 1 t k m to the maps ak m t k m 1 ak m 1 we can concatenate this diagram with t k applied to an earlier diagram to get a t kak t kak t kt kt kak t k 1 ak 1 t kt k 1 ak 1 t kt kt k 1 ak 1 t k 2 ak 2 t kt k 1 t k 2 ak 2 ak 2 t kt kt k 2 ak 2 k this diagram tells us t kt kt m m t k m k these maps induce a map from a to t kt ka by continuity of t k t kt kt m m induces the map t kt kt m and t k m k induces the map t k k therefore our second triangle commutes this shows there is an k interleaving between ak and a and therefore d ak a k thus a is a metric limit of ak theorem 4 a category with a flow c t is metrically complete if c contains all limits of the form and for all 0 t preserves categorical limits dually a category with a coflow c t is metrically complete if c contains all colimits of the form and 8 for all 0 t preserves categorical colimits proof we show the proof for the category with a flow dualize this to get a proof for a category with a coflow let a k be a cauchy sequence in c t as described before there is a subsequence ak so that d ak an k 1 for all n k then we can create a diagram t k 1 ak 1 t kak t 2 a 2 t 1 a 1 c has categorical limits of all diagrams of this form denote this limit a then by theorem 3 a is a metric limit of ak and by lemma 3 a is also a metric limit of a k thus every cauchy sequence has a limit and c t is metrically complete 4 metric completions in this section we will work with categories with a coflow for convenience s sake the results we reference from outside sources are more familiar in the coflow case the metric completion of a category with a flow can be found by dualizing and completing the resulting category with a coflow lemma 4 let c t and d s be categories with coflows and c t be a strict coflow equivariant full subcategory of d s let t be a strict flow d be cocomplete and s preserve colimits then there is a full subcategory z of d so that 1 c is a full subcategory of z 2 c is metrically dense in z i e for every object z z and real number 0 there is an object a c so that d a z 3 s preserves z 4 z s is metrically complete proof let a k be a cauchy sequence in c and let ak be a subsequence so that d an am k 1 for all n m k as in section 3 then we get as before a diagram t 1 a 1 t 2 a 2 t kak t k 1 ak 1 we can consider this a diagram in d it has a colimit a in d because that category has all small colimits let the objects of z be the objects of c along with any object of d which is a colimit a of a diagram of the form given above then z is defined to be the full subcategory of d with that collection of objects we will now show that z satisfies the properties of this corollary 1 and 2 follow directly from the definition to show 3 first note that if z is an object of z z is the colimit of some diagram t 1 a 1 t 2 a 2 t kak t k 1 ak 1 of the type above then s z is the colimit of the diagram 9 s t 1 a 1 s t 2 a 2 s t kak s t k 1 ak 1 because the embedding preserves the flow this diagram is equivalent to t t 1 a 1 t t 2 a 2 t t kak t t k 1 ak 1 which by strictness of t is the same as t 1 t a 1 t 2 t a 2 t k t ak t k 1 t ak 1 therefore s z is also an object of z and we ve shown 3 lastly we ll show 4 take a cauchy sequence zk of objects of z then by 3 for each zk there is an object ak in c so that d ak zk 2 k then ak is also a cauchy sequence with the same set of metric limits as zk because ak consists of objects of c it has a metric limit in z therefore zk also has a metric limit in z definition 7 we denote the largest subcategory satisfying the properties of lemma 4 as the closure of c t in d s proof this is one of those definitions that requires proof let a be an object of x if and only if a is an object of a subcategory z of d satisfying the conditions of lemma 4 let x be the full subcategory with this class of objects it is clear that any category that satisfies the conditions of lemma 4 must be a subcategory of x we will show x also satisfies those conditions conditions 1 2 and 3 are easy to verify condition 4 can be shown as follows take a cauchy sequence ak x by condition 2 for each k there is an object bk c so that d ak bk 1 k now bk is a cauchy sequence of objects in c and an object a d is a metric limit of ak if and only if it is a metric limit of bk since lemma 4 says there is a subcategory z which is metrically complete and contains each bk bk has a metric limit a z x thus ak has a metric limit in x and x is metrically complete let c be a locally small category i e for every pair of objects a b c hom a b is a proper set let h be the yoneda functor which takes an object a in c and sends it to a contravariant functor from c to set like so h a 7 ha where ha b hom b a the yoneda lemma tells us that the natural transformations between the functors ha and hb are in one to one correspondence with the morphisms between a and b in other words nat ha hb hom a b one interpretation of this is that c can be embedded as a full subcategory of cop set the category of contravariant functors from c to set 5 this is called the yoneda embedding 6 lemma 5 assume c t is a small category then 1 cop set is locally small 2 cop set is complete and cocomplete meaning it contains all small limits and small colimits in particular it contains all colimits of diagrams of the form 5 this is sometimes called the category of set valued presheaves on c 6 information on the yoneda embedding and on category theory more generally can be found in 15 and 13 10 3 for every 0 there is a pointwise left kan extension l lanh h t c c cop set cop set t h h l and we can choose l so that l h h t 4 l preserves all small colimits 5 l has a right adjoint 6 l 0 id cop set proof 1 follows directly from the yoneda lemma limits and colimits in functor categories are computed pointwise so 2 follows from the completion and cocompletion of set the diagram above satisfies the conditions of corollary 6 2 6 in 15 which says the pointwise left kan extension exists that we can choose it to be a true extension is indicated in corollary 4 in section x 3 of 13 4 is a property of any pointwise left kan extension along yoneda see section 2 7 of 9 further because cop set is locally presentable 5 follows from 4 by the adjoint functor theorem 6 is a famous result another way this is said is that the yoneda embedding is categorically codense see section x 6 in 13 theorem 5 assume c t is a category with a strict flow and define the functors l as in lemma 5 then 1 l defines a coflow on c op set 2 c t h cop set l is a full strict coflow equivariant embedding of categories 3 cop set l is a metrically complete category proof to show l defines a coflow we must give natural transformations l l for l 0 id and l l l so that all the diagrams from section 2 commute first we can define the natural transformations l l by applying the universal property of a left kan extension to the diagram c c cop set c c cop set cop set t h t h h l 11 this also shows why l is functorial in the lemma 5 6 says l 0 id so that natural transfor mation is the identity notice also that l being a left adjoint preserves left kan extensions see theorem 1 of section x 5 in 13 in particular l l l lanh h t lanh l h t lanh h t t lanh h t l where the arrows are the unique natural isomorphisms making the appropriate diagram commute this is the natural transformation l l l we choose the only thing left to proving 1 is verifying that the four coflow relation diagrams commute the ones involving l 0 are trivial because l 0 id the other two follow from the properties of a kan extension yoneda says h is a full embedding of categories lemma 5 3 says this is a strict co equivariant embedding of categories this gives 2 lastly lemmas 5 2 and 5 4 tell us that cop set satisfies the conditions of theorem 4 this gives 3 corollary 1 for any category c t with a strict flow there is a full subcategory c of c op set so that 1 c is a full subcategory of c 2 c is metrically dense in c i e for every object z c and real number 0 there is an object a c so that d a z 3 l preserves c 4 c l is metrically complete 5 c is the largest subcategory of cop set to satisfy properties 1 4 proof the theorem is essentially checking the conditions of lemma 4 of which this corollary is a direct application we then just apply definition 7 definition 8 we call c l the metric completion of c t 5 examples 5 1 q consider the category q with one object for every rational number and hom q p if q p otherwise where is the set with one element and is the empty set define a coflow t q q this is technically only defined for rational but all our previous work goes through anyway then q and 12 p are interleaved if and only if q p a sequence q k is cauchy in the context of this paper if and only if it is cauchy in the usual sense we can find a subsequence qk so that qk and qk 1 are k 1 interleaved then our diagram looks like q 1 1 q 2 2 which has a colimit in q if and only if qk converges to a rational number in the usual sense the yoneda embedding is a functor h q q op set in particular hq p hom p q if p q otherwise and hq is a contravariant functor where h sends the inequality q 1 q 2 to the inclusion hq 2 p hq 1 p thus hq is essentially a dedekind cut and if r is the traditional limit of qk in r then the categorical colimit of hq 1 1 hq 2 2 in q op set is hr where hr p if p r otherwise one can show the completion q is equivalent to the category r however it is not true that the two are isomorphic as categories in particular r is a skeletal category while the completion q is not 5 2 persistence modules persistence modules form the most popular category with a flow though there are really many different categories depending on which of many different types of conditions we impose a recent paper by bubenik and vergili 5 studies metric completeness for several of the most used categories of persistence modules along with a host of other properties from general topology a persistence module is a functor from the order category 7 r to the category of k vector spaces vectk the category of persistence modules can be denoted r vectk the interleaving functor t on a persistence module is given by t m a m a t m a b m a b example r vectk with the flow t is metrically complete proof we must show r vectk with t satisfies the conditions of corollary 4 taking limits of functors is done pointwise since vectk is complete so is r vectk further t is an autoequivalence of categories so it preserves basically all categorical constructions including limits let vectfin k be the category of finite dimensional k vector spaces then r vectfin k is the category of persistence modules m where m a is finite dimensional for each a r we can use the flow t as before because t preserves r vect fin k example r vectfin k with t is not metrically complete proof let a b be the interval module where m s k for s a b 0 otherwise m s t idk for s t a b 0 otherwise 7 notice this category is the opposite category of the one considered in the last section i e r r op 13 define the sequence of persistence modules an n k 1 1 k 1 k then an is a cauchy sequence but has no metric limit an is cauchy because for every 0 there is an n so that t an t am for all n m n so the interleaving is easy to find it has no metric limit because any such limit m would need an infinite dimensional vector space m 0 in 5 bubenik and vergili make similar calculations for categories of persistence modules with many different types of conditions note that their proof for completeness is different from ours and uses slightly different hypotheses in general neither weaker nor stronger 5 3 generalized persistence modules bubenik de silva and scott 4 introduced the notion of a generalized persistence module gpm a category of generalized persistence modules is a functor category p d where p is a poset cate gory and d is some arbitrary category to calculate interleaving distances they also introduced the notion of a superlinear family of translations then munch de silva and stefanou 8 showed how generalized persistence modules with a superlinear family of translations can be thought of a flow on the category p d where the flow functors t are pullbacks along translations the important observation in checking metric completeness for this case is that limits in functor categories are computed pointwise this has two corollaries 1 pulling back a functor along a translation preserves limits 2 if d is a complete category so is p d therefore we get the following corollary 2 assume p is a poset category d is a categorically complete category and p d is the category of functors from p to d choose a superlinear family of translations and use it to define an interleaving distance as in 4 or 8 then p d is metrically complete interestingly it is complete no matter which superlinear family of translations is chosen 5 4 the derived category of sheaves recently kashiwara and schapira 10 defined a flow on the derived category of sheaves of k vector spaces on rm denoted d krm we will not rehash all the details of that paper but the broad strokes are these let s rm rm rm be the addition map s x y x y let k be a vector space let k k x for 0 then for an object a d krm define 8 t a k a rs k a it is shown in 10 that t forms a strict coflow on d krm corollary 3 d krm under the interleaving distance is metrically complete proof we must show that convolving with k preserves colimits and that d krm has enough col imits convolution with k is an autoequivalence of categories and so it preserves basically every 8 it deserves to be pointed out that while t makes sense as a functor on d krm without the bounded or constructible conditions as well as on dbc krm with both the bounded and constructible conditions it doesn t make sense on dc krn specifically if a dc krn is not bounded it is very possible that t a is not constructible 14 categorical construction including colimits thus it suffices to show that a diagram of the form a 1 a 2 has colimits in d krm certainly has colimits in sh krm because sh krm is cocomplete the functor colim sh krm sh krm is right exact because all colimit functors are right exact if we can show it is left exact too then colim would be exact and it would extend to a functor colim d krm d krm this would mean has colimits in d krm therefore it suffices to show that colim is left exact say we have the exact sequence of diagrams 0 0 0 a 1 a 2 a 3 a b 1 b 2 b 3 b p 1 p 2 p 3 p where a and b are colimits of their respective diagrams and all the ak bk are sheaves we wish to show that p is injective this amounts to showing that p is injective on stalks but because taking colimits commutes with taking stalks we can assume the ak bk etc in the above diagram are vector spaces over k now we must show the direct limit of direct system of vector spaces is an exact functor this is a standard result but a proof is included here because i could not find one in the literature we can explicitly define a as a n 1 an a a b n 1 bn b b where and are the shift maps on n 1 an and n 1 bn respectively say that p a 0 for some a a we can represent a which some a an for some n and p a pn a b therefore pn a 0 so k pn a 0 for some k by commutativity of the diagram pn k k a 0 by injectivity of pn k k a 0 therefore a k a 0 this shows that p is injective which completes our proof example as an important example dbc krm is not metrically complete let fn n k 1 1 0 2 k k then fn is a cauchy sequence but the limit does not exist in d b c krm nor is it only unboundedness that is the problem define cn n k 1 1 2 k 2 k 1 and c n 1 cn set fn 1 cn and f 1 c each of the fn d b c krn and limn fn exists in d x and is bounded but limn fn is not constructible 15 6 categories with a flow and polish spaces 9 a pressing motivation for the research in this paper was in providing conditions for categories with a flow to be polish spaces i e complete and separable polish spaces are important because they are the foundation for many results from statistics and probability particularly when considering convergence of probability measures it is important for those probability measures to be on a com plete separable space see for example prokhorov s theorem or the result that every probability measure on a polish space is tight 2 this paper thus far has only addressed one side of that issue that of completeness separa bility of categories with a flow seems difficult to characterize in general certainly specific cases are tractable and it does seem to be related to the notion of accessibility and similar concepts however an all purpose easy to check test remains elusive often what happens in practice is that we have a little category which is separable sitting inside a big category which is complete but neither is polish in this situation we can find a polish space between the two in particular the closure of the little category in the big category see definition 7 is a polish space as an example take the space of bounded constructible sheaves dbc krm this space is not complete as shown in section 5 4 but it is separable as long as k is countable which can be shown with the help of theorem 2 11 of 10 on the other hand d krm is not separable for m 2 but it is complete neither space is an appropriate space in which to do statistics but we can use lemma 4 to create a polish space of sheaves a similar question is what category of persistence modules should be used from applications on the one hand the whole category of persistence modules is metrically complete however in 5 it is shown that the collection of isomorphism classes of persistence modules is not only non separable but not even a set thus the whole category of persistence modules is too big on the other hand there is a useful subcategory which is separable namely the constructible persistence modules see remark 3 1 of 5 however this space is not complete to see why this is a problem consider the probability measure on persistence modules we get from looking at the persistence modules obtained from brownian motion as was done more or less in 1 this measure is supported on persistence modules which are not constructible nor even pointwise finite dimensional thus the category of constructible persistence modules is too little 10 in fact 5 considers over ten different categories of persistence modules and none of them were both complete and separable except the ones which were trivially so like the category of only the zero module or the category of ephemeral modules one way to solve this problem is to take a separable subcategory and find its closure in all persistence modules using definition 7 the closure c of the constructible persistence modules in all persistence modules seems like a useful candidate category for using persistence modules in applications for two reasons first it is polish so we can use the relevant theorems from probability and statistics second the acclaimed 1 lipschitz map from the stability theorem 7 sending bounded continuous functions to persistence 9 this section will be more informal but it will hopefully be useful for giving context for this paper in particular we will not rigorously define what we mean by separability for the purposes of this paper separability can mean that the induced extended quasimetric on the coskeleton is separable 10 this was noticed in the decategorified setting of persistence diagrams by mileyko mukherjee and harer 14 16 modules has its image in c in particular it seems large enough to handle the expected examples of random persistence modules references 1 robert j adler omer bobrowski matthew s borman eliran subag and shmuel weinberger persistent homology for random fields and complexes borrowing strength theory powering applications a festschrift for lawrence d brown institute of mathematical statistics 2010 2 patrick billingsley convergence of probability measures wiley 1999 3 francis borceux and dominique dejean cauchy completion in category theory cahiers de topologie et ge ome trie diffe rentielle cate goriques 2002 4 peter bubenik vin de silva and jonathan scott metrics for generalized persistence modules foundations of computational mathematics 2015 5 peter bubenik and tane vergili topological spaces of persistence modules and their properties journal of applied and computational topology 2018 6 fre deric chazal david cohen steiner marc glisse leonidas j guibas and steve y oudot proximity of persistence modules and their diagrams proceedings of the 25 th annual symposium on computational geometry 2009 7 david cohen steiner herbert edelsbrunner and john harer stability of persistence diagrams discrete and computational geometry 2006 8 vin de silva elizabeth munch and anastasios stefanou theory of interleavings on categories with a flow theory and applications of categories 2018 9 masaki kashiwara and pierre schapira categories and sheaves springer verlag 2006 10 masaki kashiwara and pierre schapira persistent homology and microlocal sheaf theory jour nal of applied and computational topology 2018 11 f william lawvere metric spaces generalized logic and closed categories reprints in theory and applications of categories 2002 12 michael lesnick the theory of the interleaving distance on multidimensional persistence mod ules foundations of compuational mathematics 2015 13 saunders maclane categories for the working mathematician springer verlag 1978 14 yuriy mileyko sayan mukherjee and john harer probability measures on the space of per sistence diagrams inverse problems 2011 15 emily riehl category theory in context dover 2016 16 anastasios stefanou dynamics on categories and applications phd thesis university of albany 2018 department of mathematics duke university joshua cruz duke edu 17 joshua cruz duke edu 1 introduction 2 background on categories with flows 2 1 definitions and main results 2 2 coflows 3 cauchy sequences in categories with interleavings 3 1 definition and basic results 3 2 categorical conditions implying metric completeness 4 metric completions 5 examples 5 1 q 5 2 persistence modules 5 3 generalized persistence modules 5 4 the derived category of sheaves 6 categories with a flow and polish spaces