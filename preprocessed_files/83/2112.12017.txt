ar x iv 2 11 2 12 01 7 v 1 m at h d g 2 2 d ec 2 02 1 density and positive mass theorems for initial data sets with boundary dan a lee martin lesourd and ryan unger abstract we prove a harmonic asymptotics density theorem for asymptotically flat initial data sets with compact boundary that satisfy the dominant energy condition we use this to settle the spacetime positive mass theorem with rigidity for initial data sets with apparent horizon boundary in dimensions less than 8 without a spin assumption contents 1 introduction 1 2 preliminaries 5 2 1 notation and definitions 5 2 2 conformal initial data sets 7 3 density theorems 12 3 1 prescribed constraint density theorem 12 3 2 dominant energy condition density theorem 17 4 positive mass theorem with boundary 19 4 1 proof of the inequality e p 19 4 2 the equality case e p 20 4 3 embedding in minkowski space when e 0 23 appendix a second differential of the constraint null expansion system 25 references 29 1 introduction in the study of asymptotically flat manifolds it is often useful to perturb the geometric data into something easier to work with the first result of this kind was proved by r schoen and s t yau sy 81 a who showed how to perturb an asymptotically flat scalar flat metric 1 1 gij x ij o 2 x 1 to an asymptotically flat scalar flat metric satisfying 1 2 g ij x u 4 x ij outside a compact set where u is a harmonic function with respect to the underlying eu clidean structure and u x 1 as x such a metric has so called schwarzschild asymptotics which can be seen by expanding u in spherical harmonics and so may be treated using the methods of sy 79 a this result can be generalized to show that an asymptotically flat nonnegative scalar curvature metric can also be perturbed so that 1 2 holds outside a compact set while maintaining nonnegative scalar curvature lp 87 kuw 90 one may characterize these results as saying that metrics with asymptotic expansion 1 2 are dense 1 http arxiv org abs 2112 12017 v 1 2 dan a lee martin lesourd and ryan unger among metrics with asymptotic expansion 1 1 either subject to the constraint rg 0 or the constraint rg 0 where rg denotes the scalar curvature of g density theorems of this kind are used in every minimal hypersurface marginally outer trapped surface mots and jang reduction proof of the positive mass theorem sy 79 a sy 81 a sy 81 b sch 89 loh 99 eic 13 ehls 16 loh 16 loh 17 sy 17 the improved asymp totics are used to construct barriers and perform asymptotic analysis on area minimizing hypersurfaces or stable mots spanning large spheres in the asymptotically flat region we note however that the conformally flat structure in 1 2 is not necessary for the anal ysis one merely needs that the metric is asymptotic to a schwarzschild metric up to the mass order term car 16 luy 21 j lohkamp observed in loh 99 that the density theorem described above can be used to compactify an asymptotically flat metric with negative mass thereby reducing the riemannian positive mass theorem to the theorem that a connected sum of a torus with a compact manifold cannot carry a metric with positive scalar curva ture sy 79 b gl 80 see also cp 11 loh 16 sy 17 luy 20 for simplifications and further applications of this technique recall that m g k is an initial data set if m g is a riemannian manifold equipped with a symmetric 0 2 tensor field k and that the mass density a scalar and the momentum density j a vector field are defined by 1 2 rg k 2 g trg k 2 j i divg k i i trg k we say that m g k satisfies the dominant energy condition dec if j g it is often convenient to replace kij by the momentum tensor ij kij trg k g ij and we will abusively also refer to m g as an initial data set the first density theorem for initial data sets was proved by j corvino and schoen cs 06 who showed that asymptotically flat vacuum initial data sets g can be approximated by vacuum initial data satisfying the harmonic asymptotics condition 1 3 g ij u 4 ij ij u 6 l y ij outside a compact set for some function u and vector field y which have good asymptotic expansions the notation l is defined by the formula lgy ij ly g ij divg y g ij for an arbitrary metric g where ly denotes the lie derivative in the extension of the positive mass theorem to initial data sets in higher dimensions ehls 16 m eichmair lan hsuan huang the first named author and schoen proved a harmonic asymptotics density theorem for initial data sets satisfying the dominant energy condition this theorem also plays a crucial role in eichmair s jang reduction and rigidity theorems eic 13 as well as lohkamp s compactification approach to the spacetime positive mass theorem loh 17 in the present paper we generalize the density theorems of corvino schoen cs 06 and eichmair huang lee schoen ehls 16 to allow for initial data sets with compact boundary theorem 1 1 density theorem for initial data sets with boundary let mn g k be a complete asymptotically flat initial data set with compact boundary m such that the dominant energy condition j g holds on m let p n and n 2 2 q n 2 such that q is less than the decay rate of g k denote by the outer null expansion of m density and mass for data sets with boundary 3 then for any 0 there exists an asymptotically flat initial data set g k on m also satsifying the dominant energy condition such that g k has harmonic asymptotics in each end of m g k is close to g k in w 2 p q w 1 p q 1 the new constraints j are close to j in l 1 and the new outer null expansion is equal to on m furthermore we can choose g k such that the strict dominant energy condition holds j g simultaneously j may be chosen to decay as fast as we like alternatively we can choose g k to be vacuum that is j g 0 outside a com pact set moreover if g k is vacuum everywhere then g k can be chosen to be vacuum everywhere remark 1 2 more generally we may prescribe to be any function sufficiently close to in the fractional sobolev space w 1 1 p p m this theorem is more precisely stated as theorem 3 7 below in particular may be chosen to be strictly less than at every point moreover we may alternatively choose to prescribe the inner expansion instead of on any given components of m the perturbation described in theorem 1 1 only changes the adm energy momentum by a small amount and hence we can use our density theorem to settle the full spacetime positive mass theorem with boundary and without a spin assumption at least in dimensions where we have regularity of c minimizing integral currents theorem 1 3 spacetime positive mass theorem with boundary let 3 n 7 and let mn g k be a complete asymptotically flat initial data set with compact boundary m such that the dominant energy condition holds on m and each component of m is either weakly outer trapped 0 or weakly inner untrapped 0 with respect to the normal pointing into m then the following hold 1 e p in each end where e p denotes the adm energy momentum vector of g k 2 if e p then e p 0 this part of the theorem requires a slightly stronger asymptotic flatness assumption than the previous part see theorem 4 1 below 3 if e 0 then m g isometrically embeds in n 1 dimensional minkowski space with induced second fundamental form k and m in the case n 3 this part of the theorem requires the added assumption that trg k o x for some 2 to summarize the theorem states that in dimensions 7 the adm energy momentum must be future timelike that is e p unless the data set isometrically embeds into minkowski space the three parts of the theorem are already known in the case of initial data sets without boundary and the novel content of the theorem can be summarized by saying that if there is a nonempty weakly outer trapped boundary m then e p in the case of spin manifolds m herzlich her 98 see ghhp 83 proved that e p by implementing witten s proof wit 81 with a boundary condition by work of r beig and p chrus ciel bc 96 see also cm 06 one should be able to obtain the strict inequality e p and this argument is sketched 1 in bc 03 remark 11 5 in dimension 3 the full e p result in 3 dimensions also follows from recent work of s hirsch d kazaras and m khuri hkk 21 using an unrelated method the riemannian case of 1 note that this discussion only appears in the arxiv version of the paper 4 dan a lee martin lesourd and ryan unger theorem 1 3 is a direct consequence of the riemannian penrose inequality which is known in dimensions 7 bl 09 the m case of part 1 was proved by eichmair huang the first author and schoen in ehls 16 and the m 6 case is a fairly direct consequence of that proof combined with our density theorem theorem 1 1 we will give a detailed explanation of this in section 4 1 below this generalizes the recent note of g galloway and the first author gl 21 which proved part 1 under a strictly outer trapped inner untrapped assumption the m case of part 2 was proved by huang and the first author hl 20 b who extended work of beig chrus ciel bc 96 to the non spin setting in section 4 2 we explain how the arguments of hl 20 b extend to the case with boundary finally the m case of part 3 was proved by eichmair eic 13 who generalized the original jang argument of schoen yau sy 81 a in dimension 3 we generalize that work to the boundary case in section 4 3 another application of theorem 1 1 concerns the gluing problem for initial data sets indeed since the gluing across annulus theorem of corvino schoen cs 06 is appropriately local and done in a region where the data is vacuum and has good asymptotics we can combine it with theorem 1 1 to obtain the following corollary 1 4 let m g k be an asymptotically flat initial data set satisfying the assump tions of theorem 1 1 such that e p then for any 0 there is an initial data set g k with the following properties g k satisfies the dominant energy condition the outer null expansion of m with respect to g k is unchanged that is g k is close to g k in w 2 p q w 1 p q 1 j is close to j in l 1 outside a compact set containing m g k is isometric to an initial data set for a kerr spacetime 2 with adm energy momentum e p where e e p p finally we note that a version of corollary 1 4 exists for the gluing result of carlotto schoen cs 16 the gluing there is done along the boundary of a cone which goes out to infinity and the geometry at the gluing interface has to satisfy a certain smallness which is implemented by taking the cone to lie sufficiently far out in the asymptotic region given n asymptotically flat initial data sets each satisfying the assumptions of theorem 1 1 we can use theorem 1 1 to perturb each of these initial data sets to n new initial data sets which are all vacuum outside a compact set and satisfy harmonic asymptotics one can then glue these n new initial data sets together using cs 16 to produce a final asymptotically flat initial data set with the following properties the dominant energy condition holds there are n boundary components each of which has the same outer null expansion as the original initial data sets the initial data set is vacuum outside a compact set the geometry is supported in n non intersecting cones that is the region between these cones is euclidean with vanishing k if one starts with n initial data sets with outermost mots marginally outer trapped surface boundaries one might hope to think of the object resulting from this construction 2 more specifically this kerr initial data comes from an element of the reference family for kerr as described in cd 03 density and mass for data sets with boundary 5 as a model for a black hole with n components however it is not clear whether the mots boundary of this new initial data set will be outermost it is an interesting question whether one can guarantee the outermost property under some reasonable assumptions on this point we note that p chrus ciel and r mazzeo cm 03 have constructed initial data sets whose apparent horizon is composed of multiple connected components for a complementary perspective in the setting of positive cosmological constant 0 p hintz hin 21 constructed a spacetime modelled on schwarzschild de sitter whose future conformal boundary defines an event horizon with multiple connected components acknowledgments we thank lan hsuan huang for useful discussions at the start of this project greg galloway for his interest in the problem and piotr chrus ciel for various helpful comments 2 preliminaries 2 1 notation and definitions letmn be a smooth n dimensional manifold n 3 with compact boundary m and fix a smooth background metric g which is identically euclidean on the finitely many noncompact ends of m which are all diffeomorphic to rn minus a ball in this setting there are natural definitions of weighted sobolev spaces w k ps and weighted ho lder spaces ck s as in lee 19 for instance definition 2 1 we say that an initial data set mn g k is asymptotically flat if g k is locally c 2 c 1 for some 0 1 and there exists a compact set k m such that m k is a disjoint union of euclidean ends such that in the associated coordinate charts gij x ij o 2 x q 2 1 kij o 1 x q 1 2 2 for some q n 2 2 and also j l 1 m we refer to this q as the asymptotic decay rate of g k in this case the adm energy momentum e p is well defined we refer the reader to lee 19 for details and references throughout most of this paper we will use in place of k as described in the introduction given a fixed manifold m we define the constraint map by g 2 j for any initial data g on m given a hypersurface with unit normal in an initial data set m g k we define the outer and inner null expansions and respectively with respect to g by h tr k where h is the mean curvature of m with respect to g and and tr k g ij i j kij ij i j is the trace of k over t in the case when m g k sits inside a spacetime can be interpreted in terms of lorentzian geometry but we shall not need this viewpoint here in this paper we will always choose to be m and we choose to be the unit normal pointing into m we will want to prescribe either m or m on each boundary component so we make the following definition 6 dan a lee martin lesourd and ryan unger definition 2 2 letm be a fixed manifold with boundary and let m and m designate unions of components of m such that m m m given initial data g on m define g to be the function m that is equal to m on m with respect to the data g and the normal pointing into m for pde purposes it is convenient to slightly enlarge the space of data sets under con sideration we will consider initial data g where g g w 2 p q t m t m and w 1 p q 1 tm tm where p n n 2 2 q n 2 and q is less than the decay rate in definition 2 1 note that such a pair g need not satisfy our definition of asymptotic flatness and in particular need not have well defined adm energy momentum we define d g w 2 p q t m t m w 1 p q 1 tm tm so that d is a affine banach space of initial data sets note that the tangent space of d at g t g d can be identified with w 2 p q t m t m w 1 p q 1 tm tm lemma 2 3 let p n and n 2 2 q n 2 on a fixed manifold mn with boundary decomposition m m m the descriptions of and given above define a smooth map of banach spaces d l w 1 1 p p m where l l p q 2 m l p q 2 tm and w 1 1 p p m is a fractional sobolev space on m see for example gri 85 section 1 4 proof the claim about is standard and easy to verify so we focus on the map we can realize m as a level set of a smooth function f which has no critical points in a small neighborhood u of m then the formula i gij if f g defines a vector field on u which is the unit normal to the level sets of f in u and it is has w 2 p regularity next the formula hg g ij j j 1 f g ijf k ij kf defines a function on u which is equal to the mean curvature of the level sets of f in u we can also see that hg has w 1 p regularity since kij w 1 p and w 1 p is a banach algebra similary the quantity ij i j is a w 1 p function on u more precisely we observe that we have a bounded map from from g d to hg ij i j w 1 p u the result follows from viewing as the composition of this map with the usual bounded trace operator from w 1 p u to w 1 1 p p m the proof above made use of a trace theorem later on we will need the following sharp trace theorem lemma 2 4 let mn g be as above and let g g w 2 p q t m t m then for any s r the weighted sobolev space w 2 ps m enjoys a bounded trace operator t g 2 w 2 p s m w 2 1 p p m w 1 1 p p m density and mass for data sets with boundary 7 which is the unique extension of u 7 u m u g m for u c 2 m w 2 ps m the mapping t g 2 is surjective and admits a bounded right inverse the operator norms of t g 2 and its right inverse depend only on g g w 2 p q we emphasize that the normal vector field g is the one corresponding to the metric g proof the existence and properties of t g 2 are easily reduced to the case of bounded domains gri 85 theorem 1 5 1 2 by means of cutoff functions in particular we may take elements in the image of the right inverse to be supported in a neighborhood of m 2 2 conformal initial data sets conformal transformations play a special role in the study of mass and the riemannian positive mass theorem the following notion of conformal transformations of initial data sets plays a crucial role in the density theorem and the positive mass theorem cs 06 ehls 16 let c 1 w 2 p q m w 2 p q tm denote the affine banach space of conformal deformations note that the tangent space of c at 1 0 t 1 0 c can be identified with w 2 p q m w 2 p q tm for g d fixed and u y c we define g usg u 3 2 s lgy where s 4 n 2 is the conformal exponent and lgy was defined in the introduction we denote g c d u y 7 g definition 2 5 let mn g be an asymptotically flat initial data set we say that m g has harmonic asymptotics in a particular end if in the asymptotically flat coordi nates the initial data takes the form g g 0 u y outside a compact set where u and y are a function and vector field pair satisfying u x 1 a x 2 n o 2 x 1 n 2 3 y i x bi x 2 n o 2 x 1 n 2 4 for some 0 1 when the initial data set is of this form the adm energy momentum has a particularly simple expression e 2 a and pi n 2 n 1 bi initial data sets in the image of g 0 have harmonic asymptotics if the constraints decay quickly enough lemma 2 6 ehls 16 proposition 24 suppose there exist u y c such that g g 0 u y outside a compact set if j c 0 n 1 for some 0 then u and y admit the expansions 2 3 and 2 4 hence g has harmonic asymptotics 8 dan a lee martin lesourd and ryan unger next we define p t g c l w 1 1 p p m in the following we let j be the value of on the fixed data set g proposition 2 7 the map p is a smooth map of banach spaces and is explicitly given by t u y u s lgu u 1 n 1 trg trg lgy 2 2 g 2 lgy lgy 2 g 2 5 u 3 2 s divg lgy divg i s n 1 2 lgy ij ju u s 2 trg lgy g ij ju u u y u s 2 s n 1 2 log u div m y h y y y 2 6 where the depends on whether the point lies in m here is any extension of the g unit normal vector field of m pointing into m y y and y y y note that the quantities y and depend on the particular extension chosen but y y is an invariant quantity the linearization of p at 1 0 is given by dp 1 0 v z dt 1 0 d 1 0 v z where dt 1 0 v z s n 1 gv 2 n 1 trg divg z 4 gz 2 s v 2 7 divg lgz i s n 1 2 ij jv s 2 trg g ij jv 3 2 sj iv d 1 0 v z s 2 v s n 1 2 v div m z h z z z 2 8 proof the formula 2 5 is given in the erratum for exercise 9 7 in lee 19 to prove 2 6 we first use the standard formula 2 9 h u s 2 h s n 1 2 log u using u s 2 we compute 2 10 u s 2 lgy finally extend off of m let y y and y y y then on m lgy 2 y divg y y div m y y y div m y h y combining these computations gives 2 6 and the linearizations are then computed in the obvious way using the formulas for the linearization and the sharp trace theorem we can prove the following crucial result density and mass for data sets with boundary 9 lemma 2 8 the maps d 1 0 t 1 0 c w 1 1 p p m and d g t g d w 1 1 p p m are surjective and their kernels split proof from the formula for d 1 0 we see that we want to solve the equation s 2 v s n 1 2 v div m z h z z z f for any given f w 1 1 p p m we set z 0 reducing this to s 2 v s n 1 2 v f on m by the sharp trace theorem lemma 2 4 we can find a v w 2 p q m such that v m v m 0 2 f s n 1 and v w 2 p q m c f w 1 1 p p m therefore d 1 0 v 0 f as desired with an estimate which proves d 1 0 has a bounded right inverse by standard functional analysis bre 11 theorem 2 12 this implies that the kernel splits the corresponding statement for d g follows by choosing first order deformations h w d g 1 0 v 0 svg 3 2 sv by the definition of and the chain rule d g h w f and h w t g d c v w 2 p q m c f w 1 1 p p m the same functional analysis argument as before completes the proof unfortunately dp 1 0 does not define an elliptic boundary value problem this is evident from the fact that the boundary operatord 1 0 is a scalar operator while dt 1 0 describes an elliptic system of n 1 equations therefore we introduce boundary operators describing n 1 equations on the boundary b 1 u y u s 2 s n 1 2 log u b 2 u y y b 3 u y h y y y where h is the mean curvature of m with respect to g altogether these define a map 2 11 b b 1 b 2 b 3 c w 1 1 p p m w 2 1 p p t m w 1 1 p p m clearly we have b 1 u s 2 div m b 2 u s 2 b 3 10 dan a lee martin lesourd and ryan unger on c it follows that 2 12 d 1 0 db 1 1 0 div m db 2 1 0 db 3 1 0 on t 1 0 c where db 1 1 0 v z s 2 v s n 1 2 v db 2 1 0 v z z db 3 1 0 v z h z z z for ease of reading we will remove 1 0 when there is no risk for confusion proposition 2 9 dt 1 0 db 1 0 defines an elliptic system in the following sense 1 there exists a relatively compact set u m so that the elliptic estimate v z w 2 p q dt v z l db v z w 1 1 p p w 2 1 p p w 1 1 p p v z lp u holds for every v z t 1 0 c and 2 the mapping dt db t 1 0 c l w 1 1 p p m w 2 1 p p t m w 1 1 p p m is fredholm the proof is unfortunately complicated by some technicalities in order to apply the theory of elliptic systems we have to check that the boundary operator db is elliptic however we defined b relative to an orthogonal splitting of y near the boundary hence we must choose coordinates which respect this splitting the most natural choice would be fermi coordinates however since their construction involves solving the geodesic equation it is well known that the resulting metric coefficients would only be c 0 dk 81 this causes problems for the regularity theory but thankfully exact fermi coordinates are not needed instead we use the following definition 2 10 andersson chrus ciel let g be a ck riemannian metric on a manifold m with compact smooth boundary m let p m and u be a neighborhood of p in m we say that coordinates x 1 xn u rn form an almost fermi coordinate system at p if 1 each xi is a ck 1 function on u relative to the smooth structure of m 2 x 1 xn 1 form a coordinate system for a neighborhood of p in m when restricted to xn 0 consequently the coordinate partial derivatives 1 n 1 are a frame for t m along m and 3 the bottom row of metric components satisfy gnn x 1 o x n k and gni x o xn k for i 1 n 1 the existence of almost fermi coordinate systems is proved in ac 96 appendix b where they are called almost gaussian note that the conclusions of 3 are proved directly there for the inverse metric but can easily be seen to hold for the metric components themselves by taylor expansion of the matrix inverse function we note three more facts 4 the metric components are ck up to the boundary 5 the coordinate vector field n agrees with the g unit normal vector along m and 6 the coordinate vector field n satisfies n n 0 along m density and mass for data sets with boundary 11 property 4 follows directly from 1 in definition 2 10 property 5 follows from 2 and 3 because n has unit length on m and is orthogonal to m property 6 follows from the definition n n k nn k and the christoffel symbols 1 nn n nn all vanish along m by 3 with this out of the way we can prove the proposition proof of proposition 2 9 we compute the boundary operator db in almost fermi coordi nates x 1 xn let the extension of be n so that 0 along m then z z along m we conclude that db 1 v z s 2 v s n 1 2 v xn db 2 v z n 1 i 1 z i i db 3 v z hz n zn xn we furthermore observe that 2 13 jlgz ij z i j izj i kz k z i rijz j so to leading order dt is diagonal and equal to the laplacian in each component moreover in these coordinates up to leading order db is diagonal and gives a dirichlet boundary condition in the db 2 components while giving a neumann boundary condition in the db 1 and db 3 components therefore it is clear that dt db is properly elliptic in m and satisfies the complementary condition on m adn 64 by combining the elliptic estimates of agmon douglis nirenberg in coordinates with a partition of unity and cutoff argument as in bar 86 the desired elliptic estimate 1 of proposition 2 9 follows routinely if the coefficients of dt db were smooth then the fredholm property 2 of propo sition 2 9 would also follow as in lm 85 from the fact that db is an elliptic boundary condition for dt which is asymptotic to the laplacian in each component to account for the lack of smoothness the coefficients are c 1 at worst we adapt an argument of d maxwell max 05 although the fredholm property does not follow directly from 1 the elliptic estimate 1 combined with compactness of the map w 2 p q m l p u does show that the map dt db is semi fredholm 3 via standard arguments sch 02 theorem 5 21 standard smoothing arguments allow us to construct a continuous one parameter family of initial data sets in g d for 0 1 such that g c c for 0 and g 0 0 g since the associated operators dt db have smooth coefficients for 0 we know that they are fredholm on the relevant sobolev spaces lm 85 since the index of semi fredholm operators is a homotopy invariant sch 02 theorem 5 22 we have ind dt 0 db 0 ind dt db for any 0 since the index for 0 is finite this implies that dt db dt 0 db 0 is itself fredholm 3 a bounded linear operator t x y is semi fredholm if dim kert and t x is closed in y 12 dan a lee martin lesourd and ryan unger 3 density theorems 3 1 prescribed constraint density theorem our first density theorem generalizes the vacuum density theorem of corvino schoen cs 06 theorem 3 1 density theorem for prescribed constraints let mn g be a complete asymptotically flat initial data set with constraints j and compact boundary m having outer null expansion on m and inner null expansion on m let p n and n 2 2 q n 2 be strictly less than the decay rate of g there exist constants 0 and c so that the following is true if j l w 1 1 p p m and j j l w 1 1 p p then there exists an asymptotically flat initial data set g d whose constraints are j and with outer inner null expansion on m which satisfies g g d c j j l w 1 1 p p furthermore there exists u y c such that g g 0 u y outside a compact set where g 0 is the flat data set on the euclidean end in particular if j is c 0 n 1 up to the boundary and c 1 m for some 0 1 and 0 then g is c 2 2 n c 1 1 n up to the boundary and has harmonic asymptotics 4 remark 3 2 if g is ck 2 ck 1 up to the boundary j is ck up to the boundary and is ck 1 on the boundary then g will be ck 2 ck 1 up to the boundary we fix g be asymptotically flat according to definition 2 1 with g 2 j we now define the operator used in the proof of theorem 3 1 and study its linearization let be a smooth nonnegative cutoff function on rn equal to 1 on b 1 and vanishing outside b 2 define x x for sufficiently large is defined by extending it to be 1 on the connected compact subset of m that strictly contains the boundary m now define g g 1 g so that g g and 0 for x 2 and g g it is convenient to set g g the basic idea of the density theorem going back to sy 81 a cs 06 ehls 16 is to make a conformal change to g in order to reimpose the constraint either prescribed or modified lost in the cutoff process by taking large and using the inverse function theorem however dt 1 0 db 1 0 is not necessarily an isomorphism this issue is also present in cs 06 ehls 16 the solution is to change the domain of t to create an operator whose differential at g is an isomorphism the alteration will only introduce compactly supported deformations so that the final data set will still have harmonic asymptotics 4 in this theorem and throughout the paper whenever we refer to ho lder spaces on m we mean that they are regular up to the boundary density and mass for data sets with boundary 13 lemma 3 3 fix initial data g as in theorem 3 1 there exists a closed subspace k 1 t 1 0 c a finite dimensional subspace k 2 t g d spanned by compactly supported smooth functions and constants r 0 0 and c such that the following holds for all sufficiently large the differentials of the operators p 1 0 k 1 k 2 l w 1 1 p p m u y h w 7 g u y h w are isomorphisms at the point 1 0 0 0 in fact we have 3 1 dp 1 1 0 0 0 op c and the lipschitz constant of dp is bounded by c on br 0 1 0 0 0 for the relevant differential is 3 2 dp 1 0 0 0 v z h w dt d 1 0 u y d d g h w to construct k 1 we will require the following lemma lemma 3 4 dt 1 0 db 1 1 0 restricted to kerdb 2 1 0 kerdb 3 1 0 is fredholm proof by proposition 2 9 1 we have the estimate v z w 2 p q dt v z l db 1 v z w 1 1 p p v z lp u for every v z kerdb 2 kerdb 3 as mentioned in the proof of proposition 2 9 it follows from sch 02 theorem 5 21 that dt db 1 is semi fredholm it remains to show that dt db 1 kerdb 2 db 3 has finite codimension if not then there exists an infinite dimensional subspace x l w 1 1 p p m 0 0 such that dt db 1 kerdb 2 db 3 x 0 but then also dt db t 1 0 c x 0 which is impossible since the full elliptic operator is fredholm to construct k 2 we need to know that the lineariation of is surjective which generalizes proposition 3 1 in cs 06 see also the related work by xhongshan an an 20 proposition 3 5 d d g t g d l w 1 1 p p m is surjective proof since d g t g d w 1 1 p p m is surjective lemma 2 8 it suffices to show that d g ker d g l is surjective first we claim that d g kerd g l is closed and has finite codimension it suffices to observe that 3 3 dt 1 0 kerdb 1 0 d g kerd g as the former is closed with finite codimension by repeating the argument of lemma 3 4 as a consequence of the hahn banach theorem bre 11 corollary 1 8 ifd g kerd g 6 l there is a nontrivial bounded linear functional v l l p 2 q n which annihilates it by the inclusion 3 3 v annihilates dt 1 0 kerdb 1 0 by considering arbitrary test 14 dan a lee martin lesourd and ryan unger data h w t g d compactly supported away from m whence h w kerdb 1 0 we see that v solves the equation 3 4 d g v 0 in the sense of distributions arguing as in hl 20 b appendix b we conclude that and v are c 2 in the interior and hence solve the equation classically note that the boundary behavior of v is not needed for our argument equation 3 4 is an overdetermined equation for v we can now proceed as in cs 06 via unique continuation or using an ode argument as in hmm 18 lee 19 to show that v vanishes at every point of m which contradicts its supposed nontriviality with our preparatory results in place we can construct k 1 and k 2 proof of lemma 3 3 let k 1 kerdb 2 kerdb 3 note that this intersection is closed in t 1 0 c and hence is a banach space be a complementing subspace for the kernel of dt db 1 inside kerdb 2 kerdb 3 this subspace exists because the kernel is finite dimensional lemma 3 4 and finite dimensional subspaces are always complemented we then note that by the formula for d for v z k 1 d v z db 1 v z it follows that dt d k 1 l w 1 1 p p m is injective furthermore its range r dt db 1 kerdb 2 kerdb 3 is a closed subspace of l w 1 1 p p m with finite codimension by lemma 3 4 let a be a finite dimensional subspace of l w 1 1 p p m which complements r in l w 1 1 p p m using proposition 3 5 we can find a subspace k 2 t g d so that d d g k 2 a by perturbing k 2 slightly we can ensure that its elements have compact support inm while its image is still complementary to r with this choice of k 1 and k 2 dp 1 0 0 0 is an isomorphism since g g in d it follows from a 1 of lemma a 1 that dp 1 0 0 0 dp 1 0 0 0 in operator norm as therefore dp 1 0 0 0 is also an isomorphism for sufficiently large and its inverse satisfies 3 1 finally the lipschitz constant bound follows from the hessian bound a 2 of lemma a 1 we now use the inverse function theorem to prove theorem 3 1 the proof is a boundary version of the argument given for lee 19 theorem 9 10 and proposition 9 11 which itself is based on cs 06 proof of theorem 3 1 by lemma 3 3 and the inverse function theorem for banach spaces see in particular the quantitative version lee 19 theorem a 43 there exists a con stant c such that for r 0 sufficiently small and sufficiently large p 1 exists and maps br 2 j into bcr 1 0 0 0 so if j satisfy the hypotheses of the theorem with 2 j 2 j l w 1 1 p p r 2 density and mass for data sets with boundary 15 and is sufficiently large that 2 j 2 j l r 2 then there exist 1 0 k 1 k 2 such that p 2 j and 1 0 0 0 c t g d c 2 j 2 j l w 1 1 p p cr by choosing r smaller and hence also larger depending on the constant in morrey s inequality we can ensure u 1 1 everywhere so that it is a valid conformal factor set r 2 having made all of these choices write u y h w we claim that the initial data g g u y h w is the desired solution in the conclusion of theorem 3 1 by construction it has the desired constraints j and outer inner null expansion on m and it satisfies the desired estimate g g d c j j l w 1 1 p p and since h w is compactly supported g g 0 u y for x 2 as desired it only remains to show that show that if j is c 0 n 1 up to the boundary and is c 1 then g is c 2 2 n c 1 1 n up to the boundary and has harmonic asymptotics since h w is compactly supported and smooth it suffices to show that u y satisfies the asymptotic expansion in definition 2 5 and is c 2 up to the boundary the asymptotic expansion is well known from earlier references such as lee 19 lemma 9 8 but here we carefully account for the presence of the h w term and the boundary in order to prove regularity up to the boundary to prove the desired result we re write p u y h w 2 j as a set of linear elliptic equations in u y viewing the nonlinearities as either coefficients or nonhomogenous terms more precisely after we choose local coordinates which is fine since we are proving a local regularity result now we will have equations for u y 1 yn of the form described in lemma 3 6 below by the morrey embedding theorem we already know that u y c 1 loc onm we first examine the equation as our equation for u first the non scalar curvature terms of are c 0 loc and therefore can be viewed as part of the c 0 loc nonhomogenous term moreover if we write the scalar curvature of the metric usg h in local coordinates it is clear that we only have to worry about the terms in r usg h that are second order in u since all other terms are c 0 loc and thus can be viewed as part of the nonhomogeneous term a simple computation shows that those second order terms give us the operator 3 5 sus 1 g ikg jl g ij g kl g kl i ju away from the support set of k 2 where g is just a conformal change this operator reduces to s n 1 u s 1 g ij i ju whose coefficient matrix is obviously negative definite inside the support of k 2 we know that g g for sufficiently large and we can see that as long as is sufficiently small 16 dan a lee martin lesourd and ryan unger 3 5 will be strictly elliptic because u 1 and h can be made uniformly small enough so that the coefficients can be made to be uniformly close to s gikgjl gijgkl gkl s n 1 g ij which we know is negative definite for the j equations we compute divg i u 3 2 s 3 2 s ju u ij lg y ij j ij lg y ij wij again the lower order terms are clearly c 0 loc so one need only look at the term jlg y ij jlg y ij l o t the terms in lg y which are of first order are gik ky j g jk ky i ky kg ij applying j we have again to highest order gik j ky j g jk j ky i j ky kg ij g jk k jy i which suffices since g is positive definite these arguments so far show that u y is c 2 loc in the interior of m it remains to prove regularity up to the boundary by showing that u y also satisfy boundary conditions as in lemma 3 6 we have stipulated that g which is only one boundary condition however the space k 1 in the definition of p contains the other n boundary conditions we need indeed since u y k 1 then by definition y 0 hy n y n xn 0 where we have expressed the second condition in an almost fermi coordinate system we may do this since regularity is a local property together with our previous discussion of the equation j i g j i this shows that each component y i is a solution of an equation of the form discussed in lemma 3 6 below since hy n is c 1 up to the boundary hence y is c 2 up to the boundary using this upgraded regularity for y we can interpret g as a boundary condition for u we clearly have ij i j c 1 m so we just have to investigate the mean curvature of m with respect to g which we denote hg as in the proof of lemma 2 3 we write m as a regular level set of a smooth function f so that hg g ij i j 1 f g ijf k ij kf the term involving derivatives of u is g ij i j k k ij using the smallness of h once again this can be written as i iu plus c 1 terms for i an everywhere nontangential oblique c 1 vector field this shows that u satisfies a boundary value problem as in lemma 3 6 below hence u is also c 2 up to the boundary finally we record the relevant regularity theory as a separate lemma density and mass for data sets with boundary 17 lemma 3 6 let rn be a bounded domain with c 2 boundary 0 1 suppose that aij c 0 is positive definite and suppose that f c 0 and g c 2 if u w 2 p p n is a strong solution of aij i ju f in u g on then u c 2 if instead i c 1 is an oblique vector field and g c 1 and u w 2 p p n satisfies a ij i ju f in i iu g on then u c 2 proof these estimates are consistent with classical schauder theory the only subtlety is that we are not assuming u to be c 2 the version here for sobolev u can be read off from mor 66 theorem 6 4 8 3 2 dominant energy condition density theorem we begin with a precise re statement of theorem 1 1 theorem 3 7 density theorem for dec let mn g be a complete asymptotically flat initial data set satisfying the dominant energy condition j and with compact boundary m having outer null expansion on m and inner null expansion on m let p n and n 2 2 q n 2 be strictly less than the decay rate of g for any 0 there exists a constant 0 so that the following is true for any c 1 m satisfying w 1 1 p p there exists an asymptotically flat initial data set g c 2 c 1 regular up to the boundary also satisfying the dominant energy condition such that g has harmonic asymptotics in each end of m the new outer inner null expansion on m is and the new data set satisfies g g d and j j l 1 furthermore we can choose g such that the strict dominant energy condition holds j simultaneously j may be chosen to decay as fast as we like in the sense that if f is any positive smooth function then we can demand j f x on the end alternatively we can choose g to be vacuum outside a compact set that is j 0 outside a compact set given a fixed initial data set mn g the modified constraint operator g is defined by g 0 1 2 gij jkj k for d lemma 3 8 corvino huang ch 20 let g and g be initial data and assume that g g g g 2 0 for some function if additionally g g g 3 then j g j g 18 dan a lee martin lesourd and ryan unger the linearization of the modified constraint operator at g is given by d g h w d g h w 0 1 2 gijhjkj k the addtional zeroth order term 0 1 2 gijhjkj k does not affect the proof of proposition 3 5 and so we obtain the surjectivity result proposition 3 9 d g d g t g d l w 1 1 p p m is surjective by proposition 3 9 we can use the construction of lemma 3 3 to construct the analogous subspaces k 1 k 2 using this and the inverse function theorem argument in theorem 3 1 we show that it is possible to perturb the initial data to strict dec proposition 3 10 does not attempt to produce harmonic asymptotics which we get to in theorem 3 7 proposition 3 10 perturbing to strict dec let mn g be a complete asymptotically flat initial data set satisfying the dominant energy condition j and with g let p n and n 2 2 q n 2 be strictly less than the decay rate of g for any 0 there exist constants 0 and 0 so that the following is true for any c 1 m satisfying w 1 1 p p there exists an asymptotically flat initial data set g c 2 c 1 regular up to the boundary with g that satisfies the following uniform strict dominant energy condition 1 j g as well as the estimates g g d and j j l 1 proof let f be a smooth positive function on m decaying exponentially at infinity by essentially repeating the proof of lemma 3 3 we can construct subspaces k 1 kerdb 2 kerdb 3 and k 2 t g d consisting of compactly supported smooth functions to define an operator p 1 0 k 1 k 2 l w 1 1 p p m u y h w 7 g g u y h w whose differential at 1 0 0 0 is an isomorphism we now proceed as in the proof of theorem 3 1 in particular we use the inverse function theorem lee 19 theorem a 43 to solve 3 6 p ut yt ht wt g g 2 t f j g 0 for ut yt ht wt which is possible for sufficiently small 0 and t 0 arguing as in the proof of theorem 3 1 we can show that ut yt decays enough so that g t t g ut yt ht wt is asymptotically flat and ut yt is c 2 up to the boundary we now see about the other claims in the proposition first we claim that g t t satisfies the strict dec for t small enough by the sobolev inequality we may assume g t g is uniformly small pointwise therefore by lemma 3 8 t t f j g t j g 1 t j g 1 t j t g t finally we need to show that t j t j in l 1 since f j g l 1 it is clear from the equation t t f j g that t for the momentum we have j i t j i density and mass for data sets with boundary 19 1 2 gij g t g jkj k but g t g uniformly so j t j we take to be the t satisfying these conditions which completes the proof finally we prove theorem 3 7 proof of theorem 3 7 first perturb the data set according to proposition 3 10 to ensure the strict dec holds in the form 1 j g everywhere on m call the perturbed data set g for simplicity let be the family of cutoff functions used in theorem 3 1 and f a rapidly decaying positive function on m by theorem 3 1 we may construct a data set g with harmonic asymptotics satisfying g g 2 f 0 if is large enough and is small enough note that since we can choose f to decay as rapidly as we like our prescribed j will certainly lie in c 0 n 1 the only thing left to check is that the strict dec is satisfied 1 f 1 j g j g g g 1 2 g j g j g j g j g g g 1 2 g for large g g 1 2 g by the estimates in theorem 3 1 so we then have j g 1 f which implies the strict dec note that f also controls the decay of the dec scalar j g as it is identically equal to 1 f for x 2 if we instead wish to prescribe vacuum outside a compact set we perform the same argument as above but with f 0 4 positive mass theorem with boundary 4 1 proof of the inequality e p in this subsection we explain how part 1 of theorem 1 3 follows from combining theorem 3 7 with the proof of the boundaryless case from ehls 16 suppose that there exists a complete asymptotically flat initial data set m g satisfying the dec whose compact boundary is made up of components which are either weakly outer trapped 0 or weakly inner untrapped 0 with respect to the normal pointing into m such that e p by theorem 3 7 we can perturb g to new initial data g that has harmonic asymptotics satisfies the strict dec and has compact boundary made up of components that have either 0 or 0 while maintaining the inequality e p from here the exact same argument as in ehls 16 after the application of the density theorem there results in a contradiction the only thing to note is that the boundary acts as a barrier for the mots 0 hypersurfaces that are constructed in the proof this part of the proof is also identical to the reasoning used in gl 21 note that the ho lder decay assumption on j in ehls 16 is unnecessary as can be seen from our proof and was observed in lee 19 gl 21 20 dan a lee martin lesourd and ryan unger to be more precise in ehls 16 one seeks to construct a stable mots hypersurface inm with prescribed boundary equal to a large sphere n 2 of constant height on a large cylinder c with smoothed corners theorem 1 1 of eic 09 states that this is possible if one can find a compact such that divides into 1 and 2 such that 1 0 with respect to the normal pointing out of and 2 0 with respect to the normal pointing into if m has one end and no boundary then we choose to be the region enclosed by c 1 to be the part of c lying above and 2 to be the part of c lying below harmonic asymptotics guarantee that if c is big enough these choices satisfy the hypotheses on needed to apply eic 09 theorem 1 1 if there are multiple ends then we choose to be enclosed by c in the end of interest and large celestial spheres in all other ends those celestial spheres have 0 with respect to the normal pointing into and hence those spheres can be included as part of 2 finally we come to the case of interest where m has a boundary we define the same way except now we can treat any 0 components of m as part of 2 while treating any 0 components of m as part of 1 because the condition 0 with respect to the normal pointing into m is equivalent to the condition 0 with respect to the normal pointing out of 4 2 the equality case e p here we explain how the arguments in hl 20 b can be adapted to handle a boundary using the results of this paper explicitly we prove the following theorem which is the detailed version of part 2 of theorem 1 3 theorem 4 1 let n 3 p n q n 2 2 and 0 1 and assume that q n 2 4 1 suppose that mn g is a complete asymptotically flat initial data set with boundary in the sense defined in definition 2 1 with the stronger decay assumption that g g c 2 q t m t m 4 2 c 1 1 q tm tm 4 3 then if m g satisfies the dec each component of m is either weakly outer trapped or weakly inner untrapped and its adm energy momentum satisfies e p then e p 0 as explained in hl 20 a in the case without boundary the theorem is actually false without the stronger decay assumption proof assume that m g satisfies the hypotheses of theorem 4 1 the basic strategy is the following using the first part of theorem 1 3 we can see that g minimizes a modified regge teitelboim hamiltonian among all nearby initial data sets that have the same values of g by proposition 3 9 d g d g is surjective and hence we can apply lagrange multipliers these lagrange multipliers give rise to a solution f x of the adjoint equations d g g f x 0 such that f x is asymptotic to the constant e 2 p once we have that a result of beig and chrus ciel bc 96 see also hl 20 b theorem a 2 implies that e p 0 for the analysis that follows select q n 2 2 n 2 that is smaller than the q in statement of theorem 4 1 let f 0 x 0 be a function and a vector field on m such that f 0 x 0 is smooth supported in the asymptotically flat coordinate chart and exactly equal to the constant e 2 p outside some compact set where e p denotes the fixed adm energy momentum of g we define the modified regge teitelboim hamiltonian h d r density and mass for data sets with boundary 21 corresponding to g by h 2 n 1 n 1 e e p p m g f 0 x 0 d g 4 4 for all d where the volume measure d g and the inner product in the integral are both with respect to g although e p and the integral need not exist for elements d whose constraints are not integrable the expression h can be given meaning by using the alternative formula h m divg divg d trg divg 0 1 2 j f 0 x 0 d g m divg d trg f 0 x 0 d g 4 5 where g is a globally defined background metric that is euclidean in the asymptotically flat end as in hl 20 b we can compute the linearization dh g t g d r to be 4 6 dh g h w m h w d g g f 0 x 0 d g for all h w t g d note that m can be ignored in all of these formulae because f 0 x 0 vanishes near m next we define a constraint space c g d g g g and g by our assumptions on g each data set in c g has weakly outer trapped or inner untrapped boundary components and thanks to lemma 3 8 it also satisfies the dec moreover since has the same modified constraints as g it also follows that its constraints are integrable then part 1 of theorem 1 3 implies that if is near enough to g then e p we will discuss this more below see lemma 4 2 from this we see that g locally minimizes h on c g since e e p p e e p p e e p 0 e e g p p g and the integral term in 4 4 is constant over c g in other words g locally minimizes h over a level set of g d l w 1 1 p p m so by surjectivity of its linearization proposition 3 9 there exist lagrange multipliers see hl 20 b appendix d f 1 x 1 l and w 1 1 p p m such that for all h w t g d dh g h w m f 1 x 1 d g g h w d g m d g h w combining this with 4 6 and by choosing h w to be arbitrary smooth test data that is compactly supported away from m we see that f 1 x 1 must be a solution in the distributional sense of d g g f 1 x 1 d g g f 0 x 0 in the interior of m as argued in the proof of proposition 3 5 ellipticity of dt 1 0 implies that f 1 x 1 is actually smooth in the interior of m moreover using the initial decay 22 dan a lee martin lesourd and ryan unger from being in l together with elliptic estimates it follows that f 1 x 1 has c 2 q decay see hl 20 b proposition b 4 for details thus f x f 0 x 0 f 1 x 1 solves d g g f x 0 in the interior of m and f x e 2 p has c 2 q decay the result now follows from theorem a 2 of hl 20 b note that it does not matter what what f x does near the boundary m since theorem a 2 of hl 20 b is only a statement about asymptotics and makes no global assumptions there is one step in the proof above that requires further justification we claimed that elements of c g must satisfy e p but the problem is that may only have sobolev regularity and decay but our positive mass theorem part 1 of theo rem 1 3 requires at least c 2 c 1 local regularity as well as pointwise decay although we do not have a positive mass theorem for initial data in d with integrable constraints we can at least prove it for data that is near the smooth data g this is the same idea that was used in hl 20 b theorem 4 1 lemma 4 2 sobolev version of positive mass inequality with boundary let 3 n 7 and let mn g be a complete asymptotically flat manifold as in definition 2 1 satsifying the dec and with compact boundary such that each component is either weakly outer trapped or weakly inner untrapped let p n and let q n 2 2 n 2 be smaller than the assumed asymptotic decay rate of g then there is an open ball u d containing g such that if u g g g and g then e p proof the proof is essentially the same as in the proof of hl 20 b theorem 4 1 except that we use our new results to deal with the boundary define k 1 k 2 and p as in the proof of proposition 3 10 more generally for d we define p 1 0 k 1 k 2 l w 1 1 p p m u y h w 7 g u y h w so that in particular p g p using similar reasoning as in the proof of lemma 3 3 we can use the inverse function theorem together with estimates from lemma a 1 to see that there exists open ball u d containing g and constants 0 and c 1 0 with the property that for all in u p is a diffeomorphism between a neighborhood of 1 0 0 0 in 1 0 k 1 k 2 and the ball of radius around p 1 0 0 0 in l w 1 1 p p m and u 1 y h w k 1 k 2 c 1 p u y h w p 1 0 0 0 l w 1 1 p p we claim that the conclusion of lemma 4 2 holds with this choice of u we now as sume satisfies the hypotheses described in lemma 4 2 that is u such that g g g and g we want to show that e p and we will do this by constructing a sequence k k that converges to to which we can apply the positive mass inequality part 1 of theorem 1 3 density and mass for data sets with boundary 23 select a sequence of smooth asymptotically flat initial data k k converging to in d this implies that p k k 1 0 0 0 g k k k k converges to p 1 0 0 0 g in l w 1 1 p p in particular for large enough k k k u and p 1 0 0 0 lies in the ball around p k k 1 0 0 0 and hence by our construction of u there exists uk yk hk wk 1 0 k 1 k 2 such that p k k uk yk hk wk p 1 0 0 0 and uk 1 yk hk wk k 1 k 2 c 1 p k k uk yk hk wk p k k 1 0 0 0 l w 1 1 p p c 1 p 1 0 0 0 p k k 1 0 0 0 l w 1 1 p p setting k k k k uk yk hk wk the inequality above shows that k k con verges to in d note that g k k p 1 0 0 0 g g g and thus unlike the arbitrary smoothing k k k k satisfies the dec by lemma 3 8 and has weakly outer trapped or inner untrapped boundary components moreover by the same regularity argument used in the proof of theorem 3 1 k k is smooth enough and decays enough so that the positive mass inequality part 1 of theorem 1 3 applies to k k and hence e k k p k k finally we take the limit as k and use continuity of adm energy momentum lee 19 lemma 8 4 to conclude that e p note that k k has the same modified constraints as and thus the constraints of k k converge to the constraints of in l 1 4 3 embedding in minkowski space when e 0 in this section we prove part 3 of theorem 1 3 more precisely we use the jang reduction method to show that if m 6 then e 0 so if e 0 then m and we may apply the main result of eic 13 to avoid repeating too much of eichamir s argument we make frequent references to the paper eic 13 and well established jang equation techniques we recall that a function f defined on an open set u in an initial data set m g k solves jang s equation jan 78 sy 81 b if 4 7 hg f trg k f 0 where hg f divg f 1 f 2 is the mean curvature of the graph of f in the cylinder over m g and trg k f trg k k f f 1 f 2 is the trace of k extended trivially in the vertical direction over the tangent spaces of the graph of f theorem 4 3 let 3 n 7 and let mn g k be a complete asymptotically flat initial data set with nonempty compact boundary m such that the dominant energy condition holds on m and each component of m is either weakly outer trapped or weakly inner untrapped in the case n 3 we also assume that trg k o x for some 2 then e 0 24 dan a lee martin lesourd and ryan unger proof let m g k be as described in the hypotheses by our dec density theorem the orem 3 7 there exists a sequence of initial data gj kj g k on m with harmonic asymptotics satisfying the strict dominant energy condition j 0 on m j 0 on m and trgj kj c x uniformly in j when n 3 5 the strict sign for on m relative to gj kj allows m to act as a barrier for the capillary regularized jang equation hgj f trgj kj f f as in am 09 proposition 3 5 on the asymptotically flat end of m we prescribe f 0 and proceed to solve as in sy 81 b am 09 eic 13 we also obtain the usual parametric and nonparametric estimates associated to jang s equation letting 0 we obtain an open set uj m which contains x r 0 for some large r 0 and a function fj c 3 n 2 uj for any fixed 0 which solves jang s equation and satisfies all the estimates proved in eic 13 the barrier property of m implies that uj 6 m and therefore the jang solution fj must blow up over some nonempty union of closed mots 0 and mits 0 more specifically the graph of fj must have at least one end that is asymptotic a cylinder eic 13 claim 4 4 after passing to a subsequence the graphs of fj converge in c 3 loc to the graph of a jang solution f u r which blows up over some nonempty union of closed mots and mits in m g k with its induced metric the graph of f is asymptotically flat with a nonzero number of ends that are asymptotically cylindrical the main nontrivial claim here is that the property of having an asymptotically cylindrical end persists in the limit by the harnack inequality for jang s equation it suffices to show that the limiting function f is unbounded the only thing we must rule out is cylindrical ends collapsing into the boundary m to do this we extend the manifold m to a slightly larger manifold m so that m lies in the interior ofm we extend each metric gj including g to m so that on every compact set gj g c 2 0 then we apply the compactness and regularity theory for c minimizing graphs on the extended manifold the jang graphs no longer approach the boundary so the cylindrical ends cannot disappear in the limit we assume now that e 0 and work to obtain a contradiction it follows that ej 0 and arguing as in eic 13 proposition 16 we see that the graph of f which we denote by is scalar flat and has zero mass this part of the argument is highly nontrivial but is agnostic to the presence of the boundary m it only relies on the conclusion of claim 4 4 now g viewed as a time symmetric initial data set must be diffeomorphic to r n this can be viewed as an extension of the rigidity of the riemannian positive mass theorem to manifolds with cylindrical ends the argument is outlined in eic 13 but is a special case of the more recent positive mass theorem with arbitrary ends luy 21 llu one first shows that is ricci flat and then has only one end by the cheeger gromoll splitting theorem however having only one end is in contradiction to claim 4 4 5 the n 3 claim follows from observing that the only term appearing in trgj kj when written in terms of g k and the deformations u y h w that is not directly controlled is the trg k term which is controlled by assumption see eic 13 proposition 15 density and mass for data sets with boundary 25 appendix a second differential of the constraint null expansion system in this paper we utilize the inverse function theorem to perturb families of initial data sets to this end we need to control the constants appearing in the quantitative version of the inverse function theorem lee 19 theorem a 43 lemma a 1 let mn g be an asymptotically flat data set as in section 2 1 let k 1 t 1 0 c be a closed subspace and k 2 t g d be a finite dimensional subspace there exists a constant c 0 such that for any r 0 0 sufficiently small the following is true let d with g d r 0 and define p 1 0 k 1 k 2 l w 1 1 p p m u y h w 7 u y h w then a 1 dp 1 0 0 0 dp g 1 0 0 0 l k 1 k 2 l w 1 1 p p c 0 r 0 and a 2 d 2 p u y h w l 2 k 1 k 2 l w 1 1 p p c 0 for any u y h w br 0 1 0 0 0 this lemma also holds if in the definition of p we use the modified constraint operator g instead of here l 2 x y refers to the space of bounded multilinear maps x x y note that a lipschitz bound for dp follows from the hessian bound by the mean value theorem in banach spaces the proof proceeds with a computation of d d 2 d and d 2 lemma a 2 the first derivative linearization of the constraint operator is given by d g h w g trg h divg divg h ricg h g 2 n 1 trg ijhij trg w a 3 2 gkl ik jlhij 2 w g divg w i 1 2 gij kl jhkl g ij kl khjl 1 2 ij j trg h schematically the second derivative is given by d 2 g h 1 w 1 h 2 w 2 0 i 1 i 2 2 i 1 h 1 i 2 h 2 riem h 1 h 2 a 4 h 1 h 2 w 1 w 2 h 1 w 2 h 2 w 1 w 1 h 2 w 2 h 1 h 1 h 2 h 1 h 2 here we use the usual schematic notation where a b denotes linear combinations and contractions of the components of a and b with respect to the metric g 26 dan a lee martin lesourd and ryan unger the schematic notation misses factors of g and g 1 but these are pointwise bounded by morrey s inequality in the following calculation we use the shorthand gf df g h proof the formula for d is well known in the literature fm 73 it depends on the lin earization of the scalar curvature which can be found in lee 19 for instance to obtain the formula for d 2 we simply differentiate a 3 making note of the following rules g t h 2 t gt for any tensor t and contractions produce terms of h 2 what was being contracted finally we also note that the variation of the ricci tensor is given by 2 grij lh 2 ij i j trg h 2 i divg h 2 j j divg h 2 i where l is the lichnerowicz laplacian in our schematic notation this becomes gric 2 h 2 riem h 2 the variation in is much more straightforward and a 4 is easily obtained along these lines lemma a 3 the first derivative of the boundary null expansion is given by a 5 d g h w 1 2 tr m h div m 1 2 h h h w where i hij j h i and denotes the 1 form dual to schematically the second derivative is given by a 6 d 2 g h 1 w 1 h 2 w 2 0 i 1 i 2 1 i 1 h 1 i 2 h 2 h 1 w 2 h 2 w 1 w 1 w 2 where schematic notation here is omitting terms like and h proof we first compute the linearization of the normal varying g 1 gives h 2 g g 0 while varying g x 0 for x t gives h x g x g 0 it follows that a 7 g i hij j 1 2 h i secondly we compute the linearization of the second fundamental form for x and y tangent to we have a x y g xy gij ixk ky j taking the variation we have ga x y hij ixk ky j gij hil l 1 2 h i xk ky j gij ixk g ky j 1 2 h gij ixk ky j gij ixk g ky j 1 2 h a x y 1 2 gij igjm khlm lhkm mhkl x ky l 1 2 h akl m khlm m lhkm m mhkl x ky l now m khlm k l h akl hlnak n density and mass for data sets with boundary 27 so that finally a 8 ga x y 1 2 hij m i j m j i hikaj k hjkai k h aij x iy j the mean curvature of the boundary is given by h tr m a g ij i j aij so taking the variation and using a 8 yields a 9 gh 1 2 tr m h div m 1 2 h h the formula for d follows easily where also note that g 1 2 h the schematic computation for d 2 also follows easily using the rules establised in the proof of lemma a 2 from these formulas we deduce lemma a 4 there exists a constant c 0 such that for any sufficiently small r 0 0 the following is true if d satisfies g d r 0 then a 10 d d g c 0 r 0 and a 11 d 2 g c 0 proof we first remark that the constants appearing in the sobolev morrey and trace inequalities associated to the metric can be bounded in terms of r 0 the first estimate a 10 can be read off from the explicit formulas a 3 and a 5 for example consider gij i j g klhkl ij i j klhkl we rewrite this as gij ij i j klhkl g ij i j g kl kl hkl and from this it is not hard to see that the l p q norm can be estimated by r 0 h w 2 p q to prove the estimate a 11 we examine the bilinear structure of the schematic formulas a 4 and a 6 for d 2 we put the highest number of derivatives in l p q and the lowest number of derivatives in l using morrey s inequality special care must be taken with the riem h 1 h 2 term as the curvature is not assumed to be pointwise bounded however it is in l p q so we just put h 1 and h 2 in l altogether we obtain the estimate d 2 h 1 w 1 h 2 w 2 l h 1 w 1 w 2 p q w 1 p q 1 h 2 w 2 w 2 p q w 1 p q 1 for d 2 we estimate each of the terms appearing in a 6 in w 1 1 p p terms with derivatives are handled using lemma 2 4 instead of morrey s inequality note that our schematic notation omits the normal g and mean curvature hg however both of these are pointwise bounded in terms of therefore we obtain the estimate d 2 w 1 1 p p h 1 w 1 w 2 p q w 1 p q 1 h 2 w 2 w 2 p q w 1 p q 1 as desired we can now prove the main result of this appendix lemma a 1 28 dan a lee martin lesourd and ryan unger proof of lemma a 1 we first define a function 1 0 k 1 k 2 d u y h w 7 u y h w so that p by the chain rule for functions on banach spaces a 12 dp v 1 z 1 h 1 w 1 d d v 1 z 1 h 1 w 1 the second derivative is given by a 13 d 2 p v 1 z 1 h 1 w 1 v 2 z 2 h 2 w 2 d 2 d v 1 z 1 h 1 w 1 d v 2 z 2 h 2 w 2 d d 2 v 1 z 1 h 1 w 1 v 2 z 2 h 2 w 2 the derivatives of are given by a 14 d v 1 z 1 h 1 w 1 su s 1 v 1 h 1 3 2 su 3 2 s 1 v l y u 3 2 s l z 1 w 1 and a 15 d 2 v 1 z 1 h 1 w 1 v 2 z 2 h 2 w 2 s s 1 us 2 v 1 v 2 3 2 s 3 2 s 1 u 3 2 s 2 v 1 v 2 l y 3 2 su 3 2 s 1 v 2 l z 1 3 2 su 3 2 s 1 v 1 l z 2 in these formulas the differentials are being evaluated at u y h w or u y h w wherever appropriate to prove a 1 we use a 12 for and g at 1 0 0 0 which yields dp dp g d d d g d d g d g for sufficiently close to g we may evidently estimate both of these terms in operator norm using a 14 and the estimate a 10 to prove a 2 we note that a 13 implies d 2 p u y h w d 2 u y h w d u y h w 2 d u y h w d 2 u y h w for u y h w small u y h w is close to g in d so we may apply a 10 and a 11 furthermore the same estimates may be derived for d and d 2 from a 14 and a 15 this completes the proof of a 2 density and mass for data sets with boundary 29 references ac 96 lars andersson and piotr t chrus ciel solutions of the constraint equations in general relativity satisfying hyperboloidal boundary conditions dissertationes math rozprawy mat 355 100 1996 adn 64 s agmon a douglis and l nirenberg estimates near the boundary for solu tions of elliptic partial differential equations satisfying general boundary condi tions ii comm pure appl math 17 35 92 1964 am 09 lars andersson and jan metzger the area of horizons and the trapped region comm math phys 290 3 941 972 2009 an 20 xhongshan an on mass minimizing extensions of bartnik boundary data arxiv 2007 05452 2020 bar 86 robert bartnik the mass of an asymptotically flat manifold comm pure appl math 39 5 661 693 1986 bc 96 robert beig and piotr t chrus ciel killing vectors in asymptotically flat space times i asymptotically translational killing vectors and the rigid positive energy theorem j math phys 37 4 1939 1961 1996 bc 03 robert bartnik and piotr t chrus ciel boundary value problems for dirac type equations with applications arxiv math 0307278 2003 bl 09 hubert l bray and dan a lee on the riemannian penrose inequality in dimensions less than eight duke math j 148 1 81 106 2009 bre 11 haim brezis functional analysis sobolev spaces and partial differential equa tions universitext springer new york 2011 car 16 alessandro carlotto rigidity of stable minimal hypersurfaces in asymptotically flat spaces calc var partial differential equations 55 3 art 54 20 2016 cd 03 piotr t chrus ciel and erwann delay on mapping properties of the general relativistic constraints operator in weighted function spaces with applications me m soc math fr n s 94 vi 103 2003 ch 20 justin corvino and lan hsuan huang localized deformation for initial data sets with the dominant energy condition calc var partial differential equations 59 1 paper no 42 43 2020 cm 03 piotr t chrus ciel and rafe mazzeo on many black hole vacuum spacetimes classical quantum gravity 20 4 729 754 2003 cm 06 piotr t chrus ciel and daniel maerten killing vectors in asymptotically flat space times ii asymptotically translational killing vectors and the rigid positive energy theorem in higher dimensions j math phys 47 2 022502 10 2006 cp 11 justin corvino and daniel pollack scalar curvature and the einstein constraint equations in surveys in geometric analysis and relativity volume 20 of adv lect math alm pages 145 188 int press somerville ma 2011 cs 06 justin corvino and richard m schoen on the asymptotics for the vacuum einstein constraint equations j differential geom 73 2 185 217 2006 cs 16 alessandro carlotto and richard schoen localizing solutions of the einstein constraint equations invent math 205 3 559 615 2016 dk 81 dennis m deturck and jerry l kazdan some regularity theorems in riemann ian geometry ann sci e cole norm sup 4 14 3 249 260 1981 ehls 16 michael eichmair lan hsuan huang dan a lee and richard schoen the spacetime positive mass theorem in dimensions less than eight j eur math 30 dan a lee martin lesourd and ryan unger soc jems 18 1 83 121 2016 eic 09 michael eichmair the plateau problem for marginally outer trapped surfaces j differential geom 83 3 551 583 2009 eic 13 michael eichmair the jang equation reduction of the spacetime positive energy theorem in dimensions less than eight comm math phys 319 575 593 2013 fm 73 arthur e fischer and jerrold e marsden linearization stability of the einstein equations bull amer math soc 79 997 1003 1973 ghhp 83 gary w gibbons stephen w hawking gary t horowitz and malcolm j perry positive mass theorems for black holes comm math phys 88 3 295 308 1983 gl 80 mikhael gromov and h blaine lawson jr spin and scalar curvature in the presence of a fundamental group i ann of math 2 111 2 209 230 1980 gl 21 gregory j galloway and dan a lee a note on the positive mass theorem with boundary lett math phys 111 4 paper no 111 10 2021 gri 85 pierre grisvard elliptic problems in nonsmooth domains volume 24 of mono graphs and studies in mathematics pitman advanced publishing program boston ma 1985 her 98 marc herzlich the positive mass theorem for black holes revisited j geom phys 26 1 2 97 111 1998 hin 21 peter hintz black hole gluing in de sitter space comm partial differential equations 46 7 1280 1318 2021 hkk 21 sven hirsch demetre kazaras and marcus khuri spacetime harmonic functions and the mass of 3 dimensional asymptotically flat initial data for the einstein equations to appear in j differential geom 2021 hl 20 a lan hsuan huang and dan a lee bartnik mass minimizing initial data sets and improvability of the dominant energy scalar arxiv 2007 00593 2020 hl 20 b lan hsuan huang and dan a lee equality in the spacetime positive mass theorem comm math phys 376 3 2379 2407 2020 hmm 18 lan hsuan huang daniel martin and pengzi miao static potentials and area minimizing hypersurfaces proc amer math soc 146 6 2647 2661 2018 jan 78 pong soo jang on the positivity of energy in general relativity j math phys 19 5 1152 1155 1978 kuw 90 ernst c kuwert der minimalfla chenbeweis des positive energy theorem diplo marbeit universita t bonn 1990 lee 19 dan a lee geometric relativity graduate studies in mathematics vol 201 ams 2019 llu d a lee m lesourd and r unger density mass and rigidity in the presence of arbitrary ends in progress lm 85 robert b lockhart and robert c mcowen elliptic differential operators on noncompact manifolds ann scuola norm sup pisa cl sci 4 12 3 409 447 1985 loh 99 joachim lohkamp scalar curvature and hammocks math ann 313 3 385 407 1999 loh 16 joachim lohkamp the higher dimensional positive mass theorem i arxiv math 0608795 2016 density and mass for data sets with boundary 31 loh 17 joachim lohkamp the higher dimensional positive mass theorem ii arxiv 1612 07505 2017 lp 87 john m lee and thomas h parker the yamabe problem bull amer math soc n s 17 1 37 91 1987 luy 20 martin lesourd ryan unger and shing tung yau positive scalar curvature on noncompact manifolds and the liouville theorem arxiv 2009 12618 2020 luy 21 martin lesourd ryan unger and shing tung yau the positive mass theorem with arbitrary ends to appear in j differential geom 2021 max 05 david maxwell solutions of the einstein constraint equations with apparent horizon boundaries comm math phys 253 3 561 583 2005 mor 66 charles b morrey jr multiple integrals in the calculus of variations die grundlehren der mathematischen wissenschaften band 130 springer verlag new york inc new york 1966 sch 89 richard schoen variational theory for the total scalar curvature functional for riemannian metrics and related topics in topics in calculus of variations mon tecatini terme 1987 volume 1365 of lecture notes in math pages 120 154 springer berlin 1989 sch 02 martin schechter principles of functional analysis volume 36 of graduate stud ies in mathematics american mathematical society providence ri second edition 2002 sy 79 a richard schoen and shing tung yau on the proof of the positive mass conjecture in general relativity comm math phys 65 1 45 76 1979 sy 79 b richard schoen and shing tung yau on the structure of manifolds with positive scalar curvature manuscripta math 28 1 3 159 183 1979 sy 81 a richard schoen and shing tung yau the energy and the linear momentum of space times in general relativity comm math phys 79 1 47 51 1981 sy 81 b richard schoen and shing tung yau proof of the positive mass theorem ii comm math phys 79 2 231 260 1981 sy 17 richard schoen and shing tung yau positive scalar curvature and minimal hypersurface singularities arxiv 1704 05490 2017 wit 81 edward witten a new proof of the positive energy theorem comm math phys 80 3 381 402 1981 graduate center and queens college city university of new york 365 fifth avenue new york ny 10016 email address dan lee qc cuny edu black hole initiative harvard university cambridge ma 02138 email address mlesourd fas harvard edu department of mathematics princeton university princeton nj 08544 email address runger math princeton edu 1 introduction 2 preliminaries 2 1 notation and definitions 2 2 conformal initial data sets 3 density theorems 3 1 prescribed constraint density theorem 3 2 dominant energy condition density theorem 4 positive mass theorem with boundary 4 1 proof of the inequality e p 4 2 the equality case e p 4 3 embedding in minkowski space when e 0 appendix a second differential of the constraint null expansion system references