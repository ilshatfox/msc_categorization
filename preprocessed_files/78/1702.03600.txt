underwater optical image processing a comprehensive review huimin lu 1 yujie li 2 yudong zhang 3 min chen 4 seiichi serikawa 1 hyoungseop kim 1 1 kyushu institute of technology 1 1 sensui tobata kitakyushu 804 8550 japan 2 chinese academy of science 7 nanhai rd shinan qingdao 266000 china 3 yangzhou university 198 huayang west rd hanjiang yangzhou 225127 china 4 nanjing normal university 122 ninghai rd gulou nanjing 210097 china 5 huazhong university of science and technology 1037 luoyu rd hongshan wuhan 430074 china corresponding author y li yzyjli gmail com h lu dr huimin lu ieee org abstract underwater cameras are widely used to observe the sea floor they are usually included in autonomous underwater vehicles auvs unmanned underwater vehicles uuvs and in situ ocean sensor networks despite being an important sensor for monitoring underwater scenes there exist many issues with recent underwater camera sensors because of light s transportation characteristics in water and the biological activity at the sea floor the acquired underwater images often suffer from scatters and large amounts of noise over the last five years many methods have been proposed to overcome traditional underwater imaging problems this paper aims to review the state of the art techniques in underwater image processing by highlighting the contributions and challenges presented in over 40 papers we present an overview of various underwater image processing approaches such as underwater image de scattering underwater image color restoration and underwater image quality assessments finally we summarize the future trends and challenges in designing and processing underwater imaging sensors keywords de scattering ocean sensor networks underwater imaging ocean observing 1 introduction underwater optical imaging opi is a challenging field in computer vision research 1 as opposed to land photography there exist many constraints in underwater imaging 2 3 first due to the medium scattering always causes a blurring effect in underwater photography this rarely occurs in land photography second wavelength absorption usually causes a color reduction in the captured images which rarely occurs in air third except for electronic noise the sediments in the water also affect high dimensional imaging another problem occurs because artificial lighting is widely used for underwater photography and this non uniform lighting causes vignetting in captured images 4 furthermore the flickering affects always exist in sunshine day this will cause the captured images with strong highlights in the shallow ocean consequently underwater images have specific characteristics that need to be taken into account during gathering and processing figure 1 shows the concept map of ocean observing network which is proposed by lu et al 2 cameras are usually used in many devices common issues with underwater images such as light attenuation scattering non uniform lighting shadows color shading suspended particles or the abundance of marine life can be overcome via underwater optical image processing the volume scattering function describes the angular distribution of light scattered by the suspension of particles in a direction at a given wavelength scatters redirect the angle of the photon path absorption removes the photons from the light path absorption in pure water indicates that blue wavelengths are more sensitive to absorption than red wavelengths however in phytoplankton water red wavelengths are not terminated more than blue wavelengths therefore it is difficult to measure absorption rates in practice on the other hand the wavelength absorption is relayed on the geographic location of the seawater different salinity of seawater has a different wavelength absorption coefficients in this paper we first review two categories of underwater image de scattering methods hardware based approaches and software based approaches then we summarize four typical underwater image color restoration methods next we cover two underwater image quality assessment methods reference based indexes and non reference indexes finally we summarize this paper and elaborate upon future trends in this research field figure 1 concept map of ocean observing network 2 types of underwater imaging there are several existing methods for underwater image processing in general these methods can be categorized into two approaches hardware based methods 5 6 7 8 9 10 and software based methods 11 12 13 14 there are four traditional hardware approaches to underwater imaging polarization range gated imaging fluorescence imaging 32 33 and stereo imaging 34 light has the properties of intensity wavelength and polarization natural light is without polarization while light reaching an imaging sensor often has biased polarization preliminary studies have verified that backscatter can be reduced using polarization there are two classic methods for underwater polarization imaging one is to use a polarization filter attached in front of the camera to receive the biased images 5 6 the other method is to use a polarized light source to capture different illuminated images of the same scene the polarization method is designed to capture images quickly as well as to reduce the noise significantly schecher et al 6 proposed the state of the art polarization imaging method for underwater the result is shown in figure 2 polarization imaging is a passive imaging method while range gated imaging is an active imaging method and widely used for laser imaging systems in turbid water the most of recent underwater laser imaging methods were summarized in ref 8 in a laser imaging system the camera is adjacent to the light source and the target is behind the turbid medium this system operates by selecting the reflected light from the object and blocking the backscatter by closing a flash gate however the laser imaging methods have the disadvantage of being susceptible to environment and device setting are complex consequently laser imaging instruments are seldom used in industrial applications a b figure 2 underwater polarization imaging 6 a raw images taken through a polarizer b the recovered image is much clearer especially at distant objects than a naive white balancing attempt treibitz et al 32 see figure 3 proposed a fluorescence method to recover the shape of an underwater scene fluorescence imaging can be used to detect microorganisms in coral reefs they also proposed a different direction lighting method to fuse the turbidity of a hazy image 33 the fusion method removed the highlight of artificial light well roser et al 34 proposed a stereo imaging method to recover underwater images by estimating the visibility coefficients this stereo imaging method was designed by real time algorithms and was applied into auvs a b figure 3 fluorescence imaging 32 a raw image b processed result 3 underwater image processing 3 1 de scattering recently there have been many software based approaches to underwater imaging depending on the outcome of the results we can divide these approaches into two methods wavelength compensation sediment scattering and color reconstruction light absorption to solve the scattering problem many researchers have proposed both physical model based methods and non physical model based methods traditional physical model based methods are as follows fattal 15 16 designed a color lines method to estimate the turbidity of haze and then used a markov random field model to recover clean images he et al 17 proposed using a dark channel prior to estimating the depth map then they employed guided filtering to refine the depth map and obtain clear images this method can achieve real time processing chiang et al 18 proposed a wavelength compensation and dehazing method for underwater image restoration it is the first time to consider the wavelength absorption in the imaging model lu et al 19 found that some flickers exist in captured underwater images and proposed a corresponding robust ambient light estimation method and underwater median dark channel prior for de scattering results of some conventional physical model based de scattering are shown in figure 4 a b c d e figure 4 experimental results of traditional physical model based methods a input image b fattal s method 15 c he s method 17 d chiang s method 18 and e lu s method 4 similarly there have been multiple proposals for non physical model based methods garcia et al 20 proposed local histogram equalization to address non uniform lighting and haze in many cases local histogram equalization does not performs well in very dark environment zuiderveld et al 21 proposed contrast limited adaptive histogram equalization clahe to adjust the target region according to an interpolation between the histograms of neighboring regions however non uniform light remains on the processed image because it operate on local regions instead of entire image inspired by hdr imaging ancuti et al 22 proposed an espouse fusion method to combine the different exposed images via filtering in high turbid water the espouse fusion method cannot remove the scatter well galdran et al 23 proposed a red channel based underwater image restoration method as mentioned in section 1 red color channel is not always the minimum channel of the rgb color space gibsion et al 24 tried to solve the scatter and noise problems simultaneously and proposed a variable kernel size de scattering method after de scattering some halos and artifacts remain in the image lu et al 25 proposed a single image dehazing method using depth map refinement the improved bilateral filtering can smooth the depth map while there are some residual noises exist on the image bazeiile et al 26 proposed a frequency domain filtering method in yuv color space to enhance the images the result images severe serious color distortion iqbal et al 27 proposed an underwater image enhancement algorithm using an integrated color model this method also has the color distortion issue experimental results of some conventional non physical model based methods de scattering are shown in figure 5 a b c d e lu s method 25 f ancuti s method 22 figure 5 experimental results of traditional non physical model based methods a input image b bazeille s method 26 c retinex d gibson s method 24 e lu s method 25 f ancuti s method 22 3 2 underwater image color restoration as a light absorption recovering method torres mendez et al 28 proposed a markov random field mrf learning method to estimate the related color value of each pixel alhen et al 29 developed a hyperspectral imaging and mathematical stability model to compute the attenuation coefficients using the depth map petit et al 30 designed a light attenuation inversion after processing the rgb color space contraction using quaternions lu et al 31 modeled the spectral response function of a camera as a function of the wavelength of the light to recover the contrast of the colors the experimental result is shown in figure 6 in this method the artificial vignetting has also been solved a b figure 6 experimental results of color restoration methods 31 a input image b color restored image 4 underwater image quality assessment an underwater image quality assessment is also important to measure the performance of different underwater image processing methods wang et al 35 proposed a structural similarity index which treats the image degradation as a structural distortion panetta et al 36 proposed a non reference underwater image quality measure uiqm which combines the colorfulness measure the sharpness measure and the contrast measure of underwater images lu et al 37 introduced a human perception method the high dynamic range visual difference predictor 2 to predict both the visibility of artifacts and the overall quality in images yang et al 38 proposed an underwater image quality evaluation uciqe which uses a linear combination of the chroma saturation and contrast of underwater images in cielab color space hou et al 39 used the images sharpness to evaluate the image quality arredondo et al 40 proposed a mean angular error to assess the robustness and behavior of methods with respect to underwater noises lu et al 41 proposed a new index qu which can evaluate the similarity of both the structures and colors of underwater images there are also existed some other issues for underwater optical image processing the non uniform artificial lighting inhomogeneous de scattering high turbidity image reconstruction image reflection and computational underwater imaging et al will be focused in near future other related research fields will be studied for underwater image processing such as deep learning 44 cloud computing 45 46 and internet of things 47 in table i we summarize the different underwater image enhancement methods along with some representative studies table i categorization of the underwater image restoration methods and their representative studies algorithm model s characteristics method review kocak et al 8 lu et al 2 schettini et al 42 hou 43 hardware based methods polarization yemelyanov et al 5 two channel polarization schechner et al 6 polarization filtering range gated imaging tan et al 7 9 range gated underwater laser imaging li et al 10 speckle reduction of range gated imaging fluorescence imaging treibitz et al 32 multi lighting treibitz et al 33 multi images fusion stereo imaging roser et al 34 visibility coefficients estimation software based methods wavelength compensation physical model fattal 15 pca dehazing fattal 16 color lines dehazing he et al 17 dcp chiang et al 18 wcid lu et al 19 de flickering de scattering non physical model garcia et al 20 local histogram equalization zuiderveld et al 21 contrast limited adaptive histogram equalization ancuti et al 22 hdr fusion galdran et al 23 red channel dehazing gibsion et al 24 wiener filtering lu et al 25 single image dehazing bazeiile et al 26 pre filtering iqbal et al 27 integrated color model arnold bos et al 11 pre processing rizzi et al 12 unsupervised global and local color correction arnold bos et al 13 model free denoising chambah et al 14 color constancy color reconstruction torres mendez et al 28 markov random field learning alhen et al 29 hyperspectral imaging petit et al 30 light attenuation inversion lu et al 31 spectral response function image quality assessment reference wang et al 35 ssim lu et al 41 qu arredondo et al 40 mean angular error non reference panetta et al 36 uiqm lu et al 37 qmos yang et al 38 ucique hou et al 39 wgsa metric 5 conclusions and future trends in this paper we presented a comprehensive review of underwater image processing we divided the underwater image processing methods into two categories according to their imaging types the state of the art approaches of the two classes were discussed and analyzed in detail for software based underwater image processing wavelength compensation approach e g physical model non physical model and color reconstruction approach are discussed finally the quality assessment methods and future trends are summarized acknowledgements this work was supported by jsps kakenhi 15 f 15077 leading initiative for excellent young researcher leader of ministry of education culture sports science and technology japan 16809746 research fund of chinese academy of sciences mge 2015 kg 02 research fund of state key laboratory of marine geology in tongji university mgk 1608 and research fund of state key laboratory of ocean engineering in shanghai jiaotong university 1315 1510 reference 1 mcglamery b 1979 a computer model for underwater camera system in proceedings of spie 208 221 231 2 lu h li y and serikawa s 2016 computer vision for ocean observing artificial intelligence and computer vision pp 1 16 3 bonin f burgeara a oliver g 2011 imaging system for advanced underwater vehicles journal of maritime research 8 1 65 86 4 lu h li y xu x li j liu z li x yang j and serikawa s 2016 underwater image enhancement method using weighted guided trigonometric filtering and artificial light correction journal of vision communication and image representation 38 504 516 5 yemelyanov k lin s pugh e and engheta n 2006 adaptive algorithms for two channel polarization sensing under various polarization statistics with nonuniform distributions applied optics 45 22 5504 5520 6 schechner y and averbuch y 2007 regularized image recovery in scattering media ieee transactions on pattern analysis and machine intelligence 29 9 1655 1660 7 tan c sluzek a jiang t 2007 range gated imaging system for underwater robotic vehicle in proceedings of ieee international symposium on the applications of ferroelectrics pp 1 7 8 kocak d dalgleish f caimi f schechner y 2008 a focus on recent developments and trends in underwater imaging marine technology society journal 42 1 52 67 9 tan c sluzek g he d 2005 a novel application of range gated underwater laser imaging system in near target turbid medium optics and lasers in engineering 43 9 995 1009 10 li h wang x bai t jin w huang y ding k 2009 speckle noise suppression of range gated underwater imaging system applied optics 38 18 3937 3944 11 arnold bos a malkasse j and kerven g 2005 a pre processing framework for automatic underwater images denoising in proceedings of the european conference on propagation and systems breast france pp 1 8 12 rizzi a gatta c and marini d 2003 a new algorithm for unsupervised global and local color correction pattern recognition letters 24 11 1663 1677 13 arnold bos a malkasset j and kervern g 2005 towards a model free denoising of underwater optical images in proceedings of the ieee europe oceans conference pp 527 532 14 chambah m demani d renouf a courtellemont p and rizzi a 2004 underwater color constancy enhancement of automatic live fish recognition in proceedings of spie pp 157 168 15 fattal r 2008 single image dehazing acm transactions on graphics 27 3 1 8 16 fattal r 2014 dehazing using color lines acm transactions on graphics 34 1 1 10 17 he k sun j and tang x 2011 single image haze removal using dark channel prior ieee transactions on pattern analysis and machine intelligence 33 12 2341 2353 18 chiang j chen y 2012 underwater image enhancement by wavelength compensation and dehazing ieee transactions on image processing 21 4 1756 1769 19 lu h li y zhang l and serikawa s 2015 contrast enhancement for images in turbid water journal of optical society of america a 32 5 886 893 20 garcia r nicosevici t and cufi c 2002 on the way to solve lighting problems in underwater imaging in proc of mts ieee oceans 02 pp 1018 1024 21 zuiderveld k 1994 contrast limited adaptive histogram equalization graphics gems iv academic press 22 ancuti c ancuti co haber t and bekaert p 2012 enhancing underwater images and videos by fusion in proceedings of ieee conference on computer vision and pattern recognition providence usa pp 81 88 23 galdran a pardo d picon a and gila aa 2015 automatic red channel underwater image restoration journal of visual communication and image representation 26 132 145 24 gibson k 2015 preliminary results in using a joint contrast enhancement and turbulence mitigation method for underwater optical imaging in proc of ieee oceans 2015 pp 1 5 25 serikawa s and lu h 2014 underwater image dehazing using joint trilateral filter computers and electrical engineering 40 1 41 50 26 bazeille s quidu i jaulin l and malkasse jp 2006 automatic underwater image pre processing in proceedings of caracterisation du milieu marin pp 1 8 27 iqbal k salam r osman a and talib a 2007 underwater image enhancement using an integrated color model international journal of computer science 34 2 1 8 28 torres mendez l and dufdek g 2005 color correction of underwater images for aquatic robot inspection in proc of 5 th international workshop on energy minimization method in computer vision and pattern recognition pp 60 73 29 ahlen j sundgren d and bengtsson e 2007 application of underwater hyperspectral data for color correction purposes pattern recognition and image analysis 17 1 170 173 30 petie f capelle laize a and carre p 2009 underwater image enhancement by attenuation inversion with quaternions in proceedings of ieee international conference on acoustics speech and signal processing pp 1177 1180 31 lu h li y and serikawa s 2015 single underwater image descattering and color correction in proc of ieee international conference on acoustics speech and signal processing pp 1623 1627 32 murez z treibitz t ramamoorthi r and kriegman d 2015 photometric stereo in a scattering medium in proceedings of ieee international conference on computer vision pp 3415 3423 33 treibitz t and schechner y 2012 turbid scene enhancement using multi directional illumination fusion ieee trans on image processing 21 11 4662 4667 34 roser m dunbabin m and geiger a 2014 simultaneous underwater visibility assessment enhancement and improved stereo in proceedings of ieee international conference on robotics and automation pp 1 8 35 wang z bovik a sheikh h and simoncelli e 2004 image quality assessment from error visibility to structural similarity ieee trans on image processing 13 4 600 612 36 panetta k gao c and agaian s 2015 human visual system inspired underwater image quality measures ieee journal of oceanic engineering pp 1 11 37 lu h and serikawa s 2014 underwater scene enhancement using weighted guided median filter in proceedings of ieee international conference on multimedia and expo pp 1 6 38 yang m and sowmya a 2015 an underwater color image quality evaluation metric ieee transactions on image processing 24 12 6062 6071 39 hou w and weidemann a 2007 objectively assessing underwater image quality for the purpose of automated restoration in proceedings of spie 6575 1 10 40 arredondo m and lebart k 2005 a methodology for the systematic assessment of underwater video processing algorithms in proceedings of ieee europe oceans conference pp 362 367 41 lu h li y xu x he l dansereau d and serikawa s 2016 underwater image descattering and quality assessment in proceedings of ieee international conference on image processing pp 1998 2002 42 schettini r and corchs s 2010 underwater image processing state of the art of restoration and image enhancement methods eurasip journal on advances in signal processing 2010 1 14 43 hou w 2013 ocean sensing and monitoring spie press 44 li y lu h li j li x li y serikawa s 2016 underwater image de scattering and classification by deep neural network computers electrical engineering 54 68 77 45 zhang y 2016 grorec a group centric intelligent recommender system integrating social mobile and big data technologies ieee transactions on services computing 9 5 786 795 46 zhang y chen m huang d wu d li y 2016 idoctor personalized and professionalized medical recommendations based on hybrid matrix factorization future generation computer systems pp 1 15 47 zhang y chen m 2016 definable networking cloud based 5 g wireless networks pp 33 58