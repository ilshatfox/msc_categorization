arxiv 1011 4305 v 2 math co 16 dec 2010 ar x iv 1 01 1 43 05 v 2 m at h c o 1 6 d ec 2 01 0 cofree compositions of coalgebras extended abstract stefan forcey 1 aaron lauve 2 and frank sottile 3 1 department of theoretical and applied mathematics the university of akron akron oh 44325 usa 2 department of mathematics loyola university of chicago chicago il 60660 usa 3 department of mathematics texas a m university college station tx 77843 usa abstract we develop the notion of the composition of two coalgebras which arises naturally in higher category theory and the theory of species we prove that the composition of two cofree coalgebras is cofree and give conditions which imply that the composition is a one sided hopf algebra these conditions hold when one coalgebra is a graded hopf operad d and the other is a connected graded coalgebra with coalgebra map to d we conclude by discussing these structures for compositions with bases the vertices of multiplihedra composihedra and hypercubes keywords multiplihedron cofree coalgebra hopf algebra operad species 1 introduction the hopf algebras of ordered trees malvenuto and reutenauer 1995 and of planar binary trees loday and ronco 1998 are cofree coalgebras that are connected by cellular maps from permutahedra to associahedra related polytopes include the multiplihedra stasheff 1970 and the composihedra forcey 2008 b and it is natural to study what hopf structures may be placed on these objects the map from permutahedra to associahedra factors through the multiplihedra and in forcey et al 2010 we used this factorization to place hopf structures on bi leveled trees which correspond to vertices of multiplihedra multiplihedra form an operad module over associahedra this leads to painted trees which also correspond to the vertices of the multiplihedra in terms of painted trees the hopf structures of forcey et al 2010 are related to the operad module structure we generalize this in section 3 defining the functorial construction of a graded coalgebra d c from graded coalgebras c and d we show that this composition of coalgebras preserves cofreeness in section 4 give sufficient conditions when d is a hopf algebra for the composition of coalgebras d c and c d to be a one sided hopf algebra these conditions also guarantee that a composition is a hopf module and a comodule algebra over d supported in part by nsa grant h 98230 10 1 0362 supported in part by nsf grants dms 0701050 and dms 1001615 http arxiv org abs 1011 4305 v 2 2 stefan forcey aaron lauve and frank sottile this composition arises in the theory of operads and in the theory of species as species and operads are one and the same aguiar and mahajan 2010 app b in section 4 we show that an operad d of connected graded coalgebras is automatically a hopf algebra we discuss three examples related to well known objects from category theory and algebraic topology and show that the hopf algebra of simplices of forcey and springfield 2010 is cofree as a coalgebra 2 preliminaries we work over a fixed field k of characteristic zero for a graded vector space v n vn we write v n and say v has degree n if v vn 2 1 hopf algebras and cofree coalgebras a hopf algebra h is a unital associative algebra equipped with a coassociative coproduct ho momorphism h h h and a counit homorphism h k which plays the role of the identity for see montgomery 1993 for more details takeuchi 1971 showed that a graded bialgebra h n 0 hn that is connected h 0 k is a hopf algebra a coalgebra c is a vector space c equipped with a coassociative coproduct and counit for c c write c as c c c coassociativity means that c c c c c c c c c c c c c c and the counit condition means that c c c c c c c the cofree coalgebra on a vector space v is c v n 0 v n with counit the projection c v k v 0 and the deconcatenation coproduct writing for the tensor product in v n we have c 1 cn n i 0 c 1 ci ci 1 cn observe that v is the set of primitive elements of c v a coalgebra c is cofree if c c pc where pc is the space of primitive elements of c many coalgebras arising in combinatorics are cofree 2 2 cofree hopf algebras on trees we describe three cofree hopf algebras built on rooted planar binary trees ordered trees sn binary trees yn and left combs cn on n internal nodes set s n 0 sn and define y and c similarly 2 2 1 constructions on trees the nodes of a tree t yn form a poset an ordered tree w w t is a linear extension of this node poset of t this linear extension is indicated by placing a permutation in the gaps between its leaves which gives a bijection between ordered trees and permutations the map sn yn cofree compositions of coalgebras 3 sends an ordered tree w t to its underlying tree t the map yn cn shifts all nodes of a tree to the right branch from the root set s 0 y 0 c 0 note that cn 1 for all n 0 ordered trees s 3 4 1 2 2 4 1 3 1 4 2 3 binary trees y left combs c splitting an ordered tree w along the path from a leaf to the root yields an ordered forest where the nodes in the forest are totally ordered or a pair of ordered trees 2 5 1 4 3 2 5 1 4 3 g 2 5 1 4 3 or 2 3 1 2 1 write w g w 0 w 1 when the ordered forest w 0 w 1 or pair of ordered trees is obtained by splitting w context will determine how to interpret the result we may graft an ordered forest w w 0 wn onto an ordered tree v sn obtaining the tree w v as follows first increase each label of v so that its nodes are greater than the nodes of w and then graft tree wi onto the i th leaf of v for example if w v 3 2 7 5 1 6 4 1 4 3 2 then w v 3 2 8 11 7 5 1 10 6 9 4 3 2 8 11 7 5 1 10 6 9 4 splitting and grafting make sense for trees in y they also work for c if after grafting a forest of combs onto the leaves of a comb one appliees to the resulting planar binary tree to get a new comb 2 2 2 three cofree hopf algebras let ssym n 0 ssymn be the graded vector space whose n th graded piece has basis fw w sn define ysym and csym similarly the set maps and induce vector space maps and fw f w and ft f t fix x s y c for w x and v xn set 4 stefan forcey aaron lauve and frank sottile fw fv w g w 0 wn f w 0 wn v the sum over all ordered forests obtained by splitting w at a multiset of n leaves for w x set fw w g w 0 w 1 fw 0 fw 1 the sum over all splittings of w at one leaf the counit is the projection onto the 0 th graded piece spanned by the unit element 1 f for the multiplication proposition 2 1 for above ssym is the malvenuto reutenauer hopf algebra of per mutations ysym is the loday ronco hopf algebra of planar binary trees and csym is the divided power hopf algebra moreover ssym ysym and ysym csym are surjective hopf algebra maps the part of the proposition involving ssym and ysym is found in aguiar and sottile 2005 2006 the part involving csym is straightforward and we leave it to the reader typically montgomery 1993 ex 5 6 8 the divided power hopf algebra is defined to be k x span x n n 0 with basis vectors x n satisfying x m x n m n n x m n 1 x 0 x n i j n x i x j and x n 0 for n 0 an isomorphism between k x and csym is given by x n 7 fcn where cn is the unique comb in cn proposition 2 2 the hopf algebras ssym ysym and csym are cofree as coalgebras the primitive elements of ysym and csym are indexed by trees with no nodes off the right branch from the root the result for csym is easy proposition 2 2 is proven for ssym and ysym in aguiar and sottile 2005 2006 by performing a change of basis from the fundamental basis fw to the monomial basis mw by means of mo bius inversion in a poset structure placed on s and y 3 constructing cofree compositions of coalgebras 3 1 cofree compositions of coalgebras let c and d be graded coalgebras form a new coalgebra e d c on the vector space d c n 0 dn c n 1 3 1 when c and d are spaces of rooted planar trees we may interpret in terms of a rule for grafting trees cofree compositions of coalgebras 5 example 3 1 suppose c d ysym and let d c 0 cn yn y n 1 define by attaching the forest c 0 cn to the leaves of d while remembering d 7 we represent an indecomposable tensor in e d c as d c 0 cn or c 0 cn d the degree of such an element is d c 0 cn write en for the span of elements of degree n 3 1 1 the coalgebra d c we define the compositional coproduct for d c on indecomposable tensors if d n put c 0 cn d n i 0 d d i ci c 0 ci 1 c i d c i ci 1 cn d 3 2 the counit d c k is given by d c 0 cn d d j c cj for the painted trees of example 3 1 if the ci and d are elements of the f basis then d c 0 cn is the sum over all splittings t g t t of t into a pair of painted trees theorem 3 2 d c is a coalgebra this composition is functorial if c c and d d are morphisms of graded coalgebras then c 0 cn d 7 c 0 cn d defines a morphism of graded coalgebras d c d c 3 1 2 the cofree coalgebra d c suppose that c and d are graded connected and cofree then c c pc where pc c is its space of primitive elements likewise d c pd where pd d is its space of primitive elements theorem 3 3 if c and d are cofree coalgebras then d c is also a cofree coalgebra its space of primitive elements is spanned by indecomposible tensors of the form 1 c 1 cn 1 1 and 1 3 3 where ci c and dn with primitive 6 stefan forcey aaron lauve and frank sottile example 3 4 the graded hopf algebras of ordered trees ssym planar trees ysym and divided powers csym are all cofree and so their compositions are cofree we have the surjective hopf algebra maps ssym ysym csym giving the commutative diagram of figure 1 of nine cofree coalgebras as the composition is functorial ssym ssym ssym ysym ysym ssym ssym csym csym ssymysym ysym ysym csym csym ysym csym csym fig 1 a commutative diagram of cofree compositions of coalgebras 3 2 enumeration set e d c and let cn and en be the dimensions of cn and en respectively theorem 3 5 when dn has a basis indexed by combs with n internal nodes we have the recursion e 0 1 and for n 0 en cn n 1 i 0 cien i 1 proof the first term counts elements in en of the form c removing the root node of d from d c 0 ck gives a pair c 0 and d c 1 ck with c 0 ci whose dimensions are enumerated by the terms of the sum for combs over a comb en 2 n for trees over a comb en are the catalan numbers and for permutations over a comb we have the recursion e 0 1 and for n 0 en n n 1 i 0 i en i 1 which begins 1 2 5 15 54 235 and is sequence a 051295 of the oeis sloane similarly cofree compositions of coalgebras 7 theorem 3 6 when dn has a basis indexed by yn then we have the recursion e 0 1 and for n 0 en cn n 1 i 0 eien i 1 for example the combs over a tree are enumerated by the binary transform of the catalan numbers forcey 2008 b the trees over a tree are enumerated by the catalan transform of the catalan numbers forcey 2008 a the permutations over a tree are enumerated by the recursion e 0 1 and for n 0 en n n 1 i 0 eien i 1 which begins 1 2 6 22 92 428 and is not a recognized sequence in the oeis sloane 4 composition of coalgebras and hopf modules we give conditions that imply a composition of coalgebras is a one sided hopf algebra interpret this via operads and then investigate which compositions of fig 1 are one sided hopf algebras 4 1 module coalgebras let d be a connected graded hopf algebra with product md coproduct d and unit element 1 d a map f e d of graded coalgebras is a connection on d if e is a d module coalgebra f is a map of d module coalgebras and e is connected that is e is an associative left or right d module whose action denoted commutes with the coproducts so that e e d e e d d for e e and d d and the coalgebra map f is also a module map so that for e e and d d we have f f e e d f e and f e d md f e d theorem 4 1 if e is a connection on d then e is also a hopf module and a comodule algebra over d it is also a one sided hopf algebra with left sided unit 1 e f 1 1 d and left sided antipode proof suppose e is a right d module define the product me e e e via the d action me 1 f the one sided unit is 1 e then e is an algebra map indeed for e e e we have e e e e e f e ee df e ee f f ee ee ee as usual e is just projection onto e 0 the unit 1 e is one sided since e 1 e e f 1 e e f f 1 1 d e 1 d e but 1 e e 1 e f e is not necessarily equal to e the antipode s may be defined recursively to satisfy me s 1 e e just as for graded bialgebras with two sided units define e e d by 1 f e which gives a coaction so that e is a hopf module and a comodule algebra over d 8 stefan forcey aaron lauve and frank sottile 4 2 operads and operad modules composition of coalgebras is the same product used to define operads internal to a symmetric monoidal category aguiar and mahajan 2010 app b a monoid in a category with a product is an object d with a morphism d d d that is associative an operad is a monoid in the category of graded sets with an analog of the composition product defined in section 3 1 the category of connected graded coalgebras is a symmetric monoidal category under the composition of coalgebras a graded hopf operad d is a monoid in the monoidal category of connected graded coalgebras and coalgebra maps under the composition product that is d is equipped with associative composition maps d d d obeying d a d d a for all a d d a graded hopf operad module e is an operad module over d and a graded coassociative coal gebra whose module action is compatible with its coproduct we denote the left and right action maps by l d e e and r e d e obeying e g e r b r r e db for all b e d example 4 2 ysym is an operad in the category of vector spaces the action of on ft ft 0 ftn grafts the trees t 0 tn onto the tree t and unlike in example 3 1 forgets which nodes of the resulting tree came from t this is associative in the appropriate sense the same makes ysym an operad in the category of connected graded coalgebras making it a graded hopf op erad finally operads are operad modules over themselves so ysym is also graded hopf operad module remark 4 3 our graded hopf operads differ from those of getzler and jones who defined a hopf operad to be an operad of level coalgebras where each component dn is a coalgebra theorem 4 4 a graded hopf operad d is also a hopf algebra with product a b b n a 4 1 where b dn and n is the iterated coproduct from d to d n 1 it is possible to swap the roles of a and b on the right hand side of 4 1 our choice agrees with the product in ysym and csym in fact the well known hopf algebra structures of ysym and csym follow from their structure as graded hopf operads lemma 4 5 if c is a graded coalgebra and d is a graded hopf operad then d c is a left graded hopf operad module and c d is a right graded hopf operad module lemma 4 6 a graded hopf operad module over a graded hopf operad is also a module coalgebra theorem 4 7 given a coalgebra map c d from a connected graded coalgebra d to a graded hopf operad d the maps 1 d c d and 1 d c d give connections on d cofree compositions of coalgebras 9 4 3 examples of module coalgebra connections eight of the nine compositions of example 3 4 are connections on one or both of the factors c and d theorem 4 8 for c ssym ysym csym the coalgebra compositions c csym and csym c are connections on csym for c ssym ysym csym the coalgebra compositions c ysym and ysym c are connections on ysym note that csym ysym is a connection on both csym and on ysym which gives two distinct one sided hopf algebra structures similarly ysym ysym is a connection on ysym in two distinct ways again leading to two distinct one sided hopf structures 5 three examples the three underlined algebras in example 3 4 arose previously in algebra topology and category theory 5 1 painted trees a painted binary tree is a planar binary tree t together with a possibly empty upper order ideal of its node poset we indicate this ideal by painting on top of a representation of t for example an an space is a topological h space with a weakly associative multiplication of points stash eff 1963 maps between an spaces preserve the multiplicative structure only up to homotopy stasheff 1970 described these maps combinatorially using cell complexes called multiplihedra while boardman and vogt 1973 used spaces of painted trees both the spaces of trees and the cell complexes are homeomorphic to convex polytope realizations of the multiplihedra as shown in forcey 2008 a if f x y is a map of an spaces then the different ways to multiply and map n points of x are represented by a painted tree unpainted nodes are multiplications in x painted nodes are multiplications in y and the beginning of the painting indicates that f is applied to a given point in x f a f b c f d 5 1 1 algebra structures on painted trees let pn be the poset of painted trees on n internal nodes with partial order inherited from the identification withmn 1 the order onmn 1 is studied in forcey et al 2010 we describe the key definitions of section 3 1 and section 4 for psym ysym ysym in the fundamental basis fp p p of psym the counit is fp 0 p and the product is given by fp p g p 0 p 1 fp 0 fp 1 10 stefan forcey aaron lauve and frank sottile where the painting in p pn is preserved in the splitting p g p 0 p 1 for example we have f 1 f f f f f f 1 the identity map on ysym makes psym into a connection on ysym by theorem 4 1 psym is thus also a one sided hopf algebra a ysym hopf module and a ysym comodule algebra the product fp fq in psym as fp fq p g p 0 p 1 pr f p 0 p 1 pr q where the painting in p is preserved in the splitting p 0 p 1 pr and q signifies that q is painted completely before grafting for example f f f f f f the painted tree with 0 nodes is a right multiplicative identity element f fq fq and fq f fq for q p as psym is graded and connected it has an antipode theorem 5 1 there are unit and antipode maps k psym and s psym psym mak ing psym a one sided hopf algebra the ysym hopf module structure on psym from theorem 4 1 has coaction fp p g p 0 p 1 fp 0 ff p 1 where the painting in p is preserved in p 0 amd forgotten in p 1 since painted trees and bi leveled trees both index vertices of the multiplihedra these structures for psym give structures on the linear spanmsym of bi leveled trees with at least one node corollary 5 2 the ysym action and coaction defined in forcey et al 2010 section 4 1 make msym into a hopf module isomorphic to the hopf module psym 5 2 composite trees in a forest of combs attached to a binary tree the combs may be replaced by corollae or by a positive weight counting the number of leaves in the comb these all give composite trees 2 3 1 2 5 1 cofree compositions of coalgebras 11 composite trees with weights summing to n 1 ckn were shown to be the vertices of a n dimensional polytope the composihedron ck n forcey 2008 b this sequence of polytopes is used to parameterize homotopy maps between strictly associative and homotopy associative h spaces for small values of n the polytopes ck n also appear as the commuting diagrams in enriched bicategories forcey 2008 b these diagrams appear in the definition of pseu domonoids aguiar and mahajan 2010 app c 5 2 1 algebra structures on composite trees we describe the key definitions of section 3 1 and section 4 for cksym ysym csym in the fundamental basis fp p ck of cksym the counit is fp 0 p and the coproduct is fp p g p 0 p 1 fp 0 fp 1 where the painting in p ck is preserved in the splitting p g p 0 p 1 here is an example written in terms of the weighted trees f 2 1 2 f 1 f 2 1 2 f 2 f 1 1 2 f 2 1 f 1 2 f 2 1 1 f 2 f 2 1 2 f 1 for the product theorem 4 1 using the left module coalgebra action defined in lemma 4 6 gives fa fb g fa fb where a b ck where g cksym csym is the connection on the indices it sends a composite tree a to the unique comb g a with the same number of nodes as a for the action g a is split in all ways to make a forest of b 1 combs which are grafted onto the leaves of the forest of combs in b then each tree in the forest is combed and attached to the binary tree in b we illustrate one term in the product suppose that a 2 1 and b 1 2 1 then g a one way to split g a gives the forest graft this onto b to get then comb the forest to get which is 1 3 2 doing this for the other nine splittings of g a gives f 2 1 f 1 2 1 f 3 2 1 3 f 1 4 1 f 1 2 3 2 f 2 3 1 f 2 2 2 2 f 1 3 2 5 3 composition trees the simplest composition of fig 1 is csym csym whose basis is indexed by combs over combs if we represent these as weighted trees as in 5 1 we see that we may identify combs over combs with n internal nodes as compositions of n 1 thus we refer to these as composition trees 3 2 1 4 3 2 1 4 12 stefan forcey aaron lauve and frank sottile the coproduct is again given by splitting since 1 3 has the four splittings g 5 2 we have f 1 3 f 1 f 1 3 f 1 1 f 3 f 1 2 f 2 f 1 3 f 1 as we remarked there are two connections csym csym csym using either the right or left action of csym this gives two new one sided hopf algebra structures on compositions with the right action we have f 1 3 f 2 2 f 1 1 3 f 1 2 2 f 1 3 1 as f f f f f f 5 3 which may be seen by grafting the different splittings 5 2 onto the tree and coloring forcey and springfield 2010 defined a one sided hopf algebra sym on the graded vector space spanned by the faces of the simplices faces of the simplices correspond to subsets of n here is an example of the coproduct of the basis element corresponding to 1 4 where subsets of n are illustrated as circled subsets of the circled edgeless graph on n nodes numbered left to right here is an example of the product let denote the bijection between subsets s a b c n and compositions s a b a n 1 c of n 1 applying this bijection the indices of their fundamental bases gives a linear isomorphism sym csym csym which is nearly an isomorphism of one sided hopf algebras as may be seen by comparing these schematics of operations in sym to formulas 5 2 and 5 3 in csym csym theorem 5 3 the map is an isomorphism of coalgebras and an anti isomorphism a b a b of one sided algebras corollary 5 4 the one sided hopf algebra of simplices introduced in forcey and springfield 2010 is cofree as a coalgebra cofree compositions of coalgebras 13 references m aguiar and s mahajan monoidal functors species and hopf algebras volume 29 of crm monograph series american mathematical society providence ri 2010 m aguiar and f sottile structure of the malvenuto reutenauer hopf algebra of permutations adv math 191 2 225 275 2005 m aguiar and f sottile structure of the loday ronco hopf algebra of trees j algebra 295 2 473 511 2006 j m boardman and r m vogt homotopy invariant algebraic structures on topological spaces lecture notes in mathematics vol 347 springer verlag berlin 1973 s forcey convex hull realizations of the multiplihedra topology appl 156 2 326 347 2008 a s forcey quotients of the multiplihedron as categorified associahedra homology homotopy appl 10 2 227 256 2008 b s forcey and d springfield geometric combinatorial algebras cyclohedron and simplex 2010 j alg combin doi 10 1007 s 10801 010 0229 5 s forcey a lauve and f sottile hopf structures on the multiplihedra siam j discrete math doi 10 1137 090776834 e getzler and j jones operads homotopy algebra and iterated integrals for double loop spaces preprint arxiv hep th 9403055 j l loday and m o ronco hopf algebra of the planar binary trees adv math 139 2 293 309 1998 c malvenuto and c reutenauer duality between quasi symmetric functions and the solomon descent algebra j algebra 177 3 967 982 1995 s montgomery hopf algebras and their actions on rings volume 82 of cbms regional con ference series in mathematics conference board of the mathematical sciences washington dc 1993 n j a sloane the on line encyclopedia of integer sequences published electronically at www research att com njas sequences j stasheff homotopy associativity of h spaces i ii trans amer math soc 108 1963 275 292 ibid 108 293 312 1963 j stasheff h spaces from a homotopy point of view lecture notes in mathematics vol 161 springer verlag berlin 1970 m takeuchi free hopf algebras generated by coalgebras j math soc japan 23 561 582 1971